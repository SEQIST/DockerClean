{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} obj .\n * @returns {boolean} .\n * @hidden\n */\nexport function isEmptyObject(obj) {\n    if (isNullOrUndefined(obj) || typeof obj !== 'object') {\n        return false;\n    }\n    return Object.keys(obj).length === 0;\n}\n/**\n * @param {Date} date .\n * @returns {number} .\n * @hidden\n */\nexport function getUniversalTime(date) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n    var milliseconds = date.getMilliseconds();\n    return Date.UTC(year, month, day, hours, minutes, seconds, milliseconds);\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate) && this.parent.defaultEndTime !== 86400) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { getUniversalTime, isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.isDurationValueUpdated = false;\n        _this.uid = 0;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            var tempDataArray = void 0;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization) {\n                tempDataArray = JSON.parse(JSON.stringify(this.dataArray));\n            }\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            if (!isNullOrUndefined(tempDataArray)) {\n                this.constructDataSource(this.dataArray);\n                this.dataArray = tempDataArray;\n            }\n            else {\n                this.constructDataSource(data);\n            }\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getGanttUid = function (prefix) {\n        return prefix + this.uid++;\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData;\n        var unModifiedData;\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && !this.parent.enableVirtualization) {\n            ganttData = data;\n            unModifiedData = JSON.parse(JSON.stringify(data));\n        }\n        else {\n            ganttData = {};\n        }\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', this.getGanttUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        if (isNullOrUndefined(unModifiedData)) {\n            this.updateExpandStateMappingValue(ganttData, data);\n        }\n        else {\n            this.updateExpandStateMappingValue(ganttData, unModifiedData);\n        }\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties, ganttData), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && !isNullOrUndefined(duration))) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    /* eslint-disable-next-line */\n                    var segmentData = data[this.parent.taskFields.segments] ? data[this.parent.taskFields.segments] : segments;\n                    taskData.push(this.setSegmentTaskData(segment, segmentData[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    TaskProcessor.prototype.fetchResources = function (ganttData) {\n        if ((this.parent.editModule && this.parent.editModule.dialogModule &&\n            (this.parent.editModule.dialogModule['isFromAddDialog'] || this.parent.editModule.dialogModule['isFromEditDialog']))) {\n            return this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            return ganttData.ganttProperties.resourceInfo;\n        }\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = this.fetchResources(ganttData);\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : 0);\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization && data['expanded']) {\n                    updatableValue = true;\n                }\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                var startDate_1 = this.parent.allowUnscheduledTasks ? null : this.getProjectStartDate(ganttProperties, isLoad);\n                this.parent.setRecordValue('startDate', startDate_1, ganttProperties, true);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                !isNullOrUndefined(this.parent.taskFields.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                !isNullOrUndefined(this.parent.taskFields.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            var durationUnit = this.parent.taskFields.durationUnit && data[taskSettings.durationUnit] ?\n                data[taskSettings.durationUnit] : this.parent.durationUnit;\n            this.parent.setRecordValue('durationUnit', durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.work === 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        if (!ganttData.hasChildRecords) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n            if (this.parent.editModule && this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isFromEditDialog']) {\n                this.isDurationValueUpdated = true;\n            }\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {IGanttData} ganttRecord .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, ganttRecord, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (this.parent.taskFields.duration && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        if (this.hasDSTTransition(sDate.getFullYear())) {\n                            return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                        }\n                        else {\n                            if (!this.parent.timelineSettings.showWeekend) {\n                                return ((holidaysCount + ganttData.duration) * this.parent.perDayWidth);\n                            }\n                            else {\n                                return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                            }\n                        }\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    var isOnHoliday = false;\n                    var isEndDateCorrect = function (startDate, endDate, duration, totalWorkingHoursPerDay) {\n                        var start = new Date(startDate);\n                        var end = new Date(endDate);\n                        if (isNaN(start.getTime()) || isNaN(end.getTime()) || duration <= 0 || totalWorkingHoursPerDay <= 0) {\n                            return false;\n                        }\n                        var expectedEnd = new Date(start);\n                        var hoursToAdd = duration * totalWorkingHoursPerDay;\n                        var fullDays = Math.floor(hoursToAdd / totalWorkingHoursPerDay);\n                        var remainingHours = hoursToAdd % totalWorkingHoursPerDay;\n                        expectedEnd.setDate(expectedEnd.getDate() + fullDays);\n                        expectedEnd.setHours(expectedEnd.getHours() + remainingHours);\n                        return expectedEnd.getTime() !== end.getTime() &&\n                            Math.abs((expectedEnd.getTime() - end.getTime()) / (1000 * 60 * 60 * 24)) > 1;\n                    };\n                    isOnHoliday = isEndDateCorrect(sDate, eDate, ganttData.duration, hour);\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1 && !isOnHoliday) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    if (this.hasDSTTransition(sDate.getFullYear()) || sDate.getTimezoneOffset() === -180) {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.hasDSTTransition(sDate.getFullYear())) {\n                    var width = (getUniversalTime(eDate) - getUniversalTime(sDate)) /\n                        60000 * ((this.parent.perDayWidth) / 24) / 60;\n                    return width;\n                }\n                else {\n                    var totalDays = this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24);\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        var currentDate = new Date(sDate.getTime());\n                        var nonWorkingDays = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(currentDate, eDate);\n                        var workingDays = totalDays - nonWorkingDays;\n                        return workingDays * this.parent.perDayWidth;\n                    }\n                    else {\n                        return totalDays * this.parent.perDayWidth;\n                    }\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findLastSunday(year, month) {\n            var lastDayOfMonth = new Date(Date.UTC(year, month + 1, 0)); // Last day of the month\n            var lastSunday = new Date(Date.UTC(year, month, lastDayOfMonth.getUTCDate() - lastDayOfMonth.getUTCDay()));\n            return lastSunday;\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formattedDate = formatter.format(date);\n            var _a = formattedDate.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findLastSunday(year, 2);\n        var dstEndDate = findLastSunday(year, 9);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var start = 0;\n        var end = 11;\n        var baseOffset = new Date(year, start, 1).getTimezoneOffset();\n        while (start <= end) {\n            var mid = Math.floor((start + end) / 2);\n            var currentOffset = new Date(year, mid, 1).getTimezoneOffset();\n            if (currentOffset !== baseOffset) {\n                return true;\n            }\n            if (currentOffset > baseOffset) {\n                end = mid - 1;\n            }\n            else {\n                start = mid + 1;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        if (this.parent.enableTimelineVirtualization && (this.parent.isLoad || isFromTimelineVirtulization) &&\n            !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (!isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            // if (hasDST) {\n            //     transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            // }\n            // if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n            //     let newTimelineStartDate: Date;\n            //     if (this.parent.isInDst(date)) {\n            //         newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n            //     } else {\n            //         newTimelineStartDate = new Date(timelineStartDate.getTime());\n            //     }\n            //     leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            // }\n            // else {\n            //     let width: number;\n            //     if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n            //         !isTimeSet && !this.parent['isFromEventMarker']) {\n            //         const newDate: Date = new Date(startDate.getTime());\n            //         const setStartDate: Date = new Date(newDate.setHours(0, 0, 0, 0));\n            //         const duration: number = this.getDuration(setStartDate, startDate, 'day', true, false);\n            //         width = duration * this.parent.perDayWidth;\n            //         date.setHours(0, 0, 0, 0);\n            //         leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            //         if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n            //             leftValue += width;\n            //         }\n            //     }\n            //     else {\n            //         leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            //     }\n            // }\n            if (this.hasDSTTransition(date.getFullYear())) {\n                if (!this.parent.timelineSettings.showWeekend) {\n                    leftValue = this.calculateLeftValue(timelineStartDate, date);\n                }\n                else {\n                    leftValue = (getUniversalTime(date) - getUniversalTime(timelineStartDate)) /\n                        60000 * ((this.parent.perDayWidth) / 24) / 60;\n                }\n                return leftValue;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        leftValue = this.calculateLeftValue(timelineStartDate, date);\n                    }\n                    else {\n                        leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    }\n                    if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        leftValue = this.calculateLeftValue(timelineStartDate, date);\n                    }\n                    else {\n                        leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    }\n                }\n            }\n            // const timelineStartTime: number = timelineStartDate.getTime();\n            // let dstStartTime: number | undefined;\n            // if (transitions && transitions['dstStart']) {\n            //     dstStartTime = transitions['dstStart'].getTime();\n            // }\n            // const isBeforeOrAtDSTStart: boolean = timelineStartTime <= dstStartTime;\n            // if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n            //     if ((leftValue % this.parent.perDayWidth) !== 0) {\n            //         const leftDifference: number = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n            //         leftValue = leftValue + leftDifference;\n            //     }\n            // }\n            // const topTier: Object = this.parent.timelineModule.customTimelineSettings.topTier;\n            // if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n            //     tierMode = topTier['unit'];\n            //     countValue = topTier['count'];\n            // }\n            // const pervYear: number = startDate.getFullYear() - 1;\n            // let isprevYearTransitions : boolean = false;\n            // if (timelineStartDate.getFullYear() <= pervYear) {\n            //     if (timelineStartDate.getFullYear() < pervYear) {\n            //         isprevYearTransitions = true;\n            //     }\n            //     else {\n            //         const pervDSTTransitions: Object = this.getDSTTransitions(timelineStartDate.getFullYear(), this.systemTimeZone);\n            //         if (startDate >= pervDSTTransitions['dstStart']) {\n            //             isprevYearTransitions = true;\n            //         }\n            //     }\n            // }\n            // const isHourly: boolean = this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour';\n            // const isDaily: boolean = this.parent.timelineModule.topTier === 'Day' || this.parent.timelineModule.bottomTier === 'Day';\n            // const isStartDateInDst: boolean = this.parent.isInDst(startDate);\n            // const isTimelineStartDateInDst: boolean = this.parent.isInDst(timelineStartDate);\n            // const perHourWidth: number = this.parent.perDayWidth / 24;\n            // if (!isStartDateInDst && isTimelineStartDateInDst) {\n            //     if ((countValue !== 1 && isHourly) || (countValue === 1 && isDaily)) {\n            //         leftValue -= perHourWidth;\n            //     }\n            // }\n            // const unitHour: boolean = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            // if (hasDST && unitHour && ((startDate >= transitions['dstStart']) || isprevYearTransitions) && !this.parent.enableTimelineVirtualization) {\n            //     if (countValue === 1) {\n            //         const projectStartDate: Date = new Date(this.parent.projectStartDate);\n            //         const projectEndDate: Date = new Date(this.parent.projectEndDate);\n            //         const yearsCount: number[] = [];\n            //         for (let year: number = projectStartDate.getFullYear(); year <= projectEndDate.getFullYear(); year++) {\n            //             yearsCount.push(year);\n            //         }\n            //         const findYearIndex: (year: number) => number = (year: number): number => {\n            //             return yearsCount.indexOf(year);\n            //         };\n            //         let index: number = findYearIndex(startDate.getFullYear());\n            //         if (index !== -1) {\n            //             if ((startDate > transitions['dstEnd']) || index === 0) {\n            //                 index += 1;\n            //             }\n            //             leftValue -= index * (this.parent.perDayWidth / 24);\n            //         }\n            //     }\n            // }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * Calculates the left pixel value for a task on the Gantt chart, considering non-working days.\n     *\n     * This method calculates the horizontal position or \"left value\" for a task based on its start date, current date,\n     * and the position of non-working days. This is useful for determining the visual placement of tasks in the Gantt chart.\n     *\n     * @param {Date} timelineStartDate - The start date of the timeline from which to calculate the left position.\n     * @param {Date} currentDate - The current date for which the left value is being calculated.\n     * @returns {number} - Returns the calculated left value in pixels.\n     */\n    TaskProcessor.prototype.calculateLeftValue = function (timelineStartDate, currentDate) {\n        var startdate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var nonWorkingDaysCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(startdate, currentDate);\n        var totalMilliseconds;\n        if (this.hasDSTTransition(currentDate.getFullYear())) {\n            totalMilliseconds = (getUniversalTime(currentDate) - getUniversalTime(timelineStartDate));\n        }\n        else {\n            totalMilliseconds = currentDate.getTime() - timelineStartDate.getTime();\n        }\n        var nonWorkingMilliseconds = nonWorkingDaysCount * 24 * 60 * 60 * 1000;\n        var workingMilliseconds = totalMilliseconds - nonWorkingMilliseconds;\n        var leftValue = (workingMilliseconds / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        return leftValue;\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (!this.parent.timelineSettings.showWeekend) {\n            var currentDate = new Date(startDate.getTime());\n            var nonWorkingDaysCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(currentDate, endDate);\n            var totalMilliseconds = endDate.getTime() - startDate.getTime();\n            var nonWorkingMilliseconds = nonWorkingDaysCount * 24 * 60 * 60 * 1000;\n            var workingMilliseconds = totalMilliseconds - nonWorkingMilliseconds;\n            return (workingMilliseconds / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        }\n        else {\n            return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            var weekEndCount = 0;\n            var weekEndInMilliSecond = 0;\n            if (!this.parent.timelineSettings.showWeekend) {\n                var startdate = new Date(segmentTaskStartDate.getTime());\n                var segmentStartdate = new Date(stDate.getTime());\n                weekEndCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(startdate, segmentStartdate);\n                if (weekEndCount > 0) {\n                    weekEndInMilliSecond = weekEndCount * (1000 * 60 * 60 * 24);\n                }\n            }\n            return (stDate.getTime() - segmentTaskStartDate.getTime() - weekEndInMilliSecond) /\n                (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                if (ganttData.taskData[this.parent.taskFields.resourceInfo] &&\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0]) {\n                    ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                        ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                }\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var _this = this;\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        var _loop_6 = function (count) {\n            currentTask = tasks[count];\n            var currSegments = (currentTask.ganttProperties.segments || [\n                { startDate: currentTask.ganttProperties.startDate, endDate: currentTask.ganttProperties.endDate }\n            ]).map(function (_a) {\n                var startDate = _a.startDate, endDate = _a.endDate;\n                return ({\n                    startDate: new Date(startDate),\n                    endDate: new Date(endDate)\n                });\n            });\n            var range = [];\n            currSegments.forEach(function (currSegment) {\n                var cStartDate = new Date(currSegment.startDate.getTime());\n                var cEndDate = new Date(currSegment.endDate.getTime());\n                for (var index = 0; index < count; index++) {\n                    var task = tasks[index];\n                    var taskSegments = (task.ganttProperties.segments || [\n                        { startDate: task.ganttProperties.startDate, endDate: task.ganttProperties.endDate }\n                    ]).map(function (_a) {\n                        var startDate = _a.startDate, endDate = _a.endDate;\n                        return ({\n                            startDate: new Date(startDate),\n                            endDate: new Date(endDate)\n                        });\n                    });\n                    taskSegments.forEach(function (segment) {\n                        var tStartDate = segment.startDate;\n                        var tEndDate = segment.endDate;\n                        var rangeObj = {};\n                        if (cStartDate && cEndDate && tEndDate\n                            && (_this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                                || _this._isInEndDateRange(cEndDate, tStartDate, tEndDate) ||\n                                (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()))) {\n                            if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                                && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                                || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            if (rangeObj.from && rangeObj.to) {\n                                range.push(rangeObj);\n                            }\n                        }\n                    });\n                }\n            });\n            ranges.push.apply(ranges, this_4.mergeRangeCollections(range));\n        };\n        var this_4 = this;\n        for (var count = 1; count < tasks.length; count++) {\n            _loop_6(count);\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var flatData = this.parent.flatData;\n        if (!flatData.length) {\n            return;\n        }\n        var parentTaskMap = new Map();\n        for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n            var task = flatData_1[_i];\n            parentTaskMap.set(task.uniqueID, task);\n        }\n        for (var i = 0, lenth = flatData.length; i < lenth; i++) {\n            this.updateTaskLeftWidth(flatData[i], parentTaskMap);\n        }\n    };\n    TaskProcessor.prototype.shouldProcessUpdateWidth = function () {\n        return (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                Boolean(this.parent.taskFields.hasChildMapping)));\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @param {Map<string, IGanttData>} parentRecords .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data, parentRecords) {\n        if (parentRecords === void 0) { parentRecords = null; }\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || this.shouldProcessUpdateWidth()) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var parentItem = data.parentItem ? (parentRecords != null ? parentRecords.get(data.parentItem.uniqueID) :\n            this.parent.getParentTask(data.parentItem)) : null;\n        var isLastChild = parentItem && parentItem.childRecords.slice(-1)[0] === data;\n        if (parentItem) {\n            if (isLastChild && !data.hasChildRecords && this.parent.enableValidation) {\n                if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                    this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                    this.updateParentItems(parentItem);\n                }\n                if (this.shouldProcessUpdateWidth()) {\n                    this.updateWidthLeft(parentItem);\n                }\n            }\n            else if (parentItem && !this.parent.enableValidation) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord, data), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, data, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    return countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_7 = function (count) {\n                    childData_1 = (this_5.parent.loadChildOnDemand && this_5.parent.taskFields.hasChildMapping) ?\n                        this_5.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_5.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_5.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_5.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_5.isFromManual(childData_1)) {\n                        var ganttRec = this_5.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_5.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_5.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        this_5.getEndDate(ganttProp.startDate, rec.ganttProperties.duration, rec.ganttProperties.durationUnit, rec.ganttProperties, false) : this_5.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isUnscheduled && !(propertyWithValue_1 === 'startDate' || propertyWithValue_1 === 'endDate')) {\n                        var formattedEndDate = this_5.getDateFromFormat(endDate);\n                        var formattedStartDate = this_5.getDateFromFormat(startDate);\n                        if (formattedEndDate > maxEndDate) {\n                            maxEndDate = formattedEndDate;\n                        }\n                        if (formattedStartDate < minStartDate) {\n                            minStartDate = formattedStartDate;\n                        }\n                    }\n                    var isChildBothAndScheduled = (isChildBoth && !isUnscheduled) || isNullOrUndefined(isChildBoth);\n                    if (isNullOrUndefined(minStartDate) && isChildBothAndScheduled) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) && isChildBothAndScheduled) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_5.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_5.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (!childData_1.ganttProperties.isMilestone && isScheduledTask(childData_1.ganttProperties)) {\n                        var progressValues = this_5.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        totalDuration += getValue('totalDuration', progressValues);\n                        if (childData_1[this_5.parent.taskFields.duration] < 1) {\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_5 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_7(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = (this.parent.isOnDelete && childData_1.isDelete) ?\n                        childLength - milestoneCount - 1 : childLength - milestoneCount;\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var collapseMultiTaskBar = 'e-gantt-multi-taskbar';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\nexport var templatePadding = 'e-template-padding';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction'] || this.parent.timelineModule.isZoomingAction) {\n            this.parent.timelineModule.isZoomingAction = false;\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.preventScrollIntoView = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    // Recursively collects all child records in a hierarchy.\n    GanttChart.prototype.getHierarchyChildRecords = function (records) {\n        var hierarchyChildRecords = [];\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                hierarchyChildRecords.push(record); // Include the current record\n                this.collectHierarchyChildren(record.childRecords, hierarchyChildRecords);\n            }\n        }\n        return hierarchyChildRecords;\n    };\n    // Helper function to append children records to the list.\n    GanttChart.prototype.collectHierarchyChildren = function (records, accumulator) {\n        for (var _i = 0, records_2 = records; _i < records_2.length; _i++) {\n            var record = records_2[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                accumulator.push(record);\n                this.collectHierarchyChildren(record.childRecords, accumulator);\n            }\n        }\n    };\n    // Get height for range bar, considering hierarchy child records.\n    GanttChart.prototype.getRangeHeight = function (data) {\n        var heightDifference = Math.floor(this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n        if (!data.expanded && data.hasChildRecords) {\n            return this.calculateCollapsedRowHeight(heightDifference);\n        }\n        var hierarchyChildLength = this.calculateHierarchyChildLength(data);\n        return this.calculateExpandedRowHeight(data.childRecords.length, hierarchyChildLength, heightDifference);\n    };\n    // Calculates height when the row is collapsed.\n    GanttChart.prototype.calculateCollapsedRowHeight = function (heightDifference) {\n        return this.parent.rowHeight - heightDifference;\n    };\n    // Calculates the total length from hierarchy children.\n    GanttChart.prototype.calculateHierarchyChildLength = function (data) {\n        if (!data.childRecords || data.childRecords.length === 0) {\n            return 0;\n        }\n        var hierarchyChildRecords = this.getHierarchyChildRecords(data.childRecords);\n        var hierarchyChildDataLength = 0;\n        for (var _i = 0, hierarchyChildRecords_1 = hierarchyChildRecords; _i < hierarchyChildRecords_1.length; _i++) {\n            var item = hierarchyChildRecords_1[_i];\n            if (item.childRecords.length !== 0 && item.expanded) {\n                hierarchyChildDataLength += item.childRecords.length;\n            }\n        }\n        return hierarchyChildDataLength;\n    };\n    // Calculates height when the row is expanded and incorporates child records.\n    GanttChart.prototype.calculateExpandedRowHeight = function (childLength, hierarchyChildLength, heightDifference) {\n        return ((childLength + hierarchyChildLength) * this.parent.rowHeight) - heightDifference;\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            // Handling overallocation lines for multiple hierarchy-level record collapse actions - Task:887301\n            var parentRecord = currentRecord.parentItem ? this.parent.getParentTask(currentRecord.parentItem) : null;\n            if (currentRecord.parentItem &&\n                parentRecord &&\n                !parentRecord.expanded &&\n                currentRecord.hasChildRecords &&\n                !currentRecord.expanded) {\n                topValue = this.parent.getRowByIndex(this.parent.getRootParent(currentRecord, 0).index).offsetTop;\n            }\n            else {\n                var rowOffset = this.parent.getRowByIndex(rowIndex).offsetTop;\n                topValue = !currentRecord.expanded ? rowOffset : rowOffset + this.parent.rowHeight;\n            }\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar) {\n                // Render proper overallocation line height during collapseall actions - Task:872518\n                var parentRecord = this.parent.getRootParent(currentRecord, 0);\n                rowIndex = parentRecord.expanded ? rowIndex : this.parent.currentViewData.indexOf(parentRecord);\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing && !this.parent.isAdaptive) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var _this = this;\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            // pointerdown event which is used to detect double click for both mobile mode\n            var tapTimeout_1;\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'pointerdown', function (event) {\n                if (tapTimeout_1) {\n                    clearTimeout(tapTimeout_1);\n                    tapTimeout_1 = null;\n                    _this.doubleClickHandler(event); // Trigger double-click action\n                }\n                else {\n                    tapTimeout_1 = setTimeout(function () {\n                        tapTimeout_1 = null; // Reset after timeout\n                    }, 200); // Wait 300ms to detect second tap\n                }\n            }, this);\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1;\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.closest('.e-chart-row-cell') && nextElement.closest('.e-rowcell')) {\n                this.preventScrollIntoView = true;\n            }\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('aria-rowindex'), 10) - 1 !== 0 &&\n                            parseInt(next.getAttribute('aria-colindex'), 10) - 1 === 0 &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('aria-rowindex'), 10) - 1];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing ||\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                if (!this.preventScrollIntoView) {\n                    element.scrollIntoView({\n                        block: 'nearest',\n                        inline: 'nearest' // Keeps horizontal position stable\n                    });\n                }\n                this.preventScrollIntoView = false;\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { getUniversalTime } from '../base/utils';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.applyDstHour = false;\n        this.performedTimeSpanAction = false;\n        this.dstIncreaseHour = false;\n        this.fromDummyDate = false;\n        this.isZoomedToFit = false;\n        this.isZoomingAction = false;\n        this.increaseIteration = false;\n        this.isFirstLoop = false;\n        this.inconsistenceDstApplied = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = this.isZoomedToFit = false;\n        this.updateUndoRedo(isZoomIn);\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (this.parent.zoomingProjectStartDate) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = this.getZoomLevel(currentZoomingLevel, isZoomIn);\n        this.updateToolbar(currentLevel, isZoomIn);\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    Timeline.prototype.updateUndoRedo = function (isZoomIn) {\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {\n                action: action,\n                previousZoomingLevel: extend({}, {}, this.parent.currentZoomingLevel, true)\n            };\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n    };\n    Timeline.prototype.getZoomLevel = function (currentZoomingLevel, isZoomIn) {\n        var levelChange = isZoomIn ? 1 : -1;\n        var level = currentZoomingLevel + levelChange;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        return foundLevel ? level : currentZoomingLevel;\n    };\n    Timeline.prototype.updateToolbar = function (currentLevel, isZoomIn) {\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var totalDays;\n        var nonWorkingDays = 0;\n        if (!this.parent.timelineSettings.showWeekend) {\n            nonWorkingDays = this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate);\n        }\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        totalDays = (timeDifference / (1000 * 3600 * 24));\n        totalDays = totalDays - nonWorkingDays;\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            this.changeTimelineSettings(newTimeline);\n            this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        }\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    /**\n     * Calculates the number of timeline cells required for a given timeline configuration.\n     *\n     * @param {ZoomTimelineSettings} newTimeline - The configuration settings for the timeline, including tier settings.\n     * @returns {number} - Returns the calculated number of timeline cells based on the unit and count.\n     *\n     * The method determines the number of days between the project start and end dates, adjusts this value\n     * by excluding non-working days if weekends are hidden, and calculates the number of timeline cells\n     * that fit within this adjusted duration according to the specified timeline settings.\n     */\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays;\n        var nonWorkingDays = 0;\n        if (!this.parent.timelineSettings.showWeekend) {\n            nonWorkingDays = this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate);\n        }\n        numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        numberOfDays -= nonWorkingDays;\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    /**\n     * Calculates the corresponding date for a given left pixel value on the timeline.\n     *\n     * @param {number} left - The left position in pixels to be converted to a date.\n     * @param {boolean} isMilestone - (Optional) A boolean indicating whether the date refers to a milestone.\n     * @param {ITaskData} property - (Optional) An object containing task data, used when adjusting for milestones.\n     * @returns {Date} - Returns the calculated date according to the Gantt chart's timeline settings.\n     *\n     * This method converts a pixel-based position on the Gantt timeline to an actual date,\n     * taking into account working days, non-working days, and adjustments for daylight saving\n     * time. If weekends are hidden, it calculates the date based on working weeks.\n     * For milestones, it adjusts the date by determining the accurate end time.\n     */\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        if (!this.parent.timelineSettings.showWeekend) {\n            pStartDate = this.calculateDateExcludingNonWorkingDays(left, pStartDate);\n        }\n        else {\n            pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        }\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * Calculates a date by considering a given distance in pixels and excluding non-working days.\n     *\n     * This function takes into account the width of each day in the Gantt chart as well as non-working days to compute the resulting date from a specified pixel position.\n     * It returns the date that corresponds to the pixel distance from `pStartDate`.\n     *\n     * @param {number} left - The distance in pixels from the start date to calculate the date.\n     * @param {Date} pStartDate - The start date from which to calculate the resulting date.\n     * @returns {Date} - Returns the calculated date excluding non-working days.\n     */\n    Timeline.prototype.calculateDateExcludingNonWorkingDays = function (left, pStartDate) {\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        var totalDays = Math.floor(left * milliSecondsPerPixel / milliSecondsPerDay);\n        var totalDaysPerWeek = 7;\n        var workingDaysPerWeek = totalDaysPerWeek - nonWorkingDays.length;\n        // Calculate full weeks and extra days\n        var fullWeeks = Math.floor(totalDays / workingDaysPerWeek);\n        var extraDays = totalDays % workingDaysPerWeek;\n        // Set the calculated date by adding full weeks\n        var calculatedDate = new Date(pStartDate);\n        calculatedDate.setDate(calculatedDate.getDate() + fullWeeks * totalDaysPerWeek);\n        // Process the remaining days\n        var daysAdded = 0;\n        while (daysAdded < extraDays) {\n            calculatedDate.setDate(calculatedDate.getDate() + 1);\n            if (nonWorkingDays.indexOf(calculatedDate.getDay()) === -1) {\n                daysAdded++;\n            }\n        }\n        return calculatedDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.isZoomingAction = true;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @param {Date} dummyStartDate .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data, dummyStartDate) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n            if (dummyStartDate) {\n                dateString = this.updateHourInFormat(dayFormat, dateString, dummyStartDate.getHours()).updatedFormat;\n            }\n        }\n        return dateString;\n    };\n    Timeline.prototype.isDateAffectedByDST = function (modifiedDate) {\n        var date = new Date(modifiedDate);\n        var offsetAfter = date.getTimezoneOffset();\n        for (var hoursBack = 1; hoursBack <= 3; hoursBack++) {\n            var testDate = new Date(date.getTime() - hoursBack * 60 * 60 * 1000);\n            var offsetBefore = testDate.getTimezoneOffset();\n            if (offsetBefore !== offsetAfter) {\n                return true; // DST transition happened\n            }\n        }\n        return false; // No DST transition detected\n    };\n    Timeline.prototype.calculateIteration = function (dummystartDate, startDate, mode, count) {\n        dummystartDate.setHours(startDate.getHours());\n        if (this.isFirstLoop && this.parent.isInDst(startDate) &&\n            this.isDateAffectedByDST(startDate)) {\n            dummystartDate.setHours(dummystartDate.getHours() - 1);\n            this.increaseIteration = true;\n        }\n        this.isFirstLoop = false;\n        dummystartDate.setMinutes(startDate.getMinutes());\n        dummystartDate.setSeconds(startDate.getSeconds());\n        dummystartDate.setMilliseconds(startDate.getMilliseconds());\n        var iterations;\n        if (mode === 'Hour') {\n            var startHour = startDate.getHours();\n            // Calculate iterations based on remaining hours in the day\n            iterations = Math.ceil((24 - startHour) / count);\n        }\n        else if (mode === 'Minutes') {\n            var startHour = startDate.getHours();\n            var startMinute = startDate.getMinutes();\n            // Calculate iterations based on remaining minutes in the day\n            iterations = Math.ceil((1440 - (startHour * 60 + startMinute)) / count);\n        }\n        if (this.increaseIteration) {\n            iterations += 1;\n            this.increaseIteration = false;\n        }\n        return { iterations: iterations, dummystartDate: dummystartDate };\n    };\n    Timeline.prototype.updateHourInFormat = function (dayFormat, formattedDate, newHour) {\n        var hour12Pattern = /(h{1,2})/; // Matches 'h' or 'hh'\n        var hour24Pattern = /(H{1,2})/; // Matches 'H' or 'HH'\n        var hourMatch = dayFormat.match(hour12Pattern) || dayFormat.match(hour24Pattern);\n        if (!hourMatch) {\n            // No hour format found\n            return { hasHour: false, updatedFormat: formattedDate };\n        }\n        var hourFormat = hourMatch[0]; // Get the hour format string\n        var formatParts = dayFormat.split(/[\\s,:]+/);\n        var dateParts = formattedDate.split(/[\\s,:]+/);\n        var hourIndex = formatParts.findIndex(function (part) { return part.includes('h') || part.includes('H'); });\n        if (hourIndex === -1 || hourIndex >= dateParts.length) {\n            return { hasHour: false, updatedFormat: formattedDate };\n        }\n        function padWithZeros(num, length) {\n            var numStr = String(num);\n            while (numStr.length < length) {\n                numStr = '0' + numStr;\n            }\n            return numStr;\n        }\n        var formattedHour = padWithZeros(newHour, hourFormat.length);\n        dateParts[hourIndex] = formattedHour;\n        var updatedDate = dateParts.join(' ');\n        return { hasHour: true, hourIndex: hourIndex, updatedFormat: updatedDate };\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var topTier = parent.timelineModule.customTimelineSettings.topTier;\n        var bottomTier = parent.timelineModule.customTimelineSettings.bottomTier;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var uniqueTimestamps = new Set();\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        var hasDST = this.parent.dataOperation.hasDSTTransition(startDate.getFullYear());\n        var dummystartDate = new Date(2000, 0, 1, 0, 0, 0, 0);\n        var loopEnd = false;\n        this.isFirstLoop = true;\n        do {\n            //  to restict the creation of weekend element in UI\n            if (!this.parent.timelineSettings.showWeekend && this.isNonWorkingDayHeader(mode, tier, startDate)) {\n                increment = Math.abs(this.getIncrement(startDate, count, mode, isFirstCell, true));\n                newTime = startDate.getTime() + increment;\n                startDate.setTime(newTime);\n                continue;\n            }\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            var incrementsDone = {};\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            if (((mode === 'Hour') || (mode === 'Minutes' && count === 60) ||\n                (topTier.unit === 'Hour' && bottomTier.unit === 'Minutes')) && hasDST) {\n                var calculatedIteration = this.calculateIteration(dummystartDate, startDate, mode, count);\n                var iterations = calculatedIteration.iterations;\n                dummystartDate.setTime(calculatedIteration.dummystartDate.getTime());\n                for (var i = 0; i < iterations; i++) {\n                    timelineCell = {};\n                    timelineCell.startDate = new Date(startDate.getTime());\n                    if (startDate.getHours() !== dummystartDate.getHours()) {\n                        this.applyDstHour = true;\n                    }\n                    parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell, dummystartDate);\n                    var formattedStartDate = new Date(startDate.toString());\n                    var timestamp = formattedStartDate.getTime();\n                    if (!uniqueTimestamps.has(timestamp)) {\n                        uniqueTimestamps.add(timestamp);\n                        scheduleDateCollection.push(formattedStartDate);\n                    }\n                    var incrementResult = this.getIncrement(startDate, count, mode, isFirstCell, true);\n                    var dummyDateIncrement = incrementResult;\n                    if (mode === 'Minutes' || mode === 'Hour') {\n                        if (this.dstIncreaseHour) {\n                            this.fromDummyDate = true;\n                            dummyDateIncrement = this.getIncrement(dummystartDate, count, mode, isFirstCell, true);\n                            this.dstIncreaseHour = false;\n                            this.fromDummyDate = false;\n                        }\n                        dummystartDate.setTime(dummystartDate.getTime() + dummyDateIncrement);\n                        if (this.inconsistenceDstApplied) {\n                            startDate.setTime(startDate.getTime() + incrementResult - 1800000);\n                            this.inconsistenceDstApplied = false;\n                        }\n                        else {\n                            startDate.setTime(startDate.getTime() + incrementResult);\n                        }\n                    }\n                    isFirstCell = false;\n                    if (i === iterations - 1 && startDate.getHours() !== 0) {\n                        startDate.setHours(0);\n                    }\n                    if (startDate.getHours() === 23 && startDate.getHours() !== dummystartDate.getHours()) {\n                        startDate.setHours(startDate.getHours() - 1);\n                    }\n                    if (startDate >= endDate) {\n                        /* eslint-disable-next-line */\n                        parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n                        loopEnd = true;\n                    }\n                    parentTh.appendChild(parentTr);\n                    var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n                    timelineCell.endDate = new Date(startDate.getTime());\n                    if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                        this.parent.enableTimelineVirtualization) {\n                        if (tier === 'topTier') {\n                            this.pdfExportTopTierCollection.push(timelineCell);\n                        }\n                        else {\n                            this.pdfExportBottomTierCollection.push(timelineCell);\n                        }\n                    }\n                    else {\n                        tierCollection.push(timelineCell);\n                    }\n                    width += timelineCell.width;\n                    this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n                    if (loopEnd) {\n                        loopEnd = false;\n                        break;\n                    }\n                }\n                this.applyDstHour = false;\n                if (mode === 'Hour') {\n                    incrementsDone.day = Math.floor((iterations * count) / 24);\n                }\n                else if (mode === 'Minutes') {\n                    incrementsDone.day = Math.floor((iterations * count) / 1440);\n                }\n                dummystartDate = new Date(2000, 0, 1, 0, 0, 0, 0);\n            }\n            else {\n                parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n                scheduleDateCollection.push(new Date(startDate.toString()));\n                if (isFirstCell && mode === 'Month') {\n                    newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n                }\n                else {\n                    increment = Math.abs(this.getIncrement(startDate, count, mode, isFirstCell, true));\n                    newTime = startDate.getTime() + increment;\n                }\n                isFirstCell = false;\n                if (!this.parent.timelineSettings.showWeekend && mode === 'Day') {\n                    var tempCount = 0;\n                    var currentDay = new Date(startDate);\n                    // Adjust the start date to find the next working day\n                    while (tempCount < count) {\n                        currentDay.setDate(currentDay.getDate() + 1);\n                        // Check if the current day is a working day\n                        if (this.parent.nonWorkingDayIndex.indexOf(currentDay.getDay()) === -1) {\n                            // Increment tempCount if it's a working day\n                            tempCount++;\n                        }\n                    }\n                    newTime = currentDay.getTime();\n                }\n                startDate.setTime(newTime);\n                if (hasDST && (mode === 'Day' || mode === 'Month' || mode === 'Week')) {\n                    startDate.setHours(0, 0, 0, 0);\n                }\n                if (startDate >= endDate) {\n                    /* eslint-disable-next-line */\n                    parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n                }\n                parentTh.appendChild(parentTr);\n                var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n                timelineCell.endDate = new Date(startDate.getTime());\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                    if (tier === 'topTier') {\n                        this.pdfExportTopTierCollection.push(timelineCell);\n                    }\n                    else {\n                        this.pdfExportBottomTierCollection.push(timelineCell);\n                    }\n                }\n                else {\n                    tierCollection.push(timelineCell);\n                }\n                width += timelineCell.width;\n                this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n            }\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.isNonWorkingDayHeader = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            if (!this.parent.isLoad && this.parent.splitterModule && this.parent.splitterModule.splitterObject &&\n                this.parent.splitterSettings.view === 'Chart') {\n                contentWidth = contentElement['offsetWidth'] + this.parent.splitterModule.splitterObject['allPanes'][0].offsetWidth;\n            }\n            else {\n                contentWidth = contentElement['offsetWidth'];\n            }\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                if (!this.parent.timelineSettings.showWeekend) {\n                    var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n                    var milliSecondsPerPixel = milliSecondsPerDay / perDayWidth;\n                    var totalDays = Math.floor(contentWidth * milliSecondsPerPixel / milliSecondsPerDay);\n                    var nonWorkingDaysPerWeek = this.parent.nonWorkingDayIndex.length;\n                    var workingDaysPerWeek = 7 - nonWorkingDaysPerWeek;\n                    var weeksToCover = Math.floor(totalDays / workingDaysPerWeek);\n                    var additionalDays = totalDays % workingDaysPerWeek;\n                    // Consider starting point and fraction of week\n                    var spanDays = (weeksToCover * 7) + additionalDays;\n                    var startIndex = endDate.getDay();\n                    while (additionalDays > 0) {\n                        startIndex = (startIndex + 1) % 7;\n                        if (this.parent.nonWorkingDayIndex.indexOf(startIndex) === -1) {\n                            additionalDays--;\n                        }\n                        spanDays++;\n                    }\n                    endDate.setDate(endDate.getDate() + spanDays);\n                }\n                else {\n                    widthDiff = Math.round(widthDiff / perDayWidth);\n                    endDate.setDate(endDate.getDate() + widthDiff);\n                }\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} [isFirstCell] .\n     * @param {boolean} [dateIncrement] .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell, dateIncrement) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        var isDstEnd = false;\n        var dstDateCompate = new Date(firstDay);\n        switch (mode) {\n            case 'Year': {\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = this.resetToNextYear(startDate, count);\n                var expectedYearDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedYearDiff, (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24), dateIncrement, true);\n                break;\n            }\n            case 'Month': {\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = this.resetToNextMonth(startDate, count);\n                var expectedMonthDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedMonthDiff, lastDay.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Week': {\n                var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                    (6 - startDate.getDay()) + dayIndex;\n                count = dayIntervel > 0 ? count - 1 : 0;\n                lastDay.setHours(24, 0, 0, 0);\n                dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                    dayIntervel - 1 : dayIntervel : dayIntervel;\n                lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                var nextDayMidnightUTC = this.resetToNextDay(startDate);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = nextDayMidnightUTC + ((dayIntervel + (7 * count)) * 24 * 60 * 60 * 1000);\n                var expectedWeekDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedWeekDiff, lastDay.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Day': {\n                lastDay.setHours(24, 0, 0, 0);\n                var nextDayMidnightUTC = this.resetToNextDay(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextDayMidnightUTC + ((count - 1) * 24 * 60 * 60 * 1000);\n                var expectedDayDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                increment = this.adjustForDST(firstDay, date, expectedDayDiff, date.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Hour': {\n                lastDay.setMinutes(60);\n                lastDay.setSeconds(0);\n                var nextHourUtC = this.resetToNextHour(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextHourUtC + ((count - 1) * 60 * 60 * 1000);\n                var expectedHourDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                if (isFirstCell && count === 12) {\n                    if (firstDay.getHours() !== 0) {\n                        date.setHours(0, 0, 0, 0);\n                    }\n                }\n                var dstDateCompare = new Date(firstDay);\n                dstDateCompare.setHours(dstDateCompare.getHours() - count);\n                var offsetDiff = firstDay.getTimezoneOffset() - dstDateCompare.getTimezoneOffset();\n                if (offsetDiff === -30) {\n                    date.setMinutes(date.getMinutes() + 30);\n                    this.inconsistenceDstApplied = true;\n                }\n                if (date.getHours() < (dstDateCompate.getHours() + count)) {\n                    isDstEnd = true;\n                }\n                increment = this.adjustForDST(firstDay, date, expectedHourDiff, date.getTime() - firstDay.getTime(), dateIncrement, isDstEnd);\n                break;\n            }\n            case 'Minutes': {\n                lastDay.setSeconds(60);\n                var nextMinuteUtC = this.resetToNextMinute(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextMinuteUtC + ((count - 1) * 60 * 1000);\n                var expectedMinuteDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                if (date.getMinutes() <= dstDateCompate.getMinutes()) {\n                    isDstEnd = true;\n                }\n                increment = this.adjustForDST(firstDay, date, expectedMinuteDiff, date.getTime() - firstDay.getTime(), dateIncrement, isDstEnd);\n                break;\n            }\n        }\n        return increment;\n    };\n    Timeline.prototype.resetToNextYear = function (now, count) {\n        var year = now.getFullYear() + (count);\n        return Date.UTC(year, 0, 1, 0, 0, 0, 0);\n    };\n    Timeline.prototype.resetToNextMonth = function (now, count) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        return Date.UTC(year, month + count, 1, 0, 0, 0, 0); // First day of the next month at midnight\n    };\n    Timeline.prototype.resetToNextDay = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        return Date.UTC(year, month, day + 1, 0, 0, 0, 0); // Midnight of the next day\n    };\n    Timeline.prototype.resetToNextHour = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        var hours = now.getHours();\n        return Date.UTC(year, month, day, hours + 1, 0, 0, 0); // Next hour with 0 minutes, seconds, and ms\n    };\n    Timeline.prototype.resetToNextMinute = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        var hours = now.getHours();\n        var minutes = now.getMinutes();\n        return Date.UTC(year, month, day, hours, minutes + 1, 0, 0); // Next minute with 0 seconds and ms\n    };\n    Timeline.prototype.adjustForDST = function (firstDay, lastDay, expectedDiff, increment, dateIncrement, isDstEnd) {\n        if (!this.parent.dataOperation.hasDSTTransition(firstDay.getFullYear())) {\n            return increment;\n        }\n        if (this.inconsistenceDstApplied) {\n            return increment;\n        }\n        var dstAdjustment = increment - expectedDiff;\n        if (lastDay.getTimezoneOffset() > firstDay.getTimezoneOffset() && dateIncrement) {\n            this.dstIncreaseHour = true;\n            if (this.fromDummyDate) {\n                return expectedDiff;\n            }\n            return isDstEnd ? increment + (60 * 60 * 1000) : increment; // Add one hour for DST transition (spring forward);\n        }\n        if (dstAdjustment > 0) {\n            increment -= dstAdjustment;\n        }\n        else if (dstAdjustment < 0) {\n            increment += Math.abs(dstAdjustment);\n        }\n        if (expectedDiff - increment === 0) {\n            return increment;\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell, dummystartDate) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var increment = this.getIncrement(scheduleWeeks, count, mode, isFirstCell);\n        if (!this.parent.timelineSettings.showWeekend && (mode === 'Week' || mode === 'Month' || mode === 'Year') && tier === 'topTier' &&\n            this.parent.currentZoomingLevel.bottomTier.unit === 'Day') {\n            var copyStartDate = new Date(scheduleWeeks);\n            var orginalDate = new Date(scheduleWeeks);\n            var enddate = new Date(orginalDate.getTime() + increment);\n            var nonWorkingDay = this.calculateNonWorkingDaysBetweenDates(copyStartDate, enddate);\n            increment = increment - (nonWorkingDay * 24 * 60 * 60 * 1000);\n        }\n        thWidth = Math.abs((increment / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate, timelineCell, isLast)\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        if (this.isFirstLoop && this.parent.isInDst(scheduleWeeks) && scheduleWeeks.getHours() === 1 &&\n            this.isDateAffectedByDST(scheduleWeeks)) {\n            thWidth += this.parent.perDayWidth / 24;\n        }\n        this.isFirstLoop = false;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var displayDate = new Date(scheduleWeeks);\n        if (!this.parent.timelineSettings.showWeekend) {\n            var isWeekend = this.isWeekend(displayDate);\n            if (isWeekend) {\n                while (this.parent.nonWorkingDayIndex.indexOf(displayDate.getDay()) !== -1) {\n                    displayDate.setDate(displayDate.getDate() + 1);\n                }\n            }\n        }\n        else {\n            displayDate = new Date(scheduleWeeks);\n        }\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(displayDate, { format: this.parent.getDateFormat() }) :\n            this.customFormat(displayDate, format, tier, mode, formatter);\n        var value;\n        if (this.applyDstHour) {\n            value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, displayDate, dummystartDate) :\n                this.customFormat(displayDate, format, tier, mode, formatter));\n        }\n        else {\n            value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, displayDate) :\n                this.customFormat(displayDate, format, tier, mode, formatter));\n        }\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n            var firstElement = template[0];\n            if (firstElement instanceof HTMLElement) {\n                firstElement.setAttribute('data-tier', tier);\n                firstElement.setAttribute('date', date);\n                firstElement.setAttribute('value', value);\n            }\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        div.setAttribute('data-tier', tier);\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * Calculates the total number of non-working days between two given dates.\n     *\n     * @param {Date} startDate - The start date of the period to check for non-working days.\n     * @param {Date} endDate - The end date of the period to check for non-working days.\n     * @returns {number} - Returns the total count of non-working days between the specified dates.\n     *\n     * This method takes into account complete weeks and any additional days, calculating\n     * non-working days within complete weeks based on the known non-working day indices.\n     * It iterates through any extra days beyond complete weeks to check if they are non-working.\n     */\n    Timeline.prototype.calculateNonWorkingDaysBetweenDates = function (startDate, endDate) {\n        var MS_PER_DAY = 1000 * 60 * 60 * 24;\n        // Calculate the total number of days\n        var totalDays = Math.ceil((endDate.getTime() - startDate.getTime()) / MS_PER_DAY);\n        // Calculate complete weeks and extra days\n        var completeWeeks = Math.floor(totalDays / 7);\n        var extraDays = totalDays % 7;\n        // Calculate non-working days in complete weeks\n        var nonWorkingDaysPerWeek = this.parent.nonWorkingDayIndex.length;\n        var nonWorkingDaysCount = completeWeeks * nonWorkingDaysPerWeek;\n        // Calculate the start day and remaining days after complete weeks\n        var startDay = startDate.getDay();\n        for (var i = 0; i < extraDays; i++) {\n            var currentDay = (startDay + i) % 7;\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDay) !== -1) {\n                nonWorkingDaysCount++;\n            }\n        }\n        return nonWorkingDaysCount;\n    };\n    /**\n     * Determines if a given date is a weekend or a non-working day.\n     *\n     * @param {Date} date - The date to check.\n     * @returns {boolean} - Returns `true` if the specified date is a non-working day, otherwise `false`.\n     *\n     * This method checks if the day of the given date falls within the defined non-working days.\n     * The non-working days are identified using the `nonWorkingDayIndex` from the parent configuration.\n     */\n    Timeline.prototype.isWeekend = function (date) {\n        var day = date.getDay();\n        return this.parent.nonWorkingDayIndex.indexOf(day) !== -1;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @param {TimelineFormat} timelineCell .\n     * @param {boolean} isLast .\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate, timelineCell, isLast) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var totalDays = timeDifference / (1000 * 60 * 60 * 24);\n        if (!this.parent.timelineSettings.showWeekend && this.parent.currentZoomingLevel.bottomTier.unit === 'Day') {\n            var totalWeeks = Math.floor(totalDays / 7);\n            var completeWeekDays = totalWeeks * (7 - this.parent.nonWorkingDayIndex.length);\n            var remainingDays = totalDays % 7;\n            if (remainingDays > 1 || completeWeekDays > 1) {\n                var additionalWorkingDays = 0;\n                var currentDate = new Date(sDate);\n                for (var i = 0; i < remainingDays; i++) {\n                    var dayOfWeek = currentDate.getDay();\n                    if (this.parent.nonWorkingDayIndex.indexOf(dayOfWeek) === -1) {\n                        additionalWorkingDays++;\n                    }\n                    currentDate.setDate(currentDate.getDate() + 1);\n                }\n                var workingDays = completeWeekDays + additionalWorkingDays;\n                return workingDays * this.parent.perDayWidth;\n            }\n            else if (this.isZoomToFit && isLast) {\n                return timelineCell.width;\n            }\n            else {\n                return totalDays * this.parent.perDayWidth;\n            }\n        }\n        else {\n            return totalDays * this.parent.perDayWidth;\n        }\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                if (!this.parent.timelineSettings.showWeekend) {\n                    while (this.isWeekend(new Date(startDate.getFullYear(), startDate.getMonth(), roundOffStartDate))) {\n                        roundOffStartDate++;\n                    }\n                }\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired, isEmptyObject } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        if (!this.treeGridElement.contains(this.parent.treeGrid.element)) {\n            this.parent.treeGrid.appendTo(this.treeGridElement);\n        }\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n        if (this.parent.queryCellInfo != null) {\n            this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        }\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        var collapsingNodeData = args.data;\n        var expanded = collapsingNodeData && collapsingNodeData.expanded;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization && !expanded) {\n            args['data'][this.parent.taskFields.expandState] = false;\n        }\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        if (args.requestType === 'filterchoicerequest') {\n            var filterElement = getValue('filterModel.dlg', args);\n            if (filterElement) {\n                filterElement.style.display = 'none';\n            }\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var _a;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                if (isEmptyObject(this.currentEditRow) && args['column'] && args['column'].edit && args['column'].field === this.parent.taskFields.resourceInfo) {\n                    var field = this.parent.taskFields.resourceInfo;\n                    this.currentEditRow = (_a = {}, _a[field] = data['resources'], _a);\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id]) &&\n                        ((_this.parent.viewType === 'ResourceView' &&\n                            data['ganttProperties'].rowUniqueID === _this.parent.currentSelection.rowUniqueID) ||\n                            _this.parent.viewType !== 'ResourceView')) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        if (getValue('requestType', args) === 'refresh') {\n            this.parent.initiateEditAction(false);\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                if (column.type === 'checkbox') {\n                    this_2.parent.selectionSettings.type = 'Multiple';\n                }\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showWeekend\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"timeline\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.tagRegex = /<\\/?(\\w+)([^>]*?)(\\/?)>/g;\n        _this.attributeRegex = /([\\w-]+)\\s*=\\s*\"([^\"]*)\"/g;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                    labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                    labelString = labelString === 'isCustomTemplate' ? tempDiv.innerHTML : labelString;\n                    if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                        labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    }\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0] && this.parent.disableHtmlEncode) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (data.ganttProperties.sharedTaskUniqueIds && data.ganttProperties.sharedTaskUniqueIds.length > 1) {\n            this.parent.editModule['updateSharedTask'](data);\n        }\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (segmentEndDate < startDate) {\n                    segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                }\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=\"' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;\">' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                    labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                    labelString = labelString === 'isCustomTemplate' ? div.innerHTML : labelString;\n                    if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                        labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    }\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' + 'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0] && this.parent.disableHtmlEncode) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        var tbody = table.querySelector('tbody');\n        if (!tbody) {\n            tbody = document.createElement('tbody');\n            table.appendChild(tbody);\n        }\n        var tableRow = document.createElement('tr');\n        tableRow.classList.add(this.getRowClassName(this.templateData), cls.chartRow);\n        if (activecls) {\n            tableRow.classList.add(activecls);\n        }\n        tableRow.style.display = this.getExpandDisplayProp(this.templateData);\n        tableRow.style.height = this.parent.rowHeight + \"px\";\n        var tableCell = document.createElement('td');\n        if (className) {\n            tableCell.classList.add(cls.chartRowCell, className);\n        }\n        else {\n            tableCell.classList.add(cls.chartRowCell);\n        }\n        tableCell.style.width = this.parent.timelineModule.totalTimelineWidth + \"px\";\n        tableRow.appendChild(tableCell);\n        tbody.appendChild(tableRow);\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = document.createElement('div');\n        var elements = this.parseTemplate(template);\n        elements.forEach(function (element) { return div.appendChild(element); });\n        return div.childNodes;\n    };\n    // Parses the HTML string into an array of HTMLElement objects.\n    ChartRows.prototype.parseTemplate = function (htmlString) {\n        var _this = this;\n        var elementTree = this.parseHtmlStringToElementTree(htmlString);\n        return elementTree.map(function (element) { return _this.constructElementFromNode(element); });\n    };\n    // Parses the HTML string into a tree of elements using a regular expression.\n    ChartRows.prototype.parseHtmlStringToElementTree = function (html) {\n        var result = [];\n        var stack = [];\n        var match;\n        var lastIndex = 0;\n        /* eslint-disable-next-line */\n        while ((match = this.tagRegex.exec(html)) !== null) {\n            var fullMatch = match[0], tagName = match[1], _a = match[2], attributeString = _a === void 0 ? '' : _a;\n            var innerText = html.substring(lastIndex, match.index).trim();\n            lastIndex = this.tagRegex.lastIndex;\n            var element = { tagName: tagName, attributes: attributeString, children: [] };\n            if (fullMatch.startsWith('</')) {\n                if (stack.length > 0 && innerText) {\n                    stack[stack.length - 1].value = innerText;\n                }\n                stack.pop();\n            }\n            else {\n                if (!fullMatch.endsWith('/>')) {\n                    if (stack.length > 0) {\n                        stack[stack.length - 1].children.push(element);\n                    }\n                    else {\n                        result.push(element);\n                    }\n                    stack.push(element);\n                }\n            }\n        }\n        return result;\n    };\n    // Constructs an HTMLElement from the given node object by setting its attributes and recursively adding children.\n    ChartRows.prototype.constructElementFromNode = function (node) {\n        var _this = this;\n        var element = document.createElement(node.tagName);\n        if (node.value) {\n            element.textContent = node.value;\n        }\n        this.setAttributes(element, node.attributes);\n        node.children.forEach(function (childNode) {\n            var childElement = _this.constructElementFromNode(childNode);\n            element.appendChild(childElement);\n        });\n        return element;\n    };\n    // Sets the attributes of an element based on the parsed attribute string.\n    ChartRows.prototype.setAttributes = function (element, attributesString) {\n        var match;\n        function fixStyleQuotes(htmlString) {\n            return htmlString.replace(/style=([^\"'\\s][^ >]*)/g, 'style=\"$1\"');\n        }\n        attributesString = fixStyleQuotes(attributesString);\n        /* eslint-disable-next-line */\n        while ((match = this.attributeRegex.exec(attributesString)) !== null) {\n            var key = match[1], value = match[2];\n            if (key === 'class') {\n                element.className = value;\n            }\n            else if (key === 'style') {\n                element.style.cssText = this.cleanStyleString(value);\n            }\n            else {\n                element.setAttribute(key, value);\n            }\n        }\n    };\n    // Cleans and formats the style string to ensure proper CSS syntax.\n    ChartRows.prototype.cleanStyleString = function (style) {\n        return style.split(';').map(function (s) { return s.trim(); }).filter(Boolean).join('; ');\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('aria-rowindex', (index + 1).toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('aria-rowindex'), 10) - 1);\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n            tRow.setAttribute('aria-rowindex', (data['index'] + 1).toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data_1 = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data_1.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data_1.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data_1.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data_1));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                    if (this.parent.enableMultiTaskbar && data_1.parentItem) {\n                        var parentID = data_1.parentItem.taskId;\n                        var parentData = this.parent.getRecordByID(parentID);\n                        if (!parentData.expanded) {\n                            var parentTr = this.parent.getRowByID(parentID);\n                            parentTr.replaceChild(this.getGanttChartRow(Number(parentID), parentData).childNodes[0], parentTr.childNodes[0]);\n                        }\n                    }\n                }\n            }\n            this.parent.renderTemplates();\n            if (this.parent.showOverAllocation &&\n                this.parent.allowTaskbarOverlap &&\n                (data_1.hasChildRecords || (data_1.parentItem && this.parent.editedRecords.every(function (record) {\n                    return record.ganttProperties.taskId.toString() !== data_1.parentItem.taskId.toString();\n                })))) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    var targetData = data_1.hasChildRecords ? data_1 : this.parent.getRecordByID(data_1.parentItem.taskId);\n                    this.parent.dataOperation.updateOverlappingValues(targetData);\n                    this.parent.ganttChartModule.renderRangeContainer([targetData]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data_1.ganttProperties.segments) && data_1.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data_1);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data_1);\n                if (this.parent.enableMultiTaskbar && data_1.parentItem && this.parent.queryTaskbarInfo &&\n                    !(this.parent.getParentTask(data_1.parentItem).expanded)) {\n                    // Retrieve the parent item index:\n                    var parentIndex = data_1.parentItem.index;\n                    var parentTask = void 0;\n                    if (isUndoRedo) {\n                        parentTask = this.parent.previousFlatData[parentIndex];\n                    }\n                    else {\n                        parentTask = this.parent.currentViewData[parentIndex];\n                    }\n                    // Trigger taskbar info query for the parent element:\n                    this.triggerQueryTaskbarInfoByIndex(this.ganttChartTableBody.querySelectorAll('tr')[parentIndex], parentTask);\n                }\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data_1.ganttProperties.taskId : data_1.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data_1);\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data_1.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data_1);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[parseInt(tr.getAttribute('aria-rowindex'), 10) - 1].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data_1;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        for (var _i = 0, predecessorTasks_1 = predecessorTasks; _i < predecessorTasks_1.length; _i++) {\n            var ganttData = predecessorTasks_1[_i];\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttData.ganttProperties);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.connectorLineModule.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    // Get the root parent of the record\n    Dependency.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    Dependency.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (toData && fromData) {\n                    isValid = _this.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule\n                            && _this.parent.editModule.cellEditModule && _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection, flatDataCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                successorGanttRecord = flatDataCollection.get(connector.from);\n            }\n            else {\n                successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            }\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = flatData.length;\n        if (isNullOrUndefined(flatDataCollection)) {\n            flatDataCollection = new Map();\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        for (var count = 0; count < totLength; count++) {\n            var currentTask = flatData[count];\n            var properties = currentTask.ganttProperties;\n            if (properties.predecessorsName) {\n                this.validatePredecessorDates(currentTask, flatDataCollection);\n                var predecessorCollection = properties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var _a = 0, predecessorCollection_1 = predecessorCollection; _a < predecessorCollection_1.length; _a++) {\n                        var predecessor = predecessorCollection_1[_a];\n                        var validateRecord = void 0;\n                        if (this.parent.viewType === 'ProjectView') {\n                            validateRecord = flatDataCollection.get(predecessor.to);\n                        }\n                        else {\n                            validateRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                        }\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord, flatDataCollection);\n                        }\n                    }\n                }\n                if (currentTask.hasChildRecords && properties.startDate && this.parent.allowParentDependency) {\n                    this.updateChildItems(currentTask);\n                }\n                if (currentTask.parentItem) {\n                    var recordId = currentTask.parentItem.taskId;\n                    var parentRecord = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        parentRecord = flatDataCollection.get(recordId);\n                    }\n                    else {\n                        parentRecord = this.parent.getRecordByID(recordId);\n                    }\n                    if (parentRecord) {\n                        this.traverseParents(parentRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item, flatDataCollection);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    record = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record, flatDataCollection);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor, flatDataCollection);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        var _this = this;\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    childGanttRecord = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        var pdfExportModule = this.parent.pdfExportModule;\n        var isPdfExport = pdfExportModule && pdfExportModule.isPdfExport;\n        if (isPdfExport) {\n            var exportProps = pdfExportModule.helper && pdfExportModule.helper.exportProps;\n            var fitToWidthSettings = exportProps && exportProps.fitToWidthSettings;\n            if (exportProps && fitToWidthSettings && fitToWidthSettings.isFitToWidth) {\n                var exportType = exportProps.exportType;\n                var beforeSinglePageExport = pdfExportModule.helper.beforeSinglePageExport;\n                ganttRecords = (exportType === 'CurrentViewData') ?\n                    beforeSinglePageExport['cloneCurrentViewData'] :\n                    beforeSinglePageExport['cloneFlatData'];\n            }\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        var flatData = this.parent.flatData;\n        var flatDataCollection = isPdfExport ? null : new Map();\n        if (!isPdfExport && !isNullOrUndefined(flatData)) {\n            for (var _i = 0, flatData_2 = flatData; _i < flatData_2.length; _i++) {\n                var record = flatData_2[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        var chartRows = this.parent.ganttChartModule.getChartRows();\n        var rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                var parentRecord = ganttRecords[count].parentItem;\n                if (parentRecord) {\n                    var parentItem = !isNullOrUndefined(flatDataCollection) ?\n                        flatDataCollection.get(parentRecord.taskId.toString()) : this.parent.getRecordByID(parentRecord.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection, flatDataCollection, rowHeight);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection, flatDataCollection, rowHeight) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                if (predecessor[from] === predecessor[to]) {\n                    break;\n                }\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor[from]);\n                    childGanttRecord = flatDataCollection.get(predecessor[to]);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                }\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @param {number} rowHeight .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            if (rowHeight === 0) {\n                var chartRows = this.parent.ganttChartModule.getChartRows();\n                connectorObj.rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n            }\n            else {\n                connectorObj.rowHeight = rowHeight;\n            }\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine;\n        var ariaConnector = [];\n        this.svgObject.innerHTML = '';\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            this.svgObject.appendChild(connectorLine);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function () {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n        else {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    ConnectorLine.prototype.shouldAdjustForBaseline = function (data, type) {\n        if (!this.parent.renderBaseline || !(data.milestoneParent || data.milestoneChild) ||\n            (data.milestoneParent && data.milestoneChild)) {\n            return 0;\n        }\n        switch (type) {\n            case 'FSType1':\n            case 'FSType2':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType3':\n            case 'FFType2':\n            case 'SFType2':\n            case 'SSType2':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType4':\n            case 'FFType3':\n            case 'SFType4':\n            case 'FFType4':\n            case 'SFType3':\n            case 'SFType1':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType3':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType1':\n            case 'FFType1':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n            default:\n                return 0;\n        }\n    };\n    // Method to fetch the row element height from top row to the parent row index, child row index , last row index\n    ConnectorLine.prototype.updateParentChildRowsHeight = function (data) {\n        var lastRowIndex = this.parent.currentViewData.length - 1;\n        var rowElements = this.parent.ganttChartModule.getChartRows();\n        this.parentRowIndexHeight = data.parentIndexInCurrentView * data.rowHeight;\n        this.childRowIndexHeight = data.childIndexInCurrentView * data.rowHeight;\n        this.lastRowIndexHeight = lastRowIndex * data.rowHeight;\n        var totalDisplayedRows = 0;\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            this.parentRowIndexHeight = this.childRowIndexHeight = this.lastRowIndexHeight = 0;\n            for (var i = 0; i < lastRowIndex; i++) {\n                var rowElement = rowElements[i];\n                if (rowElement && rowElement.style.display !== 'none') {\n                    if (totalDisplayedRows < data.parentIndexInCurrentView) {\n                        this.parentRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    if (totalDisplayedRows < data.childIndexInCurrentView) {\n                        this.childRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    this.lastRowIndexHeight += rowElements[i]['offsetHeight'];\n                    totalDisplayedRows++;\n                }\n            }\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        this.updateParentChildRowsHeight(data);\n        var height = this.getHeightValue();\n        var isMilestone = data.milestoneChild ? true : false;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = connectorLine.height;\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n                rowPositionHeight += addTop;\n            }\n        }\n        var predType = this.getParentPosition(data);\n        if (predType) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.style.stroke = outlineColor;\n            this.arrowlinePath.style.fill = outlineColor;\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            var adjustedValue = this.shouldAdjustForBaseline(data, predType);\n            if (predType === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1 - adjustedValue) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1 - adjustedValue) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = rowPositionHeight;\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1;\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke) - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke - adjustedValue) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType4') {\n                this.point1 = rowPositionHeight;\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = (!data.milestoneChild ? (this.parent.chartRowsModule.milestoneMarginTop +\n                    (this.parent.chartRowsModule.milestoneHeight / 2)) :\n                    (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2) + ' L ' + (this.x1 + 10) + ' ' + (this.y2);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = rowPositionHeight;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + this.point1;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3) - adjustedValue) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3) - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x3 + this.point1) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n        var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n        var isParentIndex = data.parentIndexInCurrentView !== -1;\n        var isChildIndex = data.childIndexInCurrentView !== -1;\n        if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPointParent : (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n            type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        else if (type === 'FSType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var _this = this;\n        var tbody = document.createElement('tbody');\n        var createRow = function (id, label, taskName, predecessorText) {\n            var tr = document.createElement('tr');\n            tr.id = id;\n            var td1 = document.createElement('td');\n            td1.style.padding = '2px';\n            td1.textContent = _this.parent.localeObj.getConstant(label);\n            var td2 = document.createElement('td');\n            td2.textContent = taskName;\n            var td3 = document.createElement('td');\n            td3.style.padding = '2px';\n            td3.textContent = _this.parent.localeObj.getConstant(predecessorText);\n            tr.append(td1, td2, td3);\n            return tr;\n        };\n        tbody.appendChild(createRow('fromPredecessor', 'from', fromTaskName, fromPredecessorText));\n        tbody.appendChild(createRow('toPredecessor', 'to', toTaskName || '', toPredecessorText || ''));\n        return tbody;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else if (this.parent.viewType === 'ResourceView') {\n            return this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())];\n        }\n        else {\n            return this.parent.getRecordByID(id);\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                var tierValue = args.target.getAttribute('data-tier');\n                var title = args.target.title;\n                var innerContent = !isNullOrUndefined(parent.timelineTemplate) ? args.target.getAttribute('value') :\n                    args.target.textContent;\n                var templateContext = {\n                    date: title,\n                    value: innerContent,\n                    tier: tierValue\n                };\n                var timelineTemplateNode = parent.tooltipSettings.timeline ? parent.tooltipModule.templateCompiler(parent.tooltipSettings.timeline, parent, extend({}, templateContext), 'TooltipTaskbarTemplate') : null;\n                var tooltipTemplate = document.createElement('div');\n                if (timelineTemplateNode) {\n                    append(timelineTemplateNode, tooltipTemplate);\n                    argsData.content = this.toolTipObj.content = tooltipTemplate;\n                }\n                else {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td class=' + cls.templatePadding + '>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td class=' + cls.templatePadding + '>:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.isFromKeyboardAction = false;\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'escape':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = parseInt(ganttRow[0].getAttribute('aria-rowindex'), 10) - 1;\n                        var lastRowIndex = parseInt(ganttRow[ganttRow.length - 1].getAttribute('aria-rowindex'), 10) - 1;\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                this.isFromKeyboardAction = true;\n                ganttObj.expandByIndex(selectedRowIndex_1);\n                this.isFromKeyboardAction = false;\n            }\n            else {\n                this.isFromKeyboardAction = true;\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n                this.isFromKeyboardAction = false;\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            escape: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                    if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                        this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                        for (var i = 0; i < this.singleTier; i++) {\n                            this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                        }\n                    }\n                    if (this.singleTier === 0) {\n                        this.singleTier = 2;\n                    }\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader && this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        var flatData = this.flatData;\n        var flatDataCollection = new Map();\n        if (flatData != null) {\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor(flatDataCollection);\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors(flatDataCollection);\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor(flatDataCollection);\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n            this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if ((e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) ||\n            (e.target && e.action === 'escape' && this.treeGrid.grid.columnMenuModule &&\n                this.treeGrid.grid.columnMenuModule['columnMenu'].element.style.display === 'block')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.isLoad = true;\n                    if (this.isReact) {\n                        this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n                    }\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    this.isLoad = false;\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n        this.dataOperation['uid'] = null;\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        while (containerDiv.firstChild) {\n            this.chartVerticalLineContainer.appendChild(containerDiv.firstChild);\n        }\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!getValue('cancel', args)) {\n            if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                this.showMaskRow();\n            }\n            else {\n                this.showSpinner();\n            }\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n            }\n            if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n            }\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.removePredecessor(ganttRecord);\n            }\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n            }\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            var isFromKeyboardAction = this.focusModule['isFromKeyboardAction'];\n            rowIndex = isFromKeyboardAction ? getValue('rowIndex', chartRow) : index;\n            record = isFromKeyboardAction ? this.currentViewData[rowIndex] : this.flatData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work || field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs, args['previousData']);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {Date} previousValue .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args, previousValue) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 || (previousValue &&\n                currentValue.toTimeString().slice(0, 5) === previousValue.toTimeString().slice(0, 5))) && dayEndTime !== 86400) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowConnectorPoints = false;\n                    addClass([element], [cls.collapseMultiTaskBar]);\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', ''));\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('aria-rowindex') - 1 !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(target.getAttribute('aria-rowindex'), 10) - 1;\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('aria-rowindex'), 10) - 1).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1;\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('aria-rowindex'), 10) - 1);\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (arg.cancel === false) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                        _this.parent.showMaskRow();\n                    }\n                    else if (_this.parent.showIndicator) {\n                        _this.parent.showSpinner();\n                    }\n                    _this.taskBarEditingAction(event, false);\n                }\n                else {\n                    _this.editTooltip.updateTooltip(_this.segmentIndex);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        var totalWidth = 0;\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n            totalWidth = item.segments.reduce(function (width, segment) {\n                return width + segment.width;\n            }, 0);\n            totalTaskWidth = totalWidth;\n        }\n        if (progressWidth > totalTaskWidth) {\n            progressWidth = totalTaskWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var taskSettings = this.parent.taskFields;\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        /* eslint-disable-next-line */\n        this.taskBarEditRecord[taskSettings.segments][this.segmentIndex] = this.parent.dataOperation['setSegmentTaskData'](segment, this.taskBarEditRecord[taskSettings.segments][this.segmentIndex]);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        var calculatedDate = new Date(pStartDate); // Renamed from tempStartDate\n        // while dragging to get date without weekends\n        if (!this.parent.timelineSettings.showWeekend) {\n            calculatedDate = this.parent.timelineModule.calculateDateExcludingNonWorkingDays(left, pStartDate);\n            pStartDate = calculatedDate;\n        }\n        else {\n            calculatedDate.setTime(calculatedDate.getTime() + (left * milliSecondsPerPixel));\n        }\n        if (this.parent.isInDst(calculatedDate)) {\n            pStartDate.setTime(pStartDate.getTime() + ((left - (this.parent.perDayWidth / 24)) * milliSecondsPerPixel));\n        }\n        else {\n            if (!this.parent.timelineSettings.showWeekend) {\n                pStartDate = calculatedDate;\n            }\n            else {\n                pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n            }\n        }\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar) && !isNullOrUndefined(traceParentProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.leftValue = 0;\n        this.previousLeftValue = 0;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if ((this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') && this.dragMoveY > 0 &&\n            ((this.parent.viewType === 'ResourceView' && !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = Array.from(this.parent.ganttChartModule.getChartRows()).indexOf(row);\n                    droppedRecord = flatRecordCol[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i--) {\n                            var segment_5 = __assign({}, segments[i]);\n                            if (!isNullOrUndefined(segment_5)) {\n                                var eDate_1 = new Date(segment_5.endDate);\n                                eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                                segment_5.endDate = eDate_1;\n                                segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                            }\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n        this.parent.dataOperation['isDurationValueUpdated'] = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!arg.cancel) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                            else {\n                                _this.parent['triggeredColumnName'] = '';\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                        else {\n                            _this.parent['triggeredColumnName'] = '';\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) ||\n                        this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                    this.dialogEditValidationFlag = false;\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            var editorChild = Array.from(div.children).find(function (child) { return child.classList.contains('e-richtexteditor'); });\n            if (editorChild) {\n                inputElement = editorChild;\n            }\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'startDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'endDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'duration');\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'work');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'manual');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var _this = this;\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        selectedItems.forEach(function (item) {\n            if (item[_this.parent.resourceFields.unit] === null) {\n                item[_this.parent.resourceFields.unit] = 0;\n            }\n        });\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {DocumentFragment} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idSet = new Set();\n        var lineFragment = document.createDocumentFragment();\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (!predecessorsCollection) {\n                continue;\n            }\n            for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                var predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                var connectorLineId = 'parent' + predecessor[from] + 'child' + predecessor[to];\n                this.parent.connectorLineModule.removeConnectorLineById(connectorLineId);\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                if ((!this.parent.allowParentDependency && ((parentGanttRecord && parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.expanded))) ||\n                    (this.parent.allowParentDependency && (parentGanttRecord || childGanttRecord))) {\n                    connectorObj = this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                    if (!isNullOrUndefined(connectorObj) && !idSet.has(connectorObj.connectorLineId)) {\n                        var lineElement = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                        idSet.add(connectorObj.connectorLineId);\n                        lineFragment.appendChild(lineElement);\n                    }\n                }\n            }\n        }\n        return lineFragment;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorElement = this.getEditedConnectorLineString(editedRecord);\n        if (editedConnectorElement) {\n            this.parent.connectorLineModule.svgObject.appendChild(editedConnectorElement);\n        }\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && (preArray[j].includes('days') || preArray[j].includes('day'))) {\n                    var splitName = preArray[j].split(/-(?=\\d)/);\n                    if (splitName.length > 0) {\n                        predecessorName = splitName[splitName.length - 1];\n                    }\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS - 1);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.parent.predecessorModule.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                if (_this.parent.viewType === 'ResourceView') {\n                                    _this.validatedOffsetIds.push(element.to);\n                                    _this.calculateOffset(_this.parent.getRecordByID((_this.parent.taskIds.indexOf('T' + element.to)).toString()), true);\n                                }\n                                else {\n                                    _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (validPredecessor_1.length === 0) {\n                    this.cumulativePredecessorChanges = [];\n                }\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        this.parent.treeGridModule.currentEditRow = {};\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if (tasks.startDate === key || tasks.endDate === key || tasks.duration === key) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                var ganttProps = ganttData.ganttProperties;\n                var isDurationKey = tasks.duration === key;\n                if (isFromDialog) {\n                    if (isDurationKey) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttProps);\n                        if (ganttProps.duration > 0 && ganttProps.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttProps, true);\n                        }\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttProps.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = this.parent.editModule.dialogModule['isFromEditDialog'] ? ganttData.ganttProperties.endDate : data[tasks.endDate];\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttProps, true);\n                        if (ganttData[tasks.startDate] && !(ganttData[tasks.startDate] instanceof Date)) {\n                            ganttData[tasks.startDate] = new Date(ganttData[tasks.startDate]);\n                        }\n                        if (ganttData[tasks.endDate] && !(ganttData[tasks.endDate] instanceof Date)) {\n                            ganttData[tasks.endDate] = new Date(ganttData[tasks.endDate]);\n                        }\n                    }\n                    ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                switch (key) {\n                    case tasks.id:\n                        ganttPropKey = 'taskId';\n                        break;\n                    case tasks.name:\n                        ganttPropKey = 'taskName';\n                        break;\n                    case tasks.cssClass:\n                        ganttPropKey = 'cssClass';\n                        break;\n                    case tasks.milestone:\n                        ganttPropKey = 'isMilestone';\n                        if (!isNullOrUndefined(tasks.duration)) {\n                            var ganttProp = ganttData.ganttProperties;\n                            var durationValue = data[tasks.duration];\n                            if (value) {\n                                durationValue = 0;\n                            }\n                            else {\n                                durationValue = durationValue <= 0 ? 1 : durationValue;\n                            }\n                            ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                            ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                            ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                        }\n                        break;\n                    case tasks.segments:\n                        if (ganttData.ganttProperties.segments) {\n                            ganttPropKey = 'segments';\n                            /* eslint-disable-next-line */\n                            if (data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0\n                                && data['ganttProperties'] && data['ganttProperties'].segments) {\n                                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                                    ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                                }\n                                var totDuration = ganttData.ganttProperties.segments.reduce(function (acc, segment) { return acc + segment.duration; }, 0);\n                                var sdate = ganttData.ganttProperties.startDate;\n                                /* eslint-disable-next-line */\n                                var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                                ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                            }\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][tasks.startDate]) {\n                                segment['startDate'] = value[i][tasks.startDate];\n                            }\n                            if (value[i][tasks.endDate]) {\n                                segment['endDate'] = value[i][tasks.endDate];\n                            }\n                            if (value[i][tasks.duration]) {\n                                segment['duration'] = parseFloat(value[i][tasks.duration]);\n                            }\n                            if (value[i][tasks.id]) {\n                                segment['id'] = value[i][tasks.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    var ganttProps = ganttData.ganttProperties;\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttProps.baselineStartDate, ganttProps), ganttProps, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProps.baselineEndDate);\n                    if (ganttProps.baselineEndDate && ganttProps.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttProps.baselineEndDate);\n                    }\n                    if ((ganttProps.baselineStartDate && ganttProps.baselineEndDate &&\n                        (ganttProps.baselineStartDate.getTime() > ganttProps.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttProps.baselineStartDate) &&\n                            !isNullOrUndefined(ganttProps.startDate) &&\n                            (ganttProps.baselineStartDate.getTime() === ganttProps.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttProps.baselineEndDate) &&\n                                !isNullOrUndefined(ganttProps.endDate) &&\n                                (ganttProps.baselineEndDate.toLocaleDateString() ===\n                                    ganttProps.endDate.toLocaleDateString())) &&\n                            ganttProps.isMilestone)) {\n                        ganttProps.baselineEndDate = ganttProps.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttProps.baselineEndDate), ganttProps, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttProps), ganttProps, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttProps), ganttProps, true);\n                    if (ganttData[tasks.baselineStartDate] && !(ganttData[tasks.baselineStartDate] instanceof Date)) {\n                        ganttData[tasks.baselineStartDate] = new Date(ganttData[tasks.baselineStartDate]);\n                    }\n                    if (ganttData[tasks.baselineEndDate] && !(ganttData[tasks.baselineEndDate] instanceof Date)) {\n                        ganttData[tasks.baselineEndDate] = new Date(ganttData[tasks.baselineEndDate]);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && data['ganttProperties']\n                        && data['ganttProperties'].segments) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                var value = data[key];\n                ganttObj.setRecordValue('taskType', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue(key, value, ganttData);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var previousdata = this.parent.previousRecords;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (!isNullOrUndefined(previousdata[ganttProp.uniqueID]) &&\n                        !isNullOrUndefined(previousdata[ganttProp.uniqueID].ganttProperties) &&\n                        (previousdata[ganttProp.uniqueID].ganttProperties.resourceNames\n                            === null ||\n                            previousdata[ganttProp.uniqueID].ganttProperties.resourceNames === '')) {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId', 'predecessor'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, data, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments && !_this.parent.dataOperation['isDurationValueUpdated']) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            // Prevent currentviewdata index update action while allowTaskbarDragAndDrop is enabled- issue-942005\n            if (!this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule &&\n                this.parent.rowDragAndDropModule['dropPosition'] !== 'middleSegment') {\n                this.updateRowIndex();\n            }\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            if (!isNullOrUndefined(prevResource)) {\n                for (var i = 0; i < prevResource.length; i++) {\n                    var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                    if (prevResourceID === 'NaN') {\n                        prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                    }\n                    if (prevResourceID === resourceID) {\n                        recordIndex.push(i);\n                        break;\n                    }\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', this.parent.dataOperation['getGanttUid'](this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                if (!isNullOrUndefined(resourceParent)) {\n                    deleteRecords.push(resourceParent);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var _this = this;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                if (_this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var rec = void 0;\n                    if (_this.parent.viewType === 'ProjectView') {\n                        rec = _this.parent.getRecordByID(item.ganttProperties.taskId);\n                    }\n                    else {\n                        rec = _this.parent.flatData[_this.parent.taskIds.indexOf((item.hasChildRecords ? 'R' : 'T') + item.ganttProperties.taskId)];\n                    }\n                    rec.isDelete = true;\n                }\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n            if (parentItem.childRecords.length === 0 && parentItem.hasChildRecords) {\n                parentItem.hasChildRecords = false;\n            }\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!actionArg.cancel) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                ((!(this.filterMenuElement.contains(element)) && !this.parent.enableAdaptiveUI) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top + window.scrollY;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            var topValue = Math.abs(parentNode.getBoundingClientRect().top);\n            parentNodeTop = topValue > window.scrollY ? topValue - window.scrollY : window.scrollY - topValue;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNode = this.parent.element.parentNode;\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var ulPos = ul.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            var updatedTopValue = liPos.top;\n            var isValid_1 = this.hasParentWithLeftSpacing(document.getElementsByClassName('e-gantt')[0]);\n            if (isValid_1) {\n                updatedTopValue = liPos.top - this.parent.element.getBoundingClientRect().top;\n            }\n            var updatedLeftValue = liPos.width + parseInt(li.parentElement.style.left, 10);\n            var updateTop = liPos.top > ulPos.top;\n            if (!updateTop) {\n                updatedTopValue = top;\n            }\n            var updateLeft = ulPos.left !== (liPos.left + liPos.width);\n            if (!(updateLeft && !isValid_1)) {\n                updatedLeftValue = left;\n            }\n            ul.style.top = updatedTopValue + window.scrollY + 'px';\n            ul.style.left = updatedLeftValue + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.hasParentWithLeftSpacing = function (element) {\n        var current = element.parentElement;\n        while (current) {\n            var style = window.getComputedStyle(current);\n            var marginLeft = parseFloat(style.marginLeft);\n            var paddingLeft = parseFloat(style.paddingLeft);\n            if (paddingLeft > 0 || marginLeft > 0) {\n                var currentSibling = false;\n                if (current.previousElementSibling && parseInt(current.previousElementSibling['style'].width, 10) > 0) {\n                    currentSibling = true;\n                }\n                return currentSibling;\n            }\n            current = current.parentElement;\n        }\n        return false;\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            if (targetElement) {\n                element.style.zIndex = targetElement.parentElement.style.zIndex;\n                if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                    this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n                }\n                else {\n                    this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n                }\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        element.style.display = 'block';\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('aria-rowindex'), 10) - 1;\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && ((this.selectedRowIndexes.length === 0 && this.parent.selectionSettings.mode === 'Row') ||\n                (this.getCellSelectedRecords().length === 0 && this.parent.selectionSettings.mode === 'Cell'))) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                (e.target.parentElement &&\n                    e.target.parentElement.classList.contains('e-checkbox-wrapper')) || // Checkbox class\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        var currentItem = item ? extend(item, item, itemObject) : itemObject;\n        if (!currentItem.align) {\n            currentItem.align = this.parent.isAdaptive ? 'Right' : 'Left';\n        }\n        return currentItem;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (arg.item['properties'].id === _this.parent.element.id + '_pdfexport' || arg.item['properties'].id === _this.parent.element.id + '_critical-path') {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                }\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        var _this = this;\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            var holidayElements = this.getHolidaysElement().childNodes;\n            this.holidayContainer.innerHTML = '';\n            holidayElements.forEach(function (element) {\n                _this.holidayContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        var _this = this;\n        if (this.parent.highlightWeekends && this.parent.timelineSettings.showWeekend) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            var weekendElements = this.getWeekendElements().childNodes;\n            this.weekendContainer.innerHTML = '';\n            weekendElements.forEach(function (element) {\n                _this.weekendContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        var hasDST = this.parent.dataOperation.hasDSTTransition(startDate.getFullYear());\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                if (!hasDST) {\n                    var sDate = new Date(startDate);\n                    var dubDate = new Date(startDate);\n                    sDate.setDate(sDate.getDate() + 1);\n                    var sDateOffset = sDate.getTimezoneOffset();\n                    var dubDateOffset = dubDate.getTimezoneOffset();\n                    if (!isFirstExecution) {\n                        var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                            (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                            (this.parent.timelineModule.topTier === 'Hour' &&\n                                this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                                this.parent.timelineModule.bottomTier === 'Minutes' &&\n                                (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                    this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                        if (!this.weekendWidthUpdated) {\n                            if (isHourTimeline && sDateOffset < dubDateOffset) {\n                                width = width - (this.parent.perDayWidth / 24);\n                                this.weekendWidthUpdated = true;\n                            }\n                        }\n                    }\n                    else {\n                        isFirstExecution = false;\n                    }\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData && fromTaskIdIndex !== -1) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    var data = [];\n                    data.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                    this.slackCalculation(data, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate && record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction'], i > 0 ? true : false);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        if (this.parent.viewType === 'ResourceView' && this.rowData.parentItem\n                            && data[this.parent.taskFields.resourceInfo]) {\n                            var parentItem_1 = this.parent.getParentTask(this.rowData.parentItem);\n                            var resourceFieldId_1 = this.parent.resourceFields.id;\n                            var taskResources = this.rowData.taskData[this.parent.taskFields.resourceInfo];\n                            var matchingResource = taskResources.find(function (resource) {\n                                return resource[resourceFieldId_1] === parentItem_1.ganttProperties.taskId;\n                            });\n                            data[this.parent.taskFields.resourceInfo] = matchingResource ? [matchingResource] : [];\n                        }\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        var duration = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                        data[taskfields.duration] = duration;\n                        this.parent.setRecordValue('duration', duration, this.rowData.ganttProperties, true);\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        this.parent.dataOperation.updateWorkWithDuration(this.rowData);\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = this.rowData.ganttProperties.work;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n                _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n            }\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (eventArgs.cancel === false) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    /**\n     * Calculates the date based on the clicked position on the Gantt chart's context menu.\n     *\n     * @param {HTMLElement} element - The HTML element used for determining the click position within the Gantt chart.\n     * @returns {Date} - Returns the calculated date based on the clicked position on the chart.\n     *\n     * The function determines the Gantt element's left position for both RTL and LTR layouts.\n     * It calculates the left position of the task and the click's position difference, adjusts the split task duration,\n     * and computes the final click date.\n     */\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        if (!this.parent.timelineSettings.showWeekend) {\n            var calculatedDate = new Date(this.rowData.ganttProperties.startDate);\n            var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n            var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n            if (!this.parent.timelineSettings.showWeekend) {\n                var totalDays = Math.floor(currentTaskDifference * milliSecondsPerPixel / milliSecondsPerDay);\n                var totalDaysPerWeek = 7;\n                var workingDaysPerWeek = totalDaysPerWeek - this.parent.nonWorkingDayIndex.length;\n                // Calculate the number of complete weeks between two dates\n                var fullWeeks = Math.floor(totalDays / workingDaysPerWeek);\n                var extraDays = totalDays % workingDaysPerWeek;\n                // Adjust calculatedDate by adding the full weeks\n                calculatedDate.setDate(calculatedDate.getDate() + fullWeeks * totalDaysPerWeek);\n                // Add remaining days, skipping non-working days\n                var daysAdded = 0;\n                while (daysAdded < extraDays) {\n                    calculatedDate.setDate(calculatedDate.getDate() + 1);\n                    if (this.parent.nonWorkingDayIndex.indexOf(calculatedDate.getDay()) === -1) {\n                        daysAdded++;\n                    }\n                }\n                var endDate = calculatedDate;\n                var durationBetweendays = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(new Date(this.rowData.ganttProperties.startDate), endDate);\n                splitTaskDuration += durationBetweendays;\n            }\n        }\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.ganttChartModule.getRecordByTarget(args['event']);\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.flatData[Number(rowIndex)].hasChildRecords ||\n                            (this.parent.flatData[Number(rowIndex)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!getValue('cancel', args)) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragElem = document.querySelector('.e-ganttdrag');\n        if (!dragElem) {\n            return;\n        }\n        var errorElemExists = !!dragElem.querySelector('.e-errorelem');\n        if (errorElemExists) {\n            return;\n        }\n        var errorContainer = document.createElement('div');\n        errorContainer.classList.add('e-errorcontainer', 'e-icons', 'e-errorelem');\n        var rowCell = dragElem.querySelector('.e-rowcell');\n        if (!rowCell) {\n            return;\n        }\n        var content = rowCell.childNodes;\n        var errorVal = rowCell.querySelector('.errorValue');\n        if (errorVal) {\n            content = errorVal.childNodes;\n            errorVal.remove(); // Use `remove()` for cleaner DOM manipulation.\n        }\n        rowCell.innerHTML = ''; // Sanitization: Uses innerHTML carefully, ensuring safe content is inserted.\n        var spanContent = document.createElement('span');\n        spanContent.className = 'errorValue';\n        spanContent.style.paddingLeft = '16px';\n        content.forEach(function (node) {\n            spanContent.appendChild(node.cloneNode(true)); // Clone cautiously to maintain structure integrity\n        });\n        rowCell.appendChild(errorContainer);\n        rowCell.appendChild(spanContent);\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('aria-rowindex'), 10) - 1 : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!args.cancel) {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.showMaskRow();\n                }\n                else {\n                    this.parent.showSpinner();\n                }\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.hideMaskRow();\n                }\n                else {\n                    this.parent.hideSpinner();\n                }\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.predecessorModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfDashStyle, PdfFontFamily, PdfPen, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n        this.ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.eventMarker.label.backgroundColor = new PdfColor(100, 253, 191);\n        ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n        ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n        ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n        ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(138, 109, 59);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(252, 248, 227);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(49, 122, 185));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(255, 193, 7);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 123, 255));\n                ganttStyle.holiday.backgroundColor = new PdfColor(233, 236, 239);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(202, 232, 255);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 90, 158);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 120, 214));\n                ganttStyle.holiday.backgroundColor = new PdfColor(244, 244, 244);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(253, 191, 100);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n        ganttStyle.eventMarker = {};\n        ganttStyle.eventMarker.label = {};\n        ganttStyle.eventMarker.lineStyle = new PdfPen(null);\n        ganttStyle.holiday = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.pageHeightCollection = [];\n        _this.headerHeight = 0;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                if (endColumn <= i) {\n                    cellWidths = this.treegrid.columns.getColumn(i).width;\n                }\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.updateCollection = function (currentPage, totalDetail, rowDetails, rowIndex, rowHeight, pageNumber, updatePage) {\n        if (currentPage != null) {\n            var currentPageNumber = pageNumber;\n            if (totalDetail.length > 0) {\n                currentPageNumber = totalDetail[totalDetail.length - 1].pageNumber;\n            }\n            rowDetails.push({\n                rowIndex: rowIndex,\n                height: rowHeight,\n                pageNumber: currentPageNumber + updatePage\n            });\n        }\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var totalHeight = 0;\n        var pageNumber = 0;\n        var totalDetail = [];\n        var rowDetails = [];\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    totalDetail.push({ height: totalHeight, pageNumber: pageNumber });\n                    pageNumber++;\n                    totalHeight = 0;\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                    this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 0);\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                        totalHeight = totalHeight + row.height;\n                        this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 1);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    else {\n                        var currentBoundsx = this.currentBounds.x;\n                        this.currentBounds.x = currentBoundsx;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                    this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 0);\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        totalDetail.push({ height: totalHeight, pageNumber: pageNumber });\n        var groupedHeights = {};\n        this.headerHeight = rowDetails[0].height;\n        rowDetails.forEach(function (row) {\n            if (!groupedHeights[row.pageNumber]) {\n                groupedHeights[row.pageNumber] = [];\n            }\n            groupedHeights[row.pageNumber].push(row.height);\n        });\n        var pageHeightSummary = Object.keys(groupedHeights).map(function (key) {\n            var pageNumber = parseInt(key, 10);\n            var heights = groupedHeights[pageNumber];\n            var totalHeight = heights.reduce(function (sum, h) { return sum + h; }, 0);\n            return {\n                pageNumber: pageNumber,\n                totalHeight: totalHeight\n            };\n        });\n        this.pageHeightCollection = pageHeightSummary;\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (!isNullOrUndefined(cell.value)) {\n                    if (column.isTreeColumn) {\n                        leftAdjustment = (row.level) * 10;\n                    }\n                    var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                    if (!cancelSpans) {\n                        for (var j = 1; j < cell.columnSpan; j++) {\n                            row.cells.getCell(i + j).isCellMergeContinue = true;\n                        }\n                    }\n                    var size = new SizeF(column.width, height);\n                    if (cell.columnSpan > 1) {\n                        size = new SizeF(cell.width, height);\n                        i += cell.columnSpan;\n                    }\n                    if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                        cell.style.format = column.format;\n                    }\n                    cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                    /* eslint-disable-next-line */\n                    if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    location_1.x += column.width;\n                    leftAdjustment = 0;\n                }\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x + leftAdjustment, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x + leftAdjustment, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment + (imageBounds.width ? imageBounds.width + 8 : 0)), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        var colFieldName = this.columns[this.parent.treeColumnIndex].field;\n        if (colFieldName === column.field) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection(this.flatData);\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = _this.findIndexUsingParent(_this.flatData, data.parentIndex);\n                predecessor.childIndex = _this.findIndexUsingParent(_this.flatData, data.childIndex);\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.findIndexUsingParent = function (expandedRecord, parentIndex) {\n        return expandedRecord.findIndex(function (data) { return data.index === parentIndex; });\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            var isManualParent = !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule);\n            var baseLeft = isManualParent ? ganttProp.left : ganttProp.autoLeft;\n            var baseWidth = isManualParent ? ganttProp.width : ganttProp.autoWidth;\n            taskbar.rightTaskLabel.left = baseLeft + baseWidth + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        if (row.cells.count === 0) {\n            row.cells.add();\n        }\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.spaceBetweenImageAndValue = 8;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth, currentPageIndex) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        var count = currentPageIndex;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            this.parent.pdfExportModule.gantt.currentPage = this.parent.pdfExportModule.gantt.currentPage + 1;\n            this.parent.pdfExportModule.gantt.eventMarker.renderHeight = this.parent.pdfExportModule.gantt.layouter.pageHeightCollection[this.parent.pdfExportModule.gantt.currentPage].totalHeight;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail, this.parent.pdfExportModule.gantt.currentPage);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = font;\n        if (!isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize) {\n            customizedFont = new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle);\n        }\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        taskLabelFontBrush = taskbar.labelSettings.taskLabel.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor)\n            : (ganttStyle && ganttStyle.label && ganttStyle.label.fontColor\n                ? new PdfSolidBrush(ganttStyle.label.fontColor)\n                : fontBrush);\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontBrush))) {\n            fontColor = new PdfPen(ganttStyle.label.fontBrush);\n        }\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n            || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n            !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n            taskLabelFont = this.getPdfFont(ganttStyle);\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format)) {\n            progressFormat = ganttStyle.label.format;\n        }\n        var taskLabelPadding = { left: 0, right: 0, top: 0, bottom: 0 };\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n            !isNullOrUndefined(ganttStyle.label.padding)) {\n            taskLabelPadding = ganttStyle.label.padding;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit() && taskbar.isAutoSchedule) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else if (taskbar.isAutoSchedule) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 - (taskLabelPadding.top + taskLabelPadding.bottom), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result.remainder)) {\n                                        this.remainString = result.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result.remainder)) {\n                                        this.remainString = result.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.image || template.value) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.image || template.value) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                }\n                if (this.isScheduledTask && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value) && taskbar.isAutoSchedule) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isLabelString && isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                        else if (!isNullOrUndefined(this.taskLabel) && !isLabelString) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.image || template.value) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 + 8 - (taskLabelPadding.top + taskLabelPadding.bottom), (this.autoWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                        else {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 + 8 - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(this.autoWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                        this.stringLeft = this.autoLeft;\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            var result = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, (startPoint.y + adjustHeight_1 + 10), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            if (!isNullOrUndefined(result.remainder)) {\n                                this.remainString = result.remainder;\n                                this.stringLeft = detail.endPoint;\n                                // this.rightTaskLabel.isLeftCalculated = true;\n                            }\n                        }\n                        else {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), (taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        if (isLabelString && isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                        else if (!isNullOrUndefined(this.taskLabel) && !isLabelString) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_1 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_1.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_2 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_2.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + (this.previousWidthofLeftImage ? this.previousWidthofLeftImage : 0);\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n            || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n            !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n            font = this.getPdfFont(ganttStyle);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, RectangleF, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.holidayWidth = 0;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.topTierValueLeftPadding = 8;\n        this.timelineHeight = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} pageIndex .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail, pageIndex) {\n        this.detailsTimeline = detail;\n        this.pageIndex = pageIndex;\n        this.timelineHeight = this.gantt.layouter.headerHeight;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail, pageIndex) {\n        this.pageIndex = pageIndex;\n        this.timelineHeight = 0;\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = this.initializePdfStringFormat(ganttStyle, isTopTier);\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var cellBackgroundColor = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        var isHoliday = false;\n        var holidayContainerColor = new PdfSolidBrush(ganttStyle.holiday.backgroundColor);\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            cellBackgroundColor = holidayContainerColor;\n            isHoliday = true;\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                cellBackgroundColor = holidayContainerColor;\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = pixelToPoint(day) / width;\n                    _this.holidayCompleted = true;\n                }\n                isHoliday = true;\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var timelineborder = isHoliday && ganttStyle.holiday && ganttStyle.holiday.borders\n            ? ganttStyle.holiday.borders.left\n            : isHoliday && ganttStyle.holiday && ganttStyle.holiday.borderColor\n                ? new PdfPen(ganttStyle.holiday.borderColor)\n                : new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        var adjustedWidth = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ? width - 2 : width;\n        // rectangle for timeline header\n        graphics.drawRectangle(timelineborder, cellBackgroundColor, x, y, adjustedWidth, pixelToPoint(height));\n        var rectPen = (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) ?\n            new PdfPen(ganttStyle.chartGridLineColor) : null;\n        var gridLineColor = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ?\n            timelineborder : rectPen;\n        // rectangle for chart side timeline\n        graphics.drawRectangle(gridLineColor, cellBackgroundColor, x, y + pixelToPoint(height), adjustedWidth, this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight);\n        var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font1 = ganttStyle.font;\n        }\n        var customizedFont = this.getPdfFont(ganttStyle);\n        if (!isNullOrUndefined(customizedFont)) {\n            font1 = customizedFont;\n        }\n        var fontColor = (ganttStyle.holiday && ganttStyle.holiday.fontColor) ?\n            new PdfSolidBrush(ganttStyle.holiday.fontColor) : new PdfSolidBrush(new PdfColor(0, 0, 0));\n        var fontBrush = (ganttStyle.holiday && ganttStyle.holiday.fontBrush) ?\n            new PdfPen(new PdfColor(ganttStyle.holiday.fontBrush)) : null;\n        var textFormat = new PdfStringFormat();\n        textFormat = (ganttStyle.holiday && ganttStyle.holiday.format) ? ganttStyle.holiday.format : null;\n        var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.holiday) &&\n            !isNullOrUndefined(ganttStyle.holiday.padding)) {\n            padding = ganttStyle.holiday.padding;\n        }\n        var strSize;\n        if (!isNullOrUndefined(this.holidayLabel)) {\n            strSize = font1.measureString(this.holidayLabel);\n        }\n        if (this.holidayCompleted) {\n            var renderHeight = ((this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight) / 2);\n            var state_1 = graphics.save();\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(renderHeight), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            if ((strSize.width + 10) < renderHeight) {\n                graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            }\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var renderHeight = ((this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight) / 2);\n            var holidayBrush = holidayContainerColor;\n            var fontSize = font1.size;\n            graphics.drawRectangle(gridLineColor, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, renderHeight * 2);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(renderHeight), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            if ((strSize.width + 10) < renderHeight) {\n                graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            }\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + this.topTierValueLeftPadding;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    /**\n     * Initializes and returns a PdfStringFormat based on the provided Gantt style and tier level.\n     *\n     * @param {IGanttStyle} ganttStyle - The style settings for the Gantt chart which include the timeline format.\n     * @param {boolean} isTopTier - A flag indicating whether the format is for the top tier of the timeline.\n     * @returns {PdfStringFormat} The initialized PdfStringFormat with appropriate line alignment, text alignment,\n     * and word wrap type, as determined by the ganttStyle and isTopTier flag.\n     */\n    PdfTimeline.prototype.initializePdfStringFormat = function (ganttStyle, isTopTier) {\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        return format;\n    };\n    PdfTimeline.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.holiday && (ganttStyle.holiday.fontSize || ganttStyle.holiday.fontStyle ||\n            ganttStyle.holiday.fontFamily)) {\n            var fontSize = ganttStyle.holiday.fontSize ? ganttStyle.holiday.fontSize : 9;\n            var fontFamily = ganttStyle.holiday.fontFamily ?\n                ganttStyle.holiday.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.holiday.fontStyle ?\n                ganttStyle.holiday.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","import { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        if (childTask && parentTask) {\n            switch (this.type) {\n                case 'FS':\n                    if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType1';\n                            }\n                            else {\n                                predecessorType = 'FSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType3';\n                            }\n                            else {\n                                predecessorType = 'FSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SF':\n                    if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType1';\n                            }\n                            else {\n                                predecessorType = 'SFType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType3';\n                            }\n                            else {\n                                predecessorType = 'SFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'FF':\n                    if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType1';\n                            }\n                            else {\n                                predecessorType = 'FFType2';\n                            }\n                        }\n                        else {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType3';\n                            }\n                            else {\n                                predecessorType = 'FFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SS':\n                    if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType1';\n                            }\n                            else {\n                                predecessorType = 'SSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType3';\n                            }\n                            else {\n                                predecessorType = 'SSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n            }\n            var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n            var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n            var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n            var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n                ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                    midPointManualparent : midPointforTaskbar;\n            midPoint = pixelToPoint(midPoint);\n            /* eslint-disable-next-line */\n            var point1 = void 0, point2 = void 0, point3 = void 0, point4 = void 0, point5 = void 0, point6 = void 0;\n            point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n            var parentTaskpoint = {\n                x: parentTask.taskStartPoint.x,\n                y: parentTask.taskStartPoint.y\n            };\n            var childTaskpoint = {\n                x: childTask.taskStartPoint.x,\n                y: childTask.taskStartPoint.y\n            };\n            parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n            childY = childTaskpoint.y + childPageData.startPoint.y;\n            var ffpoint1 = void 0;\n            var sspoint1 = void 0;\n            var ffpoint3 = void 0;\n            var ffpoint4 = void 0;\n            var sspoint4 = void 0;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            else {\n                ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            switch (predecessorType) {\n                case 'FSType1':\n                case 'FSType3':\n                    point1 = ffpoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = ffpoint3;\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FSType2':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, childY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), childY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FSType4':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, parentY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), parentY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FFType1':\n                case 'FFType3':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FFType2':\n                case 'FFType4':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType1':\n                case 'SSType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType2':\n                case 'SSType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType1':\n                case 'SFType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType2':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    point3 = new PointF(point2.x, childY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'SFType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    point3 = new PointF(point2.x, parentY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n            }\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = { x: endPoint.x, y: endPoint.y };\n        var newStartPoint = { x: endPoint.x, y: endPoint.y };\n        var checkStartPoint = { x: endPoint.x, y: endPoint.y };\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders } from './../export/pdf-base/pdf-borders';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.renderHeight = 0;\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight, ganttStyles) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = ganttStyles.eventMarker.lineStyle;\n        eventLine.dashStyle = ganttStyles.eventMarker.lineStyle.dashStyle;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var textFormat = !isNullOrUndefined(ganttStyles.eventMarker.label.format) ?\n                ganttStyles.eventMarker.label.format : enventFormat;\n            var eventBrush = new PdfSolidBrush(ganttStyles.eventMarker.label.backgroundColor);\n            var fontColor = (ganttStyles.eventMarker.label && ganttStyles.eventMarker.label.fontColor) ?\n                new PdfSolidBrush(ganttStyles.eventMarker.label.fontColor) : null;\n            var customizedFont = this.getPdfFont(ganttStyles);\n            if (isNullOrUndefined(customizedFont)) {\n                customizedFont = font;\n            }\n            var defaultBorder = ganttStyles.eventMarker.label.borders ? ganttStyles.eventMarker.label.borders : null;\n            if (ganttStyles.eventMarker.label.borderColor) {\n                var pdfborders = new PdfBorders();\n                pdfborders.all = new PdfPen(new PdfColor(ganttStyles.eventMarker.label.borderColor));\n                defaultBorder = pdfborders;\n            }\n            var border = (!isNullOrUndefined(defaultBorder) && !isNullOrUndefined(defaultBorder.left)) ? defaultBorder.left : null;\n            var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n            if (!isNullOrUndefined(ganttStyles) && !isNullOrUndefined(ganttStyles.eventMarker) &&\n                !isNullOrUndefined(ganttStyles.eventMarker.label) && !isNullOrUndefined(ganttStyles.eventMarker.label.padding)) {\n                padding = ganttStyles.eventMarker.label.padding;\n            }\n            var customizedFontBrush = !isNullOrUndefined(ganttStyles.eventMarker.label.fontBrush) ?\n                new PdfPen(ganttStyles.eventMarker.label.fontBrush) : null;\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, this.renderHeight));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    var renderBox = cumulativeHeight + pixelToPoint(50) + (strSize.height * 2);\n                    if (renderBox < this.renderHeight) {\n                        taskGraphics.save();\n                        taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                        taskGraphics.rotateTransform(45);\n                        taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(border, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                        taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x +\n                            (left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                    }\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, this.renderHeight));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    var renderBox = cumulativeHeight + pixelToPoint(50) + (strSize.height * 2);\n                    if (renderBox < this.renderHeight) {\n                        taskGraphics.save();\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                        taskGraphics.rotateTransform(45);\n                        taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(border, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                        taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                    }\n                }\n            }\n        }\n    };\n    EventMarker.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.eventMarker && ganttStyle.eventMarker.label &&\n            (ganttStyle.eventMarker.label.fontSize || ganttStyle.eventMarker.label.fontStyle ||\n                ganttStyle.eventMarker.label.fontFamily)) {\n            var fontSize = ganttStyle.eventMarker.label.fontSize ? ganttStyle.eventMarker.label.fontSize : 9;\n            var fontFamily = ganttStyle.eventMarker.label.fontFamily ?\n                ganttStyle.eventMarker.label.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.eventMarker.label.fontStyle ?\n                ganttStyle.eventMarker.label.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.currentPage = 0;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startHours = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        var currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateHoursWithoutNonworkingDays(currentDate, startHours, count);\n                            detail.startDate = new Date(currentDate.getTime());\n                        }\n                        else {\n                            detail.startDate.setHours(detail.startDate.getHours() + startHours * count);\n                            detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        }\n                        var endHours = Math.floor((detail.endPoint - detail.startPoint)\n                            / pointToPixel(this.chartHeader.bottomTierCellWidth));\n                        currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateHoursWithoutNonworkingDays(currentDate, endHours, count);\n                        }\n                        else {\n                            currentDate.setHours(currentDate.getHours() + endHours * count);\n                        }\n                        detail.endDate = new Date(currentDate.getTime());\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth));\n                        var currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateDaysWithoutNonworkingDays(currentDate, startDays, count);\n                        }\n                        else {\n                            detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        }\n                        var endDays = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) - 1;\n                        currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateDaysWithoutNonworkingDays(currentDate, endDays, count);\n                        }\n                        else {\n                            currentDate.setDate(currentDate.getDate() + endDays * count);\n                        }\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(currentDate.getTime());\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    /**\n     * Calculates the end date by adding the specified number of working hours to the current date,\n     * excluding any non-working days as specified in the nonWorkingDayIndex.\n     *\n     * @param {Date} currentDate - The starting date from which to begin adding working hours.\n     * @param {number} startHours - The number of hours to add to the current date.\n     * @param {number} count - A multiplier to apply to the startHours, typically representing a scaling factor.\n     * @returns {Date} - A new Date object representing the calculated date/time after working hours have been added.\n     *\n     */\n    PdfGantt.prototype.calculateHoursWithoutNonworkingDays = function (currentDate, startHours, count) {\n        var totalHours = 0;\n        while (totalHours < startHours * count) {\n            currentDate.setHours(currentDate.getHours() + 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDate.getDay()) === -1) {\n                totalHours++;\n            }\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDate.getDay()) !== -1) {\n                currentDate.setHours(24, 0, 0, 0);\n            }\n        }\n        return currentDate;\n    };\n    /**\n     * Calculates the end date by adding the specified number of working days to the current date,\n     * excluding any non-working days as defined in the nonWorkingDayIndex.\n     *\n     * @param {Date} currentDate - The starting date from which to begin adding working days.\n     * @param {number} daysToAdd - The number of days to add to the current date.\n     * @param {number} count - A multiplier applied to daysToAdd, typically representing the number of units.\n     * @returns {Date} - A new Date object representing the calculated date after working days have been added.\n     *\n     */\n    PdfGantt.prototype.calculateDaysWithoutNonworkingDays = function (currentDate, daysToAdd, count) {\n        var totalDays = 0;\n        var fullWeeks = Math.floor(daysToAdd * count / (7 - this.parent.nonWorkingDayIndex.length));\n        var remainingDays = daysToAdd * count % (7 - this.parent.nonWorkingDayIndex.length);\n        totalDays += fullWeeks * 7;\n        for (var i = 0; i < remainingDays; i++) {\n            currentDate.setDate(currentDate.getDate() + 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDate.getDay()) === -1) {\n                totalDays++;\n            }\n        }\n        currentDate.setDate(currentDate.getDate() + totalDays);\n        return currentDate;\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            _this.currentPage = 0;\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail, 0);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth, index);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.eventMarker.renderHeight = _this.layouter.pageHeightCollection[_this.currentPage].totalHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    if (_this.currentPage !== 0) {\n                        _this.eventMarker.renderHeight = _this.layouter.pageHeightCollection[_this.currentPage].totalHeight + timelimeHeight;\n                    }\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight, _this.ganttStyle);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        else {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.updatedRecords);\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isEmptyObject","getUniversalTime","date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","Date","UTC","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","validateAsMilestone","isLoad","currentDay","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","isDurationValueUpdated","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempDataArray","enableVirtualization","JSON","parse","stringify","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","getGanttUid","prefix","taskSettings","progress","notes","unModifiedData","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","fetchResources","ganttResources","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","isOnEdit","childCompletedWorks","taskType","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","startDate_1","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","test","hasDSTTransition","showWeekend","isOnHoliday","totalWorkingHoursPerDay","start","end","expectedEnd","hoursToAdd","fullDays","remainingHours","abs","totalDays","currentDate","calculateNonWorkingDaysBetweenDates","getDSTTransitions","findLastSunday","lastDayOfMonth","getUTCDate","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","baseOffset","mid","currentOffset","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","enableTimelineVirtualization","ganttChartModule","scrollObject","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","calculateLeftValue","newDate","setStartDate","startdate","nonWorkingDaysCount","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","weekEndCount","weekEndInMilliSecond","segmentStartdate","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","this_4","range","currSegment","cStartDate","cEndDate","tEndDate","rangeObj","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","isInSplit","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","systemTimeZone","resolvedOptions","parentTaskMap","flatData_1","lenth","shouldProcessUpdateWidth","Boolean","parentRecords","get","isLastChild","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_5","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","formattedEndDate","formattedStartDate","isChildBothAndScheduled","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","templatePadding","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","isZoomingAction","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","preventScrollIntoView","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getHierarchyChildRecords","hierarchyChildRecords","records_1","collectHierarchyChildren","accumulator","records_2","getRangeHeight","heightDifference","calculateCollapsedRowHeight","hierarchyChildLength","calculateHierarchyChildLength","calculateExpandedRowHeight","hierarchyChildDataLength","hierarchyChildRecords_1","topValue","rowIndex","enableMultiTaskbar","parentRecord","getRootParent","offsetTop","rowOffset","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","isAdaptive","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","tapTimeout_1","event","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","scrollIntoView","block","inline","cls.chartRow","__assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","applyDstHour","performedTimeSpanAction","dstIncreaseHour","fromDummyDate","increaseIteration","isFirstLoop","inconsistenceDstApplied","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","isReact","updateUndoRedo","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","getZoomLevel","updateToolbar","zoomingLevels","findIndex","tempLevel","newTimeline","timeline","changeTimelineSettings","previousTimeline","previousZoomingLevel","find","enableItems","controlId","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","nonWorkingDays","zoomingLevel","firstValue","secondValue","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","timelineUnitSize","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","calculateDateExcludingNonWorkingDays","isInDst","workingDaysPerWeek","fullWeeks","extraDays","calculatedDate","daysAdded","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dummyStartDate","dateString","formatDate","locale","updateHourInFormat","updatedFormat","isDateAffectedByDST","modifiedDate","offsetAfter","hoursBack","calculateIteration","dummystartDate","setMilliseconds","iterations","startMinute","formattedDate","newHour","hourMatch","hasHour","hourFormat","formatParts","dateParts","hourIndex","part","formattedHour","numStr","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","uniqueTimestamps","Set","WidthForVirtualTable","hasDST","loopEnd","isNonWorkingDayHeader","timelineCell","incrementsDone","calculatedIteration","getHeaterTemplateString","timestamp","has","incrementResult","getIncrement","dummyDateIncrement","tierCollection","weekendEndDate","calculateQuarterEndDate","tempCount","updateTimelineAfterZooming","resized","totWidth","contentWidth","splitterModule","splitterObject","splitterSettings","view","widthDiff","additionalDays","spanDays","startIndex","getTimelineRoundOffEndDate","dateIncrement","firstDay","lastDay","isDstEnd","dstDateCompate","startDateUTC","expectedYearDiff","endDateUTC","resetToNextYear","adjustForDST","expectedMonthDiff","resetToNextMonth","dayIntervel","expectedWeekDiff","nextDayMidnightUTC","resetToNextDay","expectedDayDiff","expectedHourDiff","resetToNextHour","dstDateCompare","resetToNextMinute","expectedMinuteDiff","now","expectedDiff","dstAdjustment","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","copyStartDate","orginalDate","enddate","cellWidth","isWeekendCell","textClassName","displayDate","isWeekend","firstElement","getTemplateID","HTMLElement","weekendClass","th","weekendBackground","title","showTooltip","textContent","append","startDay","completeWeekDays","remainingDays","additionalWorkingDays","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","taskBarEditAction","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsingNodeData","collapsedArgs","expandedArgs","filterElement","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","currentEditRow","initiateCellEdit","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","initiateEditAction","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","value_1","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","tagRegex","attributeRegex","taskBaselineTemplateNode","handleTouchMove","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","tbody","tableRow","getRowClassName","getExpandDisplayProp","tableCell","parentTaskbarTemplate","taskbarTemplate","parseTemplate","htmlString","parseHtmlStringToElementTree","constructElementFromNode","html","stack","lastIndex","exec","fullMatch","tagName","attributeString","substring","attributes","startsWith","pop","endsWith","setAttributes","childNode","attributesString","cleanStyleString","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","every","targetData","parentIndex","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks_1","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","parentUniqueID","validateParentPredecessor","fromRecord","toRecord","predecessorValue","offsetValue","predecessorText","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","flatDataCollection","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","properties","validatePredecessorDates","predecessorCollection_1","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","exportType","flatData_2","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","taskIdsForView","idAsString","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","shouldAdjustForBaseline","updateParentChildRowsHeight","lastRowIndex","rowElements","parentRowIndexHeight","childRowIndexHeight","lastRowIndexHeight","totalDisplayedRows","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","getPosition","rowPositionHeight","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","predType","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","stroke","adjustedValue","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","isMilestoneParent","midPointParent","midPoint","isParentIndex","isChildIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","createRow","td1","padding","td2","td3","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterElement","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","tierValue","templateContext","timelineTemplateNode","tooltipSettings","tooltipTemplate","getTooltipContent","taskbar","taskbarTemplateNode","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","cls.templatePadding","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","isFromKeyboardAction","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","keyConfig","home","saveRequest","escape","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","columnMenuModule","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","toTimeString","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","editorChild","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","idSet","lineFragment","createDocumentFragment","lineElement","editedConnectorElement","idFromPredecessor","preArray","preIdArray","strArray","splitName","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttProps","isDurationKey","ganttPropKey","totDuration","acc","sdate","edate","seg","validateScheduleValues","previousdata","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","eventArg","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","ulPos","scrollX","updatedTopValue","hasParentWithLeftSpacing","updatedLeftValue","currentSibling","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","holidayElements","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","weekendElements","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","parentItem_1","resourceFieldId_1","matchingResource","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","dragElem","errorContainer","rowCell","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","eventMarker","lineStyle","dashStyle","PdfDashStyle","Dash","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","PdfPen","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","pageHeightCollection","headerHeight","currentBounds","RectangleF","layoutInternal","param","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","totalDetail","rowDetails","pageNumber","updatePage","currentPageNumber","totalHeight","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","currentBoundsx","default","getLayoutResult","NextPage","reArrangePages","groupedHeights","pageHeightSummary","sum","h","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","Error","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","totalWidth","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","findIndexUsingParent","lineWidth","expandedRecord","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","isManualParent","baseLeft","baseWidth","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","spaceBetweenImageAndValue","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","currentPageIndex","taskGraphics","isNextPage","endPoint","renderHeight","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","getPdfFont","progressFormat","updatedWidth","isLabelString","taskLabelPadding","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","getWidth","lines","remainder","remainString","progressBoundsWidth","lineStartX","lineEndX","lineY","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","leftForLabel","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_1","result_2","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","holidayWidth","fitHolidayCompleted","lastWidth","topTierValueLeftPadding","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","timelineStyle","initializePdfStringFormat","pdfQueryTimelineCellInfo","cellBackgroundColor","isHoliday","holidayContainerColor","timelinedate","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","timelineborder","adjustedWidth","rectPen","font1","textFormat","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","cumulativeHeight","ganttStyles","eventLine","enventFormat","eventBrush","defaultBorder","pdfborders","renderBox","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","startHours","calculateHoursWithoutNonworkingDays","endHours","startDays","calculateDaysWithoutNonworkingDays","endDays","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","daysToAdd","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"sFAaO,SAASA,GAAaC,EAAMC,EAAUC,GAEzC,IADA,GAAIC,GAASH,EACNG,IACCD,EAAOC,EAAOC,KAAOH,GAAWE,EAAOE,UAAUC,SAASL,KAG9DE,EAASA,EAAOI,aAEpB,OAAOJ,GAOJ,QAASK,GAAgBC,GAC5B,MAAIC,qBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUG,UACtEF,oBAAkBD,EAAUI,UACrB,OAEFH,oBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUG,UAC3EF,oBAAkBD,EAAUI,WAY7B,QAASC,GAAgBX,GAC5B,SAAIA,EAAOY,YAAgBZ,EAAOY,qBAAsBC,kBACpD,UAAYb,GAAOY,aAUpB,QAASE,GAAWC,GAEvB,IAAK,GADDC,MACKC,EAAK,EAAGC,EAAKC,OAAOC,KAAKL,GAAME,EAAKC,EAAGG,OAAQJ,IAAM,CAC1D,GAAIK,GAAMJ,EAAGD,EACbD,GAAKD,EAAIO,IAAQA,EAErB,MAAON,GAOJ,QAASO,GAAcR,GAC1B,OAAIR,oBAAkBQ,IAAuB,gBAARA,IAGF,IAA5BI,OAAOC,KAAKL,GAAKM,OAOrB,QAASG,GAAiBC,GAC7B,GAAIC,GAAOD,EAAKE,cACZC,EAAQH,EAAKI,WACbC,EAAML,EAAKM,UACXC,EAAQP,EAAKQ,WACbC,EAAUT,EAAKU,aACfC,EAAUX,EAAKY,aACfC,EAAeb,EAAKc,iBACxB,OAAOC,MAAKC,IAAIf,EAAME,EAAOE,EAAKE,EAAOE,EAASE,EAASE,GAOxD,QAASI,GAAa9B,GACzB,GAAIA,YAAsBC,eAAa,CACnC,GAAI8B,GAAU/B,EAAW+B,OACzB,OAAQA,aAAmBC,iBAAiBD,YAAmBE,mBAC1DF,YAAmBG,kBAAmBH,YAAmBI,qBACzDJ,YAAmBK,iBAAkBL,YAAmBM,sBACzDN,YAAmBO,cAE3B,OAAO,EAUJ,QAASC,GAAYC,EAASC,EAAaC,EAAWtD,GACzD,GAAIsD,EAAW,CAEX,IAAK,GADDC,OAAS,GACJC,EAAI,EAAGA,EAAIJ,EAAQ/B,OAAQmC,IAGhCD,EAFIE,EAAOJ,EACND,EAAQM,SAASF,EAAEG,WAAY,cAAiBC,YAAWR,EAAQM,SAASF,EAAEG,WAAY,KAAKE,aAAc,EAGtH,OAAON,GAIP,IAAK,GADDA,MACKC,EAAI,EAAGA,EAAIJ,EAAQ/B,OAAQmC,IAAK,EAChCjD,oBAAkBP,IAAWA,EAAO8D,UACrCC,EAAYX,EAAQI,GAAIxD,EAE5B,IAAIyD,GAAOJ,EAAeD,EAAQM,SAASF,EAAEG,WAAY,cACrDC,YAAWR,EAAQM,SAASF,EAAEG,WAAY,KAAKE,aAAc,EACjEN,GAAOS,KAAKP,GAEhB,MAAOF,GASR,QAASQ,GAAYE,EAAQjE,GAYhC,MAVIiE,KAAW1D,oBAAkB0D,EAAOC,mBACpCD,EAAOJ,SAAS7D,EAAOmE,WAAW3D,WAAaR,EAAOoE,qBAAqBC,OAAOJ,EAAOC,gBAAgB1D,UAAWR,EAAO8D,UACzF,OAA9B9D,EAAOmE,WAAW1D,UAClBwD,EAAOJ,SAAS7D,EAAOmE,WAAW1D,SAAWT,EAAOoE,qBAAqBC,OAAOJ,EAAOC,gBAAgBzD,QAAST,EAAO8D,YAEvH9D,EAAOmE,WAAWG,iBAAmBtE,EAAOmE,WAAWI,qBACvDN,EAAOJ,SAAS7D,EAAOmE,WAAWI,mBAAqBvE,EAAOoE,qBAAqBC,OAAOJ,EAAOC,gBAAgBK,kBAAmBvE,EAAO8D,UAC3IG,EAAOJ,SAAS7D,EAAOmE,WAAWG,iBAAmBtE,EAAOoE,qBAAqBC,OAAOJ,EAAOC,gBAAgBI,gBAAiBtE,EAAO8D,YAGxI,KAQJ,QAASU,GAAaC,EAAKC,GAE9B,IAAK,GADDC,GACKnB,EAAI,EAAGA,EAAIkB,EAAKrD,OAAQmC,IAE7BmB,EAAO,GAAIC,QAAO,QAAc,MAAO,MACvCH,EAAMA,EAAII,QAAQF,EAAMD,EAAKlB,GAAGG,WAEpC,OAAOc,GAWJ,QAASK,GAASC,EAAOC,EAAMC,EAAYC,GAE9C,IAAK,GADDC,IAAS,EACJ3B,EAAI,EAAGA,EAAIyB,EAAW5D,OAAQmC,IACnC,GAAI4B,WAASJ,EAAMC,EAAWzB,MAAQ4B,WAASJ,EAAMD,IAAUxE,oBAAkB2E,KACxE3E,oBAAkB2E,IAASE,WAASJ,EAAMC,EAAWzB,MAAQ4B,WAASJ,EAAMD,IAC1EK,WAASF,EAAMD,EAAWzB,MAAQ4B,WAASF,EAAMH,GAAS,CACjEI,EAAQ3B,CACR,OAGR,MAAO2B,GAOJ,QAASE,GAAaN,GACzB,MAAgB,IAARA,EAAc,GAOnB,QAASO,GAAaP,GACzB,MAAgB,IAARA,EAAc,GAOnB,QAASQ,KACZ,MAAOC,KANX,GAAIA,GAAM,EC9MNC,EAA+B,WAC/B,QAASA,GAAczF,GACnB0F,KAAKC,cAAe,EACpBD,KAAKE,sBAAwB,EAC7BF,KAAKG,uBAAyB,EAC9BH,KAAKI,yBAA2B,EAChCJ,KAAKK,wBAA0B,EAC/BL,KAAKM,sBAAwB,EAC7BN,KAAKO,wBAA0B,EAC/BP,KAAKQ,sBAAwB,EAC7BR,KAAK1F,OAASA,EAyuDlB,MAnuDAyF,GAAcU,UAAUC,sBAAwB,SAAU9F,GACtD,OAASC,oBAAkBD,IAAcA,EAAU+F,kBAC7CX,KAAK1F,OAAOsG,gBAAkBZ,KAAK1F,OAAOuG,kBAAkBlF,OAAS,IACtEd,oBAAkBD,MAAgBoF,KAAK1F,OAAOsG,gBAAkBZ,KAAK1F,OAAOuG,kBAAkBlF,OAAS,IAYhHoE,EAAcU,UAAUK,eAAiB,SAAU/E,EAAMnB,EAAWmG,EAAqBC,GACrF,GAAInG,oBAAkBkB,GAClB,MAAO,KAEX,IAAIkF,GAAa,GAAInE,MAAKf,EAAKmF,WAC3BC,EAAenB,KAAK1F,OAA+B,uBAAE2G,GACrDG,EAAapB,KAAK1F,OAA6B,qBAAE2G,GACjDI,EAAiB,GAAIvE,MAAKf,EAAKmF,WAC/BI,EAAOtB,KAAKuB,oBAAoBF,EAGpC,IAFAN,EAAsBlG,oBAAkBkG,IAAwBlG,oBAAkBD,IAC9EA,EAAU4G,YAAsBT,EAChCO,EAAOH,KAAkBJ,GAAuBC,GAChDhB,KAAKyB,QAAQN,EAAcE,OAE1B,IAAIC,EAAOH,GAAgBJ,EAC5Bf,KAAKyB,QAAQN,EAAcE,OAE1B,IAAKC,IAASF,KAAgBxG,IAAcmG,IAAyBO,EAAOF,EAC7EC,EAAeK,QAAQL,EAAehF,UAAY,GAClD8E,EAAenB,KAAK1F,OAA+B,uBAAE+G,GACrDrB,KAAKyB,QAAQN,EAAcE,OAE1B,IAAIC,EAAOH,GAAgBG,EAAOF,EAAY,CAC/C,GAAIO,GAAe3B,KAAK1F,OAAOsH,iBAC3B5B,MAAK1F,OAAOuH,gBAAgBlG,OAAS,IACrCgG,EAAe3B,KAAK1F,OAAwB,gBAAE+G,GAElD,KAAK,GAAI5B,GAAQ,EAAGA,EAAQkC,EAAahG,OAAQ8D,IAAS,CACtD,GAAIJ,GAAQsC,EAAalC,EACzB,IAAI6B,GAAQjC,EAAMyC,IAAOH,EAAalC,EAAQ,IAC1C6B,EAAOK,EAAalC,EAAQ,GAAGsC,KAAO,EAEjCT,IAASjC,EAAMyC,IAAQlH,GAAcmG,IAAyBO,IAASjC,EAAMyC,IAC9E9B,KAAKyB,QAAQE,EAAalC,EAAQ,GAAGsC,KAAMV,EAE/C,SAIZ,GAAIW,EACJ,KAAIhC,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,gBAmCvB,MAAO,IAAItF,MAAKuE,EAAeH,UAlC/B,GAAG,CACCc,EAAa,GAAIlF,MAAKuE,EAAeH,UACrC,IAAImB,GAAgBrC,KAAK1F,OAAOuG,kBAAkBlF,MAElD,IAAIqE,KAAKU,sBAAsB9F,GAAY,CACvCuG,EAAenB,KAAK1F,OAA+B,uBAAE0H,GACjDpH,IACAwG,EAAapB,KAAK1F,OAA6B,qBAAEM,EAAUG,QAAUH,EAAU+F,eAAiB/F,EAAUG,QAAUH,EAAU0H,YAAcN,GAEhJ,IAAIO,IAAcxB,GAAuBC,EAAUG,EAAeC,CAClE,KAAKpB,KAAK1F,OAAOsG,eAAgB,CAC7B,GAAI4B,GAAW,GAAI1F,MAAKuE,EAAeH,UACvCG,GAAiBrB,KAAKyC,kBAAkBpB,GACxCkB,EAAYvC,KAAK1F,OAA+B,uBAAE+G,GAC9CmB,EAAStB,YAAcG,EAAeH,WAAcH,GACpDf,KAAKyB,QAAQc,EAAWlB,GAGhC,IAAK,GAAIqB,GAAQ,EAAGA,EAAQL,EAAeK,IAAS,CAChD,GAAIC,GAAc3C,KAAK4C,kBAAkB,GAAI9F,MAAKkD,KAAK1F,OAAOuG,kBAAkB6B,KAC5EG,EAAY,GAAI/F,MAAK6F,EAAYzB,UACrCyB,GAAYG,SAAS,EAAG,EAAG,EAAG,GAC9BD,EAAUC,SAAS,GAAI,GAAI,GAAI,IAC3BzB,EAAeH,WAAayB,EAAYzB,WAAaG,EAAeH,UAAY2B,EAAU3B,YAC1FG,EAAeK,QAAQL,EAAehF,UAAY,GAClDkG,EAAYvC,KAAK1F,OAA+B,uBAAE+G,GAClDrB,KAAKyB,QAAQc,EAAWlB,YAI/BW,EAAWd,YAAcG,EAAeH,UACjD,OAAO,IAAIpE,MAAKuE,EAAeH,YAevCnB,EAAcU,UAAUsC,aAAe,SAAUhH,EAAMnB,EAAWmG,GAC9D,GAAIlG,oBAAkBkB,GAClB,MAAO,KAEX,IAAIoF,GACAC,CACJ,IAAIpB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EAAG,CACxC,GAAIsF,GAAalF,IACZiE,KAAK1F,OAAOsG,gBAAkBhG,GAAaA,EAAU+F,gBAAmBX,KAAK1F,OAAO0I,YAClFhD,KAAK1F,OAAO0I,WAAWC,mBAAqBjD,KAAK1F,OAAO0I,WAAWC,kBAAkBC,oBACpFlD,KAAK1F,OAAO0I,WAAWC,kBAAkBC,kBAAkB1E,gBAAgBmC,kBAC/EM,EAAajB,KAAKyC,kBAAkB1G,IAExCoF,EAAenB,KAAK1F,OAAqB,aAAE2G,GAC3CG,EAAapB,KAAK1F,OAAmB,WAAE2G,OAGvCE,GAAenB,KAAK1F,OAAO6I,iBAC3B/B,EAAapB,KAAK1F,OAAO8I,cAE7B,IAAIC,GAAe,GAAIvG,MAAKf,EAAKmF,WAC7BI,EAAOtB,KAAKuB,oBAAoB8B,EACpC,IAAI/B,EAAOF,EACPpB,KAAKyB,QAAQL,EAAYiC,OAExB,IAAI/B,GAAQH,IAAiBJ,EAAqB,CACnD,GAAIuC,GAAatD,KAAK1F,OAAOmE,UACzBuB,MAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAyB,eAAOhD,KAAK1F,OAAO0I,WAAyB,aAAEM,EAAWxI,YAAckF,KAAK1F,OAAO0I,WAAyB,aAAEM,EAAWvI,SACxLsI,EAAa3B,QAAQ2B,EAAahH,WAGlCgH,EAAa3B,QAAQ2B,EAAahH,UAAY,GAElD+E,EAAapB,KAAK1F,OAA6B,qBAAE+I,GACjDrD,KAAKyB,QAAQL,EAAYiC,OAExB,IAAI/B,EAAOH,GAAgBG,EAAOF,EACnC,IAAK,GAAI3B,GAAQ,EAAGA,EAAQO,KAAK1F,OAAOsH,kBAAkBjG,OAAQ8D,IAE9D,GAAI6B,EADQtB,KAAK1F,OAAOsH,kBAAkBnC,GACzBqC,IAAO9B,KAAK1F,OAAOsH,kBAAkBnC,EAAQ,IAC1D6B,GAAQtB,KAAK1F,OAAOsH,kBAAkBnC,EAAQ,GAAGsC,KAAO,CACxD/B,KAAKyB,QAAQzB,KAAK1F,OAAOsH,kBAAkBnC,GAAOqC,GAAIuB,EACtD,OAIZ,GAAIE,EACJ,KAAIvD,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,gBAuCvB,MAJKvH,qBAAkBwI,IAAgD,QAA/BrD,KAAK1F,OAAO8I,iBAChDhC,EAAapB,KAAK1F,OAA6B,qBAAEyB,GACjDiE,KAAKyB,QAAQL,EAAYiC,IAEtB,GAAIvG,MAAKuG,EAAanC,UAtC7B,GAAG,CACCqC,EAAgB,GAAIzG,MAAKuG,EAAanC,UACtC,IAAImB,GAAgBrC,KAAK1F,OAAOuG,kBAAkBlF,MAClD,IAAIqE,KAAKU,sBAAsB9F,GAAY,CACvC,IAAKoF,KAAK1F,OAAOsG,eAAgB,CAC7B,GAAI4B,GAAW,GAAI1F,MAAKuG,EAAanC,UACrCmC,GAAerD,KAAKwD,sBAAsBH,GAC1CjC,EAAapB,KAAK1F,OAA6B,qBAAE+I,GAC7Cb,EAAStB,YAAcmC,EAAanC,WACpClB,KAAKyB,QAAQL,EAAYiC,GAGjC,IAAK,GAAIX,GAAQ,EAAGA,EAAQL,EAAeK,IAAS,CAChD,GAAIC,GAAc3C,KAAK4C,kBAAkB,GAAI9F,MAAKkD,KAAK1F,OAAOuG,kBAAkB6B,KAC5EG,EAAY,GAAI/F,MAAK6F,EAAYzB,WACjCuC,EAAc,GAAI3G,MAAKuG,EAAanC,UACxCuC,GAAYC,WAAWL,EAAaxG,kBAAoB,GACxD8F,EAAYG,SAAS,EAAG,EAAG,EAAG,GAC9BD,EAAUC,SAAS,GAAI,GAAI,GAAI,KAC3BO,EAAanC,WAAayB,EAAYzB,WAAamC,EAAanC,UAAY2B,EAAU3B,WACtFuC,EAAYvC,WAAayB,EAAYzB,WAAauC,EAAYvC,UAAY2B,EAAU3B,aACpFmC,EAAa3B,QAAQ2B,EAAahH,UAAY,GAC9C+E,EAAapB,KAAK1F,OAA6B,qBAAE+I,GAC3CA,EAAanC,YAAcyB,EAAYzB,WAA4B,QAAfE,GACX,IAA3CpB,KAAKuB,oBAAoB8B,IACzBrD,KAAKyB,QAAQL,EAAYiC,YAKpCE,EAAcrC,YAAcmC,EAAanC,UAClD,OAAO,IAAIpE,MAAKuG,EAAanC,YAkBrCnB,EAAcU,UAAUkD,uBAAyB,SAAU5H,EAAMnB,GAC7D,GAAIC,oBAAkBkB,GAClB,MAAO,KAGP,IAAIoF,GAAenB,KAAK1F,OAA+B,uBAAEyB,GACrDqF,EAAapB,KAAK1F,OAA6B,qBAAEM,GAAYA,EAAUG,QAAUH,EAAU+F,eAAiB/F,EAAUG,QAAUH,EAAU0H,YAAqBvG,GAC/J6H,EAAY,GAAI9G,MAAKf,EAAKmF,WAC1BI,EAAOtB,KAAKuB,oBAAoBqC,EACpC,IAAItC,EAAOH,EACPnB,KAAKyB,QAAQN,EAAcyC,OAE1B,IAAItC,EAAOF,EACZwC,EAAUlC,QAAQkC,EAAUvH,UAAY,GAEpC8E,EADAnB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACtBqE,KAAK1F,OAAqB,aAAEsJ,GAG5B5D,KAAK1F,OAAO6I,iBAE/BnD,KAAKyB,QAAQN,EAAcyC,OAE1B,IAAItC,EAAOH,GAAgBG,EAAOF,EACnC,IAAK,GAAItD,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOsH,kBAAkBjG,OAAQmC,IAEtD,GAAIwD,EADQtB,KAAK1F,OAAOsH,kBAAkB9D,GACzBgE,IAAO9B,KAAK1F,OAAOsH,kBAAkB9D,EAAI,IACtDwD,EAAOtB,KAAK1F,OAAOsH,kBAAkB9D,EAAI,GAAGiE,KAAO,CACnD/B,KAAKyB,QAAQzB,KAAK1F,OAAOsH,kBAAkB9D,EAAI,GAAGiE,KAAM6B,EACxD,OAIZ,MAAOA,IAWf7D,EAAcU,UAAUoD,qBAAuB,SAAU9H,EAAMnB,GAC3D,GAAIC,oBAAkBkB,GAClB,MAAO,KAGP,IAAIqF,GAAapB,KAAK1F,OAA6B,qBAAEyB,GACjDoF,EAAenB,KAAK1F,OAA+B,uBAAEM,GAAYA,EAAUE,UAAYF,EAAU+F,eAAiB/F,EAAUE,UAAYF,EAAUkJ,cAAuB/H,GACzK6H,EAAY,GAAI9G,MAAKf,EAAKmF,WAC1BI,EAAOtB,KAAKuB,oBAAoBqC,EACpC,IAAItC,EAAOF,EACPpB,KAAKyB,QAAQL,EAAYwC,OAExB,IAAItC,EAAOH,IAAiBtG,oBAAkBD,KAAeA,EAAU4G,YACxEoC,EAAUlC,QAAQkC,EAAUvH,UAAY,GACxC+E,EAAapB,KAAK1F,OAA6B,qBAAEsJ,GACjD5D,KAAKyB,QAAQL,EAAYwC,OAExB,IAAItC,EAAOH,GAAgBG,EAAOF,EACnC,IAAK,GAAItD,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOsH,kBAAkBjG,OAAQmC,IAEtD,GAAIwD,EADQtB,KAAK1F,OAAOsH,kBAAkB9D,GACzBgE,IAAO9B,KAAK1F,OAAOsH,kBAAkB9D,EAAI,IAAMwD,GAAQtB,KAAK1F,OAAOsH,kBAAkB9D,EAAI,GAAGiE,KAAO,CAChH/B,KAAKyB,QAAQzB,KAAK1F,OAAOsH,kBAAkB9D,GAAGgE,GAAI8B,EAClD,OAQZ,MAJIhJ,IAAaA,EAAUiE,mBAAqB+E,GAC5ChJ,EAAUiE,kBAAkBqC,UAAY0C,EAAU1C,WAClD0C,EAAUlC,QAAQkC,EAAUvH,UAAY,GAErCuH,GAUf7D,EAAcU,UAAUsD,mBAAqB,SAAUC,GACnD,GAAIpJ,GAAYoJ,EAAUxF,gBACtByF,EAAgB,IACfpJ,qBAAkBD,EAAUG,UAAaF,oBAAkBD,EAAUI,YACtEiJ,EAAgBjE,KAAKkE,aAAatJ,EAAUG,QAASH,EAAUI,SAAUJ,EAAUuJ,aAAcvJ,IAErGoF,KAAK1F,OAAO8J,eAAe,YAAaH,EAAerJ,GAAW,GAC9DoF,KAAK1F,OAAOmE,WAAW3D,WACvBkF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,cAS/DjE,EAAcU,UAAU8D,iBAAmB,SAAUP,GACjD,GAEI7C,GACAC,EAHAxG,EAAYoJ,EAAUxF,gBACtBgG,EAAc,IAGlB,IAAK3J,oBAAkBD,EAAUE,WAkB7B0J,EAAcR,EAAUhE,KAAK1F,OAAOmE,WAAW1D,SAC1CF,oBAAkB2J,KACnBpD,EAAapB,KAAK1F,OAA6B,qBAAEkK,GACjDxE,KAAKyB,QAAQL,EAAYoD,IAE7BxE,KAAK1F,OAAO8J,eAAe,UAAWI,EAAa5J,GAAW,OAvBrB,CAUzC,IATKC,oBAAkBD,EAAUG,UAAYF,oBAAkBD,EAAUI,YACH,IAA9DgF,KAAKyE,aAAa7J,EAAUE,UAAWF,EAAUG,WACjDiF,KAAK1F,OAAO8J,eAAe,YAAa,GAAItH,MAAKlC,EAAUG,QAAQmG,WAAYtG,GAAW,GAC1FuG,EAAenB,KAAK1F,OAA+B,uBAAEM,EAAU+F,eAAiB/F,EAAUkJ,cAAgBlJ,EAAUE,WACpHsG,EAAapB,KAAK1F,OAA6B,qBAAEM,EAAU+F,eAAiB/F,EAAU0H,YAAc1H,EAAUG,SAC9GiF,KAAKyB,QAAQN,EAAcvG,EAAUE,YAEzCkF,KAAK0E,kBAAkBV,KAEtBnJ,oBAAkBD,EAAUI,UAAW,CACxC,GAAIA,IAAYH,oBAAkBD,EAAU+J,WAAa/J,EAAU+J,SAAShJ,OAAS,EACjFqE,KAAK4E,cAAchK,EAAU+J,UAAY/J,EAAUI,QACvDwJ,GAAcxE,KAAK6E,WAAWjK,EAAUE,UAAWE,EAAUJ,EAAUuJ,aAAcvJ,GAAW,GAEpGoF,KAAK1F,OAAO8J,eAAe,UAAWI,EAAa5J,GAAW,GAU9DoF,KAAK1F,OAAOmE,WAAW1D,SACvBiF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YAG/DjE,EAAcU,UAAUmE,cAAgB,SAAUD,GAE9C,IAAK,GADD3J,GAAW,EACN8C,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IACjC9C,GAAY2J,EAAS7G,GAAG9C,SAAW2J,EAAS7G,GAAGgH,cAEnD,OAAO9J,IAQX+E,EAAcU,UAAUiE,kBAAoB,SAAUV,GAClD,GACIe,GADAvG,EAAkBwF,EAAUxF,eAI5BuG,IAFClK,oBAAkB2D,EAAgBmG,WAAanG,EAAgBmG,SAAShJ,OAAS,IACjFd,oBAAkBmF,KAAK1F,OAAO0I,WAAWC,mBAC9BjD,KAAK1F,OAAO0I,WAAWC,kBAAkB+B,cAAcxG,EAAgBmG,UAG7E9J,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YAAiBpK,oBAAkB2D,EAAgB1D,YAC1FD,oBAAkB2D,EAAgBzD,UACrCyD,YAA2B0C,YAAe1C,UAAyB0C,YACP,IAAzD8C,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWwG,WAIlCjF,KAAKkF,YAAY1G,EAAgB1D,UAAW0D,EAAgBzD,QAASyD,EAAgB2F,aAAc3F,EAAgBmC,eAAgBnC,EAAgBgD,aAHnJ,EAMpBxB,KAAK1F,OAAO8J,eAAe,WAAYW,EAAWvG,GAAiB,EACnE,IAAI2G,GAAMnF,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAO+K,cAAcrK,SAC9D,MAAKH,oBAAkBmF,KAAK1F,OAAO0I,aAAgBnI,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,iBACvFtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAe1K,oBAAkBsK,IAAM,CAC9E,IAAKtK,oBAAkBsK,EAAIK,QAAU3K,oBAAkBsK,EAAIK,KAAKC,MAAO,CACnE,GAAIC,GAAS1F,KAAK1F,OAAO0I,WAAW2C,aAAaD,MACjD,KAAK7K,oBAAkB6K,GAAS,CAC5B,GAAIE,GAAUF,EAAOG,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,YAC7DwL,cAAc,EACdlL,qBAAkB+K,IAAYA,EAAQvG,QAAU0F,EAAU9G,aAC3D2H,EAAQvG,MAAQ0F,EAAU9G,WAC1B2H,EAAQI,aAIhBhG,KAAK1F,OAAOmE,WAAWzD,WACvBgF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YACnDhE,KAAK1F,OAAOmE,WAAW0F,cACvBnE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,mBAavEjE,EAAcU,UAAUwF,kBAAoB,SAAUC,EAAOC,EAAOxF,EAAgByF,GAChFA,IAAkBvL,oBAAkBuL,IAA0BA,CAC9D,IAAIC,GAAiBrG,KAAK1F,OAAOsG,iBAAkBZ,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QACxGhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAqBzB,EACjD,EAArCX,KAAKsG,gBAAgBJ,EAAOC,GAC5BI,EAAavG,KAAKwG,mBAAmBN,EAAOC,EAAOC,GACnDK,GAAiB9F,IAAkBX,KAAK1F,OAAO2H,6BAC7CjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAA0D,EAAtCpC,KAAK0G,iBAAiBR,EAAOC,GAC1IQ,GAAeJ,EAA6B,MAAfF,EAAyC,MAAhBI,GAA0B,MAChFG,EAAe5G,KAAK6G,2BAA2BX,EAAOC,EAAOxF,EAIjE,QAHwBX,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACzDqE,KAAK8G,kBAAkBZ,EAAOC,EAAOxF,EAAgBgG,GAAgBA,GAAe,MAAQ3G,KAAK1F,OAAOyM,gBACxF,MAAfV,EAAyC,MAAhBI,EAAyBG,GAG3D7G,EAAcU,UAAUqG,kBAAoB,SAAUZ,EAAOC,EAAOxF,EAAgBqG,EAAUC,GAC1F,GAAIC,GAAehB,EAAMhF,UAAYiF,EAAMjF,UAAY,GAAIpE,MAAKqJ,EAAMjF,WAAa,GAAIpE,MAAKoJ,EAAMhF,WAC9FiG,EAAajB,EAAMhF,UAAYiF,EAAMjF,UAAY,GAAIpE,MAAKoJ,EAAMhF,WAAa,GAAIpE,MAAKqJ,EAAMjF,WAC5FkG,EAAW,EACX1E,EAAQ,CACZ,IAAIuE,EAAc,CACd,GAAI9F,GAAenB,KAAK1F,OAA+B,uBAAE4M,GACrD9F,EAAapB,KAAK1F,OAA6B,qBAAE4M,EAC/CA,GAAa3K,WAAa6E,EAAa,MAAQ8F,EAAa3K,YAAc4E,EAAe,MAC3F+F,EAAaxF,QAAQwF,EAAa7K,UAAY,OAIlD6K,GAAaxF,QAAQwF,EAAa7K,UAAY,GAC9C6K,EAAapE,SAAS,EAAG,EAAG,EAAG,GAC/BqE,EAAWrE,SAAS,EAAG,EAAG,EAAG,EAEjC,MAAIkE,EAAW,GAAKnM,oBAAkBmM,IAqClC,MAAO,EApCP,MAAQC,GAAgBC,EAAahG,WAAaiG,EAAWjG,YACpD+F,GAAgBC,EAAahG,UAAYiG,EAAWjG,WAAY,CACrE,GAAIP,EAAgB,CAChB,GAAIX,KAAKqH,qBAAqBH,GAAc,GACxC,GACIA,EAAaxF,QAAQwF,EAAa7K,UAAY,SACzC2D,KAAKqH,qBAAqBH,GAAc,GAEhDlH,MAAK1F,OAAOsG,gBACbZ,KAAKyC,kBAAkByE,GAG/B,GAAIA,EAAahG,WAAaiG,EAAWjG,UAAW,CAChDwB,GACA,IAAI4E,GAAoBtH,KAAK1F,OAAyB,iBAAE4M,EAQxD,IANIE,GADAH,EACYK,EAGA,MAAQA,EAExBJ,EAAaxF,QAAQwF,EAAa7K,UAAY,GAC1CsE,EAAgB,CAChB,GAAIX,KAAKqH,qBAAqBH,GAAc,GACxC,GACIA,EAAaxF,QAAQwF,EAAa7K,UAAY,SACzC2D,KAAKqH,qBAAqBH,GAAc,GAEhDlH,MAAK1F,OAAOsG,gBACbZ,KAAKyC,kBAAkByE,KAiB3C,MARID,KACIG,EAAW,EACXA,GAAsB1E,EAGtB0E,EAAWpH,KAAK1F,OAAOyM,eAGxBK,GAaXrH,EAAcU,UAAUyE,YAAc,SAAUpK,EAAWC,EAASoJ,EAAcxD,EAAgBa,EAAa4E,GAC3G,GAAIvL,oBAAkBC,IAAcD,oBAAkBE,GAClD,MAAO,KAEXqL,KAAkBvL,oBAAkBuL,IAA0BA,CAC9D,IAIImB,GAJAC,EAAgB,EAGhBC,EAFWzH,KAAK0H,kBAAkB5M,EAAWC,EAASqL,GAAmB,IAC1DpG,KAAKiG,kBAAkBnL,EAAWC,EAAS4F,EAAgByF,EAuB9E,OAnBImB,GADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK8G,kBAAkBhM,EAAWC,EAAS4F,MAAgBgH,IAAW,GAGtE3H,KAAK1F,OAAOyM,cAGzBS,EADAhG,GAAexB,KAAK1F,OAAOsN,gBAAgB9M,KAAekF,KAAK1F,OAAOsN,gBAAgB7M,GACtE,EAGXoJ,GAAiC,QAAjBA,EAGK,WAAjBA,EACWsD,EAAgB,GAGhBA,EAAgB,KANhBA,EAAgBF,EASjCM,WAAWL,EAAcvJ,aASpC8B,EAAcU,UAAUqH,qBAAuB,SAAU9M,EAAUmJ,EAAcpI,GAC7E,GACIwL,EAgBJ,OAdIA,GADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAyB,iBAAEyB,GAGhCiE,KAAK1F,OAAOyM,cAExB5C,GAAqD,QAArCA,EAAa4D,oBAGY,SAArC5D,EAAa4D,oBACC,KAAX/M,EAGW,GAAXA,EANAuM,EAAavM,GAqB7B+E,EAAcU,UAAUoE,WAAa,SAAU/J,EAAWE,EAAUmJ,EAAcvJ,EAAWmG,GACzF,GAGIiH,GAHAC,EAAY,GAAInL,MAAKhC,EAAUoG,WAC/BnG,EAAU,GAAI+B,MAAKhC,EAAUoG,WAC7BgF,EAAQ,GAAIpJ,MAAKhC,EAAUoG,UAG3B8G,GADAhI,KAAK1F,OAAOuH,gBAAgBlG,OAAS,KAAOwI,GAAqD,QAArCA,EAAa4D,qBACxD/H,KAAKkI,wBAAwBlN,EAAUkL,EAAO8B,EAAgBlN,GAAW,GAGzEkF,KAAK8H,qBAAqB9M,EAAUmJ,EAAcrJ,EAIvE,MAAOkN,EAAiB,GACpBjN,EAAQoN,WAAWpN,EAAQ4B,aAAeqL,IAG1CA,GADYA,EADFhI,KAAKiG,kBAAkBgC,EAAWlN,EAASH,EAAU+F,gBAAgB,IAG1D,IACjB5F,EAAUiF,KAAKc,eAAe/F,EAASH,EAAWmG,IAEtDkH,EAAY,GAAInL,MAAK/B,EAAQmG,UAEjC,OAAOnG,IAaXgF,EAAcU,UAAUyD,aAAe,SAAUnJ,EAASC,EAAUmJ,EAAcvJ,EAAWwN,GACzF,GAEIJ,GAFAK,EAAU,GAAIvL,MAAK/B,EAAQmG,WAC3BpG,EAAY,GAAIgC,MAAK/B,EAAQmG,WAE7BiF,EAAQ,GAAIrJ,MAAKuL,EAAQnH,UAEzB8G,GADAhI,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACpBqE,KAAKkI,wBAAwBlN,EAAUmL,EAAO6B,EAAgBK,GAAS,GAGvErI,KAAK8H,qBAAqB9M,EAAUmJ,EAAckE,EAIvE,MAAOL,EAAiB,GACpBlN,EAAUqN,WAAWrN,EAAU6B,aAAeqL,IAG9CA,GADYA,EADFhI,KAAKiG,kBAAkBnL,EAAWuN,EAASzN,EAAU+F,gBAAgB,IAG1D,IACjB0H,EAAUrI,KAAK+C,aAAajI,EAAWF,IAE3CyN,EAAU,GAAIvL,MAAKhC,EAAUoG,UAGjC,IAAIkH,GAAkBxN,EAAU4G,YAAa,CACzC1G,EAAU4G,QAAQ5G,EAAUuB,UAAY,EACxC,IAAI+E,GAAapB,KAAK1F,OAA6B,qBAAEM,EAAUG,QAAUH,EAAU+F,eAAiB/F,EAAUG,QAAUH,EAAU0H,YAAcxH,EAChJkF,MAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAYtG,GACrDA,EAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAehG,EAAWF,GAAW,GAEtF,MAAOE,IAEXiF,EAAcU,UAAUyH,wBAA0B,SAAUlN,EAAUkL,EAAO8B,EAAgBlN,EAAWwN,GACpG,GAAItN,EAAW,EACXgN,EAAiBhI,KAAK1F,OAAyB,iBAAE4L,GAASlL,MAEzD,CACDgN,EAAiB,CACjB,IAAIR,GAAgBxM,EAChBmG,EAAenB,KAAK1F,OAA+B,uBAAE4L,GACrD9E,EAAapB,KAAK1F,OAA6B,qBAAE4L,EASrD,KARMA,EAAM3J,WAAa6E,EAAa,MAAQ8E,EAAM3J,WAAa4E,EAAe,OAASnB,KAAKC,eACtFqI,EACApC,EAAMxE,QAAQwE,EAAM7J,UAAY,GAGhC6J,EAAMxE,QAAQwE,EAAM7J,UAAY,IAGjCmL,EAAgB,GAAG,CACtB,GAAIxH,KAAKqH,qBAAqBnB,GAAO,GACjC,GACQoC,EACApC,EAAMxE,QAAQwE,EAAM7J,UAAY,GAGhC6J,EAAMxE,QAAQwE,EAAM7J,UAAY,SAE/B2D,KAAKqH,qBAAqBnB,GAAO,GAEzClG,MAAK1F,OAAOsG,iBACbsF,EAAQoC,EAActI,KAAKyC,kBAAkByD,GAASlG,KAAKwD,sBAAsB0C,GAErF,IAAIqB,GAAavH,KAAK1F,OAAyB,iBAAE4L,GAC7CqC,EAAM,CACV,IAAIvI,KAAKuB,oBAAoBzG,KAAekF,KAAK1F,OAAqB,aAAEQ,KAAe0N,OAAOC,UAAUjB,GAAgB,CACpH,GAAIkB,GAAa1N,EAASiD,WAAW0K,MAAM,IAE3CpB,IADAgB,EAAMV,WAAW,IAAMa,EAAW,IAElClB,GAAgCe,EAEhCf,EAAgB,IAChBD,GAA0BC,GAE9BQ,GAAkCT,EAC9Be,EACApC,EAAMxE,QAAQwE,EAAM7J,UAAY,GAGhC6J,EAAMxE,QAAQwE,EAAM7J,UAAY,GAE/BkM,GACDf,KAIZ,MAAOQ,IAQXjI,EAAcU,UAAUmI,oBAAsB,SAAUhO,EAAWoG,GAC/D,IAAKnG,oBAAkBmF,KAAK1F,OAAOuO,uBAAwB,CACN,gBAAtC7I,MAAK1F,OAAOuO,wBACnB7I,KAAK1F,OAAOuO,sBAAwB7I,KAAK4C,kBAAkB5C,KAAK1F,OAAOuO,uBAEvExH,GAAiBrB,KAAKc,eAAed,KAAK1F,OAAOuO,sBAErD,OADA7I,MAAK1F,OAAOuO,sBAAwBxH,EAC7B,GAAIvE,MAAKuE,EAAeH,WAE9B,GAAKrG,oBAAkBmF,KAAK1F,OAAOwO,kBAInC,CAAA,GAAKjO,oBAAkBmG,GAmBxB,MAAO,KAlBP,IAAI+H,GAAW/I,KAAK1F,OAAOyO,SACvBC,MAAe,EACfD,GAASpN,OAAS,EAClBqN,EAAeD,EAAS,GAAGvK,gBAAgB1D,WAG3CkO,EAAe,GAAIlM,OACNgG,SAAS,EAAG,EAAG,EAAG,EAEnC,KAAK,GAAIrD,GAAQ,EAAGA,EAAQsJ,EAASpN,OAAQ8D,IAAS,CAClD,GAAI3E,GAAYiO,EAAStJ,GAAOjB,gBAAgB1D,SAC3CD,qBAAkBC,KAA8D,IAAhDkF,KAAKyE,aAAa3J,EAAWkO,KAC9DA,EAAelO,GAGvBkF,KAAK1F,OAAOuO,sBAAwB7I,KAAKc,eAAekI,EAAcpO,OApBf,CACvD,GAAIyG,GAAiBrB,KAAK4C,kBAAkB5C,KAAK1F,OAAOwO,iBACxD9I,MAAK1F,OAAOuO,sBAAwB7I,KAAKc,eAAeO,GAuB5D,MAAO,IAAIvE,MAAKkD,KAAK1F,OAAOuO,sBAAsB3H,YAQtDnB,EAAcU,UAAUwI,kBAAoB,SAAUrO,EAAWsO,GAC7D,GAAIhD,GAAQ,KACRpL,EAAYoO,EAAStO,EAAUkJ,cAAgBlJ,EAAUE,UACzDC,EAAUmO,EAAStO,EAAU0H,YAAc1H,EAAUG,QACrDC,GAAYJ,EAAU+F,gBAAkB/F,EAAUuO,aAAevO,EAAUuO,aAAevO,EAAUI,QACxG,IAAIH,oBAAkBC,GAClB,GAAKD,oBAAkBE,IAKlB,IAAKF,oBAAkBG,GAAW,CACnC,GAAIoO,GAAYpJ,KAAK1F,OAAO+O,kBAAkBzO,EAAU0O,SACxD,IAAItJ,KAAK1F,OAAOiP,uBAAyBH,GACrCA,EAAUI,YAAc3O,oBAAkBC,IAAcD,oBAAkBE,GAAU,CAEpF,IADA,GAAI0O,GAAazJ,KAAK1F,OAAOoP,cAAcN,EAAUI,YAC9CC,IAAeA,EAAWjL,gBAAgB1D,WAC7C2O,EAAazJ,KAAK1F,OAAOoP,cAAcD,EAAWD,WAEtDtD,GAAUuD,GAAeA,EAAWjL,gBAAgB1D,UAC9C2O,EAAWjL,gBAAgB1D,UADgCkF,KAAK1F,OAAOuO,0BAI7E3C,GAAQlG,KAAK4I,oBAAoBhO,QAjBR,CAC7BsL,EAAQ,GAAIpJ,MAAK/B,EAAQmG,UACzB,IAAIC,GAAenB,KAAK1F,OAA+B,uBAAE4L,EACzDlG,MAAKyB,QAAQN,EAAc+E,OAmB/BA,GAAQ,GAAIpJ,MAAKhC,EAAUoG,UAE/B,OAAOgF,IASXnG,EAAcU,UAAUkJ,gBAAkB,SAAU/O,EAAWsO,GAC3D,GAAI/C,GAAQ,KACRrL,EAAYoO,EAAStO,EAAUkJ,cAAgBlJ,EAAUE,UACzDC,EAAUmO,EAAStO,EAAU0H,YAAc1H,EAAUG,QACrDC,EAAWkO,EAAStO,EAAUuO,aAAevO,EAAUI,QAC3D,IAAIH,oBAAkBE,GAClB,GAAKF,oBAAkBC,IAUlB,IAAKD,oBAAkBG,GAAW,CACnC,GAAIkL,GAAQlG,KAAKiJ,kBAAkBrO,EAC/BsL,KACAC,EAAQnG,KAAK6E,WAAWqB,EAAOlL,EAAUJ,EAAUuJ,aAAcvJ,GAAW,SAZhF,IAAIA,EAAU4G,YACV2E,EAAQnG,KAAKc,eAAehG,OAE3B,CACDqL,EAAQ,GAAIrJ,MAAKhC,EAAUoG,UAC3B,IAAIE,GAAapB,KAAK1F,OAA6B,qBAAES,GAAoBoL,EACzEnG,MAAKyB,QAAQL,EAAY+E,OAWjCA,GAAQ,GAAIrJ,MAAK/B,EAAQmG,UAE7B,OAAOiF,IAEXpG,EAAcU,UAAUmJ,eAAiB,SAAUxN,EAAKyN,EAAc/O,EAAWgP,EAAcpH,EAAOqH,EAAiBnI,EAAmBoI,GACtI,IAAKnP,oBAAkBgP,EAAa9H,QAAUlH,oBAAkBgP,EAAa/H,IAAK,CAC9EhH,EAAUgI,SAAS,EAAG,EAAG,EAAG,EAC5B,IAAIN,GAAW,GAAI1F,MAAKhC,EAAUoG,UAClCpG,GAAU2G,QAAQ3G,EAAUoG,UAAiC,KAApB2I,EAAa9H,KACtD,IAAIkI,GAAY,GAAInN,MAAKhC,EAAUoG,UACnC,IAAwB,KAApB2I,EAAa/H,GAAW,CAExBU,EAASf,QAAQe,EAAStB,UADL,WAIrBsB,GAASf,QAAQe,EAAStB,UAA+B,KAAlB2I,EAAa/H,GAExD,IAAIoI,GAAU,GAAIpN,MAAK0F,EAAStB,WAC5BkG,EAAW8C,EAAQhJ,UAAY+I,EAAU/I,UACzCiJ,EAAYnK,KAAKuB,oBAAoB0I,GACrCG,EAAYpK,KAAKuB,oBAAoB2I,EACvB,KAAdE,IACAA,EAAY,OAEhBN,GAAgB1C,EAAW,IACb,IAAV1E,IACA1C,KAAK1F,OAAO6I,iBAAmBgH,EAC3BnK,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCqE,KAAKqK,gBAAgBjO,EAAK+N,IAG9BzH,IAAU1C,KAAK5D,EAAIkO,cAAgB,mBAAqB,GAAa,KAARlO,IAC7D4D,KAAK1F,OAAO8I,eAAiBgH,EACzBpK,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCqE,KAAKuK,cAAcnO,EAAKgO,IAG5B1H,EAAQ,EACI,KAARtG,GACA2N,EAAgBzL,KAAKyL,EAAgBA,EAAgBpO,OAAS,GAC1DwO,EAAYvI,EAAkBc,EAAQ,GAAGZ,IACzCF,EAAkBc,EAAQ,GAAGZ,GAAKqI,GAClCH,EAAqB1L,MACjByD,KAAMH,EAAkBc,EAAQ,GAAGZ,GAAIA,GAAIqI,EAAWK,WAAW,EACjEC,SAAWN,EAAYvI,EAAkBc,EAAQ,GAAGZ,OAK5D9B,KAAK1F,OAAO8B,EAAIkO,cAAgB,mBAAmBhM,KAAK0B,KAAK1F,OAAO8B,EAAIkO,cAAgB,mBAAmBtK,KAAK1F,OAAO8B,EAAIkO,cAAgB,mBAAmB3O,OAAS,GACnKwO,EAAYnK,KAAK1F,OAAO8B,EAAIkO,cAAgB,wBAAwB5H,EAAQ,GAAGZ,IAC/E9B,KAAK1F,OAAO8B,EAAIkO,cAAgB,qBAAqB5H,EAAQ,GAAGZ,GAAKqI,GACrEnK,KAAK1F,OAAO8B,EAAIkO,cAAgB,wBAAwBhM,MACpDyD,KAAM/B,KAAK1F,OAAO8B,EAAIkO,cAAgB,qBAAqB5H,EAAQ,GAAGZ,GAAIA,GAAIqI,EAAWK,WAAW,EACpGC,SAAWN,EAAYnK,KAAK1F,OAAO8B,EAAIkO,cAAgB,qBAAqB5H,EAAQ,GAAGZ,MAMvF,KAAR1F,GACA2N,EAAgBzL,KAAK,GACrB0L,EAAqB1L,MAAOyD,KAAM,EAAGD,GAAIqI,EAAWK,WAAW,EAAOC,SAAUN,MAGhFnK,KAAK1F,OAAO8B,EAAIkO,cAAgB,mBAAmBhM,KAAK,GACxD0B,KAAK1F,OAAO8B,EAAIkO,cAAgB,wBAAwBhM,MAAOyD,KAAM,EAAGD,GAAIqI,EAAWK,WAAW,EAAOC,SAAUN,KAG/G,KAAR/N,GACAwF,EAAkBtD,MAAOyD,KAAMoI,EAAWrI,GAAIsI,IAC9CJ,EAAqB1L,MACjByD,KAAMoI,EAAWrI,GAAIsI,EAAWI,WAAW,EAAMC,SAAWL,EAAYD,MAI5EnK,KAAK1F,OAAO8B,EAAIkO,cAAgB,qBAAqBhM,MAAOyD,KAAMoI,EAAWrI,GAAIsI,IACjFpK,KAAK1F,OAAO8B,EAAIkO,cAAgB,wBAAwBhM,MACpDyD,KAAMoI,EAAWrI,GAAIsI,EAAWI,WAAW,EAAMC,SAAWL,EAAYD,KAIpF,MAAOL,IAEX/J,EAAcU,UAAU4J,gBAAkB,SAAUjO,EAAK+N,GACrD,OAAQ/N,GACJ,IAAK,SACD4D,KAAK1F,OAAOoQ,uBAAyBP,CACrC,MACJ,KAAK,UACDnK,KAAK1F,OAAOqQ,wBAA0BR,CACtC,MACJ,KAAK,YACDnK,KAAK1F,OAAOsQ,0BAA4BT,CACxC,MACJ,KAAK,WACDnK,KAAK1F,OAAOuQ,yBAA2BV,CACvC,MACJ,KAAK,SACDnK,KAAK1F,OAAOwQ,uBAAyBX,CACrC,MACJ,KAAK,WACDnK,KAAK1F,OAAOyQ,yBAA2BZ,CACvC,MACJ,KAAK,SACDnK,KAAK1F,OAAO0Q,uBAAyBb,IAMjDpK,EAAcU,UAAU8J,cAAgB,SAAUnO,EAAKgO,GACnD,OAAQhO,GACJ,IAAK,SACD4D,KAAK1F,OAAO2Q,qBAAuBb,CACnC,MACJ,KAAK,UACDpK,KAAK1F,OAAO4Q,sBAAwBd,CACpC,MACJ,KAAK,YACDpK,KAAK1F,OAAO6Q,wBAA0Bf,CACtC,MACJ,KAAK,WACDpK,KAAK1F,OAAO8Q,uBAAyBhB,CACrC,MACJ,KAAK,SACDpK,KAAK1F,OAAO+Q,qBAAuBjB,CACnC,MACJ,KAAK,WACDpK,KAAK1F,OAAOgR,uBAAyBlB,CACrC,MACJ,KAAK,SACDpK,KAAK1F,OAAOiR,qBAAuBnB,IAM/CrK,EAAcU,UAAU+K,sBAAwB,SAAUpP,EAAK6E,EAAYnG,EAAWgP,EAAcC,EAAiBnI,EAAmBoI,GAEpI,IAAK,GADDtN,GAAU,EACL+O,EAAI,EAAGA,EAAIxK,EAAWtF,OAAQ8P,IAAK,CACxC,GAAI5B,GAAe5I,EAAWwK,EAC9B/O,IAAoBsD,KAAK4J,eAAexN,EAAKyN,EAAc/O,EAAWgP,EAAc2B,EAAG1B,EAAiBnI,EAAmBoI,GAQ/H,MANIhK,MAAK1F,OAAO8B,EAAIkO,cAAgB,oBAAsB,MAAS,IAC/DtK,KAAK1F,OAAO8B,EAAIkO,cAAgB,wBAAwBhM,MACpDyD,KAAM/B,KAAK1F,OAAO8B,EAAIkO,cAAgB,kBAAmBxI,GAAI,MAC7D0I,WAAW,EAAOC,SAAU,MAAQzK,KAAK1F,OAAO8B,EAAIkO,cAAgB,oBAGrE5N,GAMXqD,EAAcU,UAAUiL,iBAAmB,WACvC,GAAI5B,GAAe,EACfhP,EAAY,GAAIgC,MAAK,aACzBkD,MAAK1F,OAAOyP,kBACZ,IAAIA,GAAkB/J,KAAK1F,OAAOyP,eAClC/J,MAAK1F,OAAOsH,qBACZ5B,KAAK1F,OAAOsH,oBACZ,IAAIA,GAAoB5B,KAAK1F,OAAOsH,iBACpC5B,MAAK1F,OAAO0P,uBAEZ,KAAK,GADDA,GAAuBhK,KAAK1F,OAAO0P,qBAC9BzO,EAAK,EAAGC,GAAM,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,UAAWD,EAAKC,EAAGG,OAAQJ,IAElHyE,MADI5D,EAAMZ,EAAGD,IACJ+O,cAAgB,mBAAqBtK,KAAK1F,OAAOqR,eAAehQ,MAE7E,IAAIqE,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EAAG,CACxC,IAAK,GAAImC,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOuH,gBAAgBlG,OAAQmC,IACpDkC,KAAKA,KAAK1F,OAAOuH,gBAAgB/D,GAAG8N,UAAUtB,cAAgB,mBACxDtK,KAAK1F,OAAOuH,gBAAgB/D,GAAG+N,UAAUlQ,MAInD,KAAK,GAFDkG,GAAkB7B,KAAK1F,OAAOuH,gBAC9BiK,EAAmB9L,KAAK1F,OAAOqR,eAC1BI,EAAK,EAAGC,EAAoBnK,EAAiBkK,EAAKC,EAAkBrQ,OAAQoQ,IAAM,CACvF,GAAIE,GAAUD,EAAkBD,EAChC,IAAIE,EAAQJ,WAAaI,EAAQJ,UAAUlQ,OAAS,EAAG,CACnD,GAAIuQ,GAAYlM,KAAKwL,sBAAsBS,EAAQL,UAAWK,EAAQJ,UAAW/Q,EAAWgP,EAAcC,EAAiBnI,EAAmBoI,EAC9IhK,MAAK1F,OAAO2R,EAAQL,UAAUtB,cAAgB,WAAa4B,GAGnE,IAAK,GAAIC,GAAK,EAAGC,GAAM,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,UAAWD,EAAKC,EAAGzQ,OAAQwQ,IAAM,CACxH,GAAI/P,GAAMgQ,EAAGD,GACTE,EAAsBrM,KAAK1F,OAAO8B,EAAIkO,cAAgB,mBAC1D,IAAIzP,oBAAkBwR,GAAsB,CACxC,GAAIC,GAAYtM,KAAKwL,sBAAsBpP,EAAK0P,EAAkBhR,EAAWgP,EAAcC,EAAiBnI,EAAmBoI,EAC/HhK,MAAK1F,OAAO8B,EAAIkO,cAAgB,WAAagC,IAOzD,IAAK,GAHDX,GAAiB3L,KAAK1F,OAAOqR,eAC7BhQ,EAASgQ,EAAehQ,OACxBe,EAAU,EACLgG,EAAQ,EAAGA,EAAQ/G,EAAQ+G,IAAS,CACzC,GAAImH,GAAe8B,EAAejJ,EAClChG,IAAoBsD,KAAK4J,eAAe,GAAIC,EAAc/O,EAAWgP,EAAcpH,EAAOqH,EAAiBnI,EAAmBoI,GASlI,MAPIhK,MAAK1F,OAAO8I,eAAiB,MAAS,IACtC4G,EAAqB1L,MACjByD,KAAM/B,KAAK1F,OAAO8I,eAAgBtB,GAAI,MACtC0I,WAAW,EAAOC,SAAU,MAAQzK,KAAK1F,OAAO8I,iBAGxD0G,EAAepN,GAWnBqD,EAAcU,UAAU8L,iBAAmB,SAAUlN,EAAOmN,GACxD,GAAIrI,GAAe,KACfnJ,EAAW,IACf,IAAqB,gBAAVqE,GAAoB,CAC3B,GAAIoN,GAASpN,EAAMqN,MAAM,mBACzB,IAAID,GAAUA,EAAO9Q,QAAU,EAAG,CAC9BX,EAAW6M,WAAW4E,EAAO,GAAGxO,WAAW0O,OAC3C,IAAIC,GAAOH,EAAO,GAAKA,EAAO,GAAGxO,WAAW0O,OAAOrC,cAAgB,MACS,IAAxE5K,WAAS,SAAUM,KAAK1F,OAAOuS,sBAAsBC,QAAQF,GAC7DzI,EAAe,UAE4D,IAAtEzE,WAAS,OAAQM,KAAK1F,OAAOuS,sBAAsBC,QAAQF,GAChEzI,EAAe,QAE2D,IAArEzE,WAAS,MAAOM,KAAK1F,OAAOuS,sBAAsBC,QAAQF,KAC/DzI,EAAe,YAKvBnJ,GAAWqE,EACX8E,EAAe,IAMnB,QAHInJ,SAAUA,EACVmJ,aAAcA,IAStBpE,EAAcU,UAAUgC,kBAAoB,SAAU1G,GAClD,GAAIgR,GAAWhR,EAAKiR,QACpB,QAA0D,IAAtDhN,KAAK1F,OAAO2S,mBAAmBH,QAAQC,IACvChR,EAAK2F,QAAQ3F,EAAKM,UAAY,GAC9BN,EAAOiE,KAAKyC,kBAAkB1G,IAIvBA,GAUfgE,EAAcU,UAAU6F,gBAAkB,SAAUxL,EAAWC,GAC3D,GAAIsL,GAAe,EACfH,EAAQ,GAAIpJ,MAAKhC,EAAUoG,WAC3BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,UAI7B,KAHAgF,EAAMpD,SAAS,EAAG,EAAG,EAAG,GACxBoD,EAAMxE,QAAQwE,EAAM7J,UAAY,GAChC8J,EAAMrD,SAAS,EAAG,EAAG,EAAG,GACjBoD,EAAMhF,UAAYiF,EAAMjF,YACqC,IAA5DlB,KAAK1F,OAAO2S,mBAAmBH,QAAQ5G,EAAM8G,YAC7C3G,GAAgB,GAEpBH,EAAMxE,QAAQwE,EAAM7J,UAAY,EAEpC,OAAOgK,IASXtG,EAAcU,UAAU+F,mBAAqB,SAAU1L,EAAWC,EAASqL,GACvE,GAAIF,GAAQ,GAAIpJ,MAAKhC,EAAUoG,WAC3BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,WACzBkG,EAAW,CAUf,OATAlB,GAAMxE,QAAQwE,EAAM7J,UAAY,GAChC6J,EAAMpD,SAAS,EAAG,EAAG,EAAG,GACxBqD,EAAMrD,SAAS,EAAG,EAAG,EAAG,GACpBoD,EAAMhF,UAAYiF,EAAMjF,YACxBkG,EAAYpH,KAAK0H,kBAAkBxB,EAAOC,EAAOC,GAAoB,KAErEgB,EAAW,OAAU,IACrBA,EAAWA,EAAYA,EAAW,MAAS,OAExCA,GAQXrH,EAAcU,UAAUiG,iBAAmB,SAAU5L,EAAWC,GAC5D,GAAI0L,GAAgB,EAChByG,EAAWlN,KAAK1F,OAAOuG,kBACvBqF,EAAQ,GAAIpJ,MAAKhC,EAAUoG,WAC3BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,UAI7B,IAHAgF,EAAMxE,QAAQwE,EAAM7J,UAAY,GAChC6J,EAAMpD,SAAS,EAAG,EAAG,EAAG,GACxBqD,EAAMrD,SAAS,EAAG,EAAG,EAAG,GACpBoD,EAAMhF,UAAYiF,EAAMjF,UACxB,IAAK,GAAIpD,GAAI,EAAGA,EAAIoP,EAASvR,OAAQmC,IAAK,CACtC,GAAIqP,GAAiBnN,KAAK4C,kBAAkB,GAAI9F,MAAKoQ,EAASpP,IAC1DoI,GAAMhF,WAAaiM,EAAejM,WAAaiF,EAAMjF,UAAYiM,EAAejM,aAC1ElB,KAAK1F,OAAOsG,iBAAuF,IAArEZ,KAAK1F,OAAO2S,mBAAmBH,QAAQK,EAAeH,WACtFhN,KAAK1F,OAAOsG,kBACZ6F,GAAiB,GAKjC,MAAOA,IAMX1G,EAAcU,UAAU2M,gBAAkB,WAGtC,IAAK,GAFDF,GAAWlN,KAAK1F,OAAO4S,SACvBG,KACKvP,EAAI,EAAGA,EAAIoP,EAASvR,OAAQmC,IAAK,CACtC,GAAIiE,GAAO/B,KAAK4C,kBAAkBsK,EAASpP,GAAGiE,MAC1CD,EAAK9B,KAAK4C,kBAAkBsK,EAASpP,GAAGgE,GAC5C,KAAIjH,oBAAkBkH,KAASlH,oBAAkBiH,GAG5C,GAAIjH,oBAAkBkH,IAASlH,oBAAkBiH,GAAK,CACvD,GAAIU,GAAWT,GAAcD,CAC7BU,GAASM,SAAS,EAAG,EAAG,EAAG,IACuB,IAA9CuK,EAAaP,QAAQtK,EAAStB,YAC9BmM,EAAa/O,KAAKkE,EAAStB,eAI/B,MAAOa,GAAQD,GACXC,EAAKe,SAAS,EAAG,EAAG,EAAG,IACuB,IAA1CuK,EAAaP,QAAQ/K,EAAKb,YAC1BmM,EAAa/O,KAAKyD,EAAKb,WAE3Ba,EAAKL,QAAQK,EAAK1F,UAAY,GAI1C,MAAOgR,IASXtN,EAAcU,UAAU4G,qBAAuB,SAAUtL,EAAMuR,GAM3D,GALAA,EAAgBzS,oBAAkByS,GAA+BtN,KAAK1F,OAAOsG,eAA3B0M,EAC7CtN,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACzFnC,KAAK1F,OAAOmE,WAAW2D,kBACvBkL,GAAe,IAEdA,IAA2E,IAA3DtN,KAAK1F,OAAO2S,mBAAmBH,QAAQ/Q,EAAKiR,UAC7D,OAAO,CAGX,KAAK,GADDE,GAAWlN,KAAK1F,OAAOuG,kBAClB6B,EAAQ,EAAGA,EAAQwK,EAASvR,OAAQ+G,IAAS,CAClD,GAAIC,GAAc3C,KAAK4C,kBAAkB,GAAI9F,MAAKoQ,EAASxK,KACvDG,EAAY,GAAI/F,MAAK6F,EAAYzB,UAGrC,IAFAyB,EAAYG,SAAS,EAAG,EAAG,EAAG,GAC9BD,EAAUC,SAAS,GAAI,GAAI,GAAI,IAC3B/G,EAAKmF,WAAayB,EAAYzB,WAAanF,EAAKmF,UAAY2B,EAAU3B,UACtE,OAAO,EAGf,OAAO,GAUXnB,EAAcU,UAAUoG,2BAA6B,SAAU/L,EAAWC,EAAS4F,GAC/E,GASI4M,GACAC,EAVAC,EAAQzN,KAAKuB,oBAAoBzG,GACjC4S,EAAQ1N,KAAKuB,oBAAoBxG,GACjC4S,GAAmB,EACnBC,GAAiB,EACjBC,EAAgB,EAChBC,KAAkBnN,IAAkBX,KAAK1F,OAAO2H,6BAC9CjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAoBpC,KAAKqH,qBAAqBvM,EAAW,MAClJiT,KAAgBpN,IAAkBX,KAAK1F,OAAO2H,6BAC5CjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAoBpC,KAAKqH,qBAAqBtM,EAAS,KAGpJ,IAAIiF,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EAAG,CACxC4R,EAA2BvN,KAAK1F,OAA2B,mBAAEQ,EAC7D,KAASgD,EAAI,EAAGA,EAAIyP,EAAyB5R,OAAQmC,IAE7C2P,IADAO,EAAMT,EAAyBzP,IAClBiE,MAAQ0L,GAASO,EAAIlM,KAClC6L,EAAkB7P,EAG1B0P,GAAyBxN,KAAK1F,OAA2B,mBAAES,EAC3D,KAAS+C,EAAI,EAAGA,EAAI0P,EAAuB7R,OAAQmC,IAE3C4P,IADAM,EAAMR,EAAuB1P,IAChBiE,MAAQ2L,GAASM,EAAIlM,KAClC8L,EAAgB9P,OAIvB,CACDyP,EAA2BvN,KAAK1F,OAAO0P,qBACvCwD,EAAyBxN,KAAK1F,OAAO0P,oBACrC,KAASlM,EAAI,EAAGA,EAAIyP,EAAyB5R,OAAQmC,IAAK,CACtD,GAAIkQ,GAAMT,EAAyBzP,EAC/B2P,IAASO,EAAIjM,MAAQ0L,GAASO,EAAIlM,KAClC6L,EAAkB7P,GAElB4P,GAASM,EAAIjM,MAAQ2L,GAASM,EAAIlM,KAClC8L,EAAgB9P,IAI5B,GAAIhD,EAAUuB,YAActB,EAAQsB,WAAavB,EAAUqB,aAAepB,EAAQoB,YAC9ErB,EAAUmB,gBAAkBlB,EAAQkB,cAAe,CACnD,GAAK6R,EAaDD,GAAkB,MAAQJ,MAZ1B,KAAS3P,EAAI6P,EAAiB7P,EAAIyP,EAAyB5R,OAAQmC,IAC1DjD,oBAAkB0S,EAAyBzP,KAAQyP,EAAyBzP,GAAG0M,YAE5EqD,GADA/P,IAAM6P,EACYJ,EAAyBzP,GAAGgE,GAAK2L,EAGjCF,EAAyBzP,GAAY,SAQvE,IAAKiQ,EAaDF,GAAiBH,MAZjB,KAAS5P,EAAI,EAAGA,GAAK8P,EAAe9P,IAC3B0P,EAAuB1P,GAAG0M,YAEvBqD,GADA/P,IAAM8P,EACYF,EAAQF,EAAuB1P,GAAGiE,KAGnCyL,EAAuB1P,GAAG2M,cAU3D,IAAIkD,IAAoBC,EACpB,GAAKG,EAgBDF,GAAkBH,EAAQD,MAf1B,KAAK,GAAI3P,GAAI6P,EAAiB7P,GAAK8P,EAAe9P,IACzCjD,oBAAkB0S,EAAyBzP,KAAQyP,EAAyBzP,GAAG0M,YAE5EqD,GADA/P,IAAM6P,EACYJ,EAAyBzP,GAAGgE,GAAK2L,EAE9C3P,IAAM8P,EACOF,EAAQH,EAAyBzP,GAAGiE,KAGrCwL,EAAyBzP,GAAG2M,cAUxDsD,GAODF,GAAkBH,EAAQD,EANdF,EAAyBI,GAC1BnD,YACPqD,EAAgBH,EAAQD,EAQxC,OAAOI,IAOX9N,EAAcU,UAAU+C,sBAAwB,SAAUzH,GACtD,GAAIgR,GAAWhR,EAAKiR,SAChBiB,EAA8B,IAAblB,EAAkB,EAAIA,EAAW,EAClD3L,EAAapB,KAAK1F,OAA6B,qBAAEyB,EACrD,QAA0D,IAAtDiE,KAAK1F,OAAO2S,mBAAmBH,QAAQC,KAAgF,IAA3D/M,KAAK1F,OAAO2S,mBAAmBH,QAAQmB,IACjF,QAAf7M,GAA2D,IAAnCpB,KAAKuB,oBAAoBxF,IACpDA,EAAK2F,QAAQ3F,EAAKM,UAAY,IACiC,IAA3D2D,KAAK1F,OAAO2S,mBAAmBH,QAAQ/Q,EAAKiR,YAC5CjR,EAAOiE,KAAKwD,sBAAsBzH,IAE/BA,GAGAA,GASfgE,EAAcU,UAAUyN,sBAAwB,WAC5C,GAAIjC,IAAW,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC7EkC,EAAgBlC,EAAQtQ,MACQ,KAAhCqE,KAAK1F,OAAO8T,SAASzS,SACrBqE,KAAK1F,OAAO8T,UAAY,SAAU,UAAW,YAAa,WAAY,UAI1E,KAAK,GAFDA,GAAWpO,KAAK1F,OAAO8T,SAASC,QAChC1S,EAASyS,EAASzS,OACbmC,EAAI,EAAGA,EAAInC,EAAQmC,IACxBsQ,EAAStQ,GAAKsQ,EAAStQ,GAAGwM,aAE9BtK,MAAK1F,OAAO2S,qBACZ,KAASnP,EAAI,EAAGA,EAAIqQ,EAAerQ,KACO,IAAlCsQ,EAAStB,QAAQb,EAAQnO,KACzBkC,KAAK1F,OAAO2S,mBAAmB3O,KAAKR,IAWhDiC,EAAcU,UAAUgB,QAAU,SAAU/E,EAASX,GAEjD,GAAIuF,GAAO5E,EAAU,KAGjB4R,GAAO5R,EAAkB,MAF7B4E,EAAOtD,SAASsD,EAAM,MAEgB,GAElCiN,EAAM7R,EAAkB,KAAP4E,EAAsB,IAD3CgN,EAAMtQ,SAASsQ,EAAK,IAEpBvS,GAAK+G,SAASxB,EAAMgN,EAAKC,IAQ7BxO,EAAcU,UAAUiH,kBAAoB,SAAU5M,EAAWC,EAASqL,GACtE,GAAIF,GAAQ,GAAIpJ,MAAKhC,EAAUoG,WAC3BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,UAI7B,OAHIkF,IACApG,KAAKwO,uBAAuBtI,EAAOC,GAEhCA,EAAMjF,UAAYgF,EAAMhF,WAOnCnB,EAAcU,UAAU+N,uBAAyB,SAAUtI,EAAOC,GAC9D,GAEIsI,GACAC,EAHAC,EAAMzI,EAAM0I,oBACZC,EAAM1I,EAAMyI,mBAGhB,IAAID,IAAQE,EAAK,CACb,GAAIC,GAAa,GAAIhS,OAAK,GAAIA,OAAOb,cAAe,EAAG,GAAG2S,mBAS1D,IARIE,IAAeH,GACfD,EAAQxI,EACRuI,EAAME,GAEDG,IAAeD,IACpBH,EAAQvI,EACRsI,EAAMI,GAENC,EAAa,EAAG,CACZC,EAASD,EAAaL,CAC1BC,GAAMjN,QAAQiN,EAAMxN,UAAsB,GAAT6N,EAAc,SAE9C,IAAID,GAAc,EAAG,CACtB,GAAIC,GAASN,EAAMK,CACnBJ,GAAMjN,QAAQiN,EAAMxN,UAAsB,GAAT6N,EAAc,QAS3DhP,EAAcU,UAAUc,oBAAsB,SAAUxF,GACpD,MAA0B,IAAlBA,EAAKQ,WAAkB,GAA2B,GAApBR,EAAKU,aAAqBV,EAAKY,aAAgBZ,EAAKc,kBAAoB,KASlHkD,EAAcU,UAAUuO,OAAS,SAAUjT,EAAMqC,GAC7C,GAAI6Q,GAAclT,EAAK6S,mBACvB,KACI,GAAIM,GAAgB,GAAIpS,MAAKf,EAAKoT,eAAe,SAAWC,SAAUhR,IACtE,OAAKiR,OAAMH,EAAchO,WAGlB,GAFMnF,EAAKmF,UAAYgO,EAAchO,WAAa,IAAS+N,EAItE,MAAOK,GACH,MAAO,KAGfvP,EAAcU,UAAU9B,OAAS,SAAU5C,EAAMqC,GAI7C,MAHKvD,qBAAkBkB,KACnBA,EAAOiE,KAAKuP,QAAQxT,EAAMqC,EAAUrC,EAAK6S,sBAEtC7S,GAEXgE,EAAcU,UAAU8O,QAAU,SAAUxT,EAAMyT,EAAYC,GAChC,gBAAfD,KACPA,EAAaxP,KAAKgP,OAAOjT,EAAMyT,IAEX,gBAAbC,KACPA,EAAWzP,KAAKgP,OAAOjT,EAAM0T,GAEjC,IAAIC,GAAkB3T,EAAK6S,oBAEvBe,GADJ5T,EAAO,GAAIe,MAAKf,EAAKmF,UAAsC,KAAzBsO,EAAaC,KACtBb,mBACzB,OAAO,IAAI9R,MAAKf,EAAKmF,UAAgD,KAAnCyO,EAAgBD,KAQtD3P,EAAcU,UAAUmP,QAAU,SAAU7T,EAAMqC,GAC9C,GAAIoR,GAAazT,EAAK6S,oBAClBa,EAAWzP,KAAKgP,OAAOjT,EAAMqC,EACP,iBAAfoR,KACPA,EAAaxP,KAAKgP,OAAOjT,EAAMyT,IAEX,gBAAbC,KACPA,EAAWzP,KAAKgP,OAAOjT,EAAM0T,GAEjC,IAAIC,GAAkB3T,EAAK6S,oBAEvBe,GADJ5T,EAAO,GAAIe,MAAKf,EAAKmF,UAAsC,KAAzBsO,EAAaC,KACtBb,mBACzB,OAAO,IAAI9R,MAAKf,EAAKmF,UAAgD,KAAnCyO,EAAgBD,KAQtD3P,EAAcU,UAAUmC,kBAAoB,SAAU7G,EAAM8T,GACxD,GAAIC,EACJ,IAAIjV,oBAAkBkB,GAClB,MAAO,KAEN,IAAIA,YAAgBe,MACrBgT,EAAc,GAAIhT,MAAKf,EAAKmF,eAE3B,CACD,GAAI6O,GAAa/P,KAAK1F,OAAO0V,UAAUC,UAAUlU,GAAQmU,OAAQlQ,KAAK1F,OAAO6V,gBAAiBC,KAAM,YACpGN,GAAcjV,oBAAkBkV,KAAgBV,MAAM,GAAIvS,MAAKf,GAAMmF,WAAa,GAAIpE,MAAKf,GAAQgU,EAEvG,OAAKlV,oBAAkBmF,KAAK1F,OAAO8D,WAAayR,EACxB7P,KAAK4P,QAAQE,EAAa9P,KAAK1F,OAAO8D,UAInD0R,GASf/P,EAAcU,UAAUgE,aAAe,SAAU4L,EAAOC,GACpD,MAAKzV,qBAAkBwV,IAAWxV,oBAAkByV,IAG1CzV,oBAAkBwV,IAAUxV,oBAAkByV,GAC7C,EAEFzV,oBAAkBwV,KAAWxV,oBAAkByV,IAC5C,EAGD,KATCD,EAAMnP,UAAYoP,EAAMpP,UAAa,EAAKmP,EAAMnP,UAAYoP,EAAMpP,WAAc,EAAI,GAmBpGnB,EAAcU,UAAU8P,kBAAoB,SAAUvV,EAAUmJ,GAC5D,GAAI9E,GAAQ,EACZ,KAAKxE,oBAAkBG,KACnBqE,GAASwI,WAAW7M,EAASwV,QAAQ,IAAM,KACtC3V,oBAAkBsJ,IAAe,CAClC,GAAIsM,GAAsB,IAAbzV,CACQ,SAAjBmJ,EACA9E,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,QAAU3Q,KAAK1F,OAAOoW,UAAUC,YAAY,OAE1E,SAAjBxM,EACL9E,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,SAAW3Q,KAAK1F,OAAOoW,UAAUC,YAAY,QAE3E,WAAjBxM,IACL9E,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,WAChD3Q,KAAK1F,OAAOoW,UAAUC,YAAY,WAIlD,MAAOtR,IAUXU,EAAcU,UAAUmQ,cAAgB,SAAUC,EAAMC,GACpD,GAAIzR,GAAQ,EACZ,KAAKxE,oBAAkBgW,KACnBxR,GAASwI,WAAWgJ,GAAML,QAAQ,GAAK,KAClC3V,oBAAkBiW,IAAW,CAC9B,GAAIL,GAAkB,IAATI,CACI,SAAbC,EACAzR,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,QAAU3Q,KAAK1F,OAAOoW,UAAUC,YAAY,OAE9E,SAAbG,EACLzR,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,SAAW3Q,KAAK1F,OAAOoW,UAAUC,YAAY,QAE/E,WAAbG,IACLzR,GAASoR,EAASzQ,KAAK1F,OAAOoW,UAAUC,YAAY,WAChD3Q,KAAK1F,OAAOoW,UAAUC,YAAY,WAIlD,MAAOtR,IASXU,EAAcU,UAAUsQ,uCAAyC,SAAUC,GACvE,GAAIC,GAAQjR,KACR8I,EAA2D,gBAAjC9I,MAAK1F,OAAOwO,iBACtC,GAAIhM,MAAKkD,KAAK1F,OAAOwO,kBAAoB9I,KAAK1F,OAAOwO,iBACrDoI,EAAuD,gBAA/BlR,MAAK1F,OAAO4W,eACpC,GAAIpU,MAAKkD,KAAK1F,OAAO4W,gBAAkBlR,KAAK1F,OAAO4W,eACnDlI,EAAe,KACfmI,EAAa,KACbpI,EAAYrJ,WAAS,0BAA2BM,KAAK1F,OACzD,IAAMwO,GAAqBoI,IAAoBnI,GAAgC,IAApBA,EAASpN,QAI/D,GAAIoN,EAASpN,OAAS,EAAG,CAC1B,GAAIyV,GAAkBrI,EAASsF,QAAQgD,KAAK,SAAUC,EAAGC,GACrD,MAAQ,IAAKzU,MAAKwU,EAAEL,EAAM3W,OAAOmE,WAAW3D,YAAaoG,UACrD,GAAKpE,MAAKyU,EAAEN,EAAM3W,OAAOmE,WAAW3D,YAAaoG,YAErDsQ,EAAgBzI,EAASsF,QAAQgD,KAAK,SAAUC,EAAGC,GACnD,MAAQ,IAAKzU,MAAKyU,EAAEN,EAAM3W,OAAOmE,WAAW1D,UAAWmG,UAAY,GAAKpE,MAAKwU,EAAEL,EAAM3W,OAAOmE,WAAW1D,UAAWmG,WAEtH8H,GAAeoI,EAAgB,GAAGpR,KAAK1F,OAAOmE,WAAW3D,WACzDqW,EAAaK,EAAcA,EAAc7V,OAAS,GAAGqE,KAAK1F,OAAOmE,WAAW1D,cAZ5EiO,GAAehJ,KAAK4C,kBAAkB,GAAI9F,OAC1CqU,EAAanR,KAAK4C,kBAAkB,GAAI9F,MAAKkM,EAAa9H,WAa9DlB,MAAK1F,OAAOuO,sBAAwBC,EAAmB,GAAIhM,MAAKgM,EAAiB5H,WACrD,gBAAjB8H,GAA4B,GAAIlM,MAAKkM,GAAgBA,EAChEhJ,KAAK1F,OAAOmX,oBAAsBP,EAAiB,GAAIpU,MAAKoU,EAAehQ,WACjD,gBAAfiQ,GAA0B,GAAIrU,MAAKqU,GAAcA,GAQhEpR,EAAcU,UAAUiR,sBAAwB,SAAUV,GACtD,GAAIC,GAAQjR,IACZ,IAAIA,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAOqX,mBAClC3R,KAAK1F,OAAOuO,uBAAyB7I,KAAK1F,OAAOmX,oBAGjD,MAFAzR,MAAK1F,OAAOuO,sBAAwB7I,KAAK4C,kBAAkB5C,KAAK1F,OAAOuO,4BACvE7I,KAAK1F,OAAOmX,oBAAsBzR,KAAK4C,kBAAkB5C,KAAK1F,OAAOmX,qBAGzE,IAAIvL,GAAgD,gBAAjClG,MAAK1F,OAAOwO,iBAC3B,GAAIhM,MAAKkD,KAAK1F,OAAOwO,kBAAoB9I,KAAK1F,OAAOwO,iBACrD3C,EAA8C,gBAA/BnG,MAAK1F,OAAO4W,eAC3B,GAAIpU,MAAKkD,KAAK1F,OAAO4W,gBAAkBlR,KAAK1F,OAAO4W,eACnDpI,EAAmB9I,KAAK1F,OAAOsX,eAAeC,WAAa7R,KAAK1F,OAAOuO,sBACrE7I,KAAK4C,kBAAkB5C,KAAK1F,OAAOuO,uBAAyB7I,KAAK4C,kBAAkBsD,GACrFgL,EAAiBlR,KAAK1F,OAAOsX,eAAeC,WAAa7R,KAAK1F,OAAOmX,oBACnEzR,KAAK4C,kBAAkB5C,KAAK1F,OAAOmX,qBAAuBzR,KAAK4C,kBAAkBuD,GACnF6C,EAAe,KACfmI,EAAa,KACbpI,EAAW/I,KAAK1F,OAAOyO,SACvB+I,EAAkB9R,KAAK1F,OAAOwX,gBAC9BC,KACAC,EAAgB,SAAUjW,GACrBlB,oBAAkBkB,IACnBgW,EAAUzT,KAAKvC,IAGnBkW,EAAY,SAAUC,GAClBA,EAAMvW,OAAS,IACfuW,EAAMb,KAAK,SAAUC,EAAGC,GACpB,MAAOD,GAAEpQ,UAAYqQ,EAAErQ,YAE3B8H,EAAe,GAAIlM,MAAKoV,EAAM,GAAGhR,WACjCiQ,EAAae,EAAMvW,OAAS,EAAI,GAAImB,MAAKoV,EAAMA,EAAMvW,OAAS,GAAGuF,WAAa,MAGtF,MAAO4H,IAAqBoI,IAAmBnI,EAASpN,OAAS,GAAMqV,GAAYhR,KAAK1F,OAAOsX,eAAeO,YAAa,EAEnHL,EAAgBnW,OAAS,GAAKqE,KAAK1F,OAAOsX,eAAeO,aACzDnS,KAAK1F,OAAO4H,SAASkQ,cACrBpS,KAAK1F,OAAO4H,SAASkQ,aAAaC,eAAe1W,OAAS,EAC/CmW,EAGA/I,GAENuJ,QAAQ,SAAUvU,GACvBgU,IACA,IACI9N,GACAO,EAFA+N,EAAOxU,EAAKS,eAGZ3D,qBAAkB0X,EAAKzX,YAAcD,oBAAkB0X,EAAKxX,UAC5DkJ,EAAgB,KAChBO,EAAc,OAGdP,EAAgBgN,EAAMhI,kBAAkBsJ,GACxC/N,EAAcyM,EAAMtH,gBAAgB4I,IAExCP,EAAchJ,GACdgJ,EAAcb,GACda,EAAc/N,GACd+N,EAAcxN,GACVyM,EAAM3W,OAAOkY,iBAAmBvB,EAAM3W,OAAOsX,eAAeO,cAC5DH,EAAcO,EAAK1T,mBACnBmT,EAAcO,EAAK3T,kBAEnB2T,EAAKE,YAAcF,EAAKE,WAAW9W,OAAS,IAAMsV,EAAM3W,OAAOsX,eAAeO,aAC9EI,EAAKE,WAAWH,QAAQ,SAAUI,GAC9BV,EAAcf,EAAMrO,kBAAkB8P,EAAK3W,SAGnDkW,EAAUF,KAEdA,KACAC,EAAchJ,GACdgJ,EAAcb,GAEVnR,KAAK1F,OAAOqY,aAAahX,OAAS,IAAMqE,KAAK1F,OAAOsX,eAAeO,aAChDnS,KAAK1F,OAAOqY,aAElBL,QAAQ,SAAUM,EAAQnT,GACnCuS,EAAcf,EAAMrO,kBAAkBgQ,EAAOxW,QAGjD4D,KAAK1F,OAAOuG,kBAAkBlF,OAAS,IAAMqE,KAAK1F,OAAOsX,eAAeO,aACzDnS,KAAK1F,OAAOuG,kBAElByR,QAAQ,SAAUO,EAASpT,GAChCuS,EAAc,GAAIlV,MAAK+V,MAG/BZ,EAAUF,GACL/I,GAAiBmI,IACbnI,EAKDA,EAAenO,oBAAkBmO,GAAgBhJ,KAAK4C,kBAAkB,GAAI9F,OAAUkM,GAJtFA,EAAenO,oBAAkBmO,GAAgBhJ,KAAK4C,kBAAkB,GAAI9F,OAAUkM,GACzElG,SAAS,EAAG,EAAG,EAAG,IAKnCqO,EAAanR,KAAK4C,kBAAkB,GAAI9F,MAAKkM,EAAa9H,aAC/CQ,QAAQyP,EAAW9U,UAAY,SAGvCyM,IAAqBoI,GAAuC,IAApBnI,EAASpN,SACxDqN,EAAehJ,KAAK4C,kBAAkB,GAAI9F,OAC1CqU,EAAanR,KAAK4C,kBAAkB,GAAI9F,MAAKkM,EAAa9H,YAEzD8P,IAUD8B,WAAS,eAAgB9J,EAAcgI,GACvC8B,WAAS,aAAc3B,EAAYH,KAVnChR,KAAK+S,qBAAuB/S,KAAK1F,OAAOuO,sBACxC7I,KAAK1F,OAAOuO,sBAAwBG,EAAiBhJ,KAAK1F,OAAOsX,eAAeO,YAEzDnJ,EADjBnO,oBAAkBiO,GAChBE,EADqC,GAAIlM,MAAKgM,EAAiB5H,WACjC,GAAIpE,MAAKgM,EAAiB5H,WAChElB,KAAK1F,OAAOmX,oBAAsBN,EAAenR,KAAK1F,OAAOsX,eAAeO,YAEvDhB,EADftW,oBAAkBqW,GAChBC,EADmC,GAAIrU,MAAKoU,EAAehQ,WACjC,GAAIpE,MAAKoU,EAAehQ,YAM9DlB,KAAK1F,OAA6B,sBAAI,GAQ1CyF,EAAcU,UAAUuS,mBAAqB,SAAUrO,GACnD,GAAI3J,GAAW,EACXkL,EAAQvB,EAAS,GAAG7J,UACpBqL,EAAQxB,EAASA,EAAShJ,OAAS,GAAGZ,OAU1C,OAT8C,SAA1CiF,KAAK1F,OAAOsX,eAAeqB,WAC3BjY,GAAYkY,KAAKC,KAAKnT,KAAK0H,kBAAkBxB,EAAOC,SAEL,YAA1CnG,KAAK1F,OAAOsX,eAAeqB,WAChCjY,GAAYkY,KAAKC,KAAKnT,KAAK0H,kBAAkBxB,EAAOC,QAGpDnL,GAAYkY,KAAKC,KAAKnT,KAAK0H,kBAAkBxB,EAAOC,UAEjDnL,GAEJ+E,KCvvDPqT,EAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAUnFG,EAA+B,SAAUC,GAEzC,QAASD,GAAczZ,GACnB,GAAI2W,GAAQ+C,EAAOC,KAAKjU,KAAM1F,IAAW0F,IASzC,OARAiR,GAAMiD,2BACNjD,EAAMkD,YAAa,EACnBlD,EAAMmD,wBAAyB,EAC/BnD,EAAMnR,IAAM,EACZmR,EAAMoD,YAAc,EACpBpD,EAAMqD,WACNrD,EAAMsD,iBACNtD,EAAMuD,mBACCvD,EA63GX,MAx4GAmC,GAAUW,EAAeC,GAazBD,EAActT,UAAU+T,iBAAmB,WACvCxU,KAAK1F,OAAOma,GAAG,uBAAwBzU,KAAK0U,iBAAiBC,KAAK3U,QAOtE+T,EAActT,UAAUiU,iBAAmB,SAAUE,GACjD,GAAI3D,GAAQjR,IAcZ,IAbI4U,IACA5U,KAAK1F,OAAOyO,YACZ/I,KAAK1F,OAAOwX,mBACZ9R,KAAK1F,OAAOua,kBACZ7U,KAAK8U,aACL9U,KAAKsU,WACLtU,KAAK1F,OAAOya,OACZ/U,KAAKqU,YAAc,EACnBrU,KAAKuU,iBACLvU,KAAK1F,OAAO0a,0BACZhV,KAAK1F,OAAO4H,SAAS+S,cACrBjV,KAAK1F,OAAOga,YAEZzZ,oBAAkBmF,KAAK1F,OAAOY,YAC9B8E,KAAK1F,OAAOY,cACZ8E,KAAK1F,OAAO4a,kBACZlV,KAAK1F,OAAO6a,YAAYP,OAEvB,IAAI5U,KAAK1F,OAAOY,qBAAsBC,eACvC6E,KAAKoV,eAAeR,OAEnB,CACD,GAAI5U,KAAK1F,OAAOY,qBAAsBO,SAAUR,EAAgB+E,KAAK1F,QAAS,CAC1E,GAAI+a,GAAY3V,WAAS,SAAUM,KAAK1F,OAAOY,WAC/C8E,MAAK8U,UAAYO,MAGjBrV,MAAK8U,UAAY9U,KAAK1F,OAAOY,UAEjC8E,MAAKkV,kBACLlV,KAAKsV,kBACLtV,KAAK1F,OAAO6a,YAAYP,GACxB5U,KAAK1F,OAAOyO,SAASwM,IAAI,SAAUxX,GAC/BkT,EAAM3W,OAAOkb,gBAAgBC,cAAc1X,EAAKS,gBAAgBmG,SAAU5G,EAAKS,gBAAgBkX,UAGvG1V,KAAK1F,OAAOyO,SAASwM,IAAI,SAAUxX,GAC/BkT,EAAM3W,OAAOkb,gBAAgBC,cAAc1X,EAAKS,gBAAgBmG,SAAU5G,EAAKS,gBAAgBkX,WAGvG3B,EAActT,UAAUyU,gBAAkB,WACtClV,KAAK1F,OAAO4a,kBACPlV,KAAK1F,OAAOqb,mBACb3V,KAAK1F,OAAO+J,cAAc0M,yCAC1B/Q,KAAK1F,OAAOsX,eAAegE,yBAGnC7B,EAActT,UAAU2U,eAAiB,SAAUR,GAC/C,GAAI3D,GAAQjR,KACR6V,EAAe7V,KAAK1F,OAAOwb,gBAAiBC,SAAQ/V,KAAK1F,OAAOwb,MAAQ,GAAIC,QAChFF,GAAaG,eACb,IAAIC,GAAcjW,KAAK1F,OAAOY,UAC1B8E,MAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,iBACxDpC,KAAKkV,kBACLlV,KAAK1F,OAAO6a,YAAYP,IAGxBqB,EAAYC,aAAaL,GAAcM,KAAK,SAAUC,GAClDnF,EAAM6D,UAAYsB,EAAEvY,OACpBoT,EAAMiE,oBACDjE,EAAM3W,OAAO6H,mBAAsB8O,EAAM3W,OAAO6H,oBAAuB8O,EAAM3W,OAAOmE,WAA2B,kBAChHwS,EAAMqE,kBAEVrE,EAAM3W,OAAO6a,YAAYP,KAC1ByB,MAAM,SAAUD,GAEfnF,EAAM3W,OAAO4a,kBACbjE,EAAM3W,OAAO6a,YAAYP,GACzB3D,EAAM3W,OAAOgc,QAAQ,iBAAmBhH,MAAO8G,OAI3DrC,EAActT,UAAU8V,oBAAsB,SAAUrb,GAKpD,IAAK,GADDuE,GAHA+W,EAAc,GAAIrb,eAAYD,GAAYub,cAAa,GAAIV,UAC1DW,MAAM1W,KAAK1F,OAAOmE,WAAWkY,WAC9BC,KAEK9Y,EAAI,EAAGA,EAAI0Y,EAAY7a,OAAQmC,IAAK,CACzC,GAAI+Y,GAAYL,EAAY1Y,IACvBjD,oBAAkBgc,EAAUjb,OAC7B6D,EAAQO,KAAKsU,QAAQxH,QAAQ+J,EAAUjb,IAAIqC,cAC9B,IACJpD,oBAAkBgc,EAAUjb,KAC7BV,EAAWuE,GAAOO,KAAK1F,OAAOmE,WAAWqY,OAASD,EAAUE,OAKzD,IAAXtX,GACAmX,EAAStY,KAAK0Y,MAAMJ,EAAUC,EAAUE,OAGhD/W,KAAKuU,cAAgBvU,KAAKiX,YAAY/b,EAAY0b,IAEtD7C,EAActT,UAAU6U,gBAAkB,WACtC,GAAI4B,GAAgBlX,KAAK1F,OAAOmE,WAAWlE,GACvC4c,EAAkBnX,KAAK1F,OAAOmE,WAAWkY,SACzCS,IACJ,IAAKvc,oBAAkBqc,IAAmBrc,oBAAkBsc,GA6BxDC,EAAmBpX,KAAK8U,cA7BkD,CAC1E,GAAI/W,MACAsZ,MAAgB,EAChBrX,MAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAoBpC,KAAK1F,OAAOgd,uBACxFD,EAAgBE,KAAKC,MAAMD,KAAKE,UAAUzX,KAAK8U,YAEnD,KAAK,GAAIhX,GAAI,EAAGA,EAAIkC,KAAK8U,UAAUnZ,OAAQmC,IAAK,CAC5C,GAAI4Z,GAAW1X,KAAK8U,UAAUhX,EAC1B4Z,GAAqB,kBACdA,GAAqB,WAEhC3Z,EAAKO,KAAKJ,eAAewZ,GAAU,IAC9B7c,oBAAkB6c,EAASR,KAC5BlX,KAAKsU,QAAQhW,KAAKoZ,EAASR,GAAejZ,YAG7C+B,KAAK1F,OAAOmE,WAAWqY,OACxB9W,KAAK1F,OAAOqd,eAAgBlZ,YAAcqY,MAAO,cAAgB,GAEhEjc,oBAAkBwc,GAKnBrX,KAAKuW,oBAAoBxY,IAJzBiC,KAAKuW,oBAAoBvW,KAAK8U,WAC9B9U,KAAK8U,UAAYuC,GAKrBD,EAAmBpX,KAAKuU,cAY5B,GAPIvU,KAAK1F,OAAOmE,WAAWmZ,YACvB5X,KAAK6X,kBAAoB,GAAI1c,eAAY6E,KAAK1F,OAAOwd,aAAarB,cAAa,GAAIV,UAC9EW,MAAM1W,KAAK1F,OAAOmE,WAAWmZ,YAC7B5X,KAAK1F,OAAOmE,WAAWkG,WACxB3E,KAAK1F,OAAOmE,WAAWkG,SAAW,aAGb,gBAAzB3E,KAAK1F,OAAOyd,SAA4B,CACxC,GAAIC,GAAY9Z,eAAe8B,KAAK1F,OAAO0d,WAAW,GAClDC,IAEJ,IADAjY,KAAKkY,gCAAgCF,EAAWZ,EAAkBa,GAC9DA,EAAgBtc,OAAS,EAAG,CAC5B,GAAI4C,MACA4Z,EAAenY,KAAK1F,OAAO8d,eAAeC,MAAQ,cACtD9Z,GAAOyB,KAAK1F,OAAO8d,eAAe7d,IAAM,EACxCgE,EAAO4Z,GAAgBnY,KAAK1F,OAAOoW,UAAUC,YAAY,kBACzDpS,EAAOyB,KAAK1F,OAAOmE,WAAWqY,OAASmB,EACvCD,EAAU1Z,KAAKC,GAEnB6Y,EAAmBY,EAEvBhY,KAAKsY,kBAAkBlB,IAS3BrD,EAActT,UAAUyX,gCAAkC,SAAUF,EAAWja,EAAMka,GAgDjF,IAAK,GADDM,GAASvY,KACJlC,EAAI,EAAGA,EAAIC,EAAKpC,OAAQmC,KA/CnB,SAAUA,GACpB,GAAI4Z,GAAW3Z,EAAKD,GAChBgZ,EAA2C,OAAnCyB,EAAOje,OAAOmE,WAAWqY,MAAiByB,EAAOje,OAAOmE,WAAWqY,MAAQyB,EAAOje,OAAOmE,WAAWqY,MAAQ,WACpH0B,EAAed,GAAYA,EAASa,EAAOje,OAAOmE,WAAWga,cAC7DC,EAAoBH,EAAOje,OAAO8d,eAAe7d,EACrD,IAAMmd,EAASZ,IAAqC,IAA3BY,EAASZ,GAAOnb,SAAiB6c,IAAgBA,EAAa7c,SAkC7E+b,EAASZ,IAAWY,EAASZ,IAAqC,IAA3BY,EAASZ,GAAOnb,SAC7Dsc,EAAgB3Z,KAAKoZ,OAlCrB,IAA8B,mBAAU,CACpCa,EAAOI,kBAAmB,CAE1B,KAAK,GADDpe,GAAKie,EACA/M,EAAI,EAAGA,EAAIuM,EAAUrc,OAAQ8P,IAClC,GAAIuM,EAAUvM,GAAG8M,EAAOje,OAAO8d,eAAeC,MAAMpa,aAAe1D,EAAG0D,WAAY,CAC1E+Z,EAAUvM,GAAGqL,GACbkB,EAAUvM,GAAGqL,GAAOxY,KAAKoZ,GAGzBM,EAAUvM,GAAGqL,IAAUY,EAE3B,YAKRc,GAAalG,QAAQ,SAAUsG,GAG3B,IAAK,GAFDre,GAA0B,gBAAbqe,GAAyBA,EAASF,GAC/CE,EACKnN,EAAI,EAAGA,EAAIuM,EAAUrc,OAAQ8P,IAClC,GAAIuM,EAAUvM,GAAGiN,GAAmBza,aAAe1D,EAAG0D,WAAY,CAC1D+Z,EAAUvM,GAAGqL,GACbkB,EAAUvM,GAAGqL,GAAOxY,KAAKoZ,GAGzBM,EAAUvM,GAAGqL,IAAUY,EAE3B,SAShBA,GAASa,EAAOje,OAAOmE,WAAWqY,QAAUY,EAASa,EAAOje,OAAOmE,WAAWqY,OAAOnb,QACrF4c,EAAOL,gCAAgCF,EAAWN,EAASa,EAAOje,OAAOmE,WAAWqY,OAAQmB,IAKxFna,IAUhBiW,EAActT,UAAU6X,kBAAoB,SAAUva,GAClDiC,KAAK6Y,wBAAwB9a,EAAM,GACnCiC,KAAK1F,OAAOwe,gBAAkB5a,eAAe8B,KAAK1F,OAAOyO,UAAU,KAC9D/I,KAAK1F,OAAO2H,6BAAgCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,mBACvBpC,KAAK1F,OAAOye,QAAU/Y,KAAK1F,OAAOyO,SAASiQ,OAAO,SAAUzD,EAAKvH,GAE7D,MADAuH,GAAI0D,IAAIjL,EAAI1E,SAAU0E,GACfuH,GACR,GAAI2D,OAGkB,iBAAzBlZ,KAAK1F,OAAOyd,UACZ/X,KAAKmZ,+BAELnZ,KAAK1F,OAAOmE,WAAW2a,YAAcpZ,KAAK1F,OAAO+e,mBACjDrZ,KAAK1F,OAAO+e,kBAAkBC,+BAGtCvF,EAActT,UAAU0Y,6BAA+B,WAoBnD,IAAK,GADDI,GAASvZ,KACJlC,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOkf,aAAa7d,OAAQmC,KAnBvC,SAAUA,GACpB,GAAIuB,KAGJ,IAFAA,EAAM,GAAKka,EAAOjf,OAAOkf,aAAa1b,GAAG,GACzCuB,EAAM,GAAKka,EAAOjf,OAAOkf,aAAa1b,GAAGuQ,MAAM,GAC9B,MAAbhP,EAAM,GAAY,CAClB,GAAIoa,MACAC,IACJH,GAAOjf,OAAOyO,SAAS4Q,OAAO,SAAU5b,GAChCA,EAAKS,gBAAgBkX,OAAOzX,aAAeoB,EAAM,IAAqB,IAAftB,EAAK6b,QAC5DF,EAAMpb,KAAKP,EAAKS,gBAAgBqb,aAChCJ,EAAgBnb,KAAKP,KAG7B,KAAK,GAAI0N,GAAI,EAAGA,EAAIgO,EAAgB9d,OAAQ8P,IACxCgO,EAAgBhO,GAAGjN,gBAAgBsb,oBAAsBJ,IAMzD5b,IAGhBiW,EAActT,UAAUoY,wBAA0B,SAAU9a,EAAM6b,EAAOpQ,GAiErE,IAAK,GAhEDyH,GAAQjR,KACRrE,EAASoC,EAAKpC,OA8Ddoe,EAAS/Z,KACJlC,EAAI,EAAGA,EAAInC,EAAQmC,KA9Dd,SAAUA,GACpB,GAAI4Z,GAAW3Z,EAAKD,EACpB,KAAKjD,oBAAkBkf,EAAOzf,OAAOmE,WAAWmZ,WAAY,CACxD,GAAIE,GAAciC,EAAOlC,kBACrB8B,OAAO,SAAUK,GAAK,MAAOA,GAAEpe,MAAQ8b,EAASzG,EAAM3W,OAAOmE,WAAWlE,KACxEud,GAAYnc,OAAS,IACrB+b,EAASqC,EAAOzf,OAAOmE,WAAWkG,UAAYmT,EAAY,GAAGf,OAGjEgD,EAAOzf,OAAOmE,WAAW2D,iBAAmBsV,EAAyB,iBACrElO,EAAauQ,EAAOzf,OAAO+O,kBAAkBqO,EAAyB,gBAE1E,IAAI1T,GAAY+V,EAAOE,aAAavC,EAAUkC,EAAOpQ,GAAY,KAC5DuQ,EAAOzf,OAAOqb,mBAAsBoE,EAAOzf,OAAO2H,6BAAgC8X,EAAOzf,OAAO0G,QACjG+Y,EAAOzf,OAAO4H,SAASC,mBAAqB4X,EAAOzf,OAAOmE,WAAW2D,kBACrE2X,EAAOG,oBAAoBlW,GAE/BA,EAAUvE,MAAQsa,EAAO1F,cACzB0F,EAAOzf,OAAOya,IAAI/Q,EAAUvE,OAASuE,EAAUxF,gBAAgBqb,YAC/DE,EAAOzf,OAAOyO,SAASzK,KAAK0F,GAC5B+V,EAAOzf,OAAO6f,WAAWnW,EACzB,IAAIoW,GAAY1C,EAASqC,EAAOzf,OAAOmE,WAAWqY,QAAWY,EAAmB,UAAKA,EAAmB,SAAEqC,EAAOzf,OAAOmE,WAAWqY,MACnI,IAA+B,iBAA3BiD,EAAOzf,OAAOyd,UAA+Bld,oBAAkBuf,IAC5Dvf,oBAAkBmJ,EAAUwF,aAAmC,IAApBxF,EAAU4V,MAAa,CACrE,GAAIhf,GAAYoJ,EAAUxF,gBACtByW,EAAajR,CACjB+V,GAAOzf,OAAO8J,eAAexJ,EAAU+F,eAAiB,YAAc,gBAAiB,KAAMsU,EAAWzW,iBAAiB,GACzHub,EAAOzf,OAAO8J,eAAexJ,EAAU+F,eAAiB,UAAY,cAAe,KAAMsU,EAAWzW,iBAAiB,EACrH,IACI6b,GAAapF,EAAWzW,eAC5Bub,GAAOzf,OAAO8J,eAAe,eAAe,EAAOiW,GAAY,GAC3DA,EAAW1Z,gBACXoZ,EAAOrV,kBAAkBuQ,GAE7B8E,EAAOO,uBAAuBrF,EAC9B,IAAIsF,GAAaF,EAAWxJ,IAC5BkJ,GAAOzf,OAAO8J,eAAe,OAAQmW,EAAYF,GAAY,GAC7DN,EAAOzf,OAAO8J,eAAe,WAAY,gBAAiBiW,GAAY,GACjExf,oBAAkBkf,EAAOzf,OAAOmE,WAAW2R,OAC5C2J,EAAOzV,kBAAkB2Q,EAAY,QAEzC8E,EAAOzf,OAAO8J,eAAe,WAAY8O,KAAKsH,MAbzB,GAagDH,GAAY,GACjFN,EAAOzf,OAAO8J,eAAe,gBAAiB,EAAGiW,GAAY,GAC7DN,EAAOzf,OAAO8J,eAAe,gBAAiB,EAAGiW,GAAY,GACxDA,EAAW1Z,iBACZoZ,EAAOzf,OAAO8J,eAAe,eAAgB2V,EAAOU,sBAAsBJ,GAAaA,GAAY,GACnGN,EAAOW,oBAAoBzF,IAE1B8E,EAAOzf,OAAOqgB,uBACfZ,EAAOa,gBAAgB3F,GAE3B8E,EAAOc,gBAAgB5F,GACvB8E,EAAOe,eAAe7F,GAEtB8E,EAAOzf,OAAOmE,WAAW2D,kBACzBoH,EAAa,OAEZ3O,oBAAkBuf,IAAcA,EAAUze,OAAS,GACpDoe,EAAOlB,wBAAwBuB,EAAWpW,EAAU4V,MAAQ,EAAG5V,IAK3DlG,IAUhBiW,EAActT,UAAUsa,oBAAsB,SAAUhd,EAAMid,GAC1D,GAAIC,GAAUjb,KAAK1F,OAAO4gB,aACtBvf,EAASsf,EAAQtf,MACrB,IAAIA,EACA,IAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,QAEN6J,KADFqT,EAAYC,EAAQnd,GAAGqd,QAEnCnb,KAAK1F,OAAO8J,eAAe6W,EAAQnd,GAAGqd,MAAOpd,EAAKkd,EAAQnd,GAAGqd,OAAQH,IAKrFjH,EAActT,UAAU2a,YAAc,SAAUC,GAC5C,MAAOA,GAASrb,KAAKF,OAYzBiU,EAActT,UAAUwZ,aAAe,SAAUlc,EAAM6b,EAAOpQ,EAAYxI,GACtE,GAAIsa,GAAetb,KAAK1F,OAAOmE,WAC3B2Z,EAAiBpY,KAAK1F,OAAO8d,eAC7BmD,EAAWxd,EAAKud,EAAaC,UAC7BhhB,EAAK,KACL8d,EAAO,KACPmD,EAAQzd,EAAKud,EAAaE,MAE9BD,GAAY,KADZA,EAAWA,GAAW1T,WAAW0T,EAAStd,YAAc4J,WAAW0T,EAAStd,YAAkB,GAChE,IAAMsd,CACpC,IAGIvX,GACAyX,EAJAC,EAAe3d,EAAKud,EAAalC,YACjCva,EAAoBmB,KAAK4C,kBAAkB7E,EAAKud,EAAazc,oBAAoB,GACjFD,EAAkBoB,KAAK4C,kBAAkB7E,EAAKud,EAAa1c,kBAAkB,EAG7EoB,MAAK1F,OAAO6H,mBAAqBmZ,EAAalZ,kBAAoBpC,KAAK1F,OAAOgd,sBAC9EtT,EAAYjG,EACZ0d,EAAiBlE,KAAKC,MAAMD,KAAKE,UAAU1Z,KAG3CiG,IAEJ,IAAIxF,MACAmd,EAAyC,SAAzB3b,KAAK1F,OAAOshB,UACF,WAAzB5b,KAAK1F,OAAOshB,WACqB,IAA9B7d,EAAKud,EAAaO,OAC1B7b,MAAK1F,OAAO8J,eAAe,kBAAmB5F,EAAiBwF,GAC3DjG,EAAsB,iBAAKA,EAAsB,gBAAE+d,aAAe/d,EAAsB,gBAAE+d,YAAYngB,OAAS,GAAKqE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAClM/b,KAAK1F,OAAO8J,eAAe,cAAerG,EAAsB,gBAAE+d,YAAatd,GAAiB,GAE/F3D,oBAAkBkD,EAAKud,EAAa/gB,KAiB/BM,oBAAkBkD,EAAKqa,EAAe7d,OAC5CA,EAAKwD,EAAKqa,EAAe7d,IAErB8d,EADAxd,oBAAkBkD,EAAKqa,EAAeC,QAAmC,oBAAzBta,EAAmB,aAC5DA,EAAmB,aAGnBA,EAAKqa,EAAeC,MAE/BrY,KAAKgc,YAAYhY,EAAWjG,GAAM,KAxBlCxD,EAAKwD,EAAKud,EAAa/gB,IACvB8d,EAAOta,EAAKud,EAAajD,SACFrY,KAAK1F,OAAO6H,mBAC/BmZ,EAAalZ,iBAAmBrE,EAAe,UAE/CiG,EAAoB,SAAIjG,EAAe,SAGnCA,EAAe,UAAKA,EAAsB,gBAC1CiC,KAAKgc,YAAYhY,EAAWjG,EAAe,SAAGiD,GAG9ChB,KAAKgc,YAAYhY,EAAWjG,EAAMiD,IAc9ChB,KAAK1F,OAAO8J,eAAe,SAAU7J,EAAIiE,GAAiB,GAC1DwB,KAAK1F,OAAO8J,eAAe,WAAYiU,EAAM7Z,GAAiB,GAE9DwB,KAAK1F,QAAUghB,EAAa3E,UAAY3W,KAAK1F,OAAO8J,eAAe,WAAYrG,EAAKud,EAAa3E,UAAWnY,GAAiB,GAC7HwB,KAAK+a,oBAAoBhd,EAAMiG,GAC/BhE,KAAK1F,OAAO8J,eAAe,iBAAkBuX,EAAcnd,GAAiB,IACvEwB,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,oBAC/G/b,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKic,gBAAgBle,GAAOS,GAAiB,GAEnFT,EAAsB,iBAC3BiC,KAAK1F,OAAO8J,eAAe,eAAgBrG,EAAsB,gBAAE0a,aAAcja,GAAiB,GAEtGwB,KAAK1F,OAAO8J,eAAe,eAAe,EAAO5F,GAAiB,GAClEwB,KAAK1F,OAAO8J,eAAe,aAAcrG,EAAKud,EAAa7I,YAAajU,GAAiB,GACzFwB,KAAKkc,mBAAmBlY,IAClBnJ,oBAAkBkD,EAAKud,EAAaxE,SAAW/Y,EAAKud,EAAaxE,OAAOnb,OAAS,GAClFoC,EAAe,UAAKA,EAAe,SAAEud,EAAaxE,QAAU/Y,EAAe,SAAEud,EAAaxE,OAAOnb,OAAS,GAC3GqE,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAMJ,GACpDhE,KAAK1F,OAAO8J,eAAe,eAAe,EAAO5F,GAAiB,GAC7DwB,KAAK1F,OAAOqgB,uBACb3a,KAAK4a,gBAAgB5W,IAIrBhE,KAAK1F,OAAO6H,mBAAqBmZ,EAAalZ,iBAAmB4B,EAAU7F,SAASmd,EAAalZ,iBACjGpC,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAMJ,GAGpDhE,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAOJ,GAG7DhE,KAAKmc,yBAAyBnY,EAAWjG,EAAMiD,GAC/ChB,KAAK1F,OAAO8J,eAAe,oBAAqBpE,KAAK2D,uBAAuB9E,EAAmBL,GAAkBA,GAAiB,EAElI,IAAI4C,EAEAA,GADApB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GAAKiD,EAC7BoB,KAAK1F,OAAmB,WAAEsE,GAG1BoB,KAAK1F,OAAO8I,eAEzBxE,GAAkD,IAA/BA,EAAgBrC,YAAmC,QAAf6E,GACvDpB,KAAKyB,QAAQL,EAAYxC,IAExBJ,EAAgBK,mBAAqBD,GACrCJ,EAAgBK,kBAAkBqC,UAAYtC,EAAgBsC,YAC5DrG,oBAAkB2D,EAAgBK,qBAAuBhE,oBAAkB2D,EAAgB1D,YACtF0D,EAAgBK,kBAAkBqC,YAAc1C,EAAgB1D,UAAUoG,YACzErG,oBAAkB+D,KAAqB/D,oBAAkB2D,EAAgBzD,UACtE6D,EAAgBwd,uBAAyB5d,EAAgBzD,QAAQqhB,sBACzE5d,EAAgBgD,eACpB5C,EAAkBJ,EAAgBK,mBAEtCmB,KAAK1F,OAAO8J,eAAe,kBAAmBpE,KAAK6D,qBAAqBjF,EAAiBJ,GAAkBA,GAAiB,GAC5HwB,KAAK1F,OAAO8J,eAAe,WAAYmX,EAAU/c,GAAiB,GAClEwB,KAAK1F,OAAO8J,eAAe,gBAAiBmX,EAAU/c,GAAiB,GACnET,EAAsB,iBAAKA,EAAsB,gBAAEse,kBAAoBrc,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBACrJ/b,KAAK1F,OAAO8J,eAAe,mBAAoBrG,EAAsB,gBAAEse,iBAAkB7d,GAAiB,GAG1GwB,KAAK1F,OAAO8J,eAAe,mBAAoBsX,EAAcld,GAAiB,GAElFwB,KAAK1F,OAAO8J,eAAe,QAASoX,EAAOhd,GAAiB,GAC5DwB,KAAK1F,OAAO8J,eAAe,WAAYrG,EAAKud,EAAagB,UAAW9d,GAAiB,GACrFwB,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAKuc,eAAe/S,GAAaxF,GACtEhE,KAAK1F,OAAO6H,mBAAqBmZ,EAAalZ,iBAAmBpC,KAAK1F,OAAOwX,gBAAgBnW,OAAS,GACtGqE,KAAK1F,OAAO8J,eAAe,aAAcJ,EAAUwF,WAAYxJ,KAAK1F,OAAOwX,gBAAgB9R,KAAKsU,QAAQxH,QAAQ/O,EAAKud,EAAa/gB,IAAI0D,aAE1I,IAAIue,GAAexY,EAAUwF,WAAaxF,EAAUwF,WAAWF,SAAW,IA8D1E,IA7DAtJ,KAAK1F,OAAO8J,eAAe,iBAAkBoY,EAAcxY,GAC9B,iBAAzBhE,KAAK1F,OAAOyd,UAAgCld,oBAAkBygB,EAAa3E,WACvE9b,oBAAkBmJ,EAAUwF,aAChCxJ,KAAK1F,OAAO8J,eAAe,WAAYJ,EAAUwF,WAAWkM,OAAQlX,GAAiB,GAEzFwB,KAAK1F,OAAO8J,eAAe,QAASwV,EAAO5V,GACvCjG,EAAsB,iBAAKiC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBACzG/b,KAAK1F,OAAO8J,eAAe,WAAYrG,EAAe,SAAGiG,GAGrDhE,KAAK1F,OAAO6H,mBAAqBmZ,EAAalZ,iBAAmBrE,EAAe,SAChFiC,KAAK1F,OAAO8J,eAAe,WAAYrG,EAAe,SAAGiG,GAGzDhE,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKob,YAAYpb,KAAK1F,OAAOwL,QAAQvL,GAAK,UAAWyJ,GAGpGhE,KAAK1F,OAAO8J,eAAe,WAAYJ,EAAUsF,SAAU9K,GAAiB,GAC5EwB,KAAK1F,OAAO8J,eAAe,kBAAoBJ,GAC3ChE,KAAK1F,OAAOY,qBAAsBO,SAAUR,EAAgB+E,KAAK1F,UAChEO,oBAAkBygB,EAAaxE,QAChC9W,KAAK1F,OAAO8J,eAAekX,EAAaxE,SAAW9S,GAEnDA,EAAUyY,kBACVzc,KAAK1F,OAAO8J,eAAe,gBAAiBJ,EAAUxF,gBAAgB1D,UAAW0D,GACjFwB,KAAK1F,OAAO8J,eAAe,cAAeJ,EAAUxF,gBAAgBzD,QAASyD,GAC7EwB,KAAK1F,OAAO8J,eAAe,eAAgBJ,EAAUxF,gBAAgBxD,SAAUwD,IAEnFwB,KAAK1F,OAAO8J,eAAe,YAAaJ,EAAUyY,kBAAmBzc,KAAK1F,OAAOoiB,uBAAwC1Y,GACrHnJ,oBAAkB4gB,GAClBzb,KAAK2c,8BAA8B3Y,EAAWjG,GAG9CiC,KAAK2c,8BAA8B3Y,EAAWyX,GAE7Cza,IACDhB,KAAK1F,OAAO8J,eAAe,QAASpE,KAAK4c,eAAe5Y,GAAYxF,GAAiB,GACrFwB,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAK6c,cAAcre,EAAiBwF,GAAYxF,GAAiB,GACpGwB,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK8c,iBAAiBte,EAAgBue,MAAOxB,GAAW/c,GAAiB,GACjHA,EAAgBI,iBAAmBJ,EAAgBK,oBACnDmB,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKgd,sBAAsBxe,GAAkBA,GAAiB,GACzGwB,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAKid,uBAAuBze,GAAkBA,GAAiB,KAG/G3D,oBAAkBygB,EAAazK,OAC/B7Q,KAAKsa,uBAAuBtW,GAE3BnJ,oBAAkBygB,EAAaO,SAChC7b,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,UAE3DhE,KAAK8a,eAAe9W,GAChB0X,GACA1b,KAAK1F,OAAO0a,uBAAuB1W,KAAK0F,GAEvCnJ,oBAAkB2O,KACnBA,EAAW0T,aAAa5e,KAAK0F,GACzBhE,KAAK1F,OAAOY,qBAAsBO,SAAUR,EAAgB+E,KAAK1F,UAChEO,oBAAkBmF,KAAK1F,OAAOmE,WAAWqY,QAC1CtN,EAAWxJ,KAAK1F,OAAOmE,WAAWqY,OAAOxY,KAAK0F,EAAU7F,WAGnC,gBAAzB6B,KAAK1F,OAAOyd,SACZ/X,KAAK1F,OAAO8J,eAAe,cAAe5F,EAAgBkX,OAAOzX,WAAYO,GAAiB,OAE7F,CACD,GAAI2e,GAAWnZ,EAAUsF,SAASnK,QAAQa,KAAK1F,OAAOwL,QAAQvL,GAAK,SAAU,GAI7EyF,MAAK1F,OAAO8J,eAAe,cAAe+Y,EAAUnZ,GACpDhE,KAAK1F,OAAO8J,eAAe,cAAe+Y,EAAU3e,GAAiB,GACrEwB,KAAK1F,OAAO8J,eAAe,yBAA2B5F,GAAiB,GAW3E,MATIwB,MAAK1F,OAAOiP,uBAAyBvF,EAAUxF,gBAAgB1D,YAC3DkJ,EAAUxF,gBAAgBzD,SAAWiJ,EAAUxF,gBAAgBxD,YACnEgF,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKod,gBAAgBpZ,GAAW,GAAOxF,GAAiB,GAC/FwB,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YAClDhD,GACDhB,KAAK6a,gBAAgB7W,IAG7BhE,KAAK1F,OAAOkb,gBAAgBC,cAAczR,EAAUxF,gBAAgBmG,SAAUX,EAAUxF,gBAAgBkX,QACjG1R,GAEX+P,EAActT,UAAU4c,iBAAmB,SAAU1Y,EAAU2Y,EAAQ1iB,GACnE,GAAIqW,GAAQjR,IAYZ,OAXIsd,GACA3Y,EAAS0M,KAAK,SAAUC,EAAGC,GACvB,GAAIzW,GAAYmW,EAAM3W,OAAOmE,WAAW3D,SACxC,OAAOmW,GAAMrO,kBAAkB0O,EAAExW,IAAYoG,UAAY+P,EAAMrO,kBAAkB2O,EAAEzW,IAAYoG,YAInGyD,EAAS0M,KAAK,SAAUC,EAAGC,GACvB,MAAOD,GAAExW,UAAUoG,UAAYqQ,EAAEzW,UAAUoG,YAG5CyD,GAEXoP,EAActT,UAAU2c,gBAAkB,SAAUrf,EAAMuf,GACtD,GAGI3Y,GAHAsM,EAAQjR,KACRsb,EAAetb,KAAK1F,OAAOmE,WAC3B8e,KAEAvY,EAAgB,EAChBwY,EAAoB,EACpBC,GAAwBzd,KAAK1F,OAAOmE,WAAWzD,SAAUgF,KAAK1F,OAAOmE,WAAW1D,QAChFiF,KAAK1F,OAAOmE,WAAW3D,UAAWkF,KAAK1F,OAAOmE,WAAWlE,IACzD4D,IACJ,KAAKtD,oBAAkBmF,KAAK1F,OAAOmE,WAAWkG,YAC1CA,EAAW2Y,EAASvf,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWkG,UAAY5G,EAAKS,gBAAgBmG,SACrF2Y,GACGvf,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWkG,WAAa5G,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWkG,UAAUhJ,OAAS,GAC1GoC,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWkG,UAAU2N,QAAQ,SAAUoL,GAC7D,GAAIC,MACAC,IACJ,KAAK,GAAIhiB,KAAO8hB,IAC+B,IAAvCD,EAAqB3Q,QAAQlR,GAC7B+hB,EAAc/hB,GAAO8hB,EAAQ9hB,GAG7BgiB,EAAgBhiB,GAAO8hB,EAAQ9hB,EAGvCqV,GAAMiD,wBAAwB5V,KAAKsf,MAI1C/iB,oBAAkB8J,IAAaA,EAAShJ,OAAS,GAAG,CACrDqE,KAAKqd,iBAAiB1Y,EAAU2Y,EAAQvf,EAAKS,gBAC7C,KAAK,GAAIV,GAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAAK,CACtC,GAAI4f,GAAU/Y,EAAS7G,GACnBhD,EAAYwiB,EAASI,EAAQpC,EAAaxgB,WAAa4iB,EAAQ5iB,UAC/DC,EAAUuiB,EAASI,EAAQpC,EAAavgB,SAAW2iB,EAAQ3iB,QAC3DC,EAAWsiB,EAASI,EAAQpC,EAAatgB,UAAY0iB,EAAQ1iB,QAGjE,IAFAF,EAAYkF,KAAK4C,kBAAkB9H,GACnCA,EAAYkF,KAAKc,eAAehG,EAAWiD,EAAKS,iBAAiB,GAC5D3D,oBAAkBG,GAsBlB,CAED,IADAD,EAAUiF,KAAK4C,kBAAkB7H,MACjBF,oBAAkBG,IAAkC,KAArB6iB,OAAO7iB,IAAmB,CACjEoG,MAAa,EAEbA,GADApB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAmB,WAAES,GAG1BiF,KAAK1F,OAAO8I,eAEF,IAAvBrI,EAAQwB,YAAmC,QAAf6E,GAC5BpB,KAAKyB,QAAQL,EAAYrG,GAKjC,GAFAA,EAAUiF,KAAK+C,aAAahI,EAASgD,EAAKS,iBAAiB,GAC3DxD,EAAWgF,KAAKkF,YAAYpK,EAAWC,EAASgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,aACzI8Z,EAAatgB,SAAU,CAEvB,IADAwiB,EAAoBzf,EAAKS,gBAAgBxD,SAAWgK,EAAgB,IAC3C,EACrB,QAEJhK,GAAW8C,IAAM6G,EAAShJ,OAAS,EAAI6hB,EAAoBA,EAAoB,GAC3ExiB,EAAWwiB,EAAoBA,EAAoBxiB,EACvDD,EAAUiF,KAAK6E,WAAW/J,EAAWE,EAAU+C,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,OAEvG,KAAK8c,EAAatgB,UAAYsgB,EAAavgB,SAAWA,IACvDA,GAAYF,oBAAkBkD,EAAKS,gBAAgBzD,UAAaA,EAAQmG,WACpEnD,EAAKS,gBAAgBzD,QAAQmG,WAAapD,IAAM6G,EAAShJ,OAAS,EAAIoC,EAAKS,gBAAgBzD,QAAUA,EACzGC,EAAWgF,KAAKkF,YAAYpK,EAAWC,EAASgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,aACzI+b,EAAc5hB,OAAS,GAAKZ,EAAQmG,UAAYpG,EAAUoG,WACvDnG,EAAQmG,WAAanD,EAAKS,gBAAgBzD,QAAQmG,WAAW,CAChEqc,EAAczf,EAAI,GAAG9C,SAAWgF,KAAKkF,YAAYqY,EAAczf,EAAI,GAAGhD,UAAWiD,EAAKS,gBAAgBzD,QAASgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,YAC5M,eApDR,IADAzG,EAAUiF,KAAK6E,WAAW/J,EAAWE,EAAU+C,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,GACpG8c,EAAatgB,SAAU,CAEvB,IADAwiB,EAAoBzf,EAAKS,gBAAgBxD,SAAWgK,IAC3B,EACrB,QAEJhK,GAAW8C,IAAM6G,EAAShJ,OAAS,EAAI6hB,EAAoBA,EAAoB,GAC3ExiB,EAAWwiB,EAAoBA,EAAoBxiB,EACvDD,EAAUiF,KAAK6E,WAAW/J,EAAWE,EAAU+C,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,OAEvG,KAAK8c,EAAatgB,UAAYsgB,EAAavgB,SAAWA,IACvDA,GAAYF,oBAAkBkD,EAAKS,gBAAgBzD,UAAaA,EAAQmG,WACpEnD,EAAKS,gBAAgBzD,QAAQmG,WAAapD,IAAM6G,EAAShJ,OAAS,EAAIoC,EAAKS,gBAAgBzD,QAAUA,EACzGC,EAAWgF,KAAKkF,YAAYpK,EAAWC,EAASgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,aACzI+b,EAAc5hB,OAAS,GAAKZ,EAAQmG,UAAYpG,EAAUoG,WACvDnG,EAAQmG,WAAanD,EAAKS,gBAAgBzD,QAAQmG,WAAW,CAChEqc,EAAczf,EAAI,GAAG9C,SAAWgF,KAAKkF,YAAYqY,EAAczf,EAAI,GAAGhD,UAAWiD,EAAKS,gBAAgBzD,QAASgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,YAC5M,UAyCZ,GADAkc,MACM5iB,IAAaC,IAAcD,GAAcD,oBAAkBG,GAC7D,KAUJ,IARAgK,GAAiBwD,OAAOxN,GACxB0iB,EAAQ5iB,UAAYA,EACpB4iB,EAAQ3iB,QAAUA,EAClB2iB,EAAQ1iB,SAAWwN,OAAOxN,GAC1B0iB,EAAQX,MAAQ,EAChBW,EAAQI,KAAO,EACfJ,EAAQK,aAAejgB,EACvByf,EAAcjf,KAAKof,GACd7iB,oBAAkB0iB,EAAczf,EAAI,IA8CrC4f,EAAQ5Y,eAAiB,MA9CiB,CAC1C,GAAI8H,OAAO,EAaPA,GAZC/R,oBAAkBmF,KAAK1F,OAAO0jB,iBAAiB/K,YAYzClV,EAAKS,gBAAgB2F,aAXyB,YAAjDnE,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KACjC,SAE+C,SAAjD5M,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KACtC,OAGA7O,EAAKS,gBAAgB2F,YAMpC,IAAIW,GAAiB9E,KAAKkF,YAAYqY,EAAczf,EAAI,GAAG/C,QAASwiB,EAAczf,GAAGhD,UAAW8R,EAAM7O,EAAKS,gBAAgBmC,eAAgB5C,EAAKS,gBAAgBgD,YAEhK,IADAkc,EAAQ5Y,eAAiBA,EACrBA,EAAiB,EAAG,CACpB,GAA2C,IAAvC9E,KAAK1F,OAAOuH,gBAAgBlG,OAC5B+hB,EAAQ5iB,UAAYkF,KAAK6E,WAAW0Y,EAAczf,EAAI,GAAG/C,QAAS,EAAGgD,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,OAE7H,CACD,GAAIyf,GAAkB,GAAInhB,MAAKygB,EAAczf,EAAI,GAAG/C,QAAQmG,UAE5D,IADAwc,EAAQ5iB,UAAY,GAAIgC,MAAKmhB,EAAgBnb,SAASmb,EAAgB1hB,WAAa,KAC/EyD,KAAKqH,qBAAqBqW,EAAQ5iB,WAAW,GAC7C,GACI4iB,EAAQ5iB,UAAU4G,QAAQgc,EAAQ5iB,UAAUuB,UAAY,SACnD2D,KAAKqH,qBAAqBqW,EAAQ5iB,WAAW,GAErDkF,MAAK1F,OAAOsG,iBACb8c,EAAQ5iB,UAAYkF,KAAKyC,kBAAkBib,EAAQ5iB,WAEvD,IAAIsG,GAAapB,KAAK1F,OAAmB,WAAEijB,EAAczf,EAAI,GAAG/C,QAC5DiF,MAAKuB,oBAAoBgc,EAAczf,EAAI,GAAG/C,WAAaqG,GAC3DpB,KAAKyB,QAAQzB,KAAK1F,OAAmB,WAAEojB,EAAQ5iB,WAAY4iB,EAAQ5iB,WAG3E4iB,EAAQ5iB,UAAYkF,KAAKc,eAAe4c,EAAQ5iB,UAAWiD,EAAKS,iBAAiB,GACjFkf,EAAQ3iB,QAAUiF,KAAK6E,WAAW6Y,EAAQ5iB,UAAW4iB,EAAQ1iB,SAAU+C,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,GAChIkf,EAAQ3iB,SAAWugB,EAAatgB,UAAYsgB,EAAavgB,SAClD2iB,EAAQ3iB,QAAUgD,EAAKS,gBAAgBzD,QAAUgD,EAAKS,gBAAgBzD,QAAU2iB,EAAQ3iB,QAC/F2iB,EAAQ5Y,eAAiB,GAOjC,GAAIgT,GAAc/Z,EAAKiC,KAAK1F,OAAOmE,WAAWkG,UAAY5G,EAAKiC,KAAK1F,OAAOmE,WAAWkG,UAAYA,CAClGxG,GAASG,KAAK0B,KAAKke,mBAAmBR,EAAS5F,EAAYha,KAE/DkC,KAAK1F,OAAO8J,eAAe,WAAYY,EAAejH,EAAKS,iBAAiB,GACvE3D,oBAAkB0iB,EAAcA,EAAc5hB,OAAS,KACxDqE,KAAK1F,OAAO8J,eAAe,UAAWmZ,EAAcA,EAAc5hB,OAAS,GAAGZ,QAASgD,EAAKS,iBAAiB,GAE5G3D,oBAAkBygB,EAAavgB,UAAaF,oBAAkB0iB,EAAcA,EAAc5hB,OAAS,KACpGqE,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW1D,QAASwiB,EAAcA,EAAc5hB,OAAS,GAAGZ,QAASgD,GAAM,IAEjHuf,GAAUnf,GAAYA,EAASxC,OAAS,GACzCwC,EAASmU,QAAQ,SAAUC,EAAM9S,GAC7B,GAAI0e,GAAe1iB,OAAO2iB,UAAW7L,EAAMtB,EAAMiD,wBAAwBzU,GACzEtB,GAASsB,GAAS0e,IAG1Bne,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWkG,SAAUxG,EAAUJ,GAU5F,MAPIwf,GAAc5hB,OAAS,GACvBqE,KAAK1F,OAAO8J,eAAe,WAAYmZ,EAAexf,EAAKS,iBAAiB,GAC5EwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWkG,SAAU5G,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWkG,UAAW5G,GAAM,IAGlHwf,EAAgB,KAEbA,GAEXxJ,EAActT,UAAUyd,mBAAqB,SAAUvZ,EAAU0Z,GAC7D,GAAI/C,GAAetb,KAAK1F,OAAOmE,WAC3BN,EAAWD,eAAemgB,GAAiB,EAU/C,OATKxjB,qBAAkBygB,EAAaxgB,aAChCqD,EAAS6B,KAAK1F,OAAOmE,WAAW3D,WAAa6J,EAAS7J,WAErDD,oBAAkBygB,EAAavgB,WAChCoD,EAAS6B,KAAK1F,OAAOmE,WAAW1D,SAAW4J,EAAS5J,SAEnDF,oBAAkBygB,EAAatgB,YAChCmD,EAAS6B,KAAK1F,OAAOmE,WAAWzD,UAAYwN,OAAO7D,EAAS3J,WAEzDmD,GAEX4V,EAActT,UAAU6d,eAAiB,SAAUta,GAC/C,MAAKhE,MAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAW2C,eACjD3F,KAAK1F,OAAO0I,WAAW2C,aAA8B,iBAAK3F,KAAK1F,OAAO0I,WAAW2C,aAA+B,kBAC1G3F,KAAK1F,OAAO0I,WAAW2C,aAAa4Y,eAGpCva,EAAUxF,gBAAgBia,cASzC1E,EAActT,UAAU6Z,uBAAyB,SAAUtW,GACvD,GAAIhE,KAAK1F,OAA4B,sBAAM0F,KAAK1F,OAAOmE,WAAWoS,MAA+C,IAAvC7M,EAAUxF,gBAAgBxD,WAC/FH,oBAAkBmJ,EAAUxF,gBAAgBia,eAAmE,IAAlDzU,EAAUxF,gBAAgBia,aAAa9c,OADzG,CAIA,GAEI6iB,GAFAxG,EAAYhY,KAAKse,eAAeta,GAChC6M,EAAO,CAEX,KAAMhW,oBAAkBmd,IAAcA,EAAUrc,OAAS,IAAOqI,EAAUyY,gBAAiB,CACvF,GAAIgC,GAAkBzG,EAAUrc,OAC5B8D,MAAQ,GACRif,MAAe,GACfnX,MAAa,GAOboX,GALApX,EADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAyB,iBAAE0J,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgBzD,SAGtIiF,KAAK1F,OAAOyM,eAES,KAClC6X,EAAgB5e,KAAK6e,iBAAiB7a,EAAUxF,gBAAgBxD,SAAUgJ,EAAUxF,gBAAgB2F,aACxG,KAAK1E,EAAQ,EAAGA,EAAQgf,EAAiBhf,IAIrCoR,IADA2N,GADAE,EAAe1G,EAAUvY,GAAOO,KAAK1F,OAAO8d,eAAexL,OACtB,EAAK+R,EAAmBD,EAAgB,IAAM,GACrDE,CAGS,YAAvC5a,EAAUxF,gBAAgBsS,WAC1BD,GAAc,IAEyB,QAAvC7M,EAAUxF,gBAAgBsS,WAC1BD,GAAc8N,GAGd9N,EAAO,GAAM,IACbA,EAAOhJ,WAAWgJ,EAAKL,QAAQ,UAG7BxM,EAAUyY,kBAAoB5hB,oBAAkBmJ,EAAUxF,gBAAgBqS,QAC9EhW,oBAAkBmJ,EAAUxF,gBAAgBxD,WAAagJ,EAAUxF,gBAAgBxD,SAAW,IAChG6V,EAAO7M,EAAUxF,gBAAgBqS,KAErC,IAAI7M,EAAUkZ,cACNlZ,EAAUkZ,aAAavhB,OAAS,GAAKqE,KAAK1F,OAAOwkB,SAAU,CAE3D,IAAK,GADDC,GAAsB,EACjBjhB,EAAI,EAAGA,EAAIkG,EAAUkZ,aAAavhB,OAAQmC,IAC/CihB,GAAuB/a,EAAUkZ,aAAapf,GAAGU,gBAAgBqS,IAErEA,IAAQkO,EAG2B,cAAvC/a,EAAUxF,gBAAgBwgB,UAAmD,IAAvBR,IACtD3N,EAAO,EACP7Q,KAAK1F,OAAO8J,eAAe,WAAY,EAAGJ,EAAUxF,iBAAiB,GAChE3D,oBAAkBmF,KAAK1F,OAAOmE,WAAWzD,WAC1CgF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWzD,SAAU,EAAGgJ,GAAW,IAGlFhE,KAAK1F,OAAO8J,eAAe,OAAQyM,EAAM7M,EAAUxF,iBAAiB,GAC/D3D,oBAAkBmF,KAAK1F,OAAOmE,WAAWoS,OAAU7Q,KAAK1F,OAAO0G,QAChEhB,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,UAS/D+P,EAActT,UAAU8b,eAAiB,SAAUjiB,GAC/C,GAAKO,oBAAkBP,GAUnB,MAAO,KATP,IAAI2kB,KAMJ,OALAA,GAAY3V,SAAWhP,EAAOgP,SAC9B2V,EAAYC,SAAW5kB,EAAO4kB,SAC9BD,EAAYrF,MAAQtf,EAAOsf,MAC3BqF,EAAYxf,MAAQnF,EAAOmF,MAC3Bwf,EAAYvJ,OAASpb,EAAOkE,gBAAgBqb,YACrCoF,GAUflL,EAActT,UAAU0e,kBAAoB,WACxC,GAAInf,KAAK1F,OAAOyO,SAASpN,OAAS,EAI9B,IAAK,GAHDoC,OAAO,GACPS,MAAkB,GAClBwF,MAAY,GACPvE,EAAQ,EAAGA,EAAQO,KAAK1F,OAAOyO,SAASpN,OAAQ8D,IACrD1B,EAAOiC,KAAK1F,OAAOyO,SAAStJ,GAAOtB,SACnCK,EAAkBwB,KAAK1F,OAAOyO,SAAStJ,GAAOjB,gBAC9CwF,EAAYhE,KAAK1F,OAAOyO,SAAStJ,GACjCO,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKic,gBAAgBle,GAAOS,GAAiB,GACxFwB,KAAKkc,mBAAmBlY,IAIpC+P,EAActT,UAAUub,YAAc,SAAUhY,EAAWjG,EAAMiD,GAC7D,GAAIiQ,GAAQjR,KACRsb,EAAetb,KAAK1F,OAAOmE,WAC3BwX,EAAcjW,KAAK1F,OAAOY,UAC9B,IAAI8F,EACA,GAAIsa,EAAa3E,UAAaV,YAAuB9a,gBACjD8a,EAAY/a,WAAWkkB,MAAQnJ,EAAY/a,WAAWmkB,QACtD,GAAI/D,EAAa3E,SAAU,CACvB,GAAIpc,GAAKwD,EAAKud,EAAa/gB,IACvBkF,EAAQO,KAAKsU,QAAQxH,QAAQvS,EAAG0D,YAChCqhB,EAAc7f,GAAS,EAAKO,KAAK8U,UAAUrV,KAC/C,KAAK5E,oBAAkBmF,KAAK1F,OAAOmE,WAAWmZ,WAAY,CACtD,GAAI2H,GAAwBvf,KAAK6X,kBAC7B8B,OAAO,SAAUK,GAAK,MAAOA,GAAEpe,MAAQ0jB,EAAWrO,EAAM3W,OAAOmE,WAAWlE,KAC1EglB,GAAsB5jB,OAAS,IAC/B2jB,EAAWtf,KAAK1F,OAAOmE,WAAWkG,UAAY4a,EAAsB,GAAGxI,OAG/E/W,KAAK1F,OAAO8J,eAAe,WAAYkb,EAAYtb,OAGnDhE,MAAK1F,OAAO8J,eAAe,WAAYrG,EAAMiG,OAIjDhE,MAAK1F,OAAO8J,eAAe,WAAYrG,EAAMiG,OAIjDhE,MAAK1F,OAAO8J,eAAe,WAAYrG,EAAMiG,IAGrD+P,EAActT,UAAUkc,8BAAgC,SAAU3Y,EAAWjG,GACzE,GAEIyhB,GAFAC,EAAqBzf,KAAK1F,OAAOmE,WAAWihB,YAC5CC,EAAe5hB,EAAK0hB,EAEpBA,IAAsBzb,EAAUyY,kBAC3B5hB,oBAAkB8kB,GAMd9kB,oBAAkB8kB,KAAkB3f,KAAK1F,OAAOoiB,uBACrD8C,GAAiB,EAEZ3kB,oBAAkB8kB,IAAiB3f,KAAK1F,OAAOoiB,yBACpD8C,GAAiB,IATjBA,EAA6C,SAA5BG,EAAa1hB,WAC1B+B,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAoBpC,KAAK1F,OAAOgd,sBAAwBvZ,EAAe,WAC/HyhB,GAAiB,IASzBxf,KAAK1F,OAAO8J,eAAe,YAAcqb,EAAoBD,EAAgBxb,GAC7EhE,KAAK1F,OAAO8J,eAAeqb,EAAoBD,EAAgBxb,GAC/DhE,KAAK1F,OAAO8J,eAAe,WAAYob,EAAgBxb,KAQ/D+P,EAActT,UAAUmf,kBAAoB,SAAU5b,EAAWjG,GAC7D,GAAIS,GAAkBwF,EAAUxF,gBAC5B8c,EAAetb,KAAK1F,OAAOmE,WAC3BzD,EAAW+C,EAAKud,EAAatgB,UAC7BF,EAAYkF,KAAK4C,kBAAkB7E,EAAKud,EAAaxgB,YAAY,GACjEC,EAAUiF,KAAK4C,kBAAkB7E,EAAKud,EAAavgB,UAAU,EACjEC,GAAWH,oBAAkBG,IAA0B,KAAbA,EAAkB,KAAOA,EACnEgF,KAAK1F,OAAO8J,eAAe,YAAa,GAAItH,MAAKhC,EAAUoG,WAAY1C,GAAiB,GACnF3D,oBAAkBG,IAA0B,KAAbA,EAIhCgF,KAAK0E,kBAAkBV,GAHvBhE,KAAK6f,oBAAoB7kB,EAAUwD,GAKvCwB,KAAK1F,OAAO8J,eAAe,UAAW,GAAItH,MAAM/B,EAAQmG,WAAa1C,GAAiB,IAU1FuV,EAActT,UAAU0b,yBAA2B,SAAUnY,EAAWjG,EAAMiD,GAC1E,GAAIsa,GAAetb,KAAK1F,OAAOmE,WAC3BD,EAAkBwF,EAAUxF,gBAC5BxD,EAAW+C,EAAKud,EAAatgB,SACjCA,GAAWH,oBAAkBG,IAA0B,KAAbA,EAAkB,KAAOA,CACnE,IAAIF,GACAC,CACAyD,GAAgB1D,WAAa0D,EAAgBzD,SAC7CD,EAAYkF,KAAK4C,kBAAkBpE,EAAgB1D,WAAW,GAC9DC,EAAUiF,KAAK4C,kBAAkBpE,EAAgBzD,SAAS,KAG1DD,EAAYkF,KAAK4C,kBAAkB7E,EAAKud,EAAaxgB,YAAY,GACjEC,EAAUiF,KAAK4C,kBAAkB7E,EAAKud,EAAavgB,UAAU,GAEjE,IAAI4J,GAAW2W,EAAa3W,SAAY5G,EAAKud,EAAa3W,WACtDX,EAAU7F,SAASmd,EAAa3W,UAAa,KAC7Cmb,IAAcxE,EAAarW,aAAYlH,EAAKud,EAAarW,WACzD8a,EAAkBhiB,EAAKud,EAAanX,cAAgBpG,EAAKud,EAAanX,cAAgB,EAC1FnE,MAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKggB,4BAA4BD,GAAkBvhB,GAAiB,EAC/G,IAAIqS,GAAQhW,oBAAkBkD,EAAKud,EAAazK,OAA+C,EAAtChJ,WAAW9J,EAAKud,EAAazK,MACtF7Q,MAAK1F,OAAO8J,eAAe,WAAYpE,KAAKigB,wBAAwBjgB,KAAK1F,OAAOwW,UAAWtS,GAAiB,EAC5G,IAAI0hB,GAAkBniB,EAAKud,EAAalL,MAAQrS,EAAKud,EAAalL,MAAQ,GACtE+P,EAAQngB,KAAKogB,wBAAwBF,EAMzC,IALAlgB,KAAK1F,OAAO8J,eAAe,WAAY+b,EAAO3hB,GAAiB,GACxCT,EAAKiC,KAAK1F,OAAO8d,eAAeC,QAAUrY,KAAK1F,OAAOoW,UAAUC,YAAY,mBAE/F3Q,KAAK1F,OAAO8J,eAAe,WAAY,gBAAiB5F,GAAiB,GAEzEwC,IAAWhB,KAAK1F,OAAOqb,kBAAoB7a,GAAaC,EACxDiF,KAAK4f,kBAAkB5b,EAAWjG,OAGlC,IAAKhD,GAAYD,IAAcD,oBAAkBG,IAA0B,KAAbA,GAUzD,GAAIF,EACLkF,KAAKqgB,2BAA2BvlB,EAAWC,EAASC,EAAUgJ,EAAWhD,OAExE,IAAIjG,EACLiF,KAAKsgB,yBAAyBvlB,EAASC,EAAUgJ,OAEhD,KAAKnJ,oBAAkBG,IAA0B,KAAbA,EAAiB,CACtDgF,KAAK6f,oBAAoB7kB,EAAUwD,EACnC,IAAI+hB,GAAcvgB,KAAK1F,OAAOiP,sBAAwB,KAAOvJ,KAAK4I,oBAAoBpK,EAAiBwC,EACvGhB,MAAK1F,OAAO8J,eAAe,YAAamc,EAAa/hB,GAAiB,GAClEwB,KAAK1F,OAAOiP,sBACZvJ,KAAK1F,OAAO8J,eAAe,UAAW,KAAM5F,GAAiB,GAG7DwB,KAAKuE,iBAAiBP,QAxBkD,CAC5E,GAAIhE,KAAK1F,OAAOiP,sBACZ,MAGAvJ,MAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,GAC3DwB,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK4I,oBAAoBpK,EAAiBwC,GAASxC,GAAiB,GAC5GwB,KAAKuE,iBAAiBP,GAkClC,KAbKhE,KAAK1F,OAAO2H,6BAAgCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,mBAClBvH,oBAAkBmJ,EAAUxF,gBAAgB1D,YAC5CD,oBAAkBmF,KAAK1F,OAAOmE,WAAW3D,aAC1CkJ,EAAUhE,KAAK1F,OAAOmE,WAAW3D,WAAakJ,EAAUxF,gBAAgB1D,UACxEkJ,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAW3D,WAAakJ,EAAUxF,gBAAgB1D,WAEhFD,oBAAkBmJ,EAAUxF,gBAAgBzD,UAC5CF,oBAAkBmF,KAAK1F,OAAOmE,WAAW1D,WAC1CiJ,EAAUhE,KAAK1F,OAAOmE,WAAW1D,SAAWiJ,EAAUxF,gBAAgBzD,QACtEiJ,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAW1D,SAAWiJ,EAAUxF,gBAAgBzD,UAGlFF,oBAAkBygB,EAAazK,MA2D3ByK,EAAalL,MAAQ5R,EAAgBwgB,UAC1Chf,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YA5DhB,CACvC,GAAIG,GAAenE,KAAK1F,OAAOmE,WAAW0F,cAAgBpG,EAAKud,EAAanX,cACxEpG,EAAKud,EAAanX,cAAgBnE,KAAK1F,OAAO6J,YAElD,IADAnE,KAAK1F,OAAO8J,eAAe,eAAgBD,EAAc3F,GAAiB,GACtE6Q,MAAMwB,IAAShW,oBAAkBgW,GACjC7Q,KAAK1F,OAAO8J,eAAe,OAAQ,EAAG5F,GAAiB,GACvDwB,KAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,GAC3DwB,KAAK1F,OAAO8J,eAAe,eAAe,EAAM5F,GAAiB,GAC5D3D,oBAAkBmF,KAAK1F,OAAOmE,aAAgB5D,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YACxFjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAMjB,GAAW,GAElFhE,KAAK1F,OAAO8J,eAAe,UAAW5F,EAAgB1D,UAAW0D,GAAiB,OAEjF,CAED,OADAwB,KAAK1F,OAAO8J,eAAe,OAAQyM,EAAMrS,GAAiB,GAClD2hB,GACJ,IAAK,iBAEKtlB,oBAAkBmJ,EAAUhE,KAAK1F,OAAOmE,WAAWga,gBACpD5d,oBAAkBmJ,EAAUxF,gBAAgBia,eACK,IAAlDzU,EAAUxF,gBAAgBia,aAAa9c,SACV,IAA7B6C,EAAgBxD,UAChBgF,KAAKsa,uBAAuBtW,EAEhC,MACJ,KAAK,aACKnJ,oBAAkBmJ,EAAUhE,KAAK1F,OAAOmE,WAAWga,gBACpD5d,oBAAkBmJ,EAAUxF,gBAAgBia,eACK,IAAlDzU,EAAUxF,gBAAgBia,aAAa9c,SACd,IAAzB6C,EAAgBqS,MAChB7Q,KAAKwgB,uBAAuBxc,EAEhC,MACJ,KAAK,YACIA,EAAUyY,iBACXzc,KAAKwgB,uBAAuBxc,GAInCnJ,oBAAkBygB,EAAalL,OAChCpQ,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,QAE1B,IAA7BxF,EAAgBxD,UAChBgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAM5F,GAAiB,GAC5D3D,oBAAkBmF,KAAK1F,OAAOmE,aAAgB5D,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YACxFjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAMjB,GAAW,GAElFhE,KAAK1F,OAAO8J,eAAe,UAAW5F,EAAgB1D,UAAW0D,GAAiB,IAE5E3D,oBAAkB2D,EAAgB1D,YAAeD,oBAAkB2D,EAAgBxD,YACzFgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAO5F,GAAiB,GAC7D3D,oBAAkBmF,KAAK1F,OAAOmE,aAAgB5D,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YACxFjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAOjB,GAAW,GAEnFhE,KAAKuE,iBAAiBP,IAG9BhE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,QAKtDnJ,oBAAkB8J,IACnB3E,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKod,gBAAgBpZ,GAAW,GAAOxF,GAAiB,GAElE,IAA7BA,EAAgBxD,WAChBgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAM5F,GAAiB,GAC5D3D,oBAAkBmF,KAAK1F,OAAOmE,aAAgB5D,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YACxFjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAMjB,GAAW,GAElFhE,KAAK1F,OAAO8J,eAAe,UAAW5F,EAAgB1D,UAAW0D,GAAiB,KAEjF3D,oBAAkBilB,IAAgBA,IACnC9f,KAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,GAC3DwB,KAAK1F,OAAO8J,eAAe,eAAe,EAAM5F,GAAiB,GAC5D3D,oBAAkBmF,KAAK1F,OAAOmE,aAAgB5D,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YACxFjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAMjB,GAAW,GAElFhE,KAAK1F,OAAO8J,eAAe,UAAW5F,EAAgB1D,UAAW0D,GAAiB,KAS1FuV,EAActT,UAAU+f,uBAAyB,SAAUxc,GACvD,GAAIxF,GAAkBwF,EAAUxF,gBAC5BwZ,EAAYhY,KAAKse,eAAeta,EACpC,KAAKnJ,oBAAkBmd,IAAcA,EAAUrc,OAAS,EAAG,CACvD,GAAI8iB,GAAmB5jB,oBAAkBmd,GAAgC,EAAnBA,EAAUrc,OAC5D8kB,EAA0B,EAC1BlZ,MAAa,GAOboX,GALApX,EADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAyB,iBAAE0J,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgBzD,SAGtIiF,KAAK1F,OAAOyM,eAES,KAClC2Z,EAAkB,EAClBhC,MAAe,GACfjf,MAAQ,EACZ,KAAKA,EAAQ,EAAGA,EAAQgf,EAAiBhf,IAErCghB,IADA/B,EAAe1G,EAAUvY,GAAOO,KAAK1F,OAAO8d,eAAexL,OAChB,EAAK+R,EAAmBD,EAAgB,IAA8C,cAAvC1a,EAAUxF,gBAAgBwgB,UAA0D,cAA7BxgB,EAAgBwgB,UAAyD,IAA7BxgB,EAAgBxD,SAAkB2jB,EAAwB,CAE3P,IAAIpY,GAAavG,KAAK2gB,cAAcniB,EAAgBqS,KAAMrS,EAAgBsS,SACtE2N,GAAkB,GAAKgC,EAA0B,IACjDC,GAAoBna,EAAaka,GAEJ,cAA7BjiB,EAAgBwgB,UAAwD,IAA5ByB,IAC5CzgB,KAAK1F,OAAO8J,eAAe,OAAQ,EAAG5F,GAAiB,GACvDwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWoS,KAAM,EAAG7M,GAAW,IAGrC,WAAjCxF,EAAgB2F,eAChBuc,EAAkBA,EAAkB/B,EAAmB,IAEtB,SAAjCngB,EAAgB2F,eAChBuc,GAAoC/B,GAGpC+B,EAAkB,GAAM,IACxBA,EAAkB7Y,WAAW6Y,EAAgBlQ,QAAQ,KAEpD3V,oBAAkB2D,EAAgBxD,WACnCgF,KAAK1F,OAAO8J,eAAe,WAAYsc,EAAiBliB,GAAiB,GAE7EwB,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YACnDhE,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAW2C,cAAgB3F,KAAK1F,OAAO0I,WAAW2C,aAA+B,mBACvH3F,KAAKoU,wBAAyB,KAU1CL,EAActT,UAAUmgB,mBAAqB,SAAU5c,GACnD,GAGIuD,GAHA/I,EAAkBwF,EAAUxF,gBAC5BwZ,EAAYhY,KAAKse,eAAeta,GAChCya,EAAmB5jB,oBAAkBmd,GAAgC,EAAnBA,EAAUrc,OAQ5DgjB,GALApX,EADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAyB,iBAAE0J,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgB1D,UAAYkJ,EAAUxF,gBAAgBzD,SAGtIiF,KAAK1F,OAAOyM,eAES,IACtC,IAAwB,IAApB0X,EAAJ,CAGA,GAAIG,GAAgB5e,KAAK6e,iBAAiB7a,EAAUxF,gBAAgBxD,SAAUgJ,EAAUxF,gBAAgB2F,cACpGoC,EAAavG,KAAK2gB,cAAcniB,EAAgBqS,KAAMrS,EAAgBsS,UACtE+P,EAAwBjC,EAAgB,EAAKrY,GAAcqY,EAAgBD,GAAqB,IAAM,EACtGmC,EAA2C,IAA1BD,EAA8B,EAAIA,EAAwB,EAC3EA,EAAwBpC,EAAkB,GAE1CqC,GAAiB,GAAM,IACvBA,EAAiBjZ,WAAWiZ,EAAetQ,QAAQ,IAEvD,KAAK,GAAI/Q,GAAQ,EAAGA,EAAQgf,EAAiBhf,IACzCuY,EAAUvY,GAAOO,KAAK1F,OAAO8d,eAAexL,MAAQkU,EAC/C9gB,KAAK1F,OAAO0G,QAAWnG,oBAAkBmF,KAAK1F,OAAO0I,aACrDnI,oBAAkBmF,KAAK1F,OAAO0I,WAAW2C,eACzC3F,KAAK1F,OAAO0I,WAAW2C,aAAqB,QAC3C9K,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,iBAAoBtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,YACjG/G,EAAgBia,eAChBja,EAAgBia,aAAahZ,GAAOO,KAAK1F,OAAO8d,eAAexL,MAAQkU,GAG3E9gB,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAW2C,eAChD9K,oBAAkBmF,KAAK1F,OAAO0I,WAAW2C,aAAa4Y,eAAe9e,MACtEO,KAAK1F,OAAO0I,WAAW2C,aAAa4Y,eAAe9e,GAAOO,KAAK1F,OAAO8d,eAAexL,MAAQkU,EAIrG9gB,MAAKkc,mBAAmBlY,KAE5B+P,EAActT,UAAU6f,yBAA2B,SAAUvlB,EAASC,EAAUgJ,GAC5E,GACI5C,GADA5C,EAAkBwF,EAAUxF,eAG5B4C,GADApB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAmB,WAAES,GAG1BiF,KAAK1F,OAAO8I,eAEF,IAAvBrI,EAAQwB,YAAmC,QAAf6E,GAC5BpB,KAAKyB,QAAQL,EAAYrG,EAE7B,IAAIgG,GAAkD,IAA3B/C,SAAShD,EAAU,KAAoB,IAClEgF,MAAK1F,OAAO8J,eAAe,UAAWpE,KAAK+C,aAAahI,EAASiJ,EAAUxF,gBAAiBuC,GAAsBvC,GAAiB,GAC/H3D,oBAAkBG,IAA0B,KAAbA,EAC3BgF,KAAK1F,OAAOiP,uBACZvJ,KAAK1F,OAAO8J,eAAe,YAAa,KAAM5F,GAAiB,GAC/DwB,KAAK1F,OAAO8J,eAAe,WAAY,KAAM5F,GAAiB,KAG9DwB,KAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,GAC3DwB,KAAK1F,OAAO8J,eAAe,YAAapE,KAAKkE,aAAa1F,EAAgBzD,QAASyD,EAAgBxD,SAAUwD,EAAgB2F,aAAc3F,GAAkBA,GAAiB,IAG5K3D,oBAAkBG,IAA0B,KAAbA,IACrCgF,KAAK6f,oBAAoB7kB,EAAUwD,GACnCwB,KAAK1F,OAAO8J,eAAe,YAAapE,KAAKkE,aAAa1F,EAAgBzD,QAASyD,EAAgBxD,SAAUwD,EAAgB2F,aAAc3F,GAAkBA,GAAiB,KAGtLuV,EAActT,UAAU4f,2BAA6B,SAAUvlB,EAAWC,EAASC,EAAUgJ,EAAWhD,GACpG,GAAIxC,GAAkBwF,EAAUxF,gBAC5BuC,KAAkD,IAA3B/C,SAAShD,EAAU,KAAeF,GAAaC,GACrE,GAAI+B,MAAKhC,EAAUoG,aAAe,GAAIpE,MAAK/B,EAAQmG,aAAuB,IAK/E,IAJAlB,KAAK1F,OAAO8J,eAAe,YAAapE,KAAKc,eAAehG,EAAW0D,EAAiBuC,EAAqBC,GAASxC,GAAiB,GACnIwB,KAAK1F,OAAOymB,oBAAsB/c,GAClChE,KAAK8a,eAAe9W,GAEnBjJ,IAAYF,oBAAkBG,IAA0B,KAAbA,EAU3C,GAAKH,oBAAkBG,IAAcD,EAIrC,GAAIA,IAAYF,oBAAkBG,IAA0B,KAAbA,GAAkB,CAClE,GAAIoG,OAAa,EAEbA,GADApB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAmB,WAAES,GAG1BiF,KAAK1F,OAAO8I,eAEF,IAAvBrI,EAAQwB,YAAmC,QAAf6E,GAC5BpB,KAAKyB,QAAQL,EAAYrG,GAE7BiF,KAAK1F,OAAO8J,eAAe,UAAWpE,KAAK+C,aAAahI,EAASiJ,EAAUxF,iBAAkBA,GAAiB,GAChC,IAA1EwB,KAAKyE,aAAajG,EAAgB1D,UAAW0D,EAAgBzD,UAC7DiF,KAAK1F,OAAO8J,eAAe,UAAW5F,EAAgB1D,UAAW0D,GAAiB,GAClFwB,KAAK1F,OAAO8J,eAAe,eAAe,EAAM5F,GAAiB,GACjEwB,KAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,IAG3DwB,KAAK0E,kBAAkBV,OAI3BhE,MAAK6f,oBAAoB7kB,EAAUwD,IAC/BwB,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,gBAIvBpC,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAASyD,GAAiB,GAHhEwB,KAAKuE,iBAAiBP,OA5B1BhE,MAAK6f,oBAAoB7kB,EAAUwD,GACnCwB,KAAKuE,iBAAiBP,OAXlBhE,MAAK1F,OAAOiP,uBACZvJ,KAAK1F,OAAO8J,eAAe,UAAW,KAAM5F,GAAiB,GAC7DwB,KAAK1F,OAAO8J,eAAe,WAAY,KAAM5F,GAAiB,KAG9DwB,KAAK1F,OAAO8J,eAAe,WAAY,EAAG5F,GAAiB,GAC3DwB,KAAKuE,iBAAiBP,KA8ClC+P,EAActT,UAAUqc,iBAAmB,SAAUkE,EAAaC,GAC9D,MAAQD,GAAcC,EAAW,KASrClN,EAActT,UAAUmc,eAAiB,SAAU5Y,EAAWkF,GAC1D,GAAItO,GAAYoJ,EAAUxF,gBACtB0H,EAAQgD,EAAStO,EAAUkJ,cAAgBlJ,EAAUE,UACrDqL,EAAQ+C,EAAStO,EAAU0H,YAAc1H,EAAUG,OAMvD,OAJIF,qBAAkBqL,IAAUrL,oBAAkBsL,KAC9CD,EAAQlG,KAAKiJ,kBAAkBrO,EAAWsO,GAC1C/C,EAAQnG,KAAK2J,gBAAgB/O,EAAWsO,IAExCrO,oBAAkBqL,IAAUrL,oBAAkBsL,GALvB,GAQlBvL,EAAU4G,aAAiBwC,EAAUyY,kBAAmB7hB,EAAU+F,eAKhEX,KAAKkhB,aAAahb,EAAOC,EAAOvL,GAHhC,GAMfmZ,EAActT,UAAU0gB,iBAAmB,WACvC,GAAIC,GAAYphB,KAAK1F,OAAO8mB,UACxBC,EAAgBrhB,KAAK1F,OAAOgnB,aAChC,OAAID,GAAgBD,EACTC,EAGAD,GAYfrN,EAActT,UAAUoc,cAAgB,SAAUjiB,EAAWogB,EAAa9R,GACtE,GAAIhD,GAAQ,KACR4X,GAAQ,IACRhjB,EAAYoO,EAAStO,EAAUkJ,cAAgBlJ,EAAUE,UACzDC,EAAUmO,EAAStO,EAAU0H,YAAc1H,EAAUG,QACrDC,EAAWkO,EAAStO,EAAUuO,aAAevO,EAAUI,SACvDiK,EAAYrK,EAAU4G,WAC1B,IAAIwZ,GAAehb,KAAK1F,OAAOiP,uBAAyB1O,oBAAkBC,IAAcD,oBAAkBE,KAClGF,oBAAkBG,KAAcggB,EAAYyB,iBAAmBzB,EAAYxR,aACrD,WAAzBxJ,KAAK1F,OAAOshB,UAAmD,WAAzB5b,KAAK1F,OAAOshB,UAAyBZ,EAAYhb,KAAK1F,OAAOmE,WAAWod,SAAW,CAC1H,GAAI0F,GAAYvhB,KAAK1F,OAAOoP,cAAcsR,EAAYxR,WAClD+X,GAAU/iB,gBAAgB1D,YAC1BA,EAAYymB,EAAU/iB,gBAAgB1D,WAgB9C,MAbIA,GACAoL,EAAQ,GAAIpJ,MAAKhC,EAAUoG,WAEtBnG,GACLmL,EAAQ,GAAIpJ,MAAK/B,EAAQmG,WACzB+D,GAAYpK,oBAAkBC,KAAckF,KAAK1F,OAAOiP,uBAGxDrD,EAAQlG,KAAKiJ,kBAAkBrO,GAE9BC,oBAAkBqL,KACnB4X,EAAO9d,KAAKwhB,YAAYtb,EAAOjB,IAE5B6Y,GASX/J,EAActT,UAAUghB,kBAAoB,SAAUjjB,GAClD,MAAOwB,MAAKwhB,YAAYhjB,EAAgBsF,cAAetF,EAAgBgD,cAQ3EuS,EAActT,UAAUga,sBAAwB,SAAUjc,GACtD,MAAOwB,MAAKkF,YAAY1G,EAAgBsF,cAAetF,EAAgB8D,YAAa9D,EAAgB2F,cAAc,EAAO3F,EAAgBgD,cAS7IuS,EAActT,UAAUihB,mBAAqB,SAAUljB,GACnD,MAAOwB,MAAKkhB,aAAa1iB,EAAgBsF,cAAetF,EAAgB8D,cAS5EyR,EAActT,UAAUuc,sBAAwB,SAAUxe,GACtD,GAAIK,GAAoBmB,KAAK4C,kBAAkBpE,EAAgBK,mBAC3DD,EAAkBoB,KAAK4C,kBAAkBpE,EAAgBI,gBAC7D,OAAIC,IAAqBD,EACboB,KAAKwhB,YAAY3iB,EAAmBL,EAAgBgD,aAGrD,GAUfuS,EAActT,UAAUwc,uBAAyB,SAAUze,GACvD,GAAIK,GAAoBmB,KAAK4C,kBAAkBpE,EAAgBK,mBAC3DD,EAAkBoB,KAAK4C,kBAAkBpE,EAAgBI,gBAC7D,OAAIC,IAAqBD,GAAoBC,EAAkBqC,YAActC,EAAgBsC,WACzFlB,KAAKmU,YAAa,EACVnU,KAAKkhB,aAAariB,EAAmBD,IAGtC,GAYfmV,EAActT,UAAUygB,aAAe,SAAUpmB,EAAWC,EAASiJ,GACjE,GAAIkC,GAAQ,GAAIpJ,MAAKhC,EAAUoG,WAC3BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,WACzBygB,EAAiF,SAAtE3hB,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KAAkB5M,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KACvJ5M,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQjV,KAE1DkV,GADiB9hB,KAAK1F,OAAOsX,eAAegQ,wBAClC,GACVG,EAAgB,GAAIjlB,MAAKhC,EAAUoG,WACnCI,EAAO,CAOX,IANKzG,oBAAkBmJ,IAAyC,SAA3BA,EAAUG,eAC3C4d,EAAgB,GAAIjlB,MAAKilB,EAAc7gB,UAAiC,GAArB8C,EAAUhJ,SAAgB,GAAK,QAEjFH,oBAAkBmJ,IAA0C,WAA3BA,EAAUG,eAA+BtJ,oBAAkBmJ,IAAyC,QAA3BA,EAAUG,cAA0BH,EAAUhJ,SAAW,KACpK+mB,EAAgB,GAAIjlB,MAAKilB,EAAc7gB,UAAiC,GAArB8C,EAAUhJ,SAAgB,MAE7EgF,KAAKmU,YAA2B,QAAbwN,EAAoB,CACvC,GAAI3mB,GAAWgF,KAAKkF,YAAYgB,EAAOC,EAAO,OAAO,GAAM,EAE3D,IADAnG,KAAKmU,YAAa,EACdnZ,EAAW,GAAKA,EAAW,EAC3B,MAAQA,GAAWgF,KAAK1F,OAAO0nB,YAGvC,GAAIhiB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EAErC,IAAK,GADDI,GAAO,GAAIe,MAAKhC,EAAUoG,WACrBwB,EAAQ5H,EAAUuB,UAAWqG,GAAS3H,EAAQsB,UAAWqG,IAAS,CACvE,GAAItG,GAAML,EAAKiR,SACX/L,MAAa,GACbY,EAAkB7B,KAAK1F,OAAOuH,eAClC,QAAQzF,GACJ,IAAK,GACD6E,EAAa,QACb,MACJ,KAAK,GACDA,EAAa,QACb,MACJ,KAAK,GACDA,EAAa,SACb,MACJ,KAAK,GACDA,EAAa,WACb,MACJ,KAAK,GACDA,EAAa,UACb,MACJ,KAAK,GACDA,EAAa,QACb,MACJ,KAAK,GACDA,EAAa,UACb,MACJ,SACIA,EAAa,GAGrB,IAAK,GADDghB,IAAY,EACPnkB,EAAI,EAAGA,EAAI+D,EAAgBlG,OAAQmC,IACxC,GAAI+D,EAAgB/D,GAAGmD,IAChBY,EAAgB/D,GAAGmD,GAAYtF,OAAS,EAAG,CAC9CsmB,GAAY,CACZ,KAAK,GAAIxW,GAAI,EAAGA,EAAI5J,EAAgB/D,GAAGmD,GAAYtF,OAAQ8P,IACvDnK,EAAOA,EAAOO,EAAgB/D,GAAGmD,GAAYwK,GAAG3J,GAC1CD,EAAgB/D,GAAGmD,GAAYwK,GAAG1J,KAIpD,GAAIkgB,EACA,IAAK,GAAIC,GAAI,EAAGA,EAAIliB,KAAK1F,OAAOqR,eAAehQ,OAAQumB,IACnD5gB,EAAOA,EAAOtB,KAAK1F,OAAOqR,eAAeuW,GAAGpgB,GAAK9B,KAAK1F,OAAOqR,eAAeuW,GAAGngB,IAGvFhG,GAAO,GAAIe,MAAKf,EAAK2F,QAAQ3F,EAAKM,UAAY,IACzC2D,KAAK1F,OAAOsG,iBACb7E,EAAOiE,KAAK1F,OAAO+J,cAAc5B,kBAAkB1G,QAK3D,KAAS+B,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOqR,eAAehQ,OAAQmC,IACnDwD,EAAOA,EAAOtB,KAAK1F,OAAOqR,eAAe7N,GAAGgE,GAAK9B,KAAK1F,OAAOqR,eAAe7N,GAAGiE,IAGvF,IACIZ,GACAC,EAFA+gB,EAAWJ,EAAc7gB,UAAYgF,EAAMhF,SAG/C,KAAKrG,oBAAkBmJ,IAA0C,WAA3BA,EAAUG,cAA6BH,EAAUhJ,SAAmB,GAAPsG,IAAgBzG,oBAAkBmJ,IAAyC,QAA3BA,EAAUG,eACxJtJ,oBAAkBmJ,EAAUhJ,WAAa,aAAaonB,KAAKpe,EAAUhJ,SAASiD,YAAa,CA0B5F,GAzBiB,QAAb0jB,GACI3hB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCwF,EAAenB,KAAK1F,OAAqB,aAAE4L,GAC3C9E,EAAapB,KAAK1F,OAAmB,WAAE6L,KAGvChF,EAAenB,KAAK1F,OAAO6I,iBAC3B/B,EAAapB,KAAK1F,OAAO8I,iBAExB8P,KAAKsH,MAAO2H,OAA+B,KAAO7gB,GAAqB,IAAb6gB,KAC3DL,GAAU,GAEV9hB,KAAKuB,oBAAoB2E,KAAW/E,GAAgB2gB,GACpD5b,EAAMpD,SAAS,EAAG,EAAG,EAAG,GAExB9C,KAAKuB,oBAAoB4E,KAAW/E,GAAc0gB,GAClD3b,EAAMrD,SAAS,IAEf9C,KAAKuB,oBAAoB4E,KAAWhF,GACpCgF,EAAMrD,SAAS,EAAG,EAAG,EAAG,IAI5Bgf,GAAU,EAEV,EAAQ5gB,YAAc,EAAQA,UAC9B,MAAQlB,MAAK1F,kBAGb,IAAIwnB,EAAS,CACT,GAAI9hB,KAAK1F,OAAOmE,WAAWzD,UAAuC,QAA3BgJ,EAAUG,cAA0B,aAAaie,KAAKpe,EAAUhJ,SAASiD,aAAyD,QAA1C+B,KAAK1F,OAAOsX,eAAeqB,YACnJpY,oBAAkBmJ,EAAUW,UAAW,CAC1C,GAAI8B,GAAgBzG,KAAK1F,OAAO4S,UAAYlN,KAAK1F,OAAO4S,SAASvR,OAAS,EACpEqE,KAAK0G,iBAAiBR,EAAOC,GAC7B,EACFE,EAAgBrG,KAAK1F,OAAOsG,eAAsD,EAArCZ,KAAKsG,gBAAgBJ,EAAOC,EAC7E,OAAInG,MAAKqiB,iBAAiBnc,EAAMjK,eACnB+D,KAAK0H,kBAAkBxB,EAAOC,GAAO,SAAiCnG,KAAK1F,OAAO0nB,YAGtFhiB,KAAK1F,OAAO0jB,iBAAiBsE,aAIrB7b,EAAgBJ,EAAerC,EAAUhJ,UAAYgF,KAAK1F,OAAO0nB,aAHjEvb,EAAgBzC,EAAUhJ,UAAYgF,KAAK1F,OAAO0nB,YAQnE,MAAShiB,MAAK0H,kBAAkBxB,EAAOC,GAAO,SAAiCnG,KAAK1F,OAAO0nB,YAI/F,GAAIO,IAAc,CAiBlB,OADAA,GAfuB,SAAUznB,EAAWC,EAASC,EAAUwnB,GAC3D,GAAIC,GAAQ,GAAI3lB,MAAKhC,GACjB4nB,EAAM,GAAI5lB,MAAK/B,EACnB,IAAIsU,MAAMoT,EAAMvhB,YAAcmO,MAAMqT,EAAIxhB,YAAclG,GAAY,GAAKwnB,GAA2B,EAC9F,OAAO,CAEX,IAAIG,GAAc,GAAI7lB,MAAK2lB,GACvBG,EAAa5nB,EAAWwnB,EACxBK,EAAW3P,KAAKsH,MAAMoI,EAAaJ,GACnCM,EAAiBF,EAAaJ,CAGlC,OAFAG,GAAYjhB,QAAQihB,EAAYtmB,UAAYwmB,GAC5CF,EAAY7f,SAAS6f,EAAYpmB,WAAaumB,GACvCH,EAAYzhB,YAAcwhB,EAAIxhB,WACjCgS,KAAK6P,KAAKJ,EAAYzhB,UAAYwhB,EAAIxhB,kBAAsC,GAErDgF,EAAOC,EAAOnC,EAAUhJ,SAAUsG,GAClC,QAA3B0C,EAAUG,cAA0BH,EAAUhJ,SAAW,IAAMunB,EACvDve,EAAUhJ,SAAWgF,KAAK1F,OAAO0nB,YAEzChiB,KAAKqiB,iBAAiBnc,EAAMjK,iBAAiD,MAA/BiK,EAAM0I,oBAC3C5O,KAAK0H,kBAAkBxB,EAAOC,GAAO,SAAiCnG,KAAK1F,OAAO0nB,YAGlFhiB,KAAK0H,kBAAkBxB,EAAOC,IAAU,KAAiB7E,GAAStB,KAAK1F,OAAO0nB,YA0BnG,GApBiB,QAAbL,IACI3hB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCwF,EAAenB,KAAK1F,OAAqB,aAAE4L,GAC3C9E,EAAapB,KAAK1F,OAAmB,WAAE6L,KAGvChF,EAAenB,KAAK1F,OAAO6I,iBAC3B/B,EAAapB,KAAK1F,OAAO8I,gBAEzBpD,KAAKuB,oBAAoB2E,KAAW/E,GACpC+E,EAAMpD,SAAS,EAAG,EAAG,EAAG,GAExB9C,KAAKuB,oBAAoB4E,KAAW/E,IACpC+E,EAAMrD,SAAS,IACfqD,EAAMrD,SAAS,EAAG,EAAG,EAAG,IAExB9C,KAAKuB,oBAAoB4E,KAAWhF,GACpCgF,EAAMrD,SAAS,EAAG,EAAG,EAAG,IAG5B,EAAQ5B,YAAc,EAAQA,UAC9B,MAAQlB,MAAK1F,kBAGb,IAAI0F,KAAKqiB,iBAAiBnc,EAAMjK,eAG5B,OAFaH,EAAiBqK,GAASrK,EAAiBoK,IACpD,KAAUlG,KAAK1F,mBAAsB,IAAM,EAI/C,IAAI0oB,GAAYhjB,KAAK0H,kBAAkBxB,EAAOC,QAC9C,IAAKnG,KAAK1F,OAAO0jB,iBAAiBsE,YAO9B,MAAOU,GAAYhjB,KAAK1F,OAAO0nB,WAN/B,IAAIiB,GAAc,GAAInmB,MAAKoJ,EAAMhF,UAGjC,QADkB8hB,EADGhjB,KAAK1F,OAAOsX,eAAesR,oCAAoCD,EAAa9c,IAE5EnG,KAAK1F,OAAO0nB,aASrDjO,EAActT,UAAU0iB,kBAAoB,SAAUnnB,EAAMoT,GACxD,QAASgU,GAAepnB,EAAME,GAC1B,GAAImnB,GAAiB,GAAIvmB,MAAKA,KAAKC,IAAIf,EAAME,EAAQ,EAAG,GAExD,OADiB,IAAIY,MAAKA,KAAKC,IAAIf,EAAME,EAAOmnB,EAAeC,aAAeD,EAAeE,cAGjG,QAASC,GAAkBznB,EAAMqT,GAC7B,GAWI5T,GAXY,GAAIioB,MAAKC,eAAe,SACpCtU,SAAUA,EACVpT,KAAM,UACNE,MAAO,UACPE,IAAK,UACLkF,KAAM,UACNqiB,OAAQ,UACRC,OAAQ,UACRC,QAAQ,IAEkB3T,OAAOnU,GACd2Q,MAAM,QAAQ6I,IAAI/M,QAAStM,EAAQV,EAAG,GAAIY,EAAMZ,EAAG,GAAIQ,EAAOR,EAAG,GAAI8F,EAAO9F,EAAG,GAAImoB,EAASnoB,EAAG,GAAIooB,EAASpoB,EAAG,EACtI,OAAO,IAAIsB,MAAKd,EAAME,EAAQ,EAAGE,EAAKkF,EAAMqiB,EAAQC,GAExD,GAAIE,GAAeV,EAAepnB,EAAM,GACpC+nB,EAAaX,EAAepnB,EAAM,EACtC,QACIgoB,SAAUR,EAAkBM,EAAc1U,GAC1C6U,OAAQT,EAAkBO,EAAY3U,KAG9C2E,EAActT,UAAU4hB,iBAAmB,SAAUrmB,GAIjD,IAHA,GAAIymB,GAAQ,EACRC,EAAM,GACNwB,EAAa,GAAIpnB,MAAKd,EAAMymB,EAAO,GAAG7T,oBACnC6T,GAASC,GAAK,CACjB,GAAIyB,GAAMjR,KAAKsH,OAAOiI,EAAQC,GAAO,GACjC0B,EAAgB,GAAItnB,MAAKd,EAAMmoB,EAAK,GAAGvV,mBAC3C,IAAIwV,IAAkBF,EAClB,OAAO,CAEPE,GAAgBF,EAChBxB,EAAMyB,EAAM,EAGZ1B,EAAQ0B,EAAM,EAGtB,OAAO,GAWXpQ,EAActT,UAAU+gB,YAAc,SAAU1mB,EAAW0G,EAAa6iB,GACpE,GAAIC,IAAY,EACZvoB,EAAO,GAAIe,MAAKhC,EAAUoG,UAG9B,IAAiB,SAFoE,SAAtElB,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KAAkB5M,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KACvJ5M,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQjV,MACtC,CACpB,GAAIzL,OAAe,GACfC,MAAa,EACbpB,MAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCwF,EAAenB,KAAK1F,OAAqB,aAAEyB,GAC3CqF,EAAapB,KAAK1F,OAAmB,WAAEyB,KAGvCoF,EAAenB,KAAK1F,OAAO6I,iBAC3B/B,EAAapB,KAAK1F,OAAO8I,gBAEzBpD,KAAKuB,oBAAoBxF,KAAUoF,EACnCpF,EAAK+G,SAAS,EAAG,EAAG,EAAG,GAElBtB,GAAexB,KAAKuB,oBAAoBxF,KAAUqF,GACvDrF,EAAK+G,SAAS,IACdwhB,GAAY,GAEPtkB,KAAKuB,oBAAoBxF,KAAUqF,GAAcpB,KAAK1F,OAAOiP,wBAClExN,EAAK+G,SAAS,IACdwhB,GAAY,GAGpB,GAAIC,EACAvkB,MAAK1F,OAAOkqB,+BAAiCxkB,KAAK1F,OAAO0G,QAAUqjB,KAClErkB,KAAK1F,OAAOsX,eAAwC,0BACrD2S,EAAyBvkB,KAAK1F,OAAOkqB,8BACmC,IAAjExkB,KAAK1F,OAAOmqB,iBAAiBC,aAAa5e,QAAQ6e,WACnD3kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaE,kBAAoB,KAExE,IAAIC,GAAsBhqB,oBAAkB0pB,GACwD,GAAIznB,MAAKkD,KAAK1F,OAAOsX,eAAeiT,mBAAlI,GAAI/nB,MAAMkD,KAAK1F,OAAOsX,eAAgC,gBAAE2S,GAAwBtmB,WACtF,IAAI4mB,EAAmB,CACnB,GAAIC,OAAY,EACH9kB,MAAKqiB,iBAAiBvnB,EAAUmB,cAgC7C,IAAI+D,KAAKqiB,iBAAiBtmB,EAAKE,eAQ3B,MAHI6oB,GAJC9kB,KAAK1F,OAAO0jB,iBAAiBsE,aAIjBxmB,EAAiBC,GAAQD,EAAiB+oB,IACnD,KAAU7kB,KAAK1F,mBAAsB,IAAM,GAJnC0F,KAAK+kB,mBAAmBF,EAAmB9oB,EAS3D,IAAIghB,OAAQ,EACZ,IAA8C,QAA1C/c,KAAK1F,OAAOsX,eAAeqB,YAAwBjT,KAAKuB,oBAAoBxF,KAAUiE,KAAK1F,OAAO6I,kBAAuD,IAAnCnD,KAAKuB,oBAAoBxF,IAC9IuoB,GAActkB,KAAK1F,OAA0B,kBAqB1CwqB,EAJC9kB,KAAK1F,OAAO0jB,iBAAiBsE,aAIjBvmB,EAAKmF,UAAY2jB,EAAkB3jB,iBAAqClB,KAAK1F,OAAO0nB,YAHrFhiB,KAAK+kB,mBAAmBF,EAAmB9oB,OAlBV,CACjD,GAAIipB,GAAU,GAAIloB,MAAKhC,EAAUoG,WAC7B+jB,EAAe,GAAInoB,MAAKkoB,EAAQliB,SAAS,EAAG,EAAG,EAAG,GAEtDia,GADe/c,KAAKkF,YAAY+f,EAAcnqB,EAAW,OAAO,GAAM,GACnDkF,KAAK1F,OAAO0nB,YAC/BjmB,EAAK+G,SAAS,EAAG,EAAG,EAAG,GAKnBgiB,EAJC9kB,KAAK1F,OAAO0jB,iBAAiBsE,aAIjBvmB,EAAKmF,UAAY2jB,EAAkB3jB,iBAAqClB,KAAK1F,OAAO0nB,YAHrFhiB,KAAK+kB,mBAAmBF,EAAmB9oB,GAKvDiE,KAAKuB,oBAAoBzG,KAAekF,KAAK1F,OAAO6I,kBAA8D,QAA1CnD,KAAK1F,OAAOsX,eAAeqB,aACnG6R,GAAa/H,GAyEzB,MAAO+H,GAGP,MAAO,IAaf/Q,EAActT,UAAUskB,mBAAqB,SAAUF,EAAmB5B,GACtE,GAAIiC,GAAY,GAAIpoB,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB3jB,WAClEikB,EAAsBnlB,KAAK1F,OAAOsX,eAAesR,oCAAoCgC,EAAWjC,EAWpG,SATIjjB,KAAKqiB,iBAAiBY,EAAYhnB,eACbH,EAAiBmnB,GAAennB,EAAiB+oB,GAGlD5B,EAAY/hB,UAAY2jB,EAAkB3jB,WAEf,GAAtBikB,EAA2B,GAAK,GAAK,WAEFnlB,KAAK1F,OAAO0nB,aAGhFjO,EAActT,UAAU2kB,kBAAoB,SAAUlf,EAAOlL,EAAU+C,GACnE,GAAIjD,GAAY,GAAIgC,MAAKoJ,EAAMhF,WAC3BnG,EAAU,GAAI+B,MAAMkD,KAAK6E,WAAW/J,EAAWE,EAAU+C,EAAKS,gBAAgB2F,aAAcpG,EAAKS,iBAAiB,GAAO0C,UAG7H,IAAqB,SAFwC,SAA1ClB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeqB,WAC7FjT,KAAK1F,OAAOsX,eAAeiQ,SACH,CACxB,GAAI1gB,OAAe,GACfC,MAAa,EACbpB,MAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCwF,EAAenB,KAAK1F,OAAqB,aAAEQ,GAC3CsG,EAAapB,KAAK1F,OAAmB,WAAES,KAGvCoG,EAAenB,KAAK1F,OAAO6I,iBAC3B/B,EAAapB,KAAK1F,OAAO8I,gBAEzBpD,KAAKuB,oBAAoBzG,KAAeqG,GACxCrG,EAAUgI,SAAS,EAAG,EAAG,EAAG,GAE5B9C,KAAKuB,oBAAoBxG,KAAaqG,GACtCrG,EAAQ+H,SAAS,IAEjB9C,KAAKuB,oBAAoBxG,KAAaoG,GACtCpG,EAAQ+H,SAAS,EAAG,EAAG,EAAG,GAGlC,GAAK9C,KAAK1F,OAAO0jB,iBAAiBsE,YAS9B,MAAStiB,MAAK0H,kBAAkB5M,EAAWC,SAAoCiF,KAAK1F,OAAO0nB,WAR3F,IAAIiB,GAAc,GAAInmB,MAAKhC,EAAUoG,WACjCikB,EAAsBnlB,KAAK1F,OAAOsX,eAAesR,oCAAoCD,EAAaloB,EAItG,QAHwBA,EAAQmG,UAAYpG,EAAUoG,UACH,GAAtBikB,EAA2B,GAAK,GAAK,WAEXnlB,KAAK1F,OAAO0nB,aAM3EjO,EAActT,UAAU4kB,iBAAmB,SAAUnf,EAAOof,GACxD,GAAIC,GAAS,GAAIzoB,MAAKoJ,EAAMhF,UAG5B,IAAqB,SAFwC,SAA1ClB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeqB,WAC7FjT,KAAK1F,OAAOsX,eAAeiQ,SACH,CACxB,GAAI1gB,OAAe,GACfqkB,MAAmB,EACnBxlB,MAAK1F,OAAOuH,gBAAgBlG,OAAS,GACrCwF,EAAenB,KAAK1F,OAAqB,aAAEirB,GAC3CC,EAAmBxlB,KAAK1F,OAAqB,aAAEgrB,IAG/CE,EAAmBrkB,EAAenB,KAAK1F,OAAO6I,iBAE9CnD,KAAKuB,oBAAoBgkB,KAAYpkB,GACrCokB,EAAOziB,SAAS,EAAG,EAAG,EAAG,GAEzB9C,KAAKuB,oBAAoB+jB,KAA0BE,GACnDF,EAAqBxiB,SAAS,EAAG,EAAG,EAAG,GAG/C,GAAIwiB,EAAsB,CACtB,GAAIG,GAAe,EACfC,EAAuB,CAC3B,KAAK1lB,KAAK1F,OAAO0jB,iBAAiBsE,YAAa,CAC3C,GAAI4C,GAAY,GAAIpoB,MAAKwoB,EAAqBpkB,WAC1CykB,EAAmB,GAAI7oB,MAAKyoB,EAAOrkB,YACvCukB,EAAezlB,KAAK1F,OAAOsX,eAAesR,oCAAoCgC,EAAWS,IACtE,IACfD,QAAuBD,GAG/B,OAAQF,EAAOrkB,UAAYokB,EAAqBpkB,UAAYwkB,SAChC1lB,KAAK1F,OAAO0nB,YAGxC,MAAO,IAUfjO,EAActT,UAAU6D,kBAAoB,SAAUN,EAAW4hB,GAC7D,GAAIvgB,GAAgBrF,KAAK1F,OAAO+K,cAC5BzK,EAAYoJ,EAAUxF,eAC1B,KAAI3D,oBAAkBwK,EAAcugB,KAA6B,aAAdA,GAA0C,aAAdA,EAG/E,GAAkB,oBAAdA,OAGC,IAAkB,iBAAdA,EAA8B,CACnC,GAAIpN,GAAe5d,EAAU6d,aACzBoN,EAAmB7lB,KAAK1F,OAAO8d,eAE/B0N,KACAC,IACJ,KAAKlrB,oBAAkB2d,GACnB,IAAK,GAAI1a,GAAI,EAAGA,EAAI0a,EAAa7c,OAAQmC,IAAK,CAC1CgoB,EAAYxnB,KAAKka,EAAa1a,GAAG+nB,EAAiBtrB,IAClD,IAAIyrB,GAAUxN,EAAa1a,GAAG+nB,EAAiBxN,MAC3CqG,EAAelG,EAAa1a,GAAG+nB,EAAiBjZ,KAC/B,OAAjB8R,IACAsH,GAAW,IAAMtH,EAAe,MAEhCsH,GACAD,EAAcznB,KAAK0nB,GAI/BhmB,KAAK1F,OAAO8J,eAAe,gBAAiB2hB,EAAcE,KAAK,KAAMrrB,GAAW,GAC5EoF,KAAK2Y,kBACD3U,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,eAC1CzU,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAAc,KACxDzU,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,cACtCzU,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAAc,GAAGoN,EAAiBxN,OAEpFrY,KAAKkmB,uBAAuBliB,IAG5BhE,KAAKkmB,uBAAuBliB,GAEhChE,KAAK1F,OAAO8J,eAAeiB,EAAcugB,GAAYG,EAAcE,KAAK,KAAMjiB,OAE3D,cAAd4hB,GAA2C,YAAdA,EAClC5lB,KAAKmmB,cAAcniB,EAAWpJ,EAAUgrB,GAAYvgB,EAAcugB,IAE/C,aAAdA,EACL5lB,KAAKomB,kBAAkBpiB,EAAWqB,EAAcugB,IAE7B,SAAdA,GACL5lB,KAAK1F,OAAO8J,eAAe,YAAciB,EAAcugB,GAAYhrB,EAAUiW,KAAM7M,GACnFhE,KAAK1F,OAAO8J,eAAeiB,EAAcugB,GAAYhrB,EAAUgrB,GAAY5hB,IAExD,SAAd4hB,GACL5lB,KAAK1F,OAAO8J,eAAe,YAAciB,EAAcugB,GAAYhrB,EAAUokB,SAAUhb,GACvFhE,KAAK1F,OAAO8J,eAAeiB,EAAcugB,GAAYhrB,EAAUokB,SAAUhb,IAEtD,WAAd4hB,GACL5lB,KAAK1F,OAAO8J,eAAe,YAAciB,EAAcugB,IAAahrB,EAAU+F,eAAgBqD,GAC9FhE,KAAK1F,OAAO8J,eAAeiB,EAAcugB,IAAahrB,EAAU+F,eAAgBqD,IAE7D,aAAd4hB,EACL5lB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWkG,SAAU3E,KAAKqmB,gBAAgBriB,GAAYA,IAG3GhE,KAAK1F,OAAO8J,eAAe,YAAciB,EAAcugB,GAAYhrB,EAAUgrB,GAAY5hB,GACzFhE,KAAK1F,OAAO8J,eAAeiB,EAAcugB,GAAYhrB,EAAUgrB,GAAY5hB,KAGnF+P,EAActT,UAAU4lB,gBAAkB,SAAUtoB,GAChD,GAAIkT,GAAQjR,KACR2E,EAAW5G,EAAKS,gBAAgBmG,SAChC2W,EAAetb,KAAK1F,OAAOmE,UAC/B,IAAI5D,oBAAkB8J,GAClB,MAAO,KAGX,KAAK,GADDxG,GAAWD,eAAeH,EAAKI,SAASmd,EAAa3W,WAAW,GAC3D7G,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,KAC7BkC,KAAK1F,OAAOgsB,QAAWtmB,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAW2C,cACxEjG,WAAS,SAAUM,KAAK1F,OAAO0I,WAAW2C,eAAmB3F,KAAK1F,OAAOisB,mBAAqB7mB,WAAS,SAAUM,KAAK1F,OAAOisB,sBAC7HpoB,EAASL,OAERjD,oBAAkBygB,EAAaxgB,aAChCqD,EAASL,GAAGkC,KAAK1F,OAAOmE,WAAW3D,WAAa6J,EAAS7G,GAAGhD,WAE3DD,oBAAkBygB,EAAavgB,WAChCoD,EAASL,GAAGkC,KAAK1F,OAAOmE,WAAW1D,SAAW4J,EAAS7G,GAAG/C,SAEzDF,oBAAkBygB,EAAatgB,YAChCmD,EAASL,GAAGkC,KAAK1F,OAAOmE,WAAWzD,UAAYwN,OAAO7D,EAAS7G,GAAG9C,UAS1E,OANIgF,MAAKkU,wBAAwBvY,OAAS,GAAKwC,GAAYA,EAASxC,OAAS,GACzEwC,EAASmU,QAAQ,SAAUC,EAAM9S,GAC7B,GAAI0e,GAAe1iB,OAAO2iB,UAAW7L,EAAMtB,EAAMiD,wBAAwBzU,GACzEtB,GAASsB,GAAS0e,IAGnBhgB,GAQX4V,EAActT,UAAUylB,uBAAyB,SAAUliB,GACvD,GAAIwU,GAAexU,EAAUxF,gBAAgBia,aACzC+N,EAAmBxiB,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAC7DoN,EAAmB7lB,KAAK1F,OAAO8d,cACnC,IAAIvd,oBAAkB2rB,GAClBxiB,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAAgBD,MAEzD,IAAIA,GAAgBA,EAAa7c,OAAQ,CAC1C,IAAK,GAAImC,GAAI,EAAGA,EAAI0a,EAAa7c,OAAQmC,IAAK,CAC1C,GAAI2oB,IAAU,CACd,IAAkC,oBAC9B,GAAgC,gBAArBD,IACH,IAAwBhO,EAAa1a,GAAG+nB,EAAiBxN,MAAQ,CACjEmO,EAAmBhO,EAAa1a,GAAG+nB,EAAiBxN,MACpDoO,GAAU,CACV,YAKR,KAAK,GAAIhb,GAAI,EAAGA,EAAI+a,EAAiB7qB,OAAQ8P,IACzC,GAAmC,gBAAxB+a,GAAiB/a,IAAkD,gBAAxB+a,GAAiB/a,IACnE,GAAIzN,SAASwoB,EAAiB/a,GAAI,MAC9BzN,SAASwa,EAAa1a,GAAG+nB,EAAiBtrB,IAAK,IAAK,CACpDisB,EAAiB/a,GAAK+M,EAAa1a,GACnC2oB,GAAU,CACV,YAGH,IAAID,EAAiB/a,GAAGoa,EAAiBtrB,MAAQie,EAAa1a,GAAG+nB,EAAiBtrB,KAAsC,gBAAxBisB,GAAiB/a,GAAiB,CACnI+a,EAAiB/a,GAAKvN,YAAWsoB,EAAiB/a,GAAI+M,EAAa1a,IAAI,GACvE2oB,GAAU,CACV,OAIPA,IACiC,mBAC9BD,EAAmBhO,EAAa1a,GAAG+nB,EAAiBxN,MAGpDmO,EAAiBloB,KAAKka,EAAa1a,KAI/C,GAAI4oB,KACJ,KAAK7rB,oBAAkB2rB,GACnB,GAAkC,mBAAU,CASxC,IAAK,GAAItE,GAAI,EAAGA,EAAIsE,EAAiB7qB,OAAQumB,KAR/B,SAAUA,GACpB1J,EAAamB,OAAO,SAAUlB,GACtBA,EAAaoN,EAAiBtrB,MAAQisB,EAAiBtE,GAAG2D,EAAiBtrB,MAC/B,IAAzCmsB,EAAO5Z,QAAQ0Z,EAAiBtE,KACnCwE,EAAOpoB,KAAKkoB,EAAiBtE,OAK7BA,EAEZliB,MAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWga,aAAciO,EAAQ1iB,OAGtFhE,MAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWga,aAAc+N,EAAkBxiB,OAKxGhE,MAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWga,gBAAkBzU,IAG1F+P,EAActT,UAAU0lB,cAAgB,SAAU5T,EAAMlT,EAAOsnB,GAC3D,GAAInkB,GAA4B,gBAAVnD,GAAqB,GAAIvC,MAAKuC,GAASA,CACxDxE,qBAAkBwE,KACnBA,EAAQ,GAAIvC,MAAK0F,EAAStB,YAE9BlB,KAAK1F,OAAO8J,eAAeuiB,EAAStnB,EAAOkT,GACtC1X,oBAAkBwE,KACnBA,EAAQ,GAAIvC,MAAK0F,EAAStB,YAEzBlB,KAAK1F,OAAO0G,QAAWhB,KAAK1F,OAAOssB,eACpC5mB,KAAK1F,OAAO8J,eAAe,YAAcuiB,EAAStnB,EAAOkT,GAE7DvS,KAAK1F,OAAOssB,eAAgB,GAEhC7S,EAActT,UAAUoe,iBAAmB,SAAU7jB,EAAUmJ,GAC3D,MAAqB,QAAjBA,EACOnJ,EAEe,SAAjBmJ,EACEnJ,GAAYgF,KAAK1F,OAAOyM,cAAgB,MAGxC/L,GAAYgF,KAAK1F,OAAOyM,cAAgB,KAGvDgN,EAActT,UAAU2lB,kBAAoB,SAAU7T,EAAMoU,GACxD,GAAI3rB,GAAWuX,EAAK/T,gBAAgBxD,SAChCmJ,EAAeoO,EAAK/T,gBAAgB2F,YACxC,IAAKtJ,oBAAkBG,GAiBnBgF,KAAK1F,OAAO8J,eAAeuiB,EAAS3rB,EAAUuX,GAC9CvS,KAAK1F,OAAO8J,eAAe,YAAcuiB,EAAS3rB,EAAUuX,OAlB9B,CAC9BvS,KAAK1F,OAAO8J,eAAeuiB,EAASpU,EAAK/T,gBAAgBxD,SAAUuX,EAEnE,IAAI/K,GAAiB9H,WAASinB,EAASpU,EAAKpU,SACxCkR,OAAM7H,IAAkB3M,oBAAkBmF,KAAK1F,OAAOmE,WAAW0F,gBAAkBtJ,oBAAkB2M,GACrGxH,KAAK1F,OAAO8J,eAAe,YAAcuiB,EAAS3mB,KAAKuQ,kBAAkBvV,EAAUmJ,GAAeoO,GAGrE,gBAAlB/K,GACPxH,KAAK1F,OAAO8J,eAAe,YAAcuiB,EAAS3rB,EAASiD,WAAYsU,GAGvEvS,KAAK1F,OAAO8J,eAAe,YAAcuiB,EAAS3rB,EAAUuX,GAQpEvS,KAAK1F,OAAOmE,WAAW0F,eACvBoO,EAAKpU,SAAS6B,KAAK1F,OAAOmE,WAAW0F,cAAgBoO,EAAK/T,gBAAgB2F,eAGlF4P,EAActT,UAAUomB,cAAgB,SAAU9oB,GAC9C,GAAI+W,GACAgS,IACArT,OAAMsT,QAAQhpB,KACd+W,EAAY/W,EAGhB,KAAK,GADDpC,GAASmZ,EAAUnZ,OACdmC,EAAI,EAAGA,EAAInC,EAAQmC,IAAK,CAC7B,GAAIS,GAASR,EAAKD,EAClBgpB,GAAWxoB,KAAKC,GACV1D,oBAAkBkD,EAAKD,GAAGkC,KAAK1F,OAAOmE,WAAWqY,SACnD9W,KAAK6mB,cAAc9oB,EAAKD,GAAGkC,KAAK1F,OAAOmE,WAAWqY,QAG1D,MAAOgQ,IAEX/S,EAActT,UAAUwkB,aAAe,SAAU1S,GAC7C,GAAItB,GAAQjR,MAEPnF,oBAAkBmF,KAAK1F,OAAOmE,WAAWkY,WAAc9b,oBAAkBmF,KAAK1F,OAAOmE,WAAWlE,IAI9EyF,KAAK1F,OAAOY,WAHZ8E,KAAK6mB,cAAc7mB,KAAK1F,OAAOY,aAKrCqa,IAAI,SAAUhX,GACvBgU,EAAK/T,gBAAgBkX,SAAWnX,EAAO0S,EAAM3W,OAAOmE,WAAWlE,MAC1DM,oBAAkBoW,EAAM3W,OAAOmE,WAAW3D,aAC3CyX,EAAKtB,EAAM3W,OAAOmE,WAAW3D,WAAayD,EAAO0S,EAAM3W,OAAOmE,WAAW3D,YAExED,oBAAkBoW,EAAM3W,OAAOmE,WAAW1D,WAC3CwX,EAAKtB,EAAM3W,OAAOmE,WAAW1D,SAAWwD,EAAO0S,EAAM3W,OAAOmE,WAAW1D,cAKvFgZ,EAActT,UAAUkgB,cAAgB,SAAU9P,EAAMC,GACpD,MAAiB,QAAbA,EACOD,GAAQ7Q,KAAK1F,OAAOyM,cAAgB,MAEzB,WAAb+J,EACED,EAAO,GAGPA,GASfkD,EAActT,UAAUqa,eAAiB,SAAU9W,GAC/C,GAAIgjB,GAAchnB,KAAK1F,OAAOmE,WAC1BD,EAAkBwF,EAAUxF,eAChC,KAAK3D,oBAAkBmJ,EAAU7F,UAAW,CACxC,GAAIJ,GAAOiG,EAAU7F,QAwDrB,IAvDI6oB,EAAYzsB,KACZyF,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYzsB,GAAIiE,EAAgBkX,OAAQ1R,GACjFhE,KAAK1F,OAAO8J,eAAe4iB,EAAYzsB,GAAIiE,EAAgBkX,OAAQ1R,IAEnEgjB,EAAY3O,OACPrY,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAY3O,KAAM7Z,EAAgByoB,SAAUjjB,GAEzFhE,KAAK1F,OAAO8J,eAAe4iB,EAAY3O,KAAM7Z,EAAgByoB,SAAUjjB,IAEvEgjB,EAAYlsB,WACZkF,KAAKmmB,cAAcniB,EAAWxF,EAAgB1D,UAAWksB,EAAYlsB,WAErEksB,EAAYjsB,SACZiF,KAAKmmB,cAAcniB,EAAWxF,EAAgBzD,QAASisB,EAAYjsB,SAEnEisB,EAAYhsB,WACRH,oBAAkBmsB,EAAY/hB,aAAgBpK,oBAAkBmsB,EAAY/hB,aAC3EjB,EAAU7F,SAAS6oB,EAAY/hB,aAChCjF,KAAKomB,kBAAkBpiB,EAAWgjB,EAAYhsB,UAGlDgsB,EAAY7iB,eACZpG,EAAKipB,EAAY7iB,cAAgB3F,EAAgB2F,cAEjD6iB,EAAYzL,WACPvb,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYzL,SAAU/c,EAAgB+c,SAAUvX,GAE7FhE,KAAK1F,OAAO8J,eAAe4iB,EAAYzL,SAAU/c,EAAgB+c,SAAUvX,IAE3EgjB,EAAYnoB,mBACZmB,KAAKmmB,cAAcniB,EAAWxF,EAAgBK,kBAAmBmoB,EAAYnoB,mBAE7EmoB,EAAYpoB,iBACZoB,KAAKmmB,cAAcniB,EAAWxF,EAAgBI,gBAAiBooB,EAAYpoB,iBAE3EooB,EAAYxL,QACPxb,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYxL,MAAOhd,EAAgBgd,MAAOxX,GAEvFhE,KAAK1F,OAAO8J,eAAe4iB,EAAYxL,MAAOhd,EAAgBgd,MAAOxX,IAErEgjB,EAAY1K,WACPtc,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAY1K,SAAU9d,EAAgB8d,SAAUtY,GAE7FhE,KAAK1F,OAAO8J,eAAe4iB,EAAY1K,SAAU9d,EAAgB8d,SAAUtY,IAE3EgjB,EAAYvU,aACPzS,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYvU,WAAYjU,EAAgBiU,WAAYzO,GAEjGhE,KAAK1F,OAAO8J,eAAe4iB,EAAYvU,WAAYjU,EAAgBiU,WAAYzO,IAE/EgjB,EAAYrQ,SAAU,CACtB,GAAIA,GAAoC,gBAAzB3W,KAAK1F,OAAOyd,SAA6BvZ,EAAgB0oB,SAAWnpB,EAAKipB,EAAYrQ,SACpG3W,MAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYrQ,SAAUA,EAAU3S,GACzEhE,KAAK1F,OAAO8J,eAAe4iB,EAAYrQ,SAAUnY,EAAgB0oB,SAAUljB,GAE3EgjB,EAAYnW,OACP7Q,KAAK1F,OAAO0G,QACbhB,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAYnW,KAAMrS,EAAgBqS,KAAM7M,GAErFhE,KAAK1F,OAAO8J,eAAe4iB,EAAYnW,KAAMrS,EAAgBqS,KAAM7M,IAEnEgjB,EAAY5W,OACZpQ,KAAK1F,OAAO8J,eAAe,YAAc4iB,EAAY5W,KAAM5R,EAAgBwgB,SAAUhb,GACrFhE,KAAK1F,OAAO8J,eAAe4iB,EAAY5W,KAAM5R,EAAgBwgB,SAAUhb,MAWnF+P,EAActT,UAAUwb,gBAAkB,SAAUle,GAChD,GAEIopB,GAFAlW,EAAQjR,IAGZ,IAAInF,oBAAkBkD,EAAKiC,KAAK1F,OAAOmE,WAAWga,eAC9C,MAAO0O,EAGPA,GADAnnB,KAAK1F,OAAO0G,OACWjD,EAAKiC,KAAK1F,OAAOmE,WAAWga,cAG5B1a,EAAe,UAAKiC,KAAK1F,OAAOmE,WAAWga,eAAgB1a,GAAe,SAC3FA,EAAe,SAAEiC,KAAK1F,OAAOmE,WAAWga,cACxC1a,EAAKiC,KAAK1F,OAAOmE,WAAWga,aAEtC,IAAID,EAMAA,GALC3d,oBAAkBmF,KAAK1F,OAAO0I,aAAgBnI,oBAAkBmF,KAAK1F,OAAO0I,WAAW2C,gBACrF3F,KAAK1F,OAAO0I,WAAW2C,aAAayhB,iBAIxBpnB,KAAK1F,OAAO0d,UAHZhY,KAAK1F,OAAO0I,WAAW2C,aAAa4Y,cAKvD,IAAI8I,GAAoBrnB,KAAK1F,OAAO8d,eAAe7d,GAC/C+sB,EAAsBtnB,KAAK1F,OAAO8d,eAAexL,KACjD2a,EAAgBvnB,KAAK1F,OAAO8d,eAAe1B,MAC3CsB,IACJ,IAAsC,oBAAqC,KAAzBmP,EAA6B,CAC3E,GAAIK,MACAC,EAAgB1pB,EAAKiC,KAAK1F,OAAOmE,WAAWga,cAAc9P,MAAM,IACpE,IAAI8e,EAAe,CACfjP,EAAalG,QAAQ,SAAUmG,GACvBgP,EAAcC,SAASjP,EAAaxH,EAAM3W,OAAO8d,eAAeC,QAChEmP,EAAWlpB,KAAKma,IAGxB,IAAIkP,GAAoBzpB,YAAWspB,EAAW,GAC9CxP,GAAU1Z,KAAKqpB,GACV9sB,oBAAkBysB,IAAyBzsB,oBAAkBssB,EAAqBG,MACnFK,EAAkBL,GAAuBH,EAAqBG,IAE7DzsB,oBAAkB0sB,IAAmB1sB,oBAAkBssB,EAAqBI,MAC7EI,EAAkBJ,GAAiBJ,EAAqBI,SA0BhE,KAAK,GAAI7kB,GAAQ,EAAGA,EAAQykB,EAAqBxrB,OAAQ+G,KArB3C,SAAUA,GACpB,GAAIkW,GAAWJ,EAAamB,OAAO,SAAUlB,GACzC,MAA6C,gBAAjC0O,GAAqBzkB,IAC7BykB,EAAqBzkB,GAAO2kB,KAAuB5O,EAAa4O,IAIxDF,EAAqBzkB,KAAW+V,EAAa4O,KAGzDM,EAAoBzpB,YAAW0a,EAAS,GAC5CZ,GAAU1Z,KAAKqpB,GACV9sB,oBAAkBysB,IACfzsB,oBAAkBssB,EAAqBzkB,GAAO4kB,MAClDK,EAAkBL,GAAuBH,EAAqBzkB,GAAO4kB,IAEpEzsB,oBAAkB0sB,IACf1sB,oBAAkBssB,EAAqBzkB,GAAO6kB,MAClDI,EAAkBJ,GAAiBJ,EAAqBzkB,GAAO6kB,KAI3D7kB,EAIhB,OADA1C,MAAK4nB,mBAAmB5P,GACjBA,GASXjE,EAActT,UAAUmnB,mBAAqB,SAAUpP,GACnD,GAAIkG,GAAe1e,KAAK1F,OAAO8d,eAAexL,IAC9C,KAAK/R,oBAAkB6jB,GAAe,CAClC,GAAImJ,GAAWrP,EAAa7c,OACxB8D,MAAQ,EACZ,KAAKA,EAAQ,EAAGA,EAAQooB,EAAUpoB,IAC1B5E,oBAAkB2d,EAAa/Y,GAAOif,MACtClG,EAAa/Y,GAAOif,GAAgB,OAUpD3K,EAActT,UAAUyb,mBAAqB,SAAUne,GACnD,GAAI0a,GAAe1a,EAAKS,gBAAgBia,aACpCN,KACA2P,EAAc9nB,KAAK1F,OAAOmE,UAC9B,IAAIga,GAAgBA,EAAa9c,OAAS,EAAG,CACzC,GAAIosB,GAAiBtP,EAAa9c,MAClC,IAAkE,gBAAvDoC,GAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAA4B,CACxE,GACIuP,GADAC,EAAgBlqB,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWga,aAEzDzY,MAAK1F,OAAO8J,eAAe,gBAAiB4jB,EAAoBjqB,EAAKS,iBAAiB,GACtFwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWga,aAAcuP,EAAoBjqB,GAAM,GAC1FiC,KAAKkmB,uBAAuBnoB,OAE3B,CACD,GAAIkqB,GAAgB/pB,eAAeH,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWga,eAAe,EACvFzY,MAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWga,gBAAkB1a,EAClF,KAAK,GAAID,GAAI,EAAGA,EAAIiqB,EAAgBjqB,IAAK,CACrC,GAAI8a,GAAWH,EAAa3a,GACxBkoB,EAAUpN,EAAS5Y,KAAK1F,OAAO8d,eAAeC,MAC9CqG,EAAe9F,EAAS5Y,KAAK1F,OAAO8d,eAAexL,KAOvD,IANqB,MAAjB8R,IACAsH,GAAW,IAAMtH,EAAe,MAE/B7jB,oBAAkBmrB,IACnB7N,EAAa7Z,KAAK0nB,GAElBjoB,EAAKI,SAAU,CACf,GAAIwoB,GAAUmB,EAAYrP,YACtBwP,GAAcnqB,KAAcmqB,EAAcjqB,SAASF,EAAEG,WAAY,MAA7C,GACpBF,EAAKI,SAASwoB,GAASroB,KAAK2pB,EAAcnqB,IAG1CC,EAAKI,SAASwoB,GAASroB,KAAKsa,EAAS5Y,KAAK1F,OAAO8d,eAAe7d,MAI5EyF,KAAK1F,OAAO8J,eAAe,gBAAiB+T,EAAa8N,KAAK,KAAMloB,EAAKS,iBAAiB,GAC1FwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWga,aAAcN,EAAa8N,KAAK,KAAMloB,GAAM,GAC9FiC,KAAKkmB,uBAAuBnoB,MAIxCgW,EAActT,UAAUwW,YAAc,SAAUiR,EAAgBC,GAE5D,IADA,GAAItqB,MACGqqB,EAAevsB,OAAS,GAAKwsB,EAAexsB,OAAS,GAAG,CAC3D,GAAI8D,GAAQ0oB,EAAerb,QAAQob,EAAe,KACnC,IAAXzoB,EACAyoB,EAAeE,SAGfvqB,EAAOS,KAAK4pB,EAAeE,SAC3BD,EAAeE,OAAO5oB,EAAO,IAGrC,MAAO5B,IAEXkW,EAActT,UAAUuf,4BAA8B,SAAU7b,GAC5D,GAAIyI,GAAOzI,CAaX,OAXIyI,GADU,WAATA,GAAgC,YAATA,GAAiC,MAATA,GAA2B,QAATA,EAC3D,SAEQ,SAATA,GAA8B,UAATA,GAA+B,MAATA,GAA2B,OAATA,EAC5D,OAEQ,QAATA,GAA6B,SAATA,GAA8B,MAATA,EACxC,MAGA5M,KAAK1F,OAAO6J,aAAa4D,qBAIxCgM,EAActT,UAAU2f,wBAA0B,SAAUpB,GACxD,GAAI5O,GAAO4O,CAaX,OAXI5O,GADS,kBAATA,EACO,gBAEO,cAATA,EACE,YAEO,cAATA,EACE,YAGApQ,KAAK1F,OAAO0kB,UAI3BjL,EAActT,UAAUwf,wBAA0B,SAAUnP,GACxD,GAAIlE,GAAOkE,CAaX,OAXIlE,GADS,WAATA,EACO,SAEO,SAATA,EACE,OAEO,QAATA,EACE,MAGA5M,KAAK1F,OAAOwW,SAAS/I,qBAYpCgM,EAActT,UAAUof,oBAAsB,SAAU7kB,EAAUwD,GAC9D,GAAI8pB,GAAetoB,KAAKuM,iBAAiBvR,EACpCqU,OAAM3P,WAAS,WAAY4oB,KAC5BtoB,KAAK1F,OAAO8J,eAAe,WAAY1E,WAAS,WAAY4oB,GAAe9pB,GAAiB,GAE3F3D,oBAAkB6E,WAAS,eAAgB4oB,KAC5CtoB,KAAK1F,OAAO8J,eAAe,eAAgB1E,WAAS,eAAgB4oB,GAAe9pB,GAAiB,IAO5GuV,EAActT,UAAU8nB,kBAAoB,WACxC,GAAIvoB,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,CACjC,GAAIoC,OAAO,GACPiG,MAAY,EAChBhE,MAAK1F,OAAOyM,cAAgB/G,KAAK0L,kBACjC,KAAK,GAAIjM,GAAQ,EAAGA,EAAQO,KAAK1F,OAAOyO,SAASpN,OAAQ8D,IACrD1B,EAAOiC,KAAK1F,OAAOyO,SAAStJ,GAAOtB,SACnC6F,EAAYhE,KAAK1F,OAAOyO,SAAStJ,GAC5B5E,oBAAkBmF,KAAK1F,OAAOmE,WAAWzD,WAC1CgF,KAAKomB,kBAAkBpiB,EAAWhE,KAAK1F,OAAOmE,WAAWzD,UAEzDgF,KAAK1F,OAAO0G,QACZhB,KAAKilB,aAAajhB,GAEtBhE,KAAKmc,yBAAyBnY,EAAWjG,GAAM,EAEnDiC,MAAKwoB,oBAIbzU,EAActT,UAAUgoB,oBAAsB,SAAUrsB,EAAK2F,EAAMD,GAC/D,GAAI4mB,IAAY,CAIhB,OAHItsB,GAAI8E,WAAaa,EAAKb,WAAa9E,EAAI8E,UAAYY,EAAGZ,YACtDwnB,GAAY,GAETA,GAGX3U,EAActT,UAAUkoB,kBAAoB,SAAUvsB,EAAK2F,EAAMD,GAC7D,GAAI4mB,IAAY,CAIhB,OAHItsB,GAAI8E,UAAYa,EAAKb,WAAa9E,EAAI8E,WAAaY,EAAGZ,YACtDwnB,GAAY,GAETA,GASX3U,EAActT,UAAUmoB,wBAA0B,SAAUC,GACxD,GAEIC,GAFA7X,EAAQjR,KACR+oB,EAAQF,EAAa3L,aAErB8L,IACJ,IAAID,EAAMptB,QAAU,EAEhB,YADAktB,EAAarqB,gBAAgByqB,sBAGjCF,GAAQ/oB,KAAKkpB,oBAAoBL,GACjC7oB,KAAKmpB,uBAAuBJ,EAmE5B,KAAK,GADDK,GAASppB,KACJ0C,EAAQ,EAAGA,EAAQqmB,EAAMptB,OAAQ+G,KAlE5B,SAAUA,GAEpB,GASI2mB,QAVJP,EAAcC,EAAMrmB,IACYlE,gBAAgBmG,YAC1C7J,UAAWguB,EAAYtqB,gBAAgB1D,UAAWC,QAAS+tB,EAAYtqB,gBAAgBzD,WAC1Fwa,IAAI,SAAU/Z,GACb,GAAIV,GAAYU,EAAGV,UAAWC,EAAUS,EAAGT,OAC3C,QACID,UAAW,GAAIgC,MAAKhC,GACpBC,QAAS,GAAI+B,MAAK/B,MAIbuX,QAAQ,SAAUgX,GAG3B,IAAK,GAFDC,GAAa,GAAIzsB,MAAKwsB,EAAYxuB,UAAUoG,WAC5CsoB,EAAW,GAAI1sB,MAAKwsB,EAAYvuB,QAAQmG,WACnCzB,EAAQ,EAAGA,EAAQiD,EAAOjD,IAAS,CACxC,GAAI8S,GAAOwW,EAAMtpB,IACG8S,EAAK/T,gBAAgBmG,YACnC7J,UAAWyX,EAAK/T,gBAAgB1D,UAAWC,QAASwX,EAAK/T,gBAAgBzD,WAC5Ewa,IAAI,SAAU/Z,GACb,GAAIV,GAAYU,EAAGV,UAAWC,EAAUS,EAAGT,OAC3C,QACID,UAAW,GAAIgC,MAAKhC,GACpBC,QAAS,GAAI+B,MAAK/B,MAGbuX,QAAQ,SAAUoL,GAC3B,GAAI1b,GAAa0b,EAAQ5iB,UACrB2uB,EAAW/L,EAAQ3iB,QACnB2uB,IACAH,IAAcC,GAAYC,IACtBxY,EAAMwX,oBAAoBc,EAAYvnB,EAAYynB,IAC/CxY,EAAM0X,kBAAkBa,EAAUxnB,EAAYynB,IAChDznB,EAAWd,WAAaqoB,EAAWroB,WAAauoB,EAASvoB,WAAasoB,EAAStoB,aAC/Ec,EAAWd,UAAYqoB,EAAWroB,WAAac,EAAWd,UAAYsoB,EAAStoB,WAC7EuoB,EAASvoB,UAAYqoB,EAAWroB,WAAauoB,EAASvoB,WAAasoB,EAAStoB,WAC3EqoB,EAAWroB,YAAcc,EAAWd,WAAasoB,EAAStoB,WAAauoB,EAASvoB,WACpFwoB,EAAS3nB,KAAOC,EAChB0nB,EAAS5nB,GAAK0nB,GAETD,EAAWroB,YAAcc,EAAWd,WAAasoB,EAAStoB,UAAYuoB,EAASvoB,WACpFwoB,EAAS3nB,KAAOC,EAChB0nB,EAAS5nB,GAAK2nB,GAETF,EAAWroB,UAAYc,EAAWd,WAAasoB,EAAStoB,WAAauoB,EAASvoB,WACnFwoB,EAAS3nB,KAAOwnB,EAChBG,EAAS5nB,GAAK2nB,GAETF,EAAWroB,UAAYc,EAAWd,WAAasoB,EAAStoB,UAAYuoB,EAASvoB,WAClFwoB,EAAS3nB,KAAOwnB,EAChBG,EAAS5nB,GAAK0nB,GAETxnB,EAAWd,WAAaqoB,EAAWroB,WAAauoB,EAASvoB,WAAasoB,EAAStoB,YACpFwoB,EAAS3nB,KAAOC,EAChB0nB,EAAS5nB,GAAK2nB,GAEdC,EAAS3nB,MAAQ2nB,EAAS5nB,IAC1BunB,EAAM/qB,KAAKorB,SAM/BV,EAAO1qB,KAAK0Y,MAAMgS,EAAQI,EAAOO,sBAAsBN,KAI/C3mB,EAEZ1C,MAAK1F,OAAO8J,eAAe,qBAAsBpE,KAAK2pB,sBAAsBX,GAAQ,GAAOH,EAAarqB,iBAAiB,GACzHwB,KAAK4pB,wBAAwBf,EAAarqB,gBAAgByqB,qBAO9DlV,EAActT,UAAU0oB,uBAAyB,SAAUJ,GACvD,IAAK,GAAIjrB,GAAI,EAAGA,EAAIirB,EAAMptB,OAAQmC,IAC9BirB,EAAMjrB,GAAGU,gBAAgBqrB,cAAgB/rB,GAUjDiW,EAActT,UAAUmpB,wBAA0B,SAAUZ,GACxD,IAAK,GAAItmB,GAAQ,EAAGA,EAAQsmB,EAAOrtB,OAAQ+G,IACvCsmB,EAAOtmB,GAAOob,KAAO9d,KAAKwhB,YAAYwH,EAAOtmB,GAAOX,MAAM,GAC1DinB,EAAOtmB,GAAOqa,MAAQ/c,KAAKkhB,aAAa8H,EAAOtmB,GAAOX,KAAMinB,EAAOtmB,GAAOZ,KASlFiS,EAActT,UAAUkpB,sBAAwB,SAAUX,EAAQc,GAU9D,IAAK,GANDP,GACAC,EACAxnB,EACAynB,EANAM,KACAC,KACAC,KAKAC,EAAe,GAAI/uB,eAAY6tB,GAAQvS,cAAa,GAAIV,UACvDoU,OAAOnqB,KAAK1F,OAAOmE,WAAW3D,UAAW,cACrCgD,EAAI,EAAGA,EAAIosB,EAAavuB,OAAQmC,IACX,IAAtBisB,EAAWpuB,QAAsB,IAANmC,GAK/ByrB,GADAS,EAAkBD,EAAWA,EAAWpuB,OAAS,IACpBoG,KAC7BynB,EAAWQ,EAAgBloB,GAE3BE,GADAioB,EAAgBC,EAAapsB,IACFiE,KAC3B0nB,EAAWQ,EAAcnoB,GACpBynB,EAAWroB,YAAcc,EAAWd,WAAasoB,EAAStoB,WAAauoB,EAASvoB,WAC7EqoB,EAAWroB,UAAYc,EAAWd,WAAasoB,EAAStoB,WAAauoB,EAASvoB,YAI5EqoB,EAAWroB,WAAac,EAAWd,WAAasoB,EAAStoB,WAAac,EAAWd,WAAasoB,EAAStoB,UAAYuoB,EAASvoB,WAC9HsoB,EAAStoB,UAAYc,EAAWd,WAAalB,KAAKc,eAAe0oB,GAAUtoB,YAAcc,EAAWd,UACxG8oB,EAAgBloB,GAAK2nB,EAEhBD,EAAStoB,UAAYc,EAAWd,WAAalB,KAAKc,eAAe0oB,GAAUtoB,YAAcc,EAAWd,WACzG6oB,EAAWzrB,KAAK4rB,EAAapsB,MAnB7BisB,EAAWzrB,KAAK4rB,EAAapsB,GAyBrC,OAHIgsB,KACAC,EAAa/pB,KAAKoqB,qBAAqBL,IAEpCA,GASXhW,EAActT,UAAUyoB,oBAAsB,SAAUL,GAIpD,MAFgB,IAAI1tB,eAAY0tB,EAAa3L,cAAczG,cAAa,GAAIV,UACvEoU,OAAOnqB,KAAK1F,OAAOmE,WAAW3D,UAAW,eAGlDiZ,EAActT,UAAU2pB,qBAAuB,SAAUC,EAAiBC,EAAWC,GACjF,GACI3d,EAsBJ,OApBIA,GADA5M,KAAK1F,OAAOsX,eAAe4Y,aACsB,SAA1CxqB,KAAK1F,OAAOsX,eAAeqB,WAC9BjT,KAAK1F,OAAOsX,eAAeqB,WAAajT,KAAK1F,OAAOsX,eAAeiQ,QAGhE7hB,KAAK1F,OAAOsX,eAAeqB,WAEzB,SAATrG,GAA4B,UAATA,GAA6B,SAATA,EAC1Byd,EAEC,QAATzd,EACQ5M,KAAKyqB,iBAAiBJ,EAAiBC,EAAWC,GAGjB,IAA1CvqB,KAAK1F,OAAOsH,kBAAkB,GAAGG,MAAsD,QAAxC/B,KAAK1F,OAAOsH,kBAAkB,GAAGE,GACnE9B,KAAKyqB,iBAAiBJ,EAAiBC,EAAWC,GAGlDvqB,KAAK0qB,gBAAgBL,EAAiBC,EAAWC,IAK1ExW,EAActT,UAAUiqB,gBAAkB,SAAU1B,EAAQsB,EAAWC,GAEnE,IAAK,GADDI,MACK7sB,EAAI,EAAGA,EAAIkrB,EAAOrtB,OAAQmC,IAC/B6sB,EAAWrsB,KAAK0Y,MAAM2T,EAAY3qB,KAAK4qB,qBAAqB5B,EAAOhrB,SAASF,EAAEG,WAAY,KAAMqsB,EAAWC,GAE/G,OAAOI,IAEX5W,EAActT,UAAUmqB,qBAAuB,SAAUvB,EAAOiB,EAAWC,GACvE,GAAIM,GAAaP,GAAwB,OACrCrsB,EAAWssB,GAAoB,KAC/BtiB,EAAY,GAAInL,MAAKusB,EAAMwB,IAC3BnI,EAAM,GAAI5lB,MAAKusB,EAAMprB,IACrB+qB,KACA8B,IACJ,IAAI7iB,EAAU/G,UAAYwhB,EAAIxhB,UAC1B,EAAG,CAMC,IAAK,GALD6pB,GAAS,GAAIjuB,MAAKmL,EAAU/G,WAC5B8pB,EAAW,GAAIluB,MAAKmL,EAAU/G,WAC9B+pB,EAAoB,EACpBxd,EAAQzN,KAAK1F,OAAO+J,cAAc9C,oBAAoB0G,GACtD0F,GAAmB,EACd7P,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOsH,kBAAkBjG,OAAQmC,IAAK,CAC3D,GAAIkQ,GAAMhO,KAAK1F,OAAOsH,kBAAkB9D,EACxC,IAAI2P,GAASO,EAAIjM,MAAQ0L,GAASO,EAAIlM,GAAI,CACtC6L,EAAkB7P,CAClB,SAGiB,IAArB6P,IACAsd,EAAoB/X,KAAKgY,MAAMlrB,KAAK1F,OAAOsH,kBAAkB+L,GAAiB7L,GAAK2L,GACnFud,EAAS7iB,WAAW6iB,EAASruB,aAAesuB,GAG5CD,GAAS9pB,UAAYwhB,EAAIxhB,WACzB4pB,KACIzB,EAAM9W,OACNuY,EAAoB,KAAI5sB,YAAWmrB,EAAM9W,OAE7CuY,EAAYD,GAAcE,EAC1BD,EAAY7sB,GAAY+sB,EACxBF,EAAYhB,SAAU,EACtBd,EAAO1qB,KAAKwsB,KAGZA,KACIzB,EAAM9W,OACNuY,EAAoB,KAAI5sB,YAAWmrB,EAAM9W,OAE7CuY,EAAYD,GAAcE,EAC1BD,EAAY7sB,GAAYykB,EACxBoI,EAAYhB,SAAU,EACtBd,EAAO1qB,KAAKwsB,IAEhB7iB,EAAYjI,KAAKc,eAAekqB,SAC3B/iB,EAAU/G,UAAYwhB,EAAIxhB,eAGnC8nB,GAAO1qB,KAAK+qB,EAEhB,OAAOL,IAEXjV,EAActT,UAAUgqB,iBAAmB,SAAUzB,EAAQsB,EAAWC,GAEpE,IAAK,GADDI,MACK7sB,EAAI,EAAGA,EAAIkrB,EAAOrtB,OAAQmC,IAE/B6sB,EAAWrsB,KAAK0Y,MAAM2T,EAAY3qB,KAAKmrB,sBAAsBnC,EAAOlrB,GAAIwsB,EAAWC,GAEvF,OAAOI,IAEX5W,EAActT,UAAU0qB,sBAAwB,SAAU9B,EAAOiB,EAAWC,GACxE,GAAIxoB,GAAOuoB,GAAwB,OAC/BxoB,EAAKyoB,GAAoB,KACzB9H,EAAQ,GAAI3lB,MAAKusB,EAAMtnB,IACvBkG,EAAY,GAAInL,MAAKusB,EAAMtnB,IAC3B2gB,EAAM,GAAI5lB,MAAKusB,EAAMvnB,IACrBspB,GAAY,EACZpC,KACAU,IAEJ,IADAzhB,EAAUvG,QAAQuG,EAAU5L,UAAY,GACpC4L,EAAU/G,UAAYwhB,EAAIxhB,UAAW,CACrC,GACI,GAAIlB,KAAK1F,OAAO+J,cAAcgD,qBAAqBY,EAAW,MAAO,CACjE,GAAIzD,GAAc,GAAI1H,MAAKmL,EAAU/G,UACrCsD,GAAY9C,QAAQuG,EAAU5L,UAAY,EAC1C,IAAI+E,OAAa,EAEbA,GADApB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAmB,WAAEkK,GAG1BxE,KAAK1F,OAAO8I,eAE7BpD,KAAKyB,QAAQL,EAAYoD,IACzBklB,MACS3nB,GAAQ0gB,EACjBiH,EAASI,SAAU,EACnBJ,EAAS5nB,GAAM,GAAIhF,MAAK0H,GACpB6kB,EAAM9W,OACNmX,EAASnX,KAAOrU,YAAWmrB,EAAM9W,MAAM,GAE3C,IAAI8Y,IAA8BrrB,KAAK1F,OAAO+J,cAAcgD,qBAAqBob,EAAO,MACpF6I,GAAoCtrB,KAAK1F,OAAO+J,cAAcgD,qBAAqB7C,EAAa,MAChG+mB,EAAmB9I,EAAMvhB,YAAcsD,EAAYtD,SACnDmqB,IAA8BC,GAAoCC,GAClEvC,EAAO1qB,KAAKorB,GAEhBllB,EAAY9C,QAAQ8C,EAAYnI,UAAY,GAC5ComB,EAAQziB,KAAKc,eAAe0D,GAC5ByD,EAAY,GAAInL,MAAK2lB,EAAMvhB,WAC3BkqB,GAAY,MAGZnjB,GAAUvG,QAAQuG,EAAU5L,UAAY,SAEvC4L,EAAU/G,UAAYwhB,EAAIxhB,UAC/BkqB,GACI3I,EAAMvhB,YAAcwhB,EAAIxhB,YACxBwoB,KACIL,EAAM9W,OACNmX,EAASnX,KAAOrU,YAAWmrB,EAAM9W,MAAM,IAE3CmX,EAAS3nB,GAAQ0gB,EACjBiH,EAAS5nB,GAAM4gB,EACfgH,EAASI,SAAU,EACnBd,EAAO1qB,KAAKorB,IAIhBV,EAAO1qB,KAAK+qB,OAIhBL,GAAO1qB,KAAK+qB,EAEhB,OAAOL,IAQXjV,EAActT,UAAU+nB,gBAAkB,WACtCxoB,KAAKwrB,eAAiB/H,KAAKC,iBAAiB+H,kBAAkBrc,QAC9D,IAAIrG,GAAW/I,KAAK1F,OAAOyO,QAC3B,IAAKA,EAASpN,OAAd,CAIA,IAAK,GADD+vB,GAAgB,GAAIxS,KACf3d,EAAK,EAAGowB,EAAa5iB,EAAUxN,EAAKowB,EAAWhwB,OAAQJ,IAAM,CAClE,GAAIgX,GAAOoZ,EAAWpwB,EACtBmwB,GAAczS,IAAI1G,EAAKjJ,SAAUiJ,GAErC,IAAK,GAAIzU,GAAI,EAAG8tB,EAAQ7iB,EAASpN,OAAQmC,EAAI8tB,EAAO9tB,IAChDkC,KAAKka,oBAAoBnR,EAASjL,GAAI4tB,KAG9C3X,EAActT,UAAUorB,yBAA2B,WAC/C,OAAS7rB,KAAK1F,OAAO2H,6BAChBjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxC2pB,QAAQ9rB,KAAK1F,OAAOmE,WAAW2D,kBAU3C2R,EAActT,UAAUyZ,oBAAsB,SAAUnc,EAAMguB,OACpC,KAAlBA,IAA4BA,EAAgB,KAChD,IAAIxZ,GAAOxU,EAAKS,eACXT,GAAK0e,kBAAmBzc,KAAK6rB,4BAC9B7rB,KAAK6a,gBAAgB9c,GAEzBiC,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKgd,sBAAsBzK,GAAOA,GAAM,GACnFvS,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAKid,uBAAuB1K,GAAOA,GAAM,EACrF,IAAI/I,GAAazL,EAAKyL,WAA+B,MAAjBuiB,EAAwBA,EAAcC,IAAIjuB,EAAKyL,WAAWF,UAC1FtJ,KAAK1F,OAAOoP,cAAc3L,EAAKyL,YAAe,KAC9CyiB,EAAcziB,GAAcA,EAAW0T,aAAa7O,OAAO,GAAG,KAAOtQ,CACrEyL,KACIyiB,IAAgBluB,EAAK0e,iBAAmBzc,KAAK1F,OAAOqb,oBAC/C3V,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACzFnC,KAAK1F,OAAOmE,WAAW2D,kBAA8C,iBAAzBpC,KAAK1F,OAAOyd,UACxD/X,KAAKksB,kBAAkB1iB,GAEvBxJ,KAAK6rB,4BACL7rB,KAAK6a,gBAAgBrR,IAGpBA,IAAexJ,KAAK1F,OAAOqb,kBAChC3V,KAAK6a,gBAAgBrR,KAQjCuK,EAActT,UAAU0rB,0BAA4B,WAWhD,IAAK,GAVDpjB,GASApN,GALAoN,EAHA/I,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC5CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aAC1DzsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,cAGzE1sB,KAAK1F,OAAOyO,UAELpN,OACbmC,EAAI,EAAGA,EAAInC,EAAQmC,IAAK,CAC7B,GAAIC,GAAOgL,EAASjL,GAChByU,EAAOxU,EAAKS,eAChBwB,MAAK6a,gBAAgB9c,GACQ,SAAzBiC,KAAK1F,OAAOshB,UAAuB7d,EAAK0e,iBACxCzc,KAAK0a,oBAAoB3c,GAE7BiC,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKgd,sBAAsBzK,GAAOA,GAAM,GACnFvS,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAKid,uBAAuB1K,GAAOA,GAAM,GACrFvS,KAAK1F,OAAO+J,cAAcyW,eAAe/c,KAUjDgW,EAActT,UAAUoa,gBAAkB,SAAU9c,GAChD,GAAIid,GAAcjd,EAAKS,gBACnBmuB,EAA6B,EAG7BC,EAAkB,CACtB,KAAK/xB,oBAAkBmgB,EAAYrW,WAAaqW,EAAYrW,SAAShJ,OAAS,EAAG,CAE7E,IAAK,GADDgJ,GAAWqW,EAAYrW,SAClB7G,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAAK,CACtC,GAAI4f,GAAU/Y,EAAS7G,EACvB,IAAU,IAANA,IAAYjD,oBAAkBmgB,EAAYlgB,aACtCD,oBAAkB6iB,EAAQ5iB,aAAeD,oBAAkB6iB,EAAQ5iB,UAAUoG,YACjFwc,EAAQ5iB,UAAUoG,YAAc8Z,EAAYlgB,UAAUoG,UAAW,CACjEwc,EAAQ5iB,UAAYkgB,EAAYlgB,SAChC,IAAIC,GAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAW6Y,EAAQ5iB,UAAW4iB,EAAQ1iB,SAAUggB,EAAY7W,aAAc6W,GAAa,EAC/H0C,GAAQ3iB,QAAUiF,KAAK1F,OAAO+J,cAActB,aAAahI,EAASigB,GAAa,GAC/Ehb,KAAK1F,OAAOkb,gBAAgBqX,kBAAkBloB,EAAU,EAAG5G,GAM/D,GAJA2f,EAAQX,MAAQ/c,KAAKolB,kBAAkB1H,EAAQ5iB,UAAW4iB,EAAQ1iB,SAAU+C,GAC5E4uB,GAA0DjP,EAAQX,MAClEW,EAAQoP,cAAe,EACvBpP,EAAQqP,eAAiB,EACf,IAANjvB,EAAS,CACT,GAAIkvB,GAAa,GAAIlwB,MAAKke,EAAYlgB,UAAUoG,UAChDwc,GAAQI,KAAO9d,KAAKqlB,iBAAiB3H,EAAQ5iB,UAAWkyB,IAKhE,IAAK,GAFDC,GAAcjtB,KAAK1F,OAAO+J,cAAcyY,iBAAiB6P,EAA4B3R,EAAYO,UACjGuG,GAAU,EACLhkB,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAC7BgkB,IACImL,GAAetoB,EAAS7G,GAAGif,OAC3BpY,EAAS7G,GAAGivB,cAAgBE,EAC5BtoB,EAAS7G,GAAGgvB,cAAe,EAC3BhL,GAAU,IAGVnd,EAAS7G,GAAGivB,cAAgBpoB,EAAS7G,GAAGif,MACxCkQ,GAA4BtoB,EAAS7G,GAAGivB,eAExCpoB,EAAS7G,GAAGgvB,eACZF,EAAkBA,EAAkBjoB,EAAS7G,GAAGggB,KAAOnZ,EAAS7G,GAAGivB,eAI/E/sB,MAAK1F,OAAO8J,eAAe,WAAY4W,EAAYrW,SAAUqW,GAAa,GAC1Ehb,KAAK1F,OAAO+J,cAAcC,kBAAkBvG,EAAM,YAEtDiC,KAAK1F,OAAO8J,eAAe,QAASpE,KAAK1F,OAAO+J,cAAcuY,eAAe7e,GAAOid,GAAa,GACjGhb,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAK1F,OAAO+J,cAAcwY,cAAc7B,EAAajd,GAAOid,GAAa,IACvGngB,oBAAkBmgB,EAAYrW,WAAaqW,EAAYrW,SAAShJ,OAAS,EAC1EqE,KAAK1F,OAAO8J,eAAe,gBAAiBwoB,EAAiB5R,GAAa,GAG1Ehb,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAkB9B,EAAYra,iBAAmB5C,EAAK0e,gBAAkBzB,EAAY+B,MAAQ/B,EAAYkS,UAAYlS,EAAYO,UAAWP,GAAa,IAUtOjH,EAActT,UAAUia,oBAAsB,SAAU3c,GACpD,GAAIid,GAAcjd,EAAKS,eACvBwB,MAAK1F,OAAO8J,eAAe,YAAapE,KAAK4c,eAAe7e,GAAM,GAAOid,GAAa,GACtFhb,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK6c,cAAc7B,EAAajd,GAAM,GAAOid,GAAa,GACjGhb,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAkB9B,EAAYra,iBAC/F5C,EAAK0e,gBAAkBzB,EAAY+B,MAAQ/B,EAAYkS,UAAYlS,EAAYO,UAAWP,GAAa,IAShHjH,EAActT,UAAU0sB,kBAAoB,SAAUC,GAClD,GAEI7lB,GAFAqX,EAAgB,EAChByO,IAQJ,QALI9lB,EADAvH,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EACxBqE,KAAK1F,OAAyB,iBAAE8yB,EAAiB5uB,gBAAgB1D,UAAYsyB,EAAiB5uB,gBAAgB1D,UAAYsyB,EAAiB5uB,gBAAgBzD,SAG3JiF,KAAK1F,OAAOyM,cAErBqmB,EAAiB5uB,gBAAgB2F,cACrC,IAAK,OACDya,EAAiBwO,EAAiB5uB,gBAAgBxD,UAAYuM,EAAa,KAC3E,MACJ,KAAK,SACDqX,EAAiBwO,EAAiB5uB,gBAAgBxD,UAAYuM,EAAa,GAC3E,MACJ,SACIqX,EAAgBwO,EAAiB5uB,gBAAgBxD,SAUzD,MARIoyB,GAAiB3Q,iBACjB3J,WAAS,gBAAiBsa,EAAiB5uB,gBAAgB8uB,cAAeD,GAC1Eva,WAAS,gBAAiBsa,EAAiB5uB,gBAAgBoG,cAAgBwoB,EAAiB5uB,gBAAgBoG,cAAgB,EAAGyoB,KAG/Hva,WAAS,gBAAiBsa,EAAiB5uB,gBAAgB+c,SAAWqD,EAAeyO,GACrFva,WAAS,gBAAiB8L,EAAeyO,IAEtCA,GAEXtZ,EAActT,UAAUma,gBAAkB,SAAUrc,GAChD,GAAI6a,GAAapZ,KAAK1F,OAAOmE,WAAW2a,UACxC,KAAKve,oBAAkBue,GAAa,CAChC,GAAImU,GAAahvB,EAAOC,eACxBwB,MAAK1F,OAAO8J,eAAe,iBAAmBmpB,GAAY,GAC1DvtB,KAAK1F,OAAO8J,eAAe,mBAAoB,KAAMmpB,GAAY,GACjEvtB,KAAK1F,OAAO8J,eAAe,YAAcgV,EAAY,KAAM7a,GAC3DyB,KAAK1F,OAAO8J,eAAegV,EAAY,KAAM7a,KAGrDwV,EAActT,UAAU+sB,kBAAoB,SAAUhvB,EAAiBivB,GAInE,IAAK,GAFD/qB,GAAQ,EACRgrB,EAAiB,KACZnyB,EAAK,EAAGoyB,GAHC,YAAa,UAAW,YAGEpyB,EAAKoyB,EAAahyB,OAAQJ,IAAM,CACxE,GAAIqyB,GAAOD,EAAapyB,EACpBiD,IAAmBA,EAAgBovB,KACnClrB,IACAgrB,EAAiBE,GAGzB,MAAc,KAAVlrB,GAA0B,IAAVA,IAAgB7H,oBAAkB4yB,IAAeA,EAAWhR,kBACpE,EAAMiR,KAGN,EAAO,OAGvB3Z,EAActT,UAAUotB,aAAe,SAAUzT,GAC7C,SAAIpa,KAAK1F,OAAOiP,uBAAyBvJ,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAmB,YAAK0F,KAAK1F,OAAmB,WAAEqB,OAAS,GAC/Hd,oBAAkBuf,EAAU5b,gBAAgB1D,YAAcD,oBAAkBuf,EAAU5b,gBAAgBzD,WAClGF,oBAAkBuf,EAAU5b,gBAAgBxD,YAAcof,EAAUqC,iBAAmBrC,EAAU5Q,aAC3E,WAAzBxJ,KAAK1F,OAAOshB,UAAmD,WAAzB5b,KAAK1F,OAAOshB,UAAyBxB,EAAUpa,KAAK1F,OAAOmE,WAAWod,WAarH9H,EAActT,UAAUyrB,kBAAoB,SAAUjN,EAAa6O,GAC/D,GAAI7c,GAAQjR,KACRiV,EAAa6Y,EAAW7O,EAAcjf,KAAK1F,OAAOoP,cAAcuV,EACpEhK,GAAaA,GAA0BgK,CACvC,IAAI8O,IAAe,EACfnzB,EAAaC,oBAAkBoa,GAA2C,KAA7BA,EAAWzW,gBAExDhD,EAAKwE,KAAKwtB,kBAAkB5yB,EAAWqa,GAAa+Y,EAAqBxyB,EAAG,EAAwBA,GAAG,EAC3G,IAAKwE,KAAK1F,OAAO2H,+BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACzFnC,KAAK1F,OAAOmE,WAAW2D,kBAA8C,iBAAzBpC,KAAK1F,OAAOyd,UACxD,GAAI9C,GAAcA,EAAWiI,cAAgBjI,EAAWiI,aAAavhB,OAAS,EAAG,CAC7E,GAWIsyB,GAXAC,EAAoBtzB,EAAU+F,eAAiB/F,EAAUE,UAAYF,EAAUkJ,cAC/EqqB,EAAkBvzB,EAAU+F,eAAiB/F,EAAUG,QACvDH,EAAU0H,YACV8rB,EAAiBnZ,EAAWiI,aAC5BmR,EAAcD,EAAezyB,OAC7BiJ,EAAgB,EAChBoE,EAAe,KACfmI,EAAa,KACbmd,EAAiB,EACjBhB,EAAgB,EAChBvO,EAAsB,EAEtBwP,EAAqB,EACrBC,EAAuB,CAC3BJ,GAAeK,KAAK,SAAUC,GAC1B,GAAIlzB,GAAKyV,EAAMuc,kBAAkBkB,EAA6B,iBAAIC,EAAgBnzB,EAAG,GAAIozB,EAAoBpzB,EAAG,EAOhH,OANImzB,IAAuC,aAAtBC,IACfJ,EAEIG,KACJJ,EAECA,EAAqB,GAAKC,EAAuB,GAuF5D,KAAK,GArFDK,GAAeN,EAAqB,GAAKC,EAAuB,OAAY7mB,GAoF5EmnB,EAAS9uB,KACJ0C,EAAQ,EAAGA,EAAQ2rB,EAAa3rB,KApF3B,SAAUA,GAMpB,GALAurB,EAAea,EAAOx0B,OAAO6H,mBAAqB2sB,EAAOx0B,OAAOmE,WAAW2D,gBACvE0sB,EAAOx0B,OAAOwX,gBAAgB6H,OAAO,SAAUjH,GAC3C,MAAOA,GAAKlU,gBAAgBkX,SAAW0Y,EAAe1rB,GAAOuO,EAAM3W,OAAOmE,WAAWlE,MACtF,GACH6zB,EAAe1rB,GACfosB,EAAOx0B,OAAOy0B,YAAcd,EAAYe,SAIxC,MAHoB,KAAhBX,GAAgD,gBAA3BS,EAAOx0B,OAAOyd,WACnCgW,GAAe,GAEZ,UAEX,IAAIjzB,OAAY,GACZC,MAAU,GACVS,EAAKszB,EAAOtB,kBAAkBS,EAAYzvB,iBAAkBmwB,EAAgBnzB,EAAG,GAAIyzB,EAAsBzzB,EAAG,GAC5G+lB,MAAY,EAChB,IAAIuN,EAAOjB,aAAaI,GAAc,CAClC,GAAIiB,GAAWJ,EAAOx0B,OAAmB,WAAEqf,OAAO,SAAUpb,GAAU,MAAOA,GAAOC,gBAAgB8K,WAAa2kB,EAAYzvB,gBAAgB8K,WAAa,EACtJ4lB,KACA3N,EAAYuN,EAAOx0B,OAAOoP,cAAcwlB,EAAS1lB,aAGzD,GAAI2lB,GAAM5N,GAAwB0M,EAC9BL,EAAOrM,EAAYA,EAAU/iB,gBAAkB5D,CAanD,IAZAE,EAAc6zB,GAA0C,cAAxBM,GAA+D,YAAxBA,IAAwCjB,EAC3GpzB,EAAUE,UAAYg0B,EAAO7lB,kBAAkBkmB,EAAI3wB,kBACnDyW,EAAWwH,iBAAoBmR,EAAKjtB,gBAChC9F,oBAAkBs0B,EAAI3wB,gBAAgBsF,iBAC1ChJ,EAAYq0B,EAAI3wB,gBAAgBsF,eAEpC/I,EAAY4zB,GAA0C,cAAxBM,GAA+D,YAAxBA,IAAwCjB,EACzGc,EAAOjqB,WAAWjK,EAAUE,UAAWq0B,EAAI3wB,gBAAgBxD,SAAUm0B,EAAI3wB,gBAAgB2F,aAAcgrB,EAAI3wB,iBAAiB,GAASswB,EAAOnlB,gBAAgBwlB,EAAI3wB,kBAChKyW,EAAWwH,iBAAoBmR,EAAKjtB,gBAChC9F,oBAAkBs0B,EAAI3wB,gBAAgB8D,eAC1CvH,EAAUo0B,EAAI3wB,gBAAgB8D,aAE9BqsB,GAA2C,cAAxBM,GAA+D,YAAxBA,EAAoC,CAC9F,GAAIG,GAAmBN,EAAOlsB,kBAAkB7H,GAC5Cs0B,EAAqBP,EAAOlsB,kBAAkB9H,EAC9Cs0B,GAAmBje,IACnBA,EAAaie,GAEbC,EAAqBrmB,IACrBA,EAAeqmB,GAGvB,GAAIC,GAA2BT,IAAgBF,GAAkB9zB,oBAAkBg0B,EAanF,IAZIh0B,oBAAkBmO,IAAiBsmB,IACnCtmB,EAAe8lB,EAAOlsB,kBAAkB9H,IAExCD,oBAAkBsW,IAAeme,IACjCne,EAAa2d,EAAOlsB,kBAAkB7H,KAErCF,oBAAkBE,IAAYoW,GAA2D,IAA7C2d,EAAOrqB,aAAa1J,EAASoW,KAC1EA,EAAa2d,EAAOlsB,kBAAkB7H,KAErCF,oBAAkBC,IAAckO,IAAkE,IAAlD8lB,EAAOrqB,aAAa3J,EAAWkO,KAChFA,EAAe8lB,EAAOlsB,kBAAkB9H,KAEvCmzB,EAAYzvB,gBAAgBgD,aAAe7G,EAAgBszB,EAAYzvB,iBAAkB,CAC1F,GAAI6uB,GAAiByB,EAAO3B,kBAAkBc,EAC9CX,IAAiB5tB,WAAS,gBAAiB2tB,GAC3CzoB,GAAiBlF,WAAS,gBAAiB2tB,GACvCY,EAAYa,EAAOx0B,OAAOmE,WAAWzD,UAAY,IACjD4J,EAAgB4D,OAAO5D,EAAc4L,QAAQ,SAIjD8d,IAEJ,IAAIzd,GAAOod,EAAYzvB,gBAAgBqS,IACvC,IAAoB,gBAATA,GAAmB,CAE1B,GAAI0e,GAAe1nB,WAAWgJ,EACzBxB,OAAMkgB,KACPxQ,GAAuBwQ,OAGN,gBAAT1e,KAEZkO,GAAuBlO,IAKnBnO,EAEZ,KAAKqrB,EAAc,CACf,GAAIyB,GAAaxvB,KAAK1F,OAAOy0B,YAAcd,EAAYe,SACnDX,EAAcC,EAAiB,EAAID,EAAcC,EACjDmB,EAAkBD,EAAY,GAAK5qB,EAAgB,EACnD4D,QAAQ8kB,EAAgB1oB,GAAe4L,QAAQ,IAAM,EACrD6J,EAAapF,EAAWzW,gBACxByG,IAA2B,IAAduqB,IAAoBxmB,IAAgBmI,GACjDnI,EAAa9H,YAAciQ,EAAWjQ,UACiB,KAAvDlB,KAAKyE,aAAaypB,EAAmBllB,KACrChJ,KAAK1F,OAAO8J,eAAexJ,EAAU+F,eAAiB,YAAc,gBAAiBqI,EAAciM,EAAWzW,iBAAiB,IACvH3D,oBAAkBD,EAAUuO,cAAuE,IAAvBvO,EAAUI,SAAd,IAA3BJ,EAAUuO,eAAmD8L,EAAqB,UAAKhQ,GAAcgQ,EAAWwH,iBAAmBxH,EAAWzW,gBAAgBmC,gBAAwF,mBAAtEX,KAAK1F,OAAO0I,WAAWC,kBAAkBysB,kBAAkBC,QAC5R3vB,KAAK1F,OAAO8J,eAAe,YAAa4E,EAAciM,EAAWzW,iBAAiB,IAGnC,IAAnDwB,KAAKyE,aAAa0pB,EAAiBhd,KACnCnR,KAAK1F,OAAO8J,eAAexJ,EAAU+F,eAAiB,UAAY,cAAewQ,EAAY8D,EAAWzW,iBAAiB,IACjH3D,oBAAkBD,EAAUuO,cAAuE,IAAvBvO,EAAUI,SAAd,IAA3BJ,EAAUuO,eAAmD8L,EAAqB,UAAKhQ,GAAcgQ,EAAWwH,iBAAmBxH,EAAWzW,gBAAgBmC,gBAAwF,mBAAtEX,KAAK1F,OAAO0I,WAAWC,kBAAkBysB,kBAAkBC,QAC5R3vB,KAAK1F,OAAO8J,eAAe,UAAW+M,EAAY8D,EAAWzW,iBAAiB,IAGtFwB,KAAK1F,OAAO8J,eAAe,cAAea,EAAWoV,GAAY,GAC5Dxf,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,aAC1CjF,KAAKsE,kBAAkB2Q,EAAY,aACnCjV,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,UAAWA,EAAWgQ,GAAY,GACpFjV,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWwG,UAAWA,EAAWgQ,GAAY,IAElGoF,EAAW1Z,iBACPX,KAAK6tB,aAAaI,IACqB,IAAnChZ,EAAWiI,aAAavhB,SACxBsZ,EAAWzW,gBAAgBxD,SAAWizB,EAAYzvB,gBAAgBxD,UAEtEgF,KAAKuE,iBAAiB0Q,IAGtBjV,KAAK0E,kBAAkBuQ,IAG/BjV,KAAKsa,uBAAuBrF,EAC5B,IAAIsF,GAAaF,EAAWxJ,IAC5B0J,GAAava,KAAK1F,OAAOwkB,SAAWvE,EAAcA,EAAawE,EAC/D/e,KAAK1F,OAAO8J,eAAe,OAAQmW,EAAYF,GAAY,GAC3Dra,KAAK1F,OAAO8J,eAAe,WAAY,gBAAiBiW,GAAY,GAC/Dxf,oBAAkBmF,KAAK1F,OAAOmE,WAAW2R,OAC1CpQ,KAAKsE,kBAAkB2Q,EAAY,QAEvCjV,KAAK1F,OAAO8J,eAAe,WAAY8O,KAAKsH,MAAMiV,GAAiBpV,GAAY,GAC/Era,KAAK1F,OAAO8J,eAAe,gBAAiBkpB,EAAejT,GAAY,GACvEra,KAAK1F,OAAO8J,eAAe,gBAAiBQ,EAAeyV,GAAY,GACvEra,KAAK1F,OAAO8J,eAAe,eAAgBiW,EAAWrf,SAAUqf,GAAY,GACvEA,EAAW1Z,iBACZX,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAKya,sBAAsBJ,GAAaA,GAAY,GAC/Fra,KAAK0a,oBAAoBzF,IAExBjV,KAAK1F,OAAOqgB,uBACb3a,KAAK4a,gBAAgB3F,GAEzBjV,KAAK6a,gBAAgB5F,GACrBjV,KAAK8a,eAAe7F,SAK5BjV,MAAK1F,OAAO8J,eAAe,UAAW6Q,EAAW9W,SAAS6B,KAAK1F,OAAOmE,WAAW1D,SAAUka,EAAWzW,iBAAiB,EAEvHuvB,IAAmD,IAAnC9Y,EAAWiI,aAAavhB,QAAwD,IAAxCsZ,EAAWzW,gBAAgBxD,WACnFgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAM6Q,EAAWzW,iBAAiB,GAC5EwB,KAAK6a,gBAAgB5F,GACrBjV,KAAK8a,eAAe7F,GAExB,IAAIzL,GAAc3O,oBAAkBoa,GACmB,KAAnDjV,KAAK1F,OAAOoP,cAAcuL,EAAWzL,WACrCA,OACKxJ,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACzFnC,KAAK1F,OAAOmE,WAAW2D,kBAA8C,iBAAzBpC,KAAK1F,OAAOyd,UACxD/X,KAAKksB,kBAAkB1iB,IAG/BukB,GAAe,GAEZha,GACThU,GC/3GS6vB,EAAqB,yBAGrBC,EAAsB,0BAGtBC,EAAuB,2BAGvBC,EAAY,eAEZC,EAA2B,sCAI3BC,EAAc,iBAIdC,EAAW,cAOXC,EAAuB,2BAOvBC,EAAoB,wBAGpBC,EAAsB,8BAetBC,EAAQ,UACRC,EAAkB,qBAoBlBC,EAA0B,oCAqB1BC,EAAqB,wBAcrBC,EAAU,aAoBVC,EAAiB,mBCxJxBC,EAA6B,WAO7B,QAASA,GAAYt2B,GACjB0F,KAAK6wB,eAAiB,EACtB7wB,KAAK8wB,iBAAkB,EACvB9wB,KAAK+wB,gBAAmBC,IAAK,EAAGlT,KAAM,GACtC9d,KAAK1F,OAASA,EACd0F,KAAK8F,QAAU9F,KAAK1F,OAAOmqB,iBAAiBwM,cAC5CjxB,KAAKkxB,oBA4TT,MArTAN,GAAYnwB,UAAUywB,kBAAoB,WACtClxB,KAAK1F,OAAOma,GAAG,cAAezU,KAAKmxB,kBAAmBnxB,MACtDoxB,eAAaC,IAAIrxB,KAAK8F,QAAS,SAAU9F,KAAKsxB,SAAUtxB,MACxDA,KAAK1F,OAAO4H,SAASqvB,KAAK9c,GAAG,mBAAoBzU,KAAKwxB,cAAexxB,MACrEA,KAAK1F,OAAO4H,SAASqvB,KAAK9c,GAAG,qBAAsBzU,KAAKyxB,cAAezxB,MACvEA,KAAK1F,OAAO4H,SAASqvB,KAAK9c,GAAG,mBAAoBzU,KAAK0xB,gBAAiB1xB,OAO3E4wB,EAAYnwB,UAAUkxB,qBAAuB,WACzCP,eAAazyB,OAAOqB,KAAK8F,QAAS,SAAU9F,KAAKsxB,UACjDtxB,KAAK1F,OAAOs3B,IAAI,cAAe5xB,KAAKmxB,mBACpCnxB,KAAK1F,OAAO4H,SAASqvB,KAAKK,IAAI,mBAAoB5xB,KAAKwxB,eACvDxxB,KAAK1F,OAAO4H,SAASqvB,KAAKK,IAAI,qBAAsB5xB,KAAKyxB,eACzDzxB,KAAK1F,OAAO4H,SAASqvB,KAAKK,IAAI,mBAAoB5xB,KAAK0xB,kBAO3Dd,EAAYnwB,UAAU0wB,kBAAoB,SAAUnyB,GAChDgB,KAAK8F,QAAQ+rB,UAAYnyB,WAAS,MAAOV,GACzCgB,KAAK8xB,gBAAiB,GAQ1BlB,EAAYnwB,UAAUsxB,cAAgB,WAClC,GAAIC,GAAehyB,KAAK1F,OAAOwL,QAC3BmsB,EAAe/e,KAAKgY,MAAMlrB,KAAK8F,QAAQ6e,WAAaqN,EAAaE,cACjElyB,KAAK6wB,gBAAkBoB,GAAgBjyB,KAAK1F,OAAOsX,eAAwC,yBAAK5R,KAAK1F,OAAOsX,eAAeugB,mBAC3HnyB,KAAK1F,OAAOsX,eAAeugB,iBAAkB,EAC7CnyB,KAAKoyB,sBACLpyB,KAAK1F,OAAOsX,eAAeygB,uBACG,aAA1BryB,KAAK1F,OAAOg4B,WAAsD,SAA1BtyB,KAAK1F,OAAOg4B,WACpDtyB,KAAK1F,OAAiC,2BAEtC0F,KAAK1F,OAAOi4B,kBACZvyB,KAAK1F,OAAOi4B,iBAAoC,kBAAEC,qBAEtDxyB,KAAK1F,OAAOsX,eAAwC,yBAAI,EACpD5R,KAAK1F,OAAOi4B,mBACZvyB,KAAK1F,OAAOi4B,iBAAiBE,oBAAoBC,iBACjD1yB,KAAK1F,OAAOi4B,iBAAiBE,oBAAoBE,kBAErD3yB,KAAK4yB,2BACL5yB,KAAK6wB,cAAgBoB,EACjBjyB,KAAK8wB,kBACL9wB,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBlO,WAAa3kB,KAAK8F,QAAQ6e,cAI1FiM,EAAYnwB,UAAUmkB,gBAAkB,WACpC,GAAIkO,GACAd,EAAehyB,KAAK1F,OAAOwL,QAC3BitB,EAAiB/yB,KAAK1F,OAAOsX,eAAeohB,mBAAiD,EAA3BhB,EAAaE,YAC/ElyB,KAAK1F,OAAOsX,eAAeohB,mBAAgD,EAA3BhB,EAAaE,YAAkB,CACnF,IAAIlyB,KAAK8F,QAAQ6e,cAAgB3kB,KAAK1F,OAAO24B,WAAaF,EAAiBA,GACvED,EAAQ9yB,KAAK8F,QAAQ6e,eAEpB,CACD,GAAI7G,GAAO9d,KAAK1F,OAAO24B,WAAajzB,KAAK8F,QAAQ6e,WAAa3kB,KAAK8F,QAAQ6e,UAC3EmO,GAAShV,EAAOkU,EAAaE,YAAepU,EAAOkU,EAAaE,YAAc,EAWlF,MATIY,IAASC,IACTD,EAAQC,GAEPD,GAASd,EAAaE,aAAgBlyB,KAAKkzB,qBAC5CJ,EAAQ,IAER9yB,KAAK1F,OAAOsX,eAAeO,aAAenS,KAAK1F,OAAOsX,eAAeC,aACrEihB,EAAQ,GAELA,GAEXlC,EAAYnwB,UAAU2xB,oBAAsB,WACxC,GAAIe,GAAiBnzB,KAAK1F,OAAOwL,QAAQstB,uBAAuB,oCAChE,IACID,EAAe,GAAGx0B,eACbw0B,EAAex3B,OAAS,EAC7BqE,MAAK1F,OAAOwL,QAAQD,cAAc,mCAClC7F,KAAK1F,OAAOwL,QAAQD,cAAc,iCAAiCwtB,UAAY,IAE/ErzB,KAAK1F,OAAOwL,QAAQD,cAAc,iCAClC7F,KAAK1F,OAAOwL,QAAQD,cAAc,+BAA+BytB,UAAY,OAGrF1C,EAAYnwB,UAAUmyB,yBAA2B,WAC7C,GAAIW,GAAkBvzB,KAAK4kB,iBAC3B,IAAI5kB,KAAK1F,OAAOkqB,6BAA8B,CAE1C,GAAIgP,GAAmBxzB,KAAK1F,OAAOm5B,oBAAoBjD,wBACnDkD,EAAY1zB,KAAK1F,OAAOkb,gBAAgBke,SACvC1zB,MAAK1F,OAAO24B,WAKbO,EAAiBG,MAAM7V,KAAOyV,EAAkB,KAChDG,EAAUC,MAAMC,OAASL,EAAkB,OAL3CC,EAAiBG,MAAM7V,MAAQyV,EAAkB,KACjDG,EAAUC,MAAM7V,MAAQyV,EAAkB,MAM9CG,EAAUC,MAAM5W,MAAQ/c,KAAK1F,OAAOsX,eAAeohB,mBAAqB,OAGhFpC,EAAYnwB,UAAUozB,kBAAoB,WACtC,GAEIhC,GADAiC,EADU9zB,KAAK1F,OAAO4H,SAAS4D,QAAQD,cAAc,cAC1BgsB,SAS/B,IALIA,EAFA7xB,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAEnCwc,EADA9zB,KAAK1F,OAAOy5B,oBAAoBC,iBAIhCF,GAEXj5B,oBAAkBmF,KAAK1F,OAAOi4B,kBAAmB,CAClD,GAAI0B,GAAmBv0B,WAAS,uCAAwCM,KAAK1F,OAAOi4B,kBAChF2B,EAAmBx0B,WAAS,uCAAwCM,KAAK1F,OAAOi4B,kBAChF4B,EAAwBz0B,WAAS,0CAA2CM,KAAK1F,OAAOi4B,iBACxF0B,KACAA,EAAiBN,MAAM3C,IAAMoD,aAAWvC,IAExCqC,IACAA,EAAiBP,MAAM3C,IAAMoD,aAAWvC,IAExCsC,IACAA,EAAsBR,MAAM3C,IAAMoD,aAAWvC,IAGjD7xB,KAAK1F,OAAO+5B,6BACZr0B,KAAK1F,OAAO+5B,2BAA2BV,MAAM3C,IAAMoD,aAAWvC,KAGtEjB,EAAYnwB,UAAUgxB,cAAgB,WAClC,GAAIn3B,GAAS0F,KAAK1F,MAClBg6B,YAAW,WAEP,GADAh6B,EAAOi6B,eACFj6B,EAAOk6B,qBAAuBl6B,EAAOm6B,mBAAoB,CAC1D,IAAK,GAAI32B,GAAI,EAAGA,EAAIxD,EAAOwX,gBAAgBnW,OAAQmC,IAAK,CACpD,GAAI42B,GAAKp6B,EAAOkb,gBAAgBmf,oBAAoBC,WAAW92B,EACnC,UAAxB42B,EAAU,MAAEG,SAAsBv6B,EAAOwX,gBAAgBhU,GAAG2e,kBAAoBniB,EAAOwX,gBAAgBhU,GAAGohB,WACtG5kB,EAAOmqB,iBAAiBqQ,aAAex6B,EAAOmqB,iBAAiBsQ,cAC/Dz6B,EAAO4H,SAAS8yB,cAAcl3B,GAAU,MAAEm3B,OAASP,EAAU,MAAEO,OAG/D36B,EAAO4H,SAASgzB,UAAUp3B,GAAU,MAAEm3B,OAASP,EAAU,MAAEO,QAIvE36B,EAAO66B,cAAgB76B,EAAO24B,UAAY34B,EAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACzH96B,EAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACvF96B,EAAOwL,QAAQstB,uBAAuB,0BAA0B,GAAU,MAAE6B,OAAS36B,EAAO66B,cAAgB,OAEjH,IAEPvE,EAAYnwB,UAAUixB,gBAAkB,WACpC1xB,KAAK1F,OAAOmqB,iBAAiB4Q,cAAcC,cAC3Ct1B,KAAK1F,OAAOmqB,iBAAiBC,aAAamP,qBAE9CjD,EAAYnwB,UAAU+wB,cAAgB,WAClC,GAAIl3B,GAAS0F,KAAK1F,MAClBg6B,YAAW,WACPh6B,EAAOi7B,eACR,IAEP3E,EAAYnwB,UAAU+0B,cAAgB,WAClC,GAAIl7B,GAAS0F,KAAK1F,MAClB0F,MAAK1F,OAAOm7B,cACZC,OAAOC,aAAa31B,KAAK41B,aACzB51B,KAAK41B,YAActB,WAAW,WAC1Bh6B,EAAOu7B,eACR,MAOPjF,EAAYnwB,UAAU6wB,SAAW,WAC7B,GAAIrgB,GAAQjR,KACR81B,IACA91B,MAAK8F,QAAQ+rB,YAAc7xB,KAAK+wB,eAAeC,MAE9ChxB,KAAK8xB,eAAuF9xB,KAAK8xB,gBAAiB,EAA5F9xB,KAAK1F,OAAOy7B,OAAO,eAAiB/E,IAAKhxB,KAAK8F,QAAQ+rB,YAC7EiE,EAAWE,kBAAoBh2B,KAAK+wB,eAAeC,IACnDhxB,KAAK+wB,eAAeC,IAAMhxB,KAAK8F,QAAQ+rB,UACvCiE,EAAWjE,UAAY7xB,KAAK8F,QAAQ+rB,UACpCiE,EAAWG,gBAAkB,WAC7BH,EAAWnG,OAAS,iBACpB3vB,KAAK6zB,qBAEL7zB,KAAK8F,QAAQ6e,aAAe3kB,KAAK+wB,eAAejT,OAChD9d,KAAKkzB,mBAAsBlzB,KAAK8F,QAAQ6e,WAAa3kB,KAAK+wB,eAAejT,OAAS9d,KAAK1F,OAAO24B,UAC9FjzB,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBlO,WAAa3kB,KAAK8F,QAAQ6e,WAC9EmR,EAAWI,mBAAqBl2B,KAAK+wB,eAAejT,KACpD9d,KAAK+wB,eAAejT,KAAO9d,KAAK8F,QAAQ6e,WACxCmR,EAAWnR,WAAa3kB,KAAK8F,QAAQ6e,WACrCmR,EAAWG,gBAAkB,aAC7BH,EAAWnG,OAAS,mBAChB3vB,KAAK1F,OAAOkqB,8BAAgCxkB,KAAK1F,OAAOsX,eAAeohB,mBACrC,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,aACpBlyB,KAAK8wB,iBAAkB,EACnB9wB,KAAK1F,OAAOsX,eAAeukB,mBAAuD,EAAlCn2B,KAAK1F,OAAOwL,QAAQosB,aACpElyB,KAAK+xB,gBAET/xB,KAAK1F,OAAOmqB,iBAAiB2R,uBACzBp2B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,uBAAuB,KAClEpzB,KAAK1F,OAAOwL,QAAQstB,uBAAuB,uBAAuB,GAAU,MAAE6B,OAAS,QAEvFj1B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,uBAAuB,KAClEpzB,KAAK1F,OAAOwL,QAAQstB,uBAAuB,uBAAuB,GAAU,MAAE6B,OAAS,SAGtFj1B,KAAK1F,OAAOkqB,8BAAgCxkB,KAAK1F,OAAOsX,eAAeohB,mBAC1C,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,aACpBlyB,KAAK1F,OAAOm5B,oBAAoB4C,UAAUC,aAAa,QAAS,SAGxEt2B,KAAK1F,OAAOsX,eAAwC,yBAAI,EAClD/W,oBAAkBi7B,EAAWG,mBAA2D,IAArCj2B,KAAK1F,OAAOgd,uBACpB,IAA7CtX,KAAK1F,OAAOkqB,+BAA2CxkB,KAAK1F,OAAOi8B,iBACnE17B,oBAAkBmF,KAAK1F,OAAOi8B,kBAC9Bv2B,KAAK1F,OAAOk8B,iBAAkB,GAC1Bx2B,KAAK1F,OAAOm8B,eAAiB57B,oBAAkBmF,KAAK1F,OAAOm8B,mBACtDz2B,KAAK1F,OAAOo8B,sBAAwB12B,KAAK1F,OAAOgd,sBAAuE,YAA/CtX,KAAK1F,OAAOq8B,iBAAiBC,cACtG52B,KAAKw1B,gBAEAx1B,KAAK1F,OAAOkqB,+BAAiCxkB,KAAK1F,OAAsB,eAAK4Y,KAAK6P,IAAI/iB,KAAK8F,QAAQ6e,WAAamR,EAAWI,oBAAsB,MACjJl2B,KAAK1F,OAAOo8B,sBAAuE,YAA/C12B,KAAK1F,OAAOq8B,iBAAiBC,eAIlE52B,KAAK1F,OAAOi7B,cACZjB,WAAW,WACPrjB,EAAMwgB,iBACP,IANHzxB,KAAKw1B,iBASbx1B,KAAK1F,OAAsB,eAAI,IAGvC0F,KAAK8wB,iBAAkB,EACvB9wB,KAAK1F,OAAOi8B,gBAAiB,EAC7BT,EAAWe,YAAc,SACzB72B,KAAK1F,OAAOgc,QAAQ,iBAAkBwf,IAS1ClF,EAAYnwB,UAAUq2B,UAAY,SAAU7B,GACxCj1B,KAAK8F,QAAQ6tB,MAAMsB,OAASb,aAAWa,IAS3CrE,EAAYnwB,UAAUs2B,SAAW,SAAUha,GACvC/c,KAAK8F,QAAQ6tB,MAAM5W,MAAQqX,aAAWrX,IAS1C6T,EAAYnwB,UAAUu2B,aAAe,SAAUnF,GAC3C7xB,KAAK8F,QAAQ+rB,UAAYA,EACzB7xB,KAAK1F,OAAO4H,SAAS4D,QAAQD,cAAc,cAAcgsB,UAAYA,GASzEjB,EAAYnwB,UAAUw2B,cAAgB,SAAUtS,EAAYuS,GACxDvS,GAA2B,IAAduS,GAAmBl3B,KAAK1F,OAAO24B,WAAatO,EAAaA,EACtE3kB,KAAK8wB,iBAAkB,EACvB9wB,KAAK8F,QAAQ6e,WAAaA,EAC1B3kB,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBlO,WAAa3kB,KAAK8F,QAAQ6e,WACzE3kB,KAAK1F,OAAOkqB,+BACbxkB,KAAK+wB,eAAejT,KAAO9d,KAAK8F,QAAQ6e,aAShDiM,EAAYnwB,UAAU02B,QAAU,WAC5Bn3B,KAAK2xB,wBAEFf,KC3UPwG,EAAwC,WACxC,QAASA,GAAuB98B,GAC5B0F,KAAK1F,OAASA,EAmDlB,MA3CA88B,GAAuB32B,UAAU42B,cAAgB,WAC7Cr3B,KAAKs3B,QAAUC,gBAAc,OAASC,UAAW,iBAAkBC,OAAQ,wDAC3Ez3B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcyG,YAAY13B,KAAKs3B,SAC5Dt3B,KAAK23B,aAAeJ,gBAAc,OAASC,UAAW,iBAAkBC,OAAQ,2DAChFz3B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcyG,YAAY13B,KAAK23B,cAC5D33B,KAAKs3B,QAAQI,YAAY13B,KAAK1F,OAAOmqB,iBAAiBmT,mBAS1DR,EAAuB32B,UAAUo3B,oBAAsB,SAAU/xB,GAC7D9F,KAAKs3B,QAAQI,YAAY5xB,IAQ7BsxB,EAAuB32B,UAAU60B,YAAc,WAC3C,GAAI5E,GAAU1wB,KAAK1F,OAAO4H,SAAS41B,aAAajyB,cAAc,cAAcA,cAAc,kBAC1F,IAAI7F,KAAK1F,OAAOkqB,6BAA8B,CAC1C,GAAIuT,GAAeC,SAAS5E,uBAAuB,kBAAkB,GAAGO,MAAMsE,UAC1EC,EAAwBl4B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,kBAAkB,GAAGO,MAAMsE,UACvG1E,MAAkB,EAElBA,GADiB,KAAjBwE,EACkBA,EAAarrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,GAGtD3I,KAAK1F,OAAOmqB,iBAAiBwM,cAAcmC,uBAAuB,kBAAkB,GAAGO,MAAMsE,UACjFvrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,EAEjF,IAAIwvB,GAAkBD,EAAsBxrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,EACxF3I,MAAK1F,OAAOmqB,iBAAiB4Q,cAAciC,QAAQ3D,MAAMsE,UAAY,aAAe1E,EAAkB,KAAO4E,EAAkB,QAG/Hn4B,MAAK1F,OAAOmqB,iBAAiB4Q,cAAciC,QAAQ3D,MAAMsE,UAAYvH,EAAQiD,MAAMsE,WAGpFb,KChDPgB,EAA4B,WAC5B,QAASA,GAAW99B,GAChB0F,KAAKq4B,2BAA4B,EACjCr4B,KAAK80B,aAAc,EACnB90B,KAAK+0B,eAAgB,EACrB/0B,KAAKs4B,oBAAsB,EAC3Bt4B,KAAKu4B,gBAAkB,EACvBv4B,KAAKw4B,gBAAiB,EACtBx4B,KAAKy4B,sBAAwB,EAC7Bz4B,KAAK04B,qBAAuB,EAC5B14B,KAAK24B,YAAa,EAClB34B,KAAK44B,uBAAwB,EAC7B54B,KAAK1F,OAASA,EACd0F,KAAK6yB,uBAAyB,KAC9B7yB,KAAK64B,mBACDtB,gBAAc,OAASC,UAAWsB,IACtC94B,KAAK64B,mBAAmBvC,aAAa,OAAQ,UAC7Ct2B,KAAK64B,mBAAmBvC,aAAa,aAAc,kBACnDt2B,KAAKq1B,cAAgB,GAAI+B,GAAuBp3B,KAAK1F,QACrD0F,KAAKwU,mBAi5DT,MA/4DA4jB,GAAW33B,UAAU+T,iBAAmB,WACpCxU,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAK+4B,qBAAsB/4B,MAC1DA,KAAK1F,OAAOma,GAAG,iBAAkBzU,KAAKg5B,oBAAqBh5B,MAC3DA,KAAK1F,OAAOma,GAAG,YAAazU,KAAKi5B,sBAAuBj5B,MACxDA,KAAK1F,OAAOma,GAAG,oBAAqBzU,KAAKk5B,oBAAqBl5B,MAC9DA,KAAK1F,OAAOma,GAAG,UAAWzU,KAAKm3B,QAASn3B,OAE5Co4B,EAAW33B,UAAUy4B,oBAAsB,WACvCl5B,KAAK1F,OAAOy7B,OAAO,wBACnB/1B,KAAKm5B,cAQTf,EAAW33B,UAAUs4B,qBAAuB,WACxC/4B,KAAKo5B,aAAe7B,gBAAc,OAASh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,aAAci9B,UHxCtE,kBGyChBx3B,KAAK1F,OAAO++B,UAAU3B,YAAY13B,KAAKo5B,cACvCp5B,KAAKs5B,0BACLt5B,KAAKu5B,wBAgBTnB,EAAW33B,UAAUw4B,sBAAwB,WACzCj5B,KAAK1F,OAAOsX,eAAeygB,wBAM/B+F,EAAW33B,UAAU+4B,8BAAgC,WACjD,IAAK,GAAI17B,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOyO,SAASpN,OAAQmC,IAAK,CAClD,GAAIC,GAAOiC,KAAK1F,OAAOyO,SAASjL,EAC5BC,GAAKmf,aAAavhB,OAAS,GAC3BqE,KAAK1F,OAAO+J,cAAcukB,wBAAwB7qB,GAG1D,GAAI4yB,GAAiB3wB,KAAK1F,OAAOwL,QAAQD,cAAc,IAAMizB,EACzDnI,KACAA,EAAe0C,UAAY,IAEiC,IAA5DrzB,KAAK1F,OAAO4H,SAASqvB,KAAKkI,eAAexe,QAAQtf,QACjDqE,KAAK05B,qBAAqB15B,KAAK1F,OAAOwX,kBAG9CsmB,EAAW33B,UAAUu4B,oBAAsB,WACvC,GAAIh5B,KAAK1F,OAAOq/B,uBACZ35B,KAAK64B,mBAAmBxF,UAAY,GACpCrzB,KAAK1F,OAAOs/B,mBAAmB55B,KAAK1F,OAAOuO,sBAAuB7I,KAAK1F,OAAOmX,oBAAqBzR,KAAK1F,OAAOu/B,oBAC/G75B,KAAK1F,OAAOq/B,wBAAyB,MAEpC,CACD35B,KAAK1F,OAAOkb,gBAAgBskB,kBACxB95B,KAAK1F,OAAO+e,mBAAqBrZ,KAAK1F,OAAOmE,WAAW2a,aACxDpZ,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAO+e,kBAAkB4gB,kCAElCj6B,KAAK1F,OAAOm5B,oBAAoByG,qBAAqBl6B,KAAK1F,OAAO0/B,+BACjE,KAAK,GAAIl8B,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASz5B,OAAQmC,IACjF,GAAIkC,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAC7Fp1B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGkB,aAAa,WAAY,MACzHt2B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGkB,aAAa,WAAY,MACzHt2B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGkB,aAAa,WAAY,UAGzH,IAA6B,gBAAzBt2B,KAAK1F,OAAOyd,SAA4B,CACxC,GAAIoiB,GAAOn6B,KAAK1F,OAAOkb,gBAAgBmf,oBACnCS,SAASp3B,SAASF,EAAEG,WAAY,KAAKm3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,EACrEv6B,qBAAkBs/B,IACnBn6B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGkB,aAAa,WAAY,UAGxHt2B,MAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASp3B,SAASF,EAAEG,WAAY,KAAKm3B,SAAS,GACnGA,SAAS,GAAGA,SAAS,IACrBp1B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBS,SAASt3B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGkB,aAAa,WAAY,KAIrI,IAAI8D,GAAiBp6B,KAAK1F,OAAO+/B,kBAC7Br6B,MAAK1F,OAAOggC,oBAAsBF,GAAkBA,EAAeG,wBACnEv6B,KAAK1F,OAAO+/B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,4BAA6Bz6B,KAAK1F,OAAOggC,mBAAoBF,EAAeM,8BAEvL16B,KAAK1F,OAAOm6B,oBACZz0B,KAAKw5B,gCAGbx5B,KAAKo2B,uBACDp2B,KAAK1F,OAAO0G,QACZhB,KAAK1F,OAAOy7B,OAAO,uBAEnB/1B,KAAK1F,OAAOsX,eAAeO,aAC3BnS,KAAK1F,OAAOsX,eAAe+oB,oBAQnCvC,EAAW33B,UAAUi5B,qBAAuB,SAAUh8B,GAClD,GACIgF,GACAsY,EACAqP,EAHAuQ,EAAel9B,EAAQ/B,MAI3B,IAAgE,IAA5DqE,KAAK1F,OAAO4H,SAASqvB,KAAKkI,eAAexe,QAAQtf,OACjD,IAAK+G,EAAQ,EAAGA,EAAQk4B,EAAcl4B,KAElC2nB,GADArP,EAActd,EAAQgF,IACQlE,gBAAgByqB,qBAE1CjpB,KAAK66B,YAAYxQ,EAAiBrP,IAKlDod,EAAW33B,UAAUq6B,YAAc,SAAUC,GACzC,GAAIlmB,GAAiB7U,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOwX,iBAC5DuC,EAAcQ,EAAe/H,QAAQiuB,EACzC,IAAIA,EAAcvxB,aAA+B,IAAjB6K,EAAoB,CAChD,GAAI4mB,GAAej7B,KAAK1F,OAAO4gC,cAAcH,EAAcvxB,WAAWkM,OACtErB,GAAcQ,EAAe/H,QAAQmuB,GAEzC,MAAKF,GAAc7b,UAGV7K,EAAc,GAAKrU,KAAK1F,OAAO8mB,UAF5B/M,EAAcrU,KAAK1F,OAAO8mB,WAK1CgX,EAAW33B,UAAU06B,yBAA2B,SAAUz9B,GAEtD,IAAK,GADD09B,MACK7/B,EAAK,EAAG8/B,EAAY39B,EAASnC,EAAK8/B,EAAU1/B,OAAQJ,IAAM,CAC/D,GAAIgD,GAAS88B,EAAU9/B,EACnBgD,GAAO2e,cAAgB3e,EAAO2e,aAAavhB,OAAS,IACpDy/B,EAAsB98B,KAAKC,GAC3ByB,KAAKs7B,yBAAyB/8B,EAAO2e,aAAcke,IAG3D,MAAOA,IAGXhD,EAAW33B,UAAU66B,yBAA2B,SAAU59B,EAAS69B,GAC/D,IAAK,GAAIhgC,GAAK,EAAGigC,EAAY99B,EAASnC,EAAKigC,EAAU7/B,OAAQJ,IAAM,CAC/D,GAAIgD,GAASi9B,EAAUjgC,EACnBgD,GAAO2e,cAAgB3e,EAAO2e,aAAavhB,OAAS,IACpD4/B,EAAYj9B,KAAKC,GACjByB,KAAKs7B,yBAAyB/8B,EAAO2e,aAAcqe,MAK/DnD,EAAW33B,UAAUg7B,eAAiB,SAAU19B,GAC5C,GAAI29B,GAAmBxoB,KAAKsH,MAAMxa,KAAK1F,OAAO8mB,UAAYphB,KAAK1F,OAAOkb,gBAAgB6L,cACtF,KAAKtjB,EAAKmhB,UAAYnhB,EAAK0e,gBACvB,MAAOzc,MAAK27B,4BAA4BD,EAE5C,IAAIE,GAAuB57B,KAAK67B,8BAA8B99B,EAC9D,OAAOiC,MAAK87B,2BAA2B/9B,EAAKmf,aAAavhB,OAAQigC,EAAsBF,IAG3FtD,EAAW33B,UAAUk7B,4BAA8B,SAAUD,GACzD,MAAO17B,MAAK1F,OAAO8mB,UAAYsa,GAGnCtD,EAAW33B,UAAUo7B,8BAAgC,SAAU99B,GAC3D,IAAKA,EAAKmf,cAA6C,IAA7Bnf,EAAKmf,aAAavhB,OACxC,MAAO,EAIX,KAAK,GADDogC,GAA2B,EACtBxgC,EAAK,EAAGygC,EAFWh8B,KAAKm7B,yBAAyBp9B,EAAKmf,cAEG3hB,EAAKygC,EAAwBrgC,OAAQJ,IAAM,CACzG,GAAImX,GAAOspB,EAAwBzgC,EACF,KAA7BmX,EAAKwK,aAAavhB,QAAgB+W,EAAKwM,WACvC6c,GAA4BrpB,EAAKwK,aAAavhB,QAGtD,MAAOogC,IAGX3D,EAAW33B,UAAUq7B,2BAA6B,SAAUzN,EAAauN,EAAsBF,GAC3F,OAASrN,EAAcuN,GAAwB57B,KAAK1F,OAAO8mB,UAAasa,GAE5EtD,EAAW33B,UAAUo6B,YAAc,SAAUxQ,EAAiB0Q,GAC1D,GAAIkB,GAAW,EACXC,EAAWl8B,KAAK1F,OAAOwX,gBAAgBhF,QAAQiuB,EACnD,KAAK/6B,KAAK1F,OAAOk6B,qBAAuBx0B,KAAK1F,OAAO6hC,mBAAoB,CAEpE,GAAIC,GAAerB,EAAcvxB,WAAaxJ,KAAK1F,OAAOoP,cAAcqxB,EAAcvxB,YAAc,IACpG,IAAIuxB,EAAcvxB,YACd4yB,IACCA,EAAald,UACd6b,EAActe,kBACbse,EAAc7b,SACf+c,EAAWj8B,KAAK1F,OAAO06B,cAAch1B,KAAK1F,OAAO+hC,cAActB,EAAe,GAAGt7B,OAAO68B,cAEvF,CACD,GAAIC,GAAYv8B,KAAK1F,OAAO06B,cAAckH,GAAUI,SACpDL,GAAYlB,EAAc7b,SAAuBqd,EAAYv8B,KAAK1F,OAAO8mB,UAApCmb,OAIzCN,GAAWj8B,KAAK86B,YAAYC,EAEhC,IAAIyB,GAAgBx8B,KAAK64B,mBAAmBhzB,cAAc,kBAAyBk1B,EAAcv8B,gBAAgBqb,YAC7G2iB,IACAA,EAAc79B,QAElB,IAAI89B,GAAYlF,gBAAc,OAC1BC,UAAW,iBAAmBuD,EAAcv8B,gBAAgBqb,YAAa4d,OAAQ,OAASwE,EAAW,2BAEzG,KAA4B,IAAxBlB,EAAcnhB,OAAgBmhB,EAAc7b,WAAYrkB,oBAAkBkgC,EAAcvxB,aACpFxJ,KAAK1F,OAAO6hC,wBAGhBpB,EAAcnhB,MAAQ,GAAKmhB,EAAc7b,WAAalf,KAAK1F,OAAO4gC,cAAcH,EAAcvxB,WAAWkM,QAAQwJ,UAArH,CAGA,IAAK,GAAIphB,GAAI,EAAGA,EAAIusB,EAAgB1uB,OAAQmC,IAAK,CAC7C,GAAIm3B,OAAS,GACTkF,EAAOn6B,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBC,UACtD50B,MAAK1F,OAAOk6B,qBAAwBuG,EAAc7b,WAAYlf,KAAK1F,OAAO6hC,mBAQ3ElH,EAASj1B,KAAKy7B,eAAeV,IAL7BmB,GADIE,EAAep8B,KAAK1F,OAAO+hC,cAActB,EAAe,IACpC7b,SAAWgd,EAAWl8B,KAAK1F,OAAOwX,gBAAgBhF,QAAQsvB,GAClFnH,EAASj3B,SAASm8B,EAAK+B,GAAUvI,MAAMsB,OAAQ,KAC1Cj1B,KAAK1F,OAAO8mB,UAAYphB,KAAK1F,OAAOkb,gBAAgB6L,eAK7D,IAAIqb,GAAUnF,gBAAc,OACxBC,UAAWmF,yBAA6ClF,QAASz3B,KAAK1F,OAAO24B,UAAY,SAAW,UAC9FjzB,KAAK1F,OAAO24B,UAAY5I,EAAgBvsB,GAAGggB,KAAOuM,EAAgBvsB,GAAGif,MAAQ,EAAIsN,EAAgBvsB,GAAGggB,MAAQ,6BAA+B5K,KAAKsH,OAAOxa,KAAK1F,OAAO8mB,UAAYphB,KAAK1F,OAAOkb,gBAAgB6L,eAAiB,GAAK,iCAAmC4T,EAAS,GAAK,qDAAiF,gBAAzBj1B,KAAK1F,OAAOyd,SAA8BgjB,EAAc7d,aAAavhB,OAAS,EAAIo/B,EAAc7d,aAAavhB,OAAS,EAAIo/B,EAAc7d,aAAavhB,OAAS,KAE9eihC,EAAWrF,gBAAc,OACzBC,UAAWmF,0BACXlF,QAASz3B,KAAK1F,OAAO24B,UAAY,SAAW,UAAajzB,KAAK1F,OAAO24B,UAAY5I,EAAgBvsB,GAAGggB,KAChGuM,EAAgBvsB,GAAGggB,KAAOuM,EAAgBvsB,GAAGif,MAAQ,GAAK,6BAA+B7J,KAAKsH,OAAOxa,KAAK1F,OAAO8mB,UAAYphB,KAAK1F,OAAOkb,gBAAgB6L,eAAiB,GAAK,gBAAkB4T,EAAS,GAAK,qEAAiG,gBAAzBj1B,KAAK1F,OAAOyd,SAA8BgjB,EAAc7d,aAAavhB,OAAS,EAAIo/B,EAAc7d,aAAavhB,OAAS,EAAIo/B,EAAc7d,aAAavhB,OAAS,IAE7b8gC,GAAU/E,YAAYgF,GACtBD,EAAU/E,YAAYkF,GACtB58B,KAAK64B,mBAAmBnB,YAAY+E,GAExCz8B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBF,YAAY13B,KAAK64B,sBAMnET,EAAW33B,UAAU64B,wBAA0B,WAC3Ct5B,KAAK6yB,uBACD0E,gBAAc,OAASC,UHlRE,gCGmRzBx3B,KAAK1F,OAAO24B,YACZjzB,KAAK6yB,uBAAuBc,MAAMkJ,gBAAkB,MACpD78B,KAAK6yB,uBAAuBc,MAAMmJ,iBAAmB,OAEzD98B,KAAK6yB,uBAAuByD,aAAa,OAAQ,gBACjDt2B,KAAKo5B,aAAa1B,YAAY13B,KAAK6yB,yBAOvCuF,EAAW33B,UAAU84B,qBAAuB,WACxCv5B,KAAK+8B,mBAAqBxF,gBAAc,OAASC,UH1SzB,2BG2SxBx3B,KAAKo5B,aAAa1B,YAAY13B,KAAK+8B,oBACnC/8B,KAAKixB,cAAgBsG,gBAAc,OAC/BC,UAAWwF,qCAAkDvF,OAAQ,uBAEzEz3B,KAAK+8B,mBAAmBrF,YAAY13B,KAAKixB,eACzCjxB,KAAK43B,iBAAmBL,gBAAc,OAASC,UH7SzB,yBG6S0DC,OAAQ,wCACpFz3B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,sBAAwBtX,KAAK1F,OAAOkqB,6BACnFxkB,KAAK1F,OAAOmqB,iBAAiB4Q,cAAcgC,gBAG3Cr3B,KAAKixB,cAAcyG,YAAY13B,KAAK43B,kBAGxC53B,KAAK0kB,aAAe,GAAIkM,GAAY5wB,KAAK1F,OAEzC,IAAI2iC,GAAgB,CACfpiC,qBAAkBmF,KAAK1F,OAAO4iC,gBAAmBriC,oBAAkBmF,KAAK1F,OAAO4iC,cAAcp3B,WAC9Fm3B,EAAgBj9B,KAAK1F,OAAO4iC,cAAcp3B,QAAQq3B,cAEtDn9B,KAAK0kB,aACDoS,UAAU92B,KAAK1F,OAAO8iC,YAAcp9B,KAAK6yB,uBAAuBsK,aAAeF,IAMvF7E,EAAW33B,UAAU21B,qBAAuB,WAExC,GACIiH,GAA4C,IAA9Br9B,KAAK1F,OAAO66B,cAAsBn1B,KAAK1F,OAAOyO,SAASpN,OAAS,EAD7D,GACkF,EACnGqE,KAAK1F,OAAO66B,cACZmI,EAAiBt9B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,EACtG,IAAIiK,GAAeC,EAA6B,cAA4B,SAAvBt9B,KAAK1F,OAAO26B,QAAsBqI,EAA6B,aAAID,EAJnG,GAKjBr9B,KAAK43B,iBAAiBjE,MAAMsB,OAASb,aAAWiJ,OAE/C,CACD,GAAIE,GAAev9B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,0BAA0B,GAAiB,YACrGkK,GAA6B,cAAKC,EAClCv9B,KAAK43B,iBAAiBjE,MAAMsB,OAASqI,EAA6B,aAAI,GAAK,KAG3Et9B,KAAK43B,iBAAiBjE,MAAMsB,OAASqI,EAA6B,aAAI,KAiB9E,GAbIt9B,KAAK1F,OAAOsX,eAAeO,aAAenS,KAAK1F,OAAOkqB,6BACtDxkB,KAAK43B,iBAAiBjE,MAAM5W,MAAS/c,KAAK1F,OAAOkqB,8BACzCxkB,KAAK1F,OAAOsX,eAAeukB,mBAAuD,EAAlCn2B,KAAK1F,OAAOwL,QAAQosB,YACxEkC,aAA6C,EAAlCp0B,KAAK1F,OAAOwL,QAAQosB,aAC7BkC,aAAWp0B,KAAK1F,OAAOsX,eAAeukB,mBAAqBn2B,KAAK1F,OAAOsX,eAAsC,uBAGnH5R,KAAK43B,iBAAiBjE,MAAM5W,MAAS/c,KAAK1F,OAAOkqB,8BACzCxkB,KAAK1F,OAAOsX,eAAeukB,mBAAuD,EAAlCn2B,KAAK1F,OAAOwL,QAAQosB,YACxEkC,aAA6C,EAAlCp0B,KAAK1F,OAAOwL,QAAQosB,aAC7BkC,aAAWp0B,KAAK1F,OAAOsX,eAAeukB,oBAG5Cn2B,KAAK1F,OAAOsX,eAAe4rB,eAAiBx9B,KAAK1F,OAAOgd,qBAAsB,CAC9E,GAAImmB,GAAcvqB,KAAK6P,IAAI/iB,KAAK1F,OAAOsX,eAAeukB,mBAClDn2B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAGqK,YACxFz9B,MAAK1F,OAAOmqB,iBAAiBmT,iBAAiBjE,MAAM5W,MAChDqX,aAAWp0B,KAAK1F,OAAOsX,eAAeukB,mBAAqBsH,GAEnEz9B,KAAK09B,mBACL19B,KAAK1F,OAAOy7B,OAAO,mBACnB/1B,KAAK1F,OAAOqjC,gCACZ39B,KAAK49B,4BAETxF,EAAW33B,UAAUi9B,iBAAmB,WACpC,GAAI19B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAAsB,CACvD5X,WAAS,eAAgBM,KAAK1F,OAAOmqB,iBAAiB4Q,eAC5D1B,MAAMsB,OAASj1B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,kBAAkB,GAAGO,MAAMsB,MACtG,IAAI4I,GAAWn+B,WAAS,UAAWM,KAAK1F,OAAOmqB,iBAAiB4Q,eAC5D6C,EAAwBl4B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,kBAAkB,GAAGO,MAAMsE,UACvGF,EAAeC,SAAS5E,uBAAuB,kBAAkB,GAAGO,MAAMsE,SAC9E,IAAIj4B,KAAK1F,OAAOkqB,6BAA8B,CAC1C,GAAI+O,OAAkB,EAEQ,oBAA1B2E,GAA8C4F,UAAUC,UAAUrW,SAAS,aAC3EwQ,EAAwB,uBAGxB3E,EADiB,KAAjBwE,EACkBA,EAAarrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,GAGtD3I,KAAK1F,OAAOmqB,iBAAiBwM,cAAcmC,uBAAuB,kBAAkB,GAAGO,MAAMsE,UACjFvrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,EAEjF,IAAIwvB,GAAkBD,EAAsBxrB,MAAM,uBAAuB,GAAG/D,MAAM,MAAM,EACxFk1B,GAASlK,MAAMsE,UAAY,aAAe1E,EAAkB,KAAO4E,EAAkB,QAGrF0F,GAASlK,MAAMsE,UAAYC,IASvCE,EAAW33B,UAAUm9B,yBAA2B,WAC5C,GAAI59B,KAAK1F,OAAOwX,gBAAgBnW,OAAS,GAA4B,SAAvBqE,KAAK1F,OAAO26B,OAAmB,CACzE,GAAI+I,GAAkBh+B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACjEtX,KAAK1F,OAAOwX,gBAAkB9R,KAAK1F,OAAO0jC,gBAC1CC,EAAkBD,EAAgBA,EAAgBriC,OAAS,GAC3DuiC,EAAuBl+B,KAAK1F,OAAOwX,gBAAgBhF,QAAQmxB,GAC3DE,EAAUn+B,KAAK1F,OAAO06B,cAAckJ,GACpCE,EAAQp+B,KAAK1F,OAAOkb,gBAAgBmf,mBAIxC,IAHIyJ,EAAMC,iBAAiB,mDACvBC,cAAYF,EAAMC,iBAAiB,kDAAmD,aAEtFr+B,KAAK43B,iBAAiB2G,aAAev+B,KAAK+8B,mBAAmBwB,cACzDJ,EAAS,CACTK,WAASL,EAAQE,iBAAiB,MAAO,YACzC,IACIhB,GAA4C,IAA9Br9B,KAAK1F,OAAO66B,cAAsBn1B,KAAK1F,OAAOyO,SAASpN,OAAS,EAD7D,GACkF,EACnGqE,KAAK1F,OAAO66B,cACZmI,EAAiBt9B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,EACtG,IAAIiK,GAAeC,EAA6B,cAAMA,EAA6B,aAAID,EAJlE,GAKjBr9B,KAAK43B,iBAAiBjE,MAAMsB,OAASb,aAAWiJ,OAE/C,CACD,GAAIE,GAAev9B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,0BAA0B,GAAiB,YACrGkK,GAA6B,cAAKC,EAClCv9B,KAAK43B,iBAAiBjE,MAAMsB,OAASqI,EAA6B,aAAI,GAAK,KAG3Et9B,KAAK43B,iBAAiBjE,MAAMsB,OAASqI,EAA6B,aAAI,SAO9FlF,EAAW33B,UAAUg+B,oBAAsB,WACnCz+B,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAK+4B,sBACrC/4B,KAAK1F,OAAOs3B,IAAI,iBAAkB5xB,KAAKg5B,qBACvCh5B,KAAK1F,OAAOs3B,IAAI,YAAa5xB,KAAKi5B,uBAClCj5B,KAAK1F,OAAOs3B,IAAI,oBAAqB5xB,KAAKk5B,qBAC1Cl5B,KAAK1F,OAAOs3B,IAAI,UAAW5xB,KAAKm3B,WAQpCiB,EAAW33B,UAAUk+B,oBAAsB,SAAUvoB,GACjD,GAAIwoB,IAAS,CAMb,IALe,eAAXxoB,EAAEhG,MAAyBgG,YAAayoB,aAAczoB,EAAE0oB,SAAgC,IAArB1oB,EAAE0oB,QAAQnjC,SAE7EqE,KAAK++B,kBAAoB/+B,KAAKg/B,uBAAuB5oB,EAAE0oB,QAAQ,GAAI1oB,EAAE0oB,QAAQ,IAC7E9+B,KAAK24B,YAAa,GAElB34B,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0I,YACnDhD,KAAK1F,OAAO4kC,aAAaC,sBAAwBn/B,KAAK24B,WAAY,CAClE,GAAIyG,GAAap/B,KAAK1F,OAAO0I,WAAWC,kBAAoC,iBAAEmT,EAC9E,IAAmB,cAAfgpB,GAA6C,eAAfA,GAA8C,kBAAfA,GAAiD,qBAAfA,EAAmC,CAClI,GAAIpgC,IACA4/B,OAAQA,EACR7gC,KAAMiC,KAAKq/B,mBAAmBjpB,EAAEkpB,QAChCA,OAAQlpB,EAAEkpB,OACVpP,SAAUqP,UAAQnpB,EAAEkpB,OAAQ,MAEhCt/B,MAAK1F,OAAOgc,QAAQ,qBAAsBtX,GAC1C4/B,EAAS5/B,EAAa,QAG9B,IAAK4/B,IAAW5+B,KAAK24B,WAAY,CACb,IAAZviB,EAAEopB,OAAex/B,KAAK1F,OAAO4kC,aAAaC,sBAC1Cn/B,KAAK1F,OAAOy7B,OAAO,iBAAkB3f,GACrCpW,KAAK1F,OAAOwL,QAAQ25B,SAAW,EAEnC,IAAIC,IAAkB,CAClB1/B,MAAK1F,OAAO4kC,aAAaC,sBAAwBn/B,KAAK1F,OAAOwL,QAAQD,cAAc,2BAA6B7F,KAAK1F,OAAOwL,QAAQD,cAAc,uCAClJ65B,GAAkB,GAEjBA,GAAgC,IAAbtpB,EAAEupB,QAClB3/B,KAAK1F,OAAO4kC,aAAaU,cAAgB5/B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,GAC3HqE,KAAK1F,OAAO4H,SAAS29B,YAKrCzH,EAAW33B,UAAUu+B,uBAAyB,SAAUc,EAAQC,GAC5D,GAAIC,GAAKD,EAAOE,QAAUH,EAAOG,QAC7BC,EAAKH,EAAOI,QAAUL,EAAOK,OACjC,OAAOjtB,MAAKktB,KAAKJ,EAAKA,EAAKE,EAAKA,IAEpC9H,EAAW33B,UAAU4/B,qBAAuB,SAAUjqB,GAC9CpW,KAAK1F,OAAOgmC,gBACZtgC,KAAKugC,eAAenqB,GAExBpW,KAAK1F,OAAOy7B,OAAO,kBAAmB3f,IAE1CgiB,EAAW33B,UAAU+/B,kBAAoB,SAAUpqB,GAC/C,GAAe,aAAXA,EAAEhG,KAAqB,CACvBpQ,KAAK++B,kBAAoB,KACzB/+B,KAAK24B,YAAa,CAClB,IAAI8H,GAAczgC,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,wBAC3EhL,qBAAkB4lC,IACnBA,EAAY9hC,QAEhB,IAAI+hC,GAAQ1gC,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,qBAAuB7F,KAAK1F,OAAO++B,UAAUxzB,cAAc,mBAChIhL,qBAAkB6lC,IACFA,EAAMhmC,cACKA,cACjBiE,QAEf,IAAIgiC,GAAY3gC,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,sBACzEhL,qBAAkB8lC,IACnB3gC,KAAK1F,OAAO0I,WAAWC,kBAAkB29B,iBAAgB,GAMjE,GAHI5gC,KAAK1F,OAAO4kC,aAAaC,qBACzBn/B,KAAK1F,OAAOy7B,OAAO,eAAgB3f,IAElCpW,KAAK1F,OAAO4kC,aAAaU,aAAc,CACxC,GAAIF,IAAkB,CAMtB,IALI1/B,KAAK1F,OAAO4kC,aAAaC,qBACzBz/B,WAAS,8CAA+CM,KAAK1F,SAC7DoF,WAAS,iDAAkDM,KAAK1F,UAChEolC,GAAkB,IAEjBA,EAAiB,CAElB,GAAIJ,GAASlpB,EAAEkpB,OACXuB,EAAqBzqB,EAAEkpB,OAAO9kC,UAAUC,SAASqmC,IAC9CvB,UAAQnpB,EAAEkpB,OAAQ,IAAMwB,IAC3BvB,UAAQD,EAAQ,4BAA+Bt/B,KAAK1F,OAAO4kC,aAAaU,cAAiB5/B,KAAK1F,OAAOymC,YAG/FF,GAAsB7gC,KAAK1F,OAAOgmC,gBACxCtgC,KAAKugC,eAAenqB,GAHpBpW,KAAKghC,2BAA2B5qB,MAahDgiB,EAAW33B,UAAU8/B,eAAiB,SAAUnqB,GAC5C,GAAI6qB,GAAM1B,UAAQnpB,EAAEkpB,OAAQ,KAC5B,IAAI2B,GAAOjhC,KAAK1F,OAAOwL,QAAQrL,SAASwmC,KACnCjhC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,2BAA2B,GAAG5jC,SAAS2b,EAAEkpB,SAC3Et/B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,kBAAkB,GAAG5jC,SAAS2b,EAAEkpB,UACzEt/B,KAAK1F,OAAOwX,gBAAgBnW,OAAS,EAAG,CACxC,GAAIugC,GAAWx8B,WAAS,WAAY6/B,UAAQnpB,EAAEkpB,OAAQ,OAClDvvB,EAAa/P,KAAK1F,OAAOwX,gBAAgBoqB,GAAU19B,gBAAgB1D,UACnEomC,EAAclhC,KAAK1F,OAAOwX,gBAAgBoqB,GAAU19B,gBAAgBsf,IACxE,KAAKjjB,oBAAkBkV,GAAa,CAChC,GAAI+N,GAAQ9d,KAAK1F,OAAOkqB,gCACpBxkB,KAAK1F,OAAO+J,cAAcmd,YAAYzR,GAAY,EAClD/P,MAAK1F,OAAOgmC,iBACRtgC,KAAK1F,OAAOkqB,6BACZxkB,KAAKmhC,iBAAiBD,GAGtBlhC,KAAKmhC,iBAAiBrjB,OAa1Csa,EAAW33B,UAAU0gC,iBAAmB,SAAUxc,GAC9CA,EAAaA,EAAa,EAAIA,EAAa,EAC3CA,EAAa3kB,KAAKixB,cAAcmQ,aAAezc,EAAa3kB,KAAKixB,cAAcmQ,YAAczc,GACxF3kB,KAAKixB,cAAciB,YAAclyB,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,WAAcA,GACvF3kB,KAAKixB,cAActM,WAAaA,IACpC3kB,KAAK0kB,aAAauS,cAActS,EAAa,GAAI3kB,KAAK1F,OAAO24B,WAAa,EAAI,IAWtFmF,EAAW33B,UAAU4gC,QAAU,SAAUjrB,GACtB,aAAXA,EAAEhG,OACFpQ,KAAK++B,kBAAoB,KACzB/+B,KAAK24B,YAAa,GAEjB99B,oBAAkBmF,KAAK1F,OAAO0I,aAAgBnI,oBAAkBmF,KAAK1F,OAAO0I,WAAWC,oBACxFjD,KAAK1F,OAAO0I,WAAWC,kBAAkB29B,iBAAgB,EAE7D,IAAIH,GAAczgC,KAAK1F,OAAOwL,QAAQD,cAAc,wBAOpD,IANKhL,oBAAkB4lC,IACnBA,EAAY9hC,SAEZqB,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWC,oBACxFjD,KAAK1F,OAAO0I,WAAWC,kBAAqC,kBAAI,GAEhEjD,KAAK1F,OAAOgnC,oBAAqB,CACjC,GAAIC,GAAkBvhC,KAAK1F,OAAOwL,QAAQD,cAAc,eACpD07B,IACAA,EAAgB5iC,SAGnBqB,KAAKw4B,gBACNx4B,KAAK1F,OAAOy7B,OAAO,eAAgB3f,GAEvCpW,KAAKw4B,gBAAiB,GAS1BJ,EAAW33B,UAAU+gC,gBAAkB,SAAUprB,GAa7C,GAZe,aAAXA,EAAEhG,OACFpQ,KAAK++B,kBAAoB,KACzB/+B,KAAK24B,YAAa,EAClB34B,KAAKy4B,sBAAwB,GAEjCz4B,KAAKw4B,gBAAiB,GAClBpiB,EAAEkpB,OAAO9kC,UAAUC,SAAS,qBAC5B2b,EAAEkpB,OAAO9kC,UAAUC,SAAS,yBAC6B,IAArDiF,WAAS,iBAAkBM,KAAK1F,OAAO4H,WACvC4Q,WAAS,kBAAkB,EAAO9S,KAAK1F,OAAO4H,UAGlDlC,KAAK1F,OAAOgnC,oBAAqB,CACjC,GAAIC,GAAkBvhC,KAAK1F,OAAOwL,QAAQD,cAAc,eACpD07B,IACAA,EAAgB5iC,SAGxB,IAAIqB,KAAK1F,OAAOokC,aAA2B,IAAZtoB,EAAEopB,MAAjC,CAGA,GAAIiB,GAAczgC,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,wBAC3EhL,qBAAkB4lC,IACnBA,EAAY9hC,QAEhB,IAAI+hC,GAAQ1gC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,mBAAmB,EACrEv4B,qBAAkB6lC,IACFA,EAAMhmC,cACKA,cACjBiE,QAEf,IAAI+gC,IAAkB,CAoBtB,IAnBI1/B,KAAK1F,OAAO4kC,aAAaC,qBACzBz/B,WAAS,8CAA+CM,KAAK1F,SAC7DoF,WAAS,iDAAkDM,KAAK1F,UAChEolC,GAAkB,GAEtB1/B,KAAK1F,OAAOy7B,OAAO,eAAgB3f,GAC/BpW,KAAK1F,OAAOmnC,oBACZzhC,KAAK1F,OAAOm8B,eAAgB,EACvB57B,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKZv0B,KAAK0hC,iBAAmBtrB,EAAEkpB,OAAO9kC,UAAUC,SAAS,iBACpDuF,KAAK0hC,eAAejC,SAA4C,IAAjCz/B,KAAK0hC,eAAejC,UAAkB,EAAIz/B,KAAK0hC,eAAejC,SAC7FnB,eAAat+B,KAAK0hC,gBAAiB,yBAGtChC,EAAiB,CAElB,GAAIJ,GAASlpB,EAAEkpB,OACXuB,EAAqBzqB,EAAEkpB,OAAO9kC,UAAUC,SAASqmC,IAC9CvB,UAAQnpB,EAAEkpB,OAAQ,IAAMwB,EAC3BvB,WAAQD,EAAQ,6BAA+Bt/B,KAAK1F,OAAO4kC,aAAaU,aACxE5/B,KAAKghC,2BAA2B5qB,IAE1ByqB,GAAsB7gC,KAAK1F,OAAOgmC,gBACxCtgC,KAAKugC,eAAenqB,GAM5B,GAHIpW,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWC,mBACjDjD,KAAK1F,OAAO0I,WAAWC,kBAAkB29B,iBAAgB,IAExD/lC,oBAAkBmF,KAAK1F,OAAOqnC,kBAAoBjC,EAAiB,CACpE,GAAIJ,GAASlpB,EAAEkpB,OACXsC,EAAiBrC,UAAQD,EAAQ,oEACjCsC,IACA5hC,KAAK2hC,eAAevrB,EAAGkpB,EAAQsC,MAY3CxJ,EAAW33B,UAAUkhC,eAAiB,SAAUvrB,EAAGkpB,EAAQsC,GACvD,GAAI1F,GACAhM,EAAWqP,UAAQD,EAAQ,KAC1BzkC,qBAAkBq1B,KACnBgM,EAAWx8B,WAAS,WAAYwwB,GAEpC,IACIlxB,IACAjB,KAFOiC,KAAK6hC,kBAAkBzrB,GAG9BwrB,eAAgBA,EAChB1F,SAAUA,EACVoD,OAAQA,EAEZt/B,MAAK1F,OAAOgc,QAAQ,iBAAkBtX,IAS1Co5B,EAAW33B,UAAUqhC,gBAAkB,SAAU1rB,GACzCpW,KAAK1F,OAAO4kC,aAAaC,qBACzBn/B,KAAK1F,OAAOy7B,OAAO,kBAAmB3f,IAU9CgiB,EAAW33B,UAAUshC,eAAiB,SAAU3rB,GAC5C,GAAe,cAAXA,EAAEhG,OAA4C,IAApBpQ,KAAK24B,YAAuBviB,YAAayoB,aAAczoB,EAAE0oB,SAAgC,IAArB1oB,EAAE0oB,QAAQnjC,OAAc,CAEtH,GAAIqmC,GAAuBhiC,KAAKg/B,uBAAuB5oB,EAAE0oB,QAAQ,GAAI1oB,EAAE0oB,QAAQ,GAC3E5rB,MAAK6P,IAAI/iB,KAAKy4B,sBAAwBuJ,GAAwB,KAC1DA,EAAuBhiC,KAAKy4B,sBAE5Bz4B,KAAK1F,OAAOsX,eAAeqwB,gBAAe,GAErCD,EAAuBhiC,KAAKy4B,uBAEjCz4B,KAAK1F,OAAOsX,eAAeqwB,gBAAe,GAE9CjiC,KAAKy4B,sBAAwBuJ,GAGrC,GAAIhiC,KAAK1F,OAAO4kC,aAAaC,sBAA2C,IAApBn/B,KAAK24B,WAAsB,CAC3E,GAAI34B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,mBAAmBz3B,OAAS,IAAMqE,KAAK1F,OAAO24B,UAAW,CAQpG,IANe,cAAX7c,EAAEhG,MAAmC,eAAXgG,EAAEhG,MAAoC,aAAXgG,EAAEhG,KAC9CgG,EAAkB,eAAE,GAAG8rB,MAGvB9rB,EAAE8rB,QAEDliC,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOmqB,iBAAiB2U,cAActb,KAC/E,OAGR9d,KAAK1F,OAAOy7B,OAAO,iBAAkB3f,IAChCvb,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,aAAepZ,KAAK1F,OAAO8nC,yBACrEpiC,KAAK1F,OAAO8nC,wBAAwBC,+BAA+BjsB,KAW/EgiB,EAAW33B,UAAU6hC,aAAe,SAAUlsB,GAI1C,GAHIpW,KAAK1F,OAAOioC,gBAAkBviC,KAAK1F,OAAO8X,cAC1CpS,KAAK1F,OAAO8X,aAAaowB,0BAA0BpsB,EAAEqsB,YAErDziC,KAAK1F,OAAO2kC,wBAAyB,CACrC,GAAIyB,GAAQ1gC,KAAK1F,OAAO++B,UAAUxzB,cAAc,mBAC3ChL,qBAAkB6lC,IACFA,EAAMhmC,cACKA,cACjBiE,WAWvBy5B,EAAW33B,UAAUiiC,iBAAmB,SAAUtsB,GAC9C,IAAKvb,oBAAkBmF,KAAK1F,OAAOqoC,eAC9B3iC,KAAK1F,OAAOyO,SAASpN,QAClBya,EAAEkpB,OAAO9kC,UAAUC,SAAS,wBAC5B2b,EAAEkpB,OAAO9kC,UAAUC,SAAS,iBAAkB,CAClD,GAAI6kC,GAASlpB,EAAEkpB,OACXtgC,GAAS4jC,cAAexsB,GACxBtQ,EAAUy5B,UAAQD,EAAQ,iIAE9B,IAAIx5B,EAAS,CACT,GAAI+8B,OAAU,GACVC,EAAavD,UAAQD,EAAQ,gCAC7ByD,EAAgBxD,UAAQD,EAAQ,2BAKpC,IAJIwD,IACAD,EAAU7iC,KAAK1F,OAAOmqB,iBAAiBod,kBAAkBzrB,GACzDpX,EAAKjB,KAAO8kC,GAEZE,EAAe,CACf,GAAIC,GAAYtjC,WAAS,YAAaqjC,EACtC/jC,GAAKikC,OAASjjC,KAAK1F,OAAO4H,SAAS+Y,QAAQ+nB,GAE/C,GAAIzD,UAAQD,EAAQ,qBAAsB,CACtC,GAAI7/B,GAAQ,EACRgT,EAAaowB,EAAQrkC,gBAAgBiU,UACzC,IAAIA,EAAW9W,OAAS,EACpB,IAAK8D,EAAQ,EAAGA,EAAQgT,EAAW9W,QAC3B8W,EAAWhT,GAAO4Y,OAAUvS,YAAmB6G,OADZlN,KAM/CT,EAAKkkC,UAAYzwB,EAAWhT,GAOhC,GALI8/B,UAAQD,EAAQ,kCACZjkC,MACAikC,OAASx5B,EACb9G,EAAK8c,YAAc9b,KAAK1F,OAAO6oC,cAAcC,0BAA0B/nC,IAEvEkkC,UAAQD,EAAQ,oBAAqB,CACrC,GAAIjkC,KACJA,GAAIikC,OAASx5B,EACb9G,EAAK2T,aAAe3S,KAAK1F,OAAO6oC,cAAcE,qBAAqBhoC,GAEnEikC,EAAO9kC,UAAUC,SAAS,yBAC1BuE,EAAKjD,KAAO,GAAIe,MAAKwiC,EAAOgE,QAAQ5S,UAG5C1wB,KAAK1F,OAAOgc,QAAQ,cAAetX,KAS3Co5B,EAAW33B,UAAU8iC,mBAAqB,SAAUntB,GAChD,GAAIkpB,GAASlpB,EAAEkpB,OACX2B,EAAM1B,UAAQD,EAAQ,MACtBpD,EAAWx8B,WAAS,WAAYuhC,GAChC4B,EAAU7iC,KAAK1F,OAAOmqB,iBAAiBod,kBAAkBzrB,EACzDpW,MAAK1F,OAAO4kC,aAAaU,cAAgB5/B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,GAC3HqE,KAAK1F,OAAO4H,SAAS29B,UAEzB7/B,KAAK1F,OAAOy7B,OAAO,gBAAiB3f,EACpC,IAAIpX,IACAiiC,IAAKA,EACL4B,QAASA,EACT3G,SAAUA,EACVoD,OAAQA,EAEZt/B,MAAKwjC,kBAAkBxkC,IAS3Bo5B,EAAW33B,UAAU+iC,kBAAoB,SAAUxkC,GAC/CgB,KAAK1F,OAAOgc,QAAQ,oBAAqBtX,IAO7Co5B,EAAW33B,UAAUohC,kBAAoB,SAAUzrB,GAC/C,GAAIpS,GACAi9B,EAAM1B,UAAQnpB,EAAEkpB,OAAQ,OAASwB,EACrC,IAAKjmC,oBAAkBomC,IAMnB,GADAA,EAAM1B,UAAQnpB,EAAEkpB,OAAQ,MACf,CACL,GAAIpD,GAAWx8B,WAAS,WAAY6/B,UAAQnpB,EAAEkpB,OAAQ,MACtDt7B,GAAYhE,KAAK1F,OAAOwX,gBAAgBoqB,QARnB,CACzB,GAAI3hC,GAAK0mC,EAAIwC,aAAa,cAC1Bz/B,GAAYhE,KAAK1F,OAAO4gC,cAAc3gC,GAS1C,MAAOyJ,IAQXo0B,EAAW33B,UAAUijC,aAAe,WAChC,MAA+E,QAA3E1L,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,sBAC1Cy9B,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,sBAAsB8jC,iBAAiB,gBAGxF,MAUfjG,EAAW33B,UAAUugC,2BAA6B,SAAU5qB,GACxD,IAAIpW,KAAK1F,OAAO6hC,mBAAhB,CAGA,GAAImD,GAASlpB,EAAEkpB,OACX5kC,EAAgB6kC,UAAQD,EAAQ,2BAChC/gC,EAASyB,KAAK6hC,kBAAkBzrB,GAChC8Z,EAAWqP,UAAQD,EAAQ,MAC3BpD,EAAWx8B,WAAS,WAAYwwB,GAEhClxB,GAASjB,KAAMQ,EAAQqlC,QADb5jC,KAAK1F,OAAO4H,SAASgzB,UAAUgH,GACAhM,SAAUA,EAAU0O,QAAQ,EACzE5+B,MAAKq4B,2BAA4B,EAC7B39B,EAAcF,UAAUC,SAAS,gBACjCuF,KAAK6jC,iBAAiB7kC,GAEjBtE,EAAcF,UAAUC,SAAS,mBACtCuF,KAAK8jC,eAAe9kC,KAO5Bo5B,EAAW33B,UAAUsjC,uBAAyB,WAC1C/jC,KAAK1F,OAAOm5B,oBAAoBjD,wBAAwB6C,UAAY,GACpErzB,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAO+e,kBAAkB4gB,iCAC9Bj6B,KAAK1F,OAAOm5B,oBAAoByG,qBAAqBl6B,KAAK1F,OAAO0/B,+BACjE,IAAII,GAAiBp6B,KAAK1F,OAAO+/B,kBAC7Br6B,MAAK1F,OAAOggC,oBAAsBF,GAAkBA,EAAeG,wBACnEH,EAAeI,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,+BAWrJtC,EAAW33B,UAAUojC,iBAAmB,SAAU7kC,GAC9C,GAAIiS,GAAQjR,IACZA,MAAK1F,OAAOgc,QAAQ,aAActX,EAAM,SAAUglC,GAC1C/yB,EAAMonB,4BAA8B34B,WAAS,SAAUskC,IACvD/yB,EAAMgzB,kBAAkBD,GAE5B/yB,EAAMonB,2BAA4B,KAQ1CD,EAAW33B,UAAUwjC,kBAAoB,SAAUjlC,GAC/C,GACIT,GADA0S,EAAQjR,IAQZ,IALIzB,EADAyB,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAC/CpC,KAAK1F,OAAOwX,gBAAgB6H,OAAO,SAAUjH,GAAQ,MAAOA,GAAKlU,gBAAgByS,EAAM3W,OAAOmE,WAAWlE,MAAQyE,EAAW,KAAEiS,EAAM3W,OAAOmE,WAAWlE,MAAQ,GAG9JmF,WAAS,OAAQV,GAEzBnE,oBAAkBmE,EAAc,UAAMgB,KAAK1F,OAAOgd,sBAAyBzc,oBAAkBmE,EAAe,UAI7G,YAHIT,IACAA,EAAO2gB,UAAW,GAI1B,IAAIlf,KAAKq4B,0BAA2B,CAChCr4B,KAAKkkC,wBAAwB,WAAYxkC,WAAS,WAAYV,GAAOT,EAAQ,KAC7E,IAAI4lC,GAAYnkC,KAAK1F,OAAOmE,WAAWlE,EACvC,IAAIyF,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAAiB,CACzE,GAAIgiC,GAAUpkC,KAAK1F,OAAO4H,SAASmiC,wBAAwB1qB,OAAO,SAAUjH,GAAQ,MAAOA,GAAKyxB,KAAenlC,EAAW,KAAEmlC,KAAe,EAC3InkC,MAAK1F,OAAO4H,SAASoiC,YAAY5kC,WAAS,UAAWV,GAAOolC,OAG5DpkC,MAAK1F,OAAO4H,SAASoiC,YAAY5kC,WAAS,UAAWV,GAAOT,EAEhEyB,MAAKq4B,2BAA4B,MAGjCr4B,MAAKkkC,wBAAwB,WAAYxkC,WAAS,WAAYV,GAAOT,EAAQ,KAGpD,kBAAzByB,KAAK1F,OAAOyd,UAAwD,gBAAzB/X,KAAK1F,OAAOyd,UACvD/X,KAAKukC,mBAAmBhmC,GAEvByB,KAAK1F,OAAOgd,sBACbtX,KAAK1F,OAAOkqC,sBAEhBxkC,KAAKo2B,uBACLp2B,KAAK+jC,yBACLrkC,WAAS,WAAYV,GAAMs3B,aAAa,gBAAiB,UAU7D8B,EAAW33B,UAAUqjC,eAAiB,SAAU9kC,GAC5C,GAAIiS,GAAQjR,IACZA,MAAK1F,OAAOgc,QAAQ,YAAatX,EAAM,SAAUglC,GACzC/yB,EAAMonB,4BAA8B34B,WAAS,SAAUskC,IACvD/yB,EAAMwzB,iBAAiBT,GAE3B/yB,EAAMonB,2BAA4B,KAQ1CD,EAAW33B,UAAUgkC,iBAAmB,SAAUzlC,GAC9C,GACIT,GADA0S,EAAQjR,IAQZ,IALIzB,EADAyB,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAC/CpC,KAAK1F,OAAOwX,gBAAgB6H,OAAO,SAAUjH,GAAQ,MAAOA,GAAKlU,gBAAgBkX,SAAW1W,EAAW,KAAEiS,EAAM3W,OAAOmE,WAAWlE,MAAQ,GAGzImF,WAAS,OAAQV,GAEzBnE,oBAAkBmE,EAAc,UAAMgB,KAAK1F,OAAOgd,sBAAyBzc,oBAAkBmE,EAAe,UAI7G,YAHIT,IACAA,EAAO2gB,UAAW,GAI1B,IAAIlf,KAAKq4B,0BAA2B,CAChCr4B,KAAKkkC,wBAAwB,SAAUxkC,WAAS,WAAYV,GAAOT,EAAQ,KAC3E,IAAImmC,GAAY1kC,KAAK1F,OAAOmE,WAAWlE,EACvC,IAAIyF,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAAiB,CACzE,GAAIgiC,GAAUpkC,KAAK1F,OAAO4H,SAASmiC,wBAAwB1qB,OAAO,SAAUjH,GAAQ,MAAOA,GAAKgyB,KAAe1lC,EAAW,KAAE0lC,KAAe,EAC3I1kC,MAAK1F,OAAO4H,SAASyiC,UAAUjlC,WAAS,UAAWV,GAAOolC,OAG1DpkC,MAAK1F,OAAO4H,SAASyiC,UAAUjlC,WAAS,UAAWV,GAAOT,EAE9DyB,MAAKq4B,2BAA4B,MAG5Br4B,MAAK1F,OAAOsqC,6BACb5kC,KAAKkkC,wBAAwB,SAAUxkC,WAAS,WAAYV,GAAOT,EAAQ,MAE/EyB,KAAK1F,OAAOsqC,6BAA8B,CAGjB,kBAAzB5kC,KAAK1F,OAAOyd,UAAwD,gBAAzB/X,KAAK1F,OAAOyd,UACvD/X,KAAKukC,mBAAmBhmC,GAEvByB,KAAK1F,OAAOgd,sBACbtX,KAAK1F,OAAOkqC,sBAEhBxkC,KAAKo2B,uBACLp2B,KAAK+jC,yBACLrkC,WAAS,WAAYV,GAAMs3B,aAAa,gBAAiB,SAE7D8B,EAAW33B,UAAU8jC,mBAAqB,SAAUhmC,GAC5CyB,KAAK1F,OAAO6hC,mBACZn8B,KAAK1F,OAAOkb,gBAAgBqvB,gBAAgBtmC,IAAS,GAEhDyB,KAAK1F,OAAOm6B,oBACjBz0B,KAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,kBAatEsmB,EAAW33B,UAAUyjC,wBAA0B,SAAUvU,EAAQmT,EAAYvkC,EAAQumC,GACjF,GAAIC,EACJ,IAAe,WAAXpV,EAAqB,CACrBoV,EAAc,YACTD,IACDvmC,EAAO2gB,UAAW,EAGtB,KAAK,GADD8lB,GAAgBlC,EAAWzE,iBAAiB,mBACvC4G,EAAI,EAAGA,EAAID,EAAcrpC,OAAQspC,IACtCzG,YAAUwG,EAAcC,IAAK,gBAC7B3G,eAAa0G,EAAcC,IAAK,sBAGnC,IAAe,aAAXtV,EAAuB,CAC5BoV,EAAc,OACTD,IACDvmC,EAAO2gB,UAAW,EAGtB,KAAK,GADD8lB,GAAgBlC,EAAWzE,iBAAiB,iBACvC4G,EAAI,EAAGA,EAAID,EAAcrpC,OAAQspC,IACtCzG,YAAUwG,EAAcC,IAAK,kBAC7B3G,eAAa0G,EAAcC,IAAK,gBAGxC,IAAKjlC,KAAK1F,OAAOgd,qBAAsB,CAInC,IAAK,GAHD4F,GAAe3e,EAAO2e,aACtBgoB,EAAYllC,KAAK0jC,eACjByB,KACKrnC,EAAI,EAAGA,EAAIonC,EAAUvpC,OAAQmC,IAC9BonC,EAAUpnC,GAAGtD,UAAUC,SAAS,gBAChC8D,EAAOC,gBAAgBqb,YACvB,SACCtb,EAAOqb,MAAQ,KAChBurB,EAAK7mC,KAAK4mC,EAAUpnC,GAG5B,KAASA,EAAI,EAAGA,EAAIqnC,EAAKxpC,OAAQmC,IAC7BqnC,EAAKrnC,GAAG61B,MAAMkB,QAAUkQ,EACpB7nB,EAAapf,GAAGof,cAChBA,EAAapf,GAAGof,aAAavhB,SACjB,aAAXg0B,GACGzS,EAAapf,GAAGohB,UAChBlf,KAAK80B,cACT90B,KAAKkkC,wBAAwBvU,EAAQwV,EAAKrnC,GAAIof,EAAapf,IAAI,KAY/Es6B,EAAW33B,UAAU2kC,kBAAoB,SAAUzV,GAC/C,GAAe,WAAXA,EACA3vB,KAAK80B,aAAc,EACnB90B,KAAK1F,OAAO4H,SAASmjC,gBAKrB,IAFArlC,KAAK+0B,eAAgB,EACrB/0B,KAAK1F,OAAO4H,SAASojC,cACjBtlC,KAAK+0B,gBAAkB/0B,KAAK1F,OAAOk6B,oBAAqB,CACxD,GAAI+Q,GAAwBvlC,KAAK1F,OAAO24B,UAAYjzB,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACxIp1B,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,YAC5Fp1B,MAAK1F,OAAO66B,cAAgBoQ,EAC5BvN,SAAS5E,uBAAuB,0BAA0B,GAAU,MAAE6B,OAASj1B,KAAK1F,OAAO66B,cAAgB,KAGnHn1B,KAAK80B,aAAc,EACnB90B,KAAK+0B,eAAgB,GASzBqD,EAAW33B,UAAU+kC,cAAgB,SAAU5rB,GAC3C5Z,KAAK1F,OAAO4H,SAASsjC,cAAc5rB,IASvCwe,EAAW33B,UAAUglC,gBAAkB,SAAU7rB,GACzC5Z,KAAK1F,OAAOgd,uBACZtX,KAAK1F,OAAOsqC,6BAA8B,GAE9C5kC,KAAK1F,OAAO4H,SAASujC,gBAAgB7rB,IAOzCwe,EAAW33B,UAAU04B,WAAa,WAC9B,GAAIloB,GAAQjR,KACR0lC,EAAgBC,UAAQC,UACxBC,EAAYF,UAAQG,gBACpBzE,EAAUsE,UAAQI,cAClBC,EAAYL,UAAQM,eACpBrH,EAAS8G,EAAgB,eAAiB,YAK9C,IAJAtU,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAWwM,EAAW7lC,KAAK2+B,oBAAqB3+B,MAC7EoxB,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAWuF,EAAQ5+B,KAAK8hC,gBAAiB9hC,MACtEoxB,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAW2M,EAAWhmC,KAAK+hC,eAAgB/hC,MACxEoxB,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAW,QAASr5B,KAAKkmC,YAAalmC,MAC/DA,KAAK1F,OAAOymC,WAAY,CAExB,GAAIoF,EACJ/U,gBAAaC,IAAIrxB,KAAK1F,OAAOkb,gBAAgBmf,oBAAqB,cAAe,SAAUyR,GACnFD,GACAxQ,aAAawQ,GACbA,EAAe,KACfl1B,EAAMsyB,mBAAmB6C,IAGzBD,EAAe7R,WAAW,WACtB6R,EAAe,MAChB,MAERnmC,MACHoxB,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAWgN,QAAOrmC,KAAKqgC,qBAAsBrgC,MAC1EoxB,eAAaC,IAAIrxB,KAAK1F,OAAO++B,UAAWgI,EAASrhC,KAAKwgC,kBAAmBxgC,MAExEA,KAAK1F,OAAOymC,aACb3P,eAAaC,IAAIrxB,KAAK1F,OAAOkb,gBAAgBmf,oBAAqB,WAAY30B,KAAKujC,mBAAoBvjC,MACvGoxB,eAAaC,IAAIrxB,KAAK1F,OAAOwL,QAASu7B,EAASrhC,KAAKwhC,gBAAiBxhC,MACrEoxB,eAAaC,IAAI2G,SAAUqJ,EAASrhC,KAAKqhC,QAASrhC,OAEtDoxB,eAAaC,IAAIrxB,KAAK1F,OAAOwL,QAAS,YAAa9F,KAAK0iC,iBAAkB1iC,MAC1EoxB,eAAaC,IAAI2G,SAASsO,KAAM,cAAetmC,KAAKsiC,aAActiC,MAClEoxB,eAAaC,IAAI2G,SAAU,UAAWh4B,KAAKsiC,aAActiC,OAE7Do4B,EAAW33B,UAAU8lC,aAAe,WAChC,GAAIb,GAAgBC,UAAQC,UACxBC,EAAYF,UAAQG,gBACpBzE,EAAUsE,UAAQI,cAClBC,EAAYL,UAAQM,eACpBrH,EAAS8G,EAAgB,eAAiB,YACzC7qC,qBAAkBmF,KAAK1F,OAAOkb,gBAAgBmf,sBAC/CvD,eAAazyB,OAAOqB,KAAK1F,OAAOkb,gBAAgBmf,oBAAqBkR,EAAW7lC,KAAK2+B,qBAEpF9jC,oBAAkBmF,KAAK1F,OAAO++B,aAC/BjI,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAWuF,EAAQ5+B,KAAK8hC,iBACxD1Q,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAW2M,EAAWhmC,KAAK+hC,gBAC3D3Q,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAW,QAASr5B,KAAKkmC,aACzD9U,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAWwM,EAAW7lC,KAAK2+B,sBAE3D3+B,KAAK1F,OAAOymC,aACPlmC,oBAAkBmF,KAAK1F,OAAO++B,aAC/BjI,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAWgN,QAAOrmC,KAAKqgC,sBACvDjP,eAAazyB,OAAOqB,KAAK1F,OAAO++B,UAAWgI,EAASrhC,KAAKwgC,qBAG5DxgC,KAAK1F,OAAOymC,aACRlmC,oBAAkBmF,KAAK1F,OAAOwL,UAC/BsrB,eAAazyB,OAAOqB,KAAK1F,OAAOwL,QAASu7B,EAASrhC,KAAKwhC,iBAEtD3mC,oBAAkBm9B,WACnB5G,eAAazyB,OAAOq5B,SAAUqJ,EAASrhC,KAAKqhC,UAG/CxmC,oBAAkBmF,KAAK1F,OAAOwL,UAC/BsrB,eAAazyB,OAAOqB,KAAK1F,OAAOwL,QAAS,YAAa9F,KAAK0iC,kBAE1D7nC,oBAAkBm9B,YACnB5G,eAAazyB,OAAOq5B,SAAU,UAAWh4B,KAAKsiC,cACzCznC,oBAAkBm9B,SAASsO,OAC5BlV,eAAazyB,OAAOq5B,SAASsO,KAAM,cAAetmC,KAAKsiC,eAG1DznC,oBAAkBmF,KAAK1F,OAAOkb,gBAAgBmf,sBAC/CvD,eAAazyB,OAAOqB,KAAK1F,OAAOkb,gBAAgBmf,oBAAqB,WAAY30B,KAAKujC,qBAI9FnL,EAAW33B,UAAUylC,YAAc,SAAU9vB,GACzC,GAAIA,EAAEowB,QAAS,CACXpwB,EAAEqwB,gBACF,IAAIC,GAAYtwB,EAAEuwB,OAAS,EAEvBC,GAAe,CACf1zB,MAAK6P,IAAI3M,EAAEuwB,QAAU,KACrBC,GAAe,GAEf5mC,KAAKu4B,kBACCv4B,KAAKs4B,oBAAsB,GAAMt4B,KAAKu4B,iBACxC5C,aAAa31B,KAAKu4B,kBAEjBv4B,KAAKs4B,oBAAsB,IAAOt4B,KAAKu4B,kBAAoBv4B,KAAKs4B,uBACjEt4B,KAAKs4B,oBAAsBt4B,KAAKu4B,kBAGxCv4B,KAAKu4B,gBAAkBjE,WAAW,WAC9B,GAAIuS,GAAsB3zB,KAAK6P,IAAI3M,EAAEuwB,SAEZC,EAClBC,EAAsB,IAAOA,EAAsB,GACnDA,EAAsB,GAAKA,GAAuB,MAErD7mC,KAAK1F,OAAOsX,eAAeqwB,eAAeyE,IAEhD/xB,KAAK3U,MAAO,OAUtBo4B,EAAW33B,UAAU4+B,mBAAqB,SAAUC,GAQhD,MANIt/B,MAAK1F,OAAOgd,sBAAwBtX,KAAK1F,OAAO6hC,mBACzCn8B,KAAK1F,OAAOyO,SAAS/I,KAAK8mC,kBAAkBxH,IAG5Ct/B,KAAK1F,OAAOwX,gBAAgB9R,KAAK8mC,kBAAkBxH,KAIlElH,EAAW33B,UAAUsmC,cAAgB,SAAUC,EAAMC,EAAeC,EAAOC,EAAiBlG,GACxF,GAAIjhC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,SAAU,CAC1H,GAAI2gB,GAAW+E,EAAIxhC,KACnB,IACQwhC,EAAIxkB,kBACJuqB,EAAOhnC,KAAKonC,eAAeJ,EAAME,EAAOC,IAE5CF,EAAgBjnC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAC5FvH,EAAWl8B,KAAK1F,OAAO4H,SAASgzB,UAAUpoB,QAAQk6B,EAAKtsC,sBACjDusC,EAAcrH,aACxB5/B,MAAK1F,OAAO4H,SAASmlC,WACrBrnC,KAAK1F,OAAO4H,SAASolC,SAASpL,EAAUl8B,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,OAE3H,MAAO6rB,IASX5O,EAAW33B,UAAU8mC,YAAc,SAAUnxB,GACzCpW,KAAK1F,OAAO4H,SAASqvB,KAAKiW,kBAAoBxnC,KAAK1F,OAAOktC,iBAC1D,IAAIC,GAAezP,SAAS5E,uBAAuB,kBAC/C+T,EAAkBnnC,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWsC,gBACnEtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,UAC1C,IAAKvF,KAAK1F,OAAOmnC,mBAAsB0F,EAAvC,CAGA,GAAIO,GAAUP,EAAkB/wB,EAAEkpB,OAAOC,QAAQ,cAAgBnpB,EAAEkpB,MAC/Dt/B,MAAK1F,OAAOwL,QAAQu4B,iBAAiB,cAAc1iC,OAAS,IAC5D+rC,EAAU1nC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,cAAc,IAE7DqJ,KAAaA,EAAQltC,UAAUC,SAAS,mBACxCitC,EAAQltC,UAAUC,SAAS,YAAcitC,EAAQltC,UAAUC,SAAS,YACpEuF,KAAK04B,qBAAuB,IAE5BgP,EAAQnI,QAAQ,eAAiBmI,EAAQnI,QAAQ,kBACjDv/B,KAAK1F,OAAOqtC,YAAYC,iBAAiBF,GAG7C1nC,KAAK6nC,gBAAkBH,EAAQnI,QAAQ,cAAgBmI,EAAQhtC,cAAcwhC,SAEzEwL,EAAQnI,QAAQ,gBAAkBmI,EAAQnI,QAAQ,gBAAgBrD,UAAY,CAClF,IAAIgL,GAAsB,QAAb9wB,EAAEuZ,OACXmY,EAAc9nC,KAAKonC,eAAeM,EAASR,EAAOC,EAMtD,IALIW,IAAgC,cAAhBA,GAA+BA,EAAYttC,UAAUC,SAAS,sBAE7D,cAAhBqtC,GAA+B9nC,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,GAAKqE,KAAK1F,OAAO4H,SAASmlC,WAC5IS,EAAc,MAEdA,GAAeJ,EAAQltC,UAAUC,SAAS,gBAAiB,CAC3D,GAAIstC,GAAW/pC,SAAS8pC,EAAYrE,aAAa,iBAAkB,IAAM,CACzE,IAAiB,aAAbrtB,EAAEuZ,OAAuB,CACzB,MAAqB,IAAdoY,IAAoB/nC,KAAK1F,OAAO4H,SAAS+Y,QAAQ8sB,GAAmB,SACvEA,GAAsB,CAE1B,KAAkB,IAAdA,EACAA,EAAW/nC,KAAK1F,OAAOgnC,oBAAsByG,EAAW,EAAIA,EAC5DD,EAAc9P,SAAS5E,uBAAuB,kBAAkB,GAAGwB,WAAWmT,OAI9E,KAASjqC,EADYk6B,SAAS5E,uBAAuB,kBACzBz3B,OAAS,EAAGmC,EAAI,EAAGA,IAC3C,IAAKk6B,SAAS5E,uBAAuB,kBAAkBt1B,GAAGtD,UAAUC,SAAS,YAAa,CACtFqtC,EAAc9P,SAAS5E,uBAAuB,kBAAkBt1B,GAChEkC,KAAK04B,oBAAsB56B,CAC3B,YAKX,CACD,MAAQkC,KAAK1F,OAAO4H,SAAS+Y,QAAQ8sB,GAAmB,SACpDA,GAAsB,CAE1BA,GAAW/nC,KAAK1F,OAAOgnC,oBAAsByG,EAAW,EAAIA,EAC5DD,EAAc9P,SAAS5E,uBAAuB,kBAAkB,GAAGwB,WAAWmT,IAMtF,IAHKD,GAAeJ,EAAQltC,UAAUC,SAAS,iBAAgC,QAAb2b,EAAEuZ,SAChEmY,EAAc9P,SAAS5E,uBAAuB,+BAA+B,KAE5E0U,IAAgBJ,EAAQltC,UAAUC,SAAS,iBAAmBitC,EAAQltC,UAAUC,SAAS,mBAAqBitC,EAAQltC,UAAUC,SAAS,eAC1IitC,EAAQltC,UAAUC,SAAS,YAAcitC,EAAQltC,UAAUC,SAAS,WAAauF,KAAK1F,OAAO4iC,eAAiBl9B,KAAK1F,OAAO0tC,QAAQrsC,OAAS,EAAG,CAC9I,GAAIssC,IAA0C,IAA9BjoC,KAAK04B,oBAA2C,QAAbtiB,EAAEuZ,OAAmB3vB,KAAK04B,oBAAsB,EAC/F14B,KAAK04B,oBAAsB,EAAmB,aAAbtiB,EAAEuZ,OAAwB8X,EAAa9rC,OAAS,EAAI,EACrFusC,GAAY,CAChB,KAAmB,IAAfD,IAAkC,aAAb7xB,EAAEuZ,QAAuC,QAAbvZ,EAAEuZ,QAAoBsY,EAAYR,EAAa9rC,QAChG,GACS8rC,EAAaQ,GAAWztC,UAAUC,SAAS,YAgB/B,QAAb2b,EAAEuZ,OAAmBsY,IAAcA,MAfnCH,EAAcL,EAAaQ,IACf3R,aAAa,WAAY,MACjCwR,EAAYjiC,cAAc,YAAc6hC,IAE3B,QAAbtxB,EAAEuZ,OAAmBsY,IAAcA,IACnCH,EAAcL,EAAaQ,IAE3BH,EAAYjiC,cAAc,WACzBiiC,EAAYjiC,cAAc,UAAWywB,aAAa,WAAY,KAEnE4R,GAAY,EACZloC,KAAK04B,oBAAsBuP,UAMzBC,GAGlB,GAAiB,QAAb9xB,EAAEuZ,SAAqBmY,GAAgB9nC,KAAK04B,sBAAwB+O,EAAa9rC,OAAS,IACzF+rC,EAAQltC,UAAUC,SAAS,mBAAqBitC,EAAQltC,UAAUC,SAAS,YACxEitC,EAAQltC,UAAUC,SAAS,UAC/B,IAASqD,EAAI,EAAGA,EAAIkC,KAAK1F,OAAO4H,SAAS+Y,QAAQtf,OAAQmC,IACrD,GAAIkC,KAAK1F,OAAO4H,SAAS+Y,QAAQnd,GAAY,QAAG,CAC5CgqC,EAAc9P,SAAS5E,uBAAuB,kBAAkB,GAAGwB,WAAW92B,EAC9E,OAOZ,GAHiB,aAAbsY,EAAEuZ,QAA0BmY,GAAgBJ,EAAQltC,UAAUC,SAAS,kBACvEqtC,EAAc9P,SAAS5E,uBAAuB,+BAA+B,IAEhE,aAAbhd,EAAEuZ,QAAyB+X,EAAQltC,UAAUC,SAAS,+BACtD,IAAK,GAAIqD,GAAIkC,KAAK1F,OAAO4H,SAAS+Y,QAAQtf,OAAQmC,EAAI,EAAGA,IACrD,GAAIkC,KAAK1F,OAAO4H,SAAS+Y,QAAQnd,EAAI,GAAY,QAAG,CAChDgqC,EAAc9P,SAAS5E,uBAAuB,kBAAkB,GAAGwB,WAAW92B,EAAI,EAClF,OAsBZ,GAlBAkC,KAAKmoC,gBAAkBL,EAClBjtC,oBAAkBitC,IAAiBjtC,oBAAkBitC,EAAuB,aACzE9nC,KAAK1F,OAAOgnC,qBACZthC,KAAKooC,cAAgBN,EAAuB,UAC5C9nC,KAAKqoC,iBAAmBP,EAAuB,UAAI,IAGnD9nC,KAAKooC,cAAgBN,EAAuB,UAC5C9nC,KAAKqoC,iBAAmBP,EAAuB,YAEpB,IAA3B9nC,KAAKqoC,kBAA4BroC,KAAK1F,OAAO4gB,aAAalb,KAAKqoC,kBAAgC,cAC/FroC,KAAK1F,OAAO4gB,aAAalb,KAAKqoC,kBAAyB,QAAMroC,KAAK1F,OAAOmE,WAAWlE,GAIpFyF,KAAKsoC,mBAAoB,EAHzBtoC,KAAKsoC,mBAAoB,GAMb,cAAhBR,EAEA,WADA9nC,MAAKuoC,YAAYb,EAAS,UAAU,EAGxC,IAA2B,gBAAhBI,GAA0B,CASjC,GARIJ,EAAQnI,QAAQ,sBAAwBuI,EAAYvI,QAAQ,gBAC5Dv/B,KAAK44B,uBAAwB,IAE7B8O,EAAQltC,UAAUC,SAAS,cAAgBitC,EAAQnI,QAAQ,sBAC3DmI,EAAQltC,UAAUC,SAAS,iBAAmBitC,EAAQnI,QAAQ,yBAC9DmI,EAAQltC,UAAUC,SAAS,iCAC3B2b,EAAEqwB,iBAEFS,GAASQ,EAAQltC,UAAUC,SAAS,iBAEpC,WADAuF,MAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,EAGpD,IAAIsxB,EAAQltC,UAAUC,SAAS,cAAiBqtC,GAAeA,EAAYttC,UAAUC,SAAS,cAC1FitC,EAAQltC,UAAUC,SAAS,gBAC3B,GAAIysC,GACA,GAAIlnC,KAAK1F,OAAO4kC,aAAasJ,iBAAkB,CAC3C,GAAI3F,GAAU7iC,KAAK1F,OAAOwX,gBAAgB9R,KAAK6nC,iBAC3CY,EAAazoC,KAAK1F,OAAO4gB,aAAald,SAAS8pC,EAAYrE,aAAa,iBAAkB,IAAM,GAAGtoB,KACnG0nB,GAAQpmB,gBACJgsB,IAAezoC,KAAK1F,OAAOmE,WAAW1D,SAAW0tC,IACjDzoC,KAAK1F,OAAOmE,WAAWzD,UAAYytC,IAAezoC,KAAK1F,OAAOmE,WAAW2a,YACzEqvB,IAAezoC,KAAK1F,OAAOmE,WAAW8c,UAAYktB,IAAezoC,KAAK1F,OAAOmE,WAAWoS,MACxF43B,IAAezoC,KAAK1F,OAAOmE,WAAW2R,MAAuB,aAAfq4B,GAC9CzoC,KAAK1F,OAAO4H,SAASqvB,KAAKsO,UAC1B7/B,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,IAE3CqyB,IAAezoC,KAAK1F,OAAOmE,WAAW4Z,MAAQowB,IAAezoC,KAAK1F,OAAOmE,WAAW3D,UACzFkF,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,IAGhDpW,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,GAC5C+wB,GACAnnC,KAAK1F,OAAO4H,SAASolC,SAAStnC,KAAK6nC,gBAAiBY,IAK5DzoC,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,OAIpD,KAAK0xB,GAAgBA,IAAgBA,EAAYttC,UAAUC,SAAS,kBAAoBqtC,EAAYttC,UAAUC,SAAS,+BAAiC,CAChJitC,EAAQltC,UAAUC,SAAS,iBAC3BuF,KAAKuoC,YAAYb,EAAS,UAAU,EAIpCV,GAAOc,CACX,MAFI7G,EAAMjhC,KAAK1F,OAAOwX,gBAAgB41B,EAAQhtC,cAAcwhC,WAEpDzf,iBACHzc,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,UAC5Gvb,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cACpF5/B,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,KAC7GmtC,EAAQltC,UAAUC,SAAS,qBAQxBqtC,IAAeJ,EAAQltC,UAAUC,SAAS,sBAChDuF,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,OATI,CAChD6wB,MAAgB,EAEpB,KADAD,EAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBlG,IAC/DjhC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cACnFoH,EAAOhnC,KAAKonC,eAAeJ,EAAME,EAAOC,EAE5CH,GAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBlG,SASnF,IAAI6G,IAAgBA,EAAYttC,UAAUC,SAAS,iBAAmBqtC,EAAYttC,UAAUC,SAAS,eAC7FqtC,EAAYttC,UAAUC,SAAS,kBAAmB,CAEtD,GAAIwmC,GAAMjhC,KAAK1F,OAAOwX,gBAAgB41B,EAAQhtC,cAAcwhC,UACxD8K,EAAOc,CACX,KAAI7G,EAAIxkB,iBACHzc,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,UAC5Gvb,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cACpF5/B,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,KAC7GmtC,EAAQltC,UAAUC,SAAS,qBAQ7B,GAAIuD,SAASgpC,EAAKtsC,cAAc+oC,aAAa,iBAAkB,IAAM,GAAM,GAC5EzlC,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAM,GACzDzjC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,IAChHmtC,EAAQltC,UAAUC,SAAS,qBAAsB,CAEjD,GAAIyhC,GAAWwL,EAAQhtC,cAAcwhC,SACjC4G,EAAa9iC,KAAK0oC,kBAAkBxM,EAAUgL,GAAO,EAGzD,IAFAF,EAAOhnC,KAAK2oC,gBAAgB7F,EAAYoE,KACpCrE,EAAU7iC,KAAK1F,OAAOyO,SAAS/K,SAAS8kC,EAAWW,aAAa,iBAAkB,IAAM,IAChFhnB,iBAAqBzc,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cAC5G5/B,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAGtoB,QAC3Enb,KAAK1F,OAAOmE,WAAW8c,SAS3Bvb,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,OATV,CAClC6wB,MAAgB,EAEpB,KADAD,EAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBtE,IAC/D7iC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cACnFoH,EAAOhnC,KAAKonC,eAAeJ,EAAME,EAAOC,EAE5CH,GAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBtE,QAO3E7iC,MAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,OAhCI,CACpD,GAAI6wB,OAAgB,EAEpB,KADAD,EAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBlG,IAC/DjhC,KAAK1F,OAAO4gB,aAAald,SAASgpC,EAAKvD,aAAa,iBAAkB,IAAM,GAAG7D,cACnFoH,EAAOhnC,KAAKonC,eAAeJ,EAAME,EAAOC,EAE5CH,GAAOhnC,KAAK+mC,cAAcC,EAAMC,EAAeC,EAAOC,EAAiBlG,IAkCvF,GAHIjhC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,cAAc1iC,OAAS,GAC5DqE,KAAKuoC,YAAYvoC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,cAAc,GAAI,UAAU,KAEhFr+B,KAAK1F,OAAO0I,aAAchD,KAAK1F,OAAO0I,WAAWsC,gBAC/CzK,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,eAAesjC,gBACxDd,EAAa,CAOb,GANIJ,EAAQltC,UAAUC,SAAS,aAC3BuF,KAAKuoC,YAAYb,EAAS,UAAU,GAGpC1nC,KAAKuoC,YAAYb,EAAS,UAAU,GAEnCI,EAAYttC,UAAUC,SAAS,cAAgBitC,EAAQmB,qBAAuBnB,EAAQltC,UAAUC,SAAS,gCACvGitC,EAAQltC,UAAUC,SAAS,2BAA4B,CAC1D,IAAKitC,EAAQltC,UAAUC,SAAS,aAAc,CAC1CuF,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,EAChD,IAAI0yB,GAAUppC,WAAS,cAAeM,KAAK1F,OAAO4H,SAASqvB,KAC3DuX,GAAQC,YAAYjjC,QAAUgiC,EAC9BgB,EAAQC,YAAYC,eAAiBlB,EAErCgB,EAAQpY,QAAQuY,OAAOC,SAAWpB,EAAYptC,cAAcwhC,SAAU4L,EAAY9E,WAEtFhjC,KAAKuoC,YAAYT,EAAa,OAAO,OAGjCA,KAAgBA,EAAYttC,UAAUC,SAAS,mBAAqBqtC,EAAYttC,UAAUC,SAAS,iBAChGqtC,EAAYttC,UAAUC,SAAS,eAClCuF,KAAKuoC,YAAYb,EAAS,UAAU,GAC/BI,EAAYttC,UAAUC,SAAS,mBAChCuF,KAAKuoC,YAAYT,EAAa,OAAO,GAErCJ,EAAQltC,UAAUC,SAAS,eAC3B2b,EAAEqwB,kBAINzmC,KAAKuoC,YAAYT,EAAa,OAAO,EAG7C9nC,MAAK1F,OAAOqtC,YAAYC,iBAAiBE,OAazD1P,EAAW33B,UAAU2mC,eAAiB,SAAUM,EAASR,EAAOC,GAC5D,GAAIO,EAAQltC,UAAUC,SAAS,gCAAkCysC,EAAO,CAChEpE,EAAa9iC,KAAK0oC,mBAAmB,EAAGxB,GAAO,EACnD,OAAOlnC,MAAK2oC,gBAAgB7F,EAAYoE,GAE5C,GAAIY,GAAcZ,EAAQQ,EAAQmB,mBAAqBnB,EAAQyB,sBAC/D,IAAIzB,EAAQhtC,cAAcF,UAAUC,SAAS,4BAA6B,CACtE,GAAIuF,KAAK1F,OAAO8uC,cAAcC,YAAcnC,EACxC,MAAOQ,GAAQhtC,cAAcmuC,kBAE5B,KAAK3B,GAASlnC,KAAK1F,OAAO8uC,cAAcE,UACzC,MAAO5B,GAAQhtC,cAAcyuC,uBAGrC,KAAOrB,GAAeA,EAAYptC,cAAcF,UAAUC,SAAS,UAAU,CACzE,IAAKqtC,EAAYyB,QAAQ,aAAezB,EAAYyB,QAAQ,kBACxD,MAAOzB,EAEXA,GAAcZ,EAAQY,EAAYe,mBAAqBf,EAAYqB,uBAEvE,IAAKtuC,oBAAkBitC,KAAiBA,EAAYttC,UAAUC,SAAS,6BAChEqtC,EAAYttC,UAAUC,SAAS,qCAAsC,CACxE,GAAI8D,GAASyB,KAAK1F,OAAOwX,gBAAgB9R,KAAK6nC,kBACzChtC,oBAAkB0D,EAAOC,gBAAgBmG,WAAapG,EAAOC,gBAAgBmG,SAAShJ,OAAS,IAChGmsC,EAAcA,EAAYttC,UAAUC,SAAS,oCACvCqtC,EAAYptC,cAAcmuC,mBAC1Bf,EAAY1U,uBAAuB,mCAAmC,IAGpF,GAAIpzB,KAAKwpC,oBAAoB1B,GACzB,MAAOA,EAGP,IAAI5L,IAAY,EACZ4G,EAAa,IAEjB,IAAI4E,EAAQltC,UAAUC,SAAS,cAAgB0sC,GAAmBnnC,KAAK1F,OAAO4kC,aAAasJ,iBAKvF,MAHAtM,GAAWwL,EAAQhtC,cAAcwhC,SACjC4G,EAAa9iC,KAAK0oC,kBAAkBxM,EAAUgL,GAAO,GACtClnC,KAAK2oC,gBAAgB7F,EAAYoE,EAG/C,IAAIQ,EAAQltC,UAAUC,SAAS,aAGhC,GADAyhC,EAAWwL,EAAQhtC,cAAcwhC,SAC7BgL,EAAO,CAEP,GADApE,EAAa9iC,KAAK1F,OAAO06B,cAAckH,GACnCl8B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,EAGlF,MAFAmnC,GAAa9iC,KAAK0oC,kBAAkBxM,EAAUgL,GAAO,GAChClnC,KAAK2oC,gBAAgB7F,EAAYoE,EAItD,IAAIlnC,KAAKwpC,oBAAoB1G,EAAY,0BACrC,MAAOA,GAAW1P,uBAAuB,0BAA0B,EAElE,IAAIpzB,KAAKwpC,oBAAoB1G,EAAY,4BAC1C,MAAOA,GAAW1P,uBAAuB,4BAA4B,EAEpE,IAAIpzB,KAAKwpC,oBAAoB1G,EAAY,2BAC1C,MAAOA,GAAW1P,uBAAuB,2BAA2B,OAI3E,CAED,GADA0P,EAAa9iC,KAAK0oC,kBAAkBxM,EAAUgL,GAAO,GACjDlnC,KAAKwpC,oBAAoB1G,EAAY,2BACrC,MAAOA,GAAW1P,uBAAuB,2BAA2B,EAEnE,IAAIpzB,KAAKwpC,oBAAoB1G,EAAY,4BAC1C,MAAOA,GAAW1P,uBAAuB,4BAA4B,EAEpE,IAAIpzB,KAAKwpC,oBAAoB1G,EAAY,0BAC1C,MAAOA,GAAW1P,uBAAuB,0BAA0B,OAI1E,IAAIsU,EAAQhtC,cAAcF,UAAUC,SAAS,qBAC9CitC,EAAQhtC,cAAcA,cAAcF,UAAUC,SAAS,oBAAqB,CAG5E,GADAyhC,EAAWqD,UAAQmI,EAAS,gBAAgBxL,SACxCgL,EAAO,CACP,IAAKA,GAASlnC,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAAsB,CAE/E,GAAImyB,GAAYzpC,KAAK1F,OAAOwX,gBAAgBoqB,EAC5CA,GAAWl8B,KAAK1F,OAAOyO,SAAS+D,QAAQ28B,GAE5C3G,EAAa9iC,KAAK0oC,kBAAkBxM,EAAUgL,GAAO,OAGrDpE,GAAa9iC,KAAK1F,OAAO4H,SAASgzB,UAAUgH,EAGhD,OADqBl8B,MAAK2oC,gBAAgB7F,EAAYoE,GAK9D,MAFIY,GAAcJ,EAEX,MAUXtP,EAAW33B,UAAUioC,kBAAoB,SAAUxM,EAAUgL,EAAOwC,GAChE,GAAI1L,GAAkBh+B,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOwX,iBAC7D63B,EAAc3pC,KAAK1F,OAAOwX,gBAAgBoqB,GAC1C0N,EAAsB5L,EAAgBlxB,QAAQ68B,GAC9CE,EAAa3C,EAAQlJ,EAAgB4L,EAAsB,GAAK5L,EAAgB4L,EAAsB,GACtGE,EAAe9pC,KAAK1F,OAAOwX,gBAAgBhF,QAAQ+8B,EACvD,OAAIA,GACOH,EAAa1pC,KAAK1F,OAAO4H,SAASgzB,UAAU4U,GAAgB9pC,KAAK1F,OAAO06B,cAAc8U,GAGtF,MAUf1R,EAAW33B,UAAU+oC,oBAAsB,SAAU9B,EAASlQ,GAC1D,GAAIkQ,GAAWA,EAAQltC,UAAUC,SAAS,aACtC,OAAO,CAEX,IAAIitC,GAAWlQ,EAAW,CACtB,GAAIuS,GAAiBrC,EAAQtU,uBAAuBoE,GAAW,EAC/D,UAAQuS,IAAkBA,EAAeC,iBAExC,QAAItC,KACI7sC,oBAAkB6sC,KAAYA,EAAQsC,kBAWvD5R,EAAW33B,UAAUkoC,gBAAkB,SAAU7F,EAAYoE,GACzD,GAAI+C,EACJ,KAAInH,EAUA,MAAO,WARP,KADAmH,EAAe/C,EAAQpE,EAAW1N,SAAS,GAAK0N,EAAW1N,SAAS0N,EAAW1N,SAASz5B,OAAS,GAC1FsuC,GAAc,CACjB,IAAKA,EAAaV,QAAQ,aAAeU,EAAaV,QAAQ,kBAC1D,MAAOU,EAEXA,GAAe/C,EAAQ+C,EAAapB,mBAAqBoB,EAAad,uBAM9E,MAAOc,IAYX7R,EAAW33B,UAAU8nC,YAAc,SAAUziC,EAASokC,EAAOC,EAAgBC,GACzE,GAAID,EAAgB,CAChB,GAAIF,GAAe,IACnB,IAAInkC,EAAQtL,UAAUC,SAAS,2BAC3BqL,EAAQtL,UAAUC,SAAS,2BAC3BwvC,EAAenkC,EAAQukC,qBAAqB,QAAQ,OAEnD,IAAIvkC,EAAQtL,UAAUC,SAAS,6BAC7BqL,EAAQtL,UAAUC,SAAS,mCAAoC,CAElE,GAAIyhC,GAAWqD,UAAQz5B,EAAS,gBAAgBo2B,SAC5Cn+B,EAAOiC,KAAK1F,OAAOwX,gBAAgBoqB,GACnC1E,EAAYz5B,EAAK0e,gBAAkB1e,EAAKS,gBAAgBmC,eAAiB,yBACzE,gCACA5C,EAAKS,gBAAgBgD,YAAc,qBAAuB3G,oBAAkBkD,EAAKS,gBAAgBmG,WAC1F5G,EAAKS,gBAAgBmG,SAAShJ,OAAS,EAAI,sBAAwB,uBAC9EsuC,GAAenkC,EAAQstB,uBAAuBoE,GAAW,GACrD38B,oBAAkBovC,KAClBA,EAAenkC,IAGnBA,EAAQtL,UAAUC,SAAS,iCAAmCqL,EAAQtL,UAAUC,SAAS,gCAAkCqL,EAAQtL,UAAUC,SAAS,qBAAuBqL,EAAQtL,UAAUC,SAAS,kCAC1L,QAAVyvC,GACApkC,EAAQwwB,aAAa,WAAY,KACjCkI,YAAU14B,GAAU,sBACpBA,EAAQokC,SAGU,cAAdE,GAA2C,YAAdA,IAC7B9L,eAAax4B,GAAU,sBACvBA,EAAQwwB,aAAa,WAAY,MACjCxwB,EAAQwkC,SAIN,QAAVJ,GAAoBrvC,oBAAkBovC,GAMhCpvC,oBAAkBovC,IAAgC,cAAdG,GAA2C,YAAdA,IACvE9L,eAAa2L,GAAe,sBAC5BnkC,EAAQwwB,aAAa,WAAY,MACjCxwB,EAAQwkC,SARRxkC,EAAQwwB,aAAa,WAAY,KACjCkI,YAAUyL,GAAe,sBACzBnkC,EAAQokC,QACRlqC,KAAK0hC,eAAiBuI,OASZ,QAAVC,GACApkC,EAAQwwB,aAAa,WAAY,KACjCkI,YAAU14B,IAAW,YAAa,YAC7B9F,KAAK44B,uBACN9yB,EAAQykC,gBACJC,MAAO,UACPC,OAAQ,YAGhBzqC,KAAK44B,uBAAwB,EAC7B9yB,EAAQokC,UAGRpkC,EAAQwwB,aAAa,WAAY,MACjCgI,eAAax4B,IAAW,YAAa,YACrCA,EAAQwkC,SAWpBlS,EAAW33B,UAAUqmC,kBAAoB,SAAUxH,GAC/C,GAAI2B,GACA5sB,CAOJ,IAFI4sB,EAJC3B,EAAO9kC,UAAUC,SAASqmC,GAIrBxB,EAHAC,UAAQD,EAAQ,OAASwB,GAK/BjmC,oBAAkBomC,GAClBA,EAAM1B,UAAQD,EAAQ,MAAQoL,GAC9Br2B,KAAiBhG,MAAM4F,KAAKjU,KAAK1F,OAAOkb,gBAAgBmf,oBAAoBC,YAAY9nB,QAAQm0B,OAE/F,CACD,GAAI1mC,GAAK0mC,EAAIwC,aAAa,eACtBllC,EAASyB,KAAK1F,OAAO4gC,cAAc3gC,EAEnC8Z,GADArU,KAAK1F,OAAOgd,sBAAwBtX,KAAK1F,OAAO6hC,mBAClCn8B,KAAK1F,OAAOyO,SAAS+D,QAAQvO,GAGvCyB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC/DvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,cAClEzsB,KAAK1F,OAAO8xB,gBAAgBC,YACjBrsB,KAAK1F,OAAOya,IAAIjI,QAAQvO,EAAOC,gBAAgBkX,OAAOzX,YAGtD+B,KAAK1F,OAAOwX,gBAAgBhF,QAAQvO,GAI9D,MAAO8V,IAEX+jB,EAAW33B,UAAU02B,QAAU,WAC3Bn3B,KAAKy+B,sBACLz+B,KAAKumC,eACLvmC,KAAKo5B,aAAe,KACpBp5B,KAAK64B,mBAAqB,KAC1B74B,KAAK43B,iBAAmB,KACxB53B,KAAKixB,cAAgB,KACrBjxB,KAAK6yB,uBAAyB,KAC9B7yB,KAAK+8B,mBAAqB,KACrBliC,oBAAkBmF,KAAK0kB,gBACxB1kB,KAAK0kB,aAAayS,UAClBn3B,KAAK0kB,aAAe,OAGrB0T,KC76DPuS,EAAsC,WAStC,OARAA,EAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAS5BC,EAA0B,WAC1B,QAASA,GAASC,GACdhrC,KAAKirC,UAAW,EAChBjrC,KAAK6R,WAAY,EACjB7R,KAAKmS,aAAc,EACnBnS,KAAKkrC,qBACLlrC,KAAKmrC,wBACLnrC,KAAKorC,8BACLprC,KAAKqrC,iCACLrrC,KAAKsrC,gBAAiB,EACtBtrC,KAAKurC,cAAe,EACpBvrC,KAAKwrC,yBAA0B,EAC/BxrC,KAAKyrC,iBAAkB,EACvBzrC,KAAK0rC,eAAgB,EACrB1rC,KAAKw9B,eAAgB,EACrBx9B,KAAKmyB,iBAAkB,EACvBnyB,KAAK2rC,mBAAoB,EACzB3rC,KAAK4rC,aAAc,EACnB5rC,KAAK6rC,yBAA0B,EAC/B7rC,KAAK1F,OAAS0wC,EACdhrC,KAAK8rC,iBAuwET,MA/vEAf,GAAStqC,UAAUqrC,eAAiB,WAChC9rC,KAAK6kB,kBAAoB,KACzB7kB,KAAK+rC,gBAAkB,KACvB/rC,KAAKm2B,mBAAqB,EAC1Bn2B,KAAK4hB,uBAAyB,KAC9B5hB,KAAK1F,OAAOu/B,oBAAqB75B,KAAKmS,eAAsBtX,oBAAkBmF,KAAK1F,OAAOwO,kBACtF9I,KAAK1F,OAAOqX,mBAAqB3R,KAAK1F,OAAO0G,SAC7ChB,KAAK1F,OAAO0jB,iBAAmBhe,KAAK1F,OAAO0xC,sBASnDjB,EAAStqC,UAAUmV,qBAAuB,WACtC5V,KAAKisC,eACLjsC,KAAKksC,0BACLlsC,KAAKmsC,4BAQTpB,EAAStqC,UAAU2rC,gBAAkB,WACjCpsC,KAAK8rC,iBACL9rC,KAAKqsC,sBACLrsC,KAAK1F,OAAO+J,cAAcqN,wBACrB1R,KAAK1F,OAAOq/B,wBACb35B,KAAK1F,OAAOs/B,mBAAmB55B,KAAK1F,OAAOuO,sBAAuB7I,KAAK1F,OAAOmX,oBAAqBzR,KAAK1F,OAAOu/B,mBAEnH,IAAIyS,GAAoBtsC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,+BAA+B,GAAiB,YACnHpzB,MAAK1F,OAAOwL,QAAQstB,uBAAuB,iBAAiB,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,MACtHtsC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,OAQ/IvB,EAAStqC,UAAU8rC,0BAA4B,WAC3CvsC,KAAK4V,yBACA5V,KAAK1F,OAAO8xB,iBAAoBpsB,KAAK1F,OAAO8xB,kBAAoBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAC5FrsB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aACxDrsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,cAClCvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,gBACvEzsB,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBQ,UAAY,IAEpErzB,KAAKqyB,wBAQT0Y,EAAStqC,UAAU+rC,yBAA2B,WAC1CxsC,KAAK1F,OAAOkb,gBAAgBi3B,wBAC5B,IAAIC,GAAoB1sC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAGzO,UAC5G3kB,MAAK1F,OAAOwL,QAAQstB,uBAAuB,+BAA+B,GAAGzO,WAAa+nB,EAC1F1sC,KAAK1F,OAAOy7B,OAAO,yBASvBgV,EAAStqC,UAAUwhC,eAAiB,SAAUgJ,GACtCjrC,KAAK1F,OAAOqyC,SACZ3sC,KAAK1F,OAAsB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAE9I0F,KAAKmS,YAAcnS,KAAKw9B,eAAgB,EACxCx9B,KAAK4sC,eAAe3B,GACfjrC,KAAK1F,OAA6B,sBACnC0F,KAAK1F,OAAOoE,qBAAqBgT,wBAEjC1R,KAAK1F,OAAOuyC,0BACZ7sC,KAAK1F,OAAOuO,sBAAwB7I,KAAK1F,OAAOuyC,wBAChD7sC,KAAK1F,OAAOmX,oBAAsBzR,KAAK1F,OAAOwyC,uBAElD9sC,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOwyC,sBAAwB,IAC1E,IAAId,GAAsBhsC,KAAK+sC,0BAC/B/sC,MAAKirC,SAAWA,EAChBjrC,KAAK6R,WAAY,CACjB,IAAIm7B,GAAehtC,KAAKitC,aAAajB,EAAqBf,EAC1DjrC,MAAKktC,cAAcF,EAAc/B,GACjC+B,EAAehtC,KAAK1F,OAAO6yC,cAAcC,UAAU,SAAUC,GACzD,MAAOA,GAAUzzB,QAAUozB,GAE/B,IAAIM,GAActtC,KAAK1F,OAAO6yC,cAAcH,GACxChuC,GACA63B,YAAaoU,EAAW,eAAiB,gBACzCsC,SAAUD,EACV1O,QAAQ,EAEZ5+B,MAAK1F,OAAOgc,QAAQ,cAAetX,GAC9BA,EAAK4/B,SACD/jC,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,cAKhB+X,EAActuC,EAAKuuC,SACnBvtC,KAAKwtC,uBAAuBF,IAEhCttC,KAAK6R,WAAY,GAErBk5B,EAAStqC,UAAUmsC,eAAiB,SAAU3B,GAC1C,GAAItb,GAASsb,EAAW,SAAW,SACnC,IAAIjrC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAA8B,sBAAEq1B,GAAS,CACxE3vB,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAI0xB,IACA9d,OAAQA,EACR+d,qBAAsBxvC,eAAe8B,KAAK1F,OAAO0xC,qBAAqB,GAE1EhsC,MAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK8xC,IAGtH1C,EAAStqC,UAAUwsC,aAAe,SAAUjB,EAAqBf,GAC7D,GACIrxB,GAAQoyB,GADMf,EAAW,GAAK,EAGlC,OADiBjrC,MAAK1F,OAAO6yC,cAAcQ,KAAK,SAAUN,GAAa,MAAOA,GAAUzzB,QAAUA,IAC9EA,EAAQoyB,GAEhCjB,EAAStqC,UAAUysC,cAAgB,SAAUF,EAAc/B,GACnDjrC,KAAK1F,OAAO4iC,gBACR+N,EACI+B,IAAiBhtC,KAAK1F,OAAO6yC,cAAcntC,KAAK1F,OAAO6yC,cAAcxxC,OAAS,GAAGie,OACjF5Z,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,YAAY,GAC3E7tC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,aAAa,IAG5E7tC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,aAAa,GAI5Eb,IAAiBhtC,KAAK1F,OAAO6yC,cAAc,GAAGvzB,OAC9C5Z,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,aAAa,GAC5E7tC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,YAAY,IAG3E7tC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,YAAY,KAY3F9C,EAAStqC,UAAU+sC,uBAAyB,SAAUF,GAClD,GAAIr8B,GAAQjR,IACRA,MAAKmS,YACLnS,KAAKwqB,aAA4D,SAA7CxqB,KAAK4hB,uBAAuBC,QAAQjV,MAAmE,SAAhD5M,KAAK4hB,uBAAuB3O,WAAWrG,KAE5G5M,KAAKirC,WACXjrC,KAAKwqB,aAA4C,SAA7B8iB,EAAYzrB,QAAQjV,MAAmD,SAAhC0gC,EAAYr6B,WAAWrG,KAEtF,IAAIkhC,GAAe9tC,KAAKwqB,aACyB,SAA7CxqB,KAAK4hB,uBAAuBC,QAAQjV,KAChC,UAAY,aAAe,IACnCnR,QAAOC,KAAKsE,KAAK4hB,wBAAwBtP,QAAQ,SAAUy7B,GACvD,GAAIA,IAAaD,EACb78B,EAAM2Q,uBAAuBmsB,GAA8C,gBAA1BT,GAAYS,IACrDlzC,oBAAkByyC,EAAYS,IAAoDT,EAAYS,GAAlDpD,KAAa2C,EAAYS,QAE5E,CACD,GAAI1uC,GAAqB,YAAb0uC,EAAyB,aAAe,SAET,UAAvCT,EAA4B,WAAE1gC,OAC9BqE,EAAM2Q,uBAAuBviB,GAASsrC,KAAa2C,EAAuB,gBAItFttC,KAAK1F,OAAOu/B,oBAAqB75B,KAAKmS,eAAsBtX,oBAAkBmF,KAAK1F,OAAOwO,kBAC1F9I,KAAKqsC,sBACLrsC,KAAK1F,OAAOs/B,mBAAmB55B,KAAK1F,OAAOuO,sBAAuB7I,KAAK1F,OAAOmX,oBAAqBzR,KAAK1F,OAAOu/B,mBAC/G,IAAIO,GAAiBp6B,KAAK1F,OAAO+/B,kBAIjC,IAHIr6B,KAAK1F,OAAOggC,oBAAsBF,GAAkBA,EAAeG,wBACnEH,EAAeI,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,8BAE7I16B,KAAK6R,WAAa7R,KAAKmS,YAAa,CACpC,GAAInT,IACA63B,YAAa72B,KAAKirC,SAAW,cAAgBjrC,KAAKmS,YAAc,qBAAuB,eACvFo7B,SAAUvtC,KAAK1F,OAAO0xC,oBAE1BhsC,MAAK1F,OAAOgc,QAAQ,iBAAkBtX,GACjCnE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAMpB,GAAIyZ,GAAwB,SAAjBhuC,KAAK6hB,QAAqB,aAAe,SAChD7hB,MAAK1F,OAAOkqB,gCAAkCxkB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,kBACrFpsB,KAAK1F,OAAO8xB,gBAAgBC,eAChCrsB,KAAKgzB,mBAAqBhzB,KAAKiuC,6BAA6BD,EAAMhuC,KAAK1F,OAAOsX,eAAeiT,kBAAmB7kB,KAAK1F,OAAOsX,eAAem6B,iBACvI/rC,KAAKgzB,oBAAsBhzB,KAAKm2B,qBAChCn2B,KAAKgzB,mBAAqBhzB,KAAKm2B,oBAG/Bn2B,KAAKmS,aACLnS,KAAKkuC,sBAAwBh7B,KAAK6P,IAAI/iB,KAAKgzB,mBAAqBhzB,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAGqK,aAAe,EACnKz9B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,6BAA6B,GAAGx4B,cAAc,mBAA0B,MAAEkX,MAAS/c,KAAKgzB,mBAAqBhzB,KAAKkuC,sBAAyB,KAC3KrzC,oBAAkBmF,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,gCAAgC,GAAGx4B,cAAc,sBACzG7F,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,gCAAgC,GAAGx4B,cAAc,mBAA0B,MAAEkX,MAAS/c,KAAKgzB,mBAAqBhzB,KAAKkuC,sBAAyB,QAIvLluC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,6BAA6B,GAAGx4B,cAAc,mBAA0B,MAAEkX,MAAQ/c,KAAKgzB,mBAAqB,KAC5In4B,oBAAkBmF,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,gCAAgC,GAAGx4B,cAAc,sBACzG7F,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,gCAAgC,GAAGx4B,cAAc,mBAA0B,MAAEkX,MAAQ/c,KAAKgzB,mBAAqB,OAG5JhzB,KAAK1F,OAAOmqB,iBAAiB2R,yBASrC2U,EAAStqC,UAAUk6B,iBAAmB,WAC9B36B,KAAK1F,OAAOqyC,SACZ3sC,KAAK1F,OAAsB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAE9I0F,KAAKmS,aAAc,EACnBnS,KAAK6R,WAAY,EACjB7R,KAAKw9B,eAAgB,CACrB,IAAIiQ,KACAztC,MAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAA8B,sBAAE,eACrH0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,uBACjD0xB,EAAyB,OAAI,YAC7BA,EAA4C,0BAAIvvC,gBAAgB8B,KAAK1F,OAAOuO,wBAAwB,GAAM,GAC1G4kC,EAA0C,wBAAIvvC,gBAAgB8B,KAAK1F,OAAOmX,sBAAsB,GAAM,GACtGg8B,EAAuC,qBAAIvvC,eAAe8B,KAAK1F,OAAO0xC,qBAAqB,GAC3FhsC,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK8xC,GAE7GztC,KAAK1F,OAAOuyC,0BACb7sC,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,sBAClD7I,KAAK1F,OAAOwyC,sBAAwB9sC,KAAK1F,OAAOmX,qBAEhDzR,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,wBAClD7I,KAAK1F,OAAOuO,sBAAwB,GAAI/L,MAAKkD,KAAK1F,OAAOiP,sBACrDvJ,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,wBAE1D7I,KAAK1F,OAAO+J,cAAcqN,uBAC1B,IAAIsR,GACAmrB,EAAiB,CAChBnuC,MAAK1F,OAAO0jB,iBAAiBsE,cAC9B6rB,EAAiBnuC,KAAKkjB,oCAAoCljB,KAAK1F,OAAOuO,sBAAuB7I,KAAK1F,OAAOmX,sBAG7GuR,GADsBhjB,KAAK1F,OAAOmX,oBAAoBvQ,UAAYlB,KAAK1F,OAAOuO,sBAAsB3H,iBAEpG8hB,GAAwBmrB,CACxB,IAEIC,GACAC,EACAC,EAJAC,EAAavuC,KAAK1F,OAAOmqB,iBAAiB2U,aAAalH,YACvDlQ,EAAcusB,EAAavrB,EAK3BwrB,EADqBxuC,KAAK1F,OAAO6yC,cAAc9+B,QACTgD,KAAK,SAAUC,EAAGC,GACxD,MAASD,GAAE0Q,aAAgBzQ,EAAEyQ,YAAmB1Q,EAAE0Q,YAAczQ,EAAEyQ,YAAe,GAAK,EAA3C,GAE/C,IAAoB,IAAhBA,EAAJ,CAGA,IAAK,GAAIlkB,GAAI,EAAGA,EAAI0wC,EAAiB7yC,OAAQmC,IAAK,CAE9C,GADAuwC,EAAaG,EAAiB1wC,GAC1BA,IAAM0wC,EAAiB7yC,OAAS,EAAG,CACnCyyC,EAAeI,EAAiB1wC,EAChC,OAKJ,GAFIwwC,EAAcE,EAAiB1wC,EAAI,GAEnCkkB,GAAeqsB,EAAWrsB,YAAa,CACvCosB,EAAeI,EAAiB1wC,EAChC,OAEJ,GAAIkkB,EAAcqsB,EAAWrsB,aAAeA,EAAcssB,EAAYtsB,YAAa,CAC/EosB,EAAeI,EAAiB1wC,EAAI,EACpC,QAGR,GAAIwvC,GAAcpvC,eAAekwC,GAAc,EAC/CpuC,MAAKyuC,mBAAmBzuC,KAAK1F,OAAOuO,uBAAuB,EAAMmZ,EAAasrB,EAAYr6B,WAAWrG,KAAMwhC,GAC3GpuC,KAAKyuC,mBAAmBzuC,KAAK1F,OAAOmX,qBAAqB,EAAOuQ,EAAasrB,EAAYr6B,WAAWrG,KAAMwhC,EAC1G,IAAIM,GAAgB1uC,KAAK2uC,+BAA+BrB,GACpD/P,EAAev9B,KAAK1F,OAAOmqB,iBAAiBwM,cAAckM,aAAe,GAEzEyR,EADgB5uC,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBuF,cAChCI,EAAe,EAAI,EACrD+P,GAAYuB,iBAAmB37B,KAAK6P,IAAKwrB,EAAaK,GAAeF,CACrE,IAAI1vC,IACA63B,YAAa,sBACb0W,SAAUD,EAEVttC,MAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAW7tC,KAAK1F,OAAOuzC,UAAY,aAAa,GAEnH7tC,KAAK1F,OAAOgc,QAAQ,cAAetX,GAC9BA,EAAK4/B,SACD/jC,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,cAKhBv1B,KAAKwtC,uBAAuBF,GAC5BttC,KAAK1F,OAAOu/B,qBAAqBh/B,oBAAkBmF,KAAK1F,OAAOwO,mBAEnE9I,KAAKmS,aAAc,IAEvB44B,EAAStqC,UAAUquC,wBAA0B,SAAUC,EAAMC,EAAWjzC,GACpE,GAAIkzC,EACJ,QAAQF,GACJ,IAAK,UACDE,MAAwBD,EAAU/7B,WAAWvQ,KAC7C,MACJ,KAAK,OACDusC,OAAwBD,EAAU/7B,WAAWvQ,KAC7C,MACJ,KAAK,OACDusC,SAAwBD,EAAU/7B,WAAWvQ,KAC7C,MACJ,KAAK,MACDusC,QAAwBD,EAAU/7B,WAAWvQ,KAC7C,MACJ,KAAK,QAEG,GAAIwsC,GAAc,GAAIpyC,MAAKf,EAAKE,cAAeF,EAAKI,WAAa,EAAG,GAAGE,SACvE4yC,GAAwBD,EAAU/7B,WAAWvQ,OAAS,MAAewsC,EAAc,IACnF,MAER,KAAK,OAEG,GAAIC,GAAcpzC,EAAKE,cAAgB,KAAQ,GAC1CF,EAAKE,cAAgB,KAAQ,GAAKF,EAAKE,cAAgB,GAAM,EAAM,IAAM,GAC9EgzC,GAAwBD,EAAU/7B,WAAWvQ,OAAS,MAAeysC,EAAa,KAI9F,MAAOF,IAEXlE,EAAStqC,UAAUguC,mBAAqB,SAAU1yC,EAAMqzC,EAAaptB,EAAaL,EAAUysB,GACxF,GAAIiB,GAAervC,KAAK8uC,wBAAwBntB,EAAUysB,EAAcryC,EACpEqzC,GACArzC,EAAK0F,QAAQ1F,EAAKmF,UAAYmuC,GAG9BtzC,EAAK0F,QAAQ1F,EAAKmF,UAAYmuC,IAatCtE,EAAStqC,UAAUkuC,+BAAiC,SAAUrB,GAC1D,GAAIpnC,GAAQ,GAAIpJ,MAAKkD,KAAK1F,OAAOuO,sBAAsB3H,WACnDiF,EAAQ,GAAIrJ,MAAKkD,KAAK1F,OAAOmX,oBAAoBvQ,UACrDlB,MAAK1F,OAAOoE,qBAA6C,uBAAEwH,EAAOC,EAClE,IAAImpC,GACAnB,EAAiB,CAChBnuC,MAAK1F,OAAO0jB,iBAAiBsE,cAC9B6rB,EAAiBnuC,KAAKkjB,oCAAoCljB,KAAK1F,OAAOuO,sBAAuB7I,KAAK1F,OAAOmX,sBAE7G69B,EAAep8B,KAAK6P,KAAK5c,EAAMjF,UAAYgF,EAAMhF,kBACjDouC,GAAgBnB,CAChB,IAAIzrC,GAAQ4qC,EAAYr6B,WAAWvQ,MAC/BkK,EAAO0gC,EAAYr6B,WAAWrG,IAClC,OAAa,QAATA,EACO0iC,EAAe5sC,EAER,SAATkK,EACG0iC,EAAe5sC,EAAS,EAElB,UAATkK,EACG0iC,EAAe5sC,EAAS,GAElB,SAATkK,EACG0iC,EAAe5sC,MAET,SAATkK,EACE0iC,GAAgB,GAAK5sC,GAGrB4sC,GAAgB,KAAY5sC,IAS3CqoC,EAAStqC,UAAU4rC,oBAAsB,WACrC,GAAIkD,IAAkB,mBAAoB,mBAAoB,eAAgB,qBAC1EC,GACA3tB,SAAY,OAAQ,SAAU,QAAS,aACvC5O,YAAe,OAAQ,SAAU,QAAS,cAE1Cw8B,GAAa,OAAQ,QAAS,OAAQ,MAAO,OAAQ,UACzDzvC,MAAK4hB,uBAAyB5hB,KAAK4hB,uBAAyB5hB,KAAK4hB,uBAC7D5hB,KAAK0vC,eAAe1vC,KAAK1F,OAAO0jB,iBAAkBuxB,EAAgBC,IACA,IAAjEC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,QACc,IAApE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuB3O,WAAWrG,OAC1D5M,KAAK4hB,uBAAuBC,QAAQjV,MAA4E,IAArE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuB+tB,kBACrF3vC,KAAK4hB,uBAAuB+tB,iBAAmB,OACnD3vC,KAAK4hB,uBAAuB3O,WAAWrG,KAAuE,IAAhE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,MAChG6iC,EAAUA,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,MAAQ,GAAK,SAEV,IAAjE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,QACQ,IAApE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuB3O,WAAWrG,OACrD6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,MACtD6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuB3O,WAAWrG,MAC7D5M,KAAK4hB,uBAAuB3O,WAAWrG,KAAO5M,KAAK4hB,uBAAuBC,QAAQjV,MAGlF5M,KAAK4hB,uBAAuBC,QAAQjV,MAAwE,IAAjE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuBC,QAAQjV,MAC7F,OAAS5M,KAAK4hB,uBAAuBC,QAAQjV,KACjD5M,KAAK4hB,uBAAuB3O,WAAWrG,MAA2E,IAApE6iC,EAAU3iC,QAAQ9M,KAAK4hB,uBAAuB3O,WAAWrG,MACnG,OAAS5M,KAAK4hB,uBAAuB3O,WAAWrG,MAExD5M,KAAK6hB,QAAU7hB,KAAK4hB,uBAAuBC,QAAQjV,KACnD5M,KAAKiT,WAAajT,KAAK4hB,uBAAuB3O,WAAWrG,KACzD5M,KAAK4vC,qBAAuB5vC,KAAKwqB,aACjCxqB,KAAKwqB,aAAgC,SAAjBxqB,KAAK6hB,SAA0C,SAApB7hB,KAAKiT,YAQxD83B,EAAStqC,UAAUyrC,wBAA0B,WACzClsC,KAAK4hB,uBAAuBC,QAAQnf,MAA0B,SAAjB1C,KAAK6hB,QAC9C,EAAI7hB,KAAK6vC,cAAc7vC,KAAK4hB,uBAAuBC,QAAQjV,KAAM5M,KAAK4hB,uBAAuBC,QAAQnf,MAAO,WAChH1C,KAAK4hB,uBAAuB3O,WAAWvQ,MAAwD,SAAhD1C,KAAK4hB,uBAAuB3O,WAAWrG,KAClF,EAAI5M,KAAK6vC,cAAc7vC,KAAK4hB,uBAAuB3O,WAAWrG,KAAM5M,KAAK4hB,uBAAuB3O,WAAWvQ,MAAO,cACtH1C,KAAK4hB,uBAAuB3O,WAAW/C,OAASlQ,KAAK8vC,eAAe9vC,KAAK4hB,uBAAuB3O,WAAWrG,KAAM5M,KAAK4hB,uBAAuB3O,WAAW/C,QACxJlQ,KAAK4hB,uBAAuBC,QAAQ3R,OAASlQ,KAAK8vC,eAAe9vC,KAAK6hB,QAAS7hB,KAAK4hB,uBAAuBC,QAAQ3R,QACnHlQ,KAAK4hB,uBAAuBmuB,aAAe/vC,KAAK4hB,uBAAuBmuB,cAAgB,GACnF/vC,KAAK4hB,uBAAuBmuB,cAAgB,EAAI/vC,KAAK4hB,uBAAuBmuB,aAAe,EACzF/vC,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aACpEvsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,cAC7GzsB,KAAK+sC,4BASbhC,EAAStqC,UAAUuvC,kCAAoC,WAEnD,IAAK,GADDC,GAAcjwC,KAAK1F,OAAO6yC,cACrBrvC,EAAI,EAAGA,EAAImyC,EAAYt0C,OAAQmC,IAAK,CACzC,GAAIkkB,GAAchiB,KAAKkwC,eAAeD,EAAYnyC,GAAG+wC,iBAAkBoB,EAAYnyC,GAAGmV,WAAWvQ,MAAOutC,EAAYnyC,GAAGmV,WAAWrG,KAClIqjC,GAAYnyC,GAAGkkB,YAAcA,IASrC+oB,EAAStqC,UAAUssC,yBAA2B,WAC1C,GAAIrqC,GAAwD,SAAhD1C,KAAK4hB,uBAAuB3O,WAAWrG,KAC/C5M,KAAK4hB,uBAAuB3O,WAAWvQ,MAAQ1C,KAAK4hB,uBAAuBC,QAAQnf,MACnFkK,EAAuD,SAAhD5M,KAAK4hB,uBAAuB3O,WAAWrG,KAC9C5M,KAAK4hB,uBAAuB3O,WAAWrG,KAAO5M,KAAK4hB,uBAAuBC,QAAQjV,KAClFohC,EAAuD,SAAhDhuC,KAAK4hB,uBAAuB3O,WAAWrG,KAC9C,aAAe,UACfoiC,EAAYhvC,KAAKmwC,uBAAuBvjC,EAAMlK,EAAOsrC,EAUzD,OATIhuC,MAAK1F,OAAO4iC,gBACR8R,IAAchvC,KAAK1F,OAAO6yC,cAAcntC,KAAK1F,OAAO6yC,cAAcxxC,OAAS,GAAGie,MAC9E5Z,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,YAAY,GAEtEmB,IAAchvC,KAAK1F,OAAO6yC,cAAc,GAAGvzB,OAChD5Z,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,aAAa,IAGpF7tC,KAAK1F,OAAO0xC,oBAAsBhsC,KAAK1F,OAAO6yC,cAAc6B,GACrDA,GASXjE,EAAStqC,UAAU0vC,uBAAyB,SAAUvjC,EAAMlK,EAAOsrC,GAC/D,GAAIp0B,GACAw2B,EACAC,EACA/B,EACAD,CACCruC,MAAK1F,OAAO6yC,cAAcxxC,SAC3BqE,KAAK1F,OAAO6yC,cAAgBntC,KAAK1F,OAAOg2C,mBAE5C,IAAIC,GAAiBvwC,KAAK1F,OAAO6yC,cAAcxzB,OAAO,SAAU0zB,GAC5D,MAAa,eAATW,EACOX,EAAUp6B,WAAWrG,OAASA,EAG9BygC,EAAUxrB,QAAQjV,OAASA,GAG1C,IAA8B,IAA1B2jC,EAAe50C,OAAc,CAC7B,GAAI60C,GAAgBxwC,KAAKywC,eAAe7jC,EAAM,IAAI,EAClD2jC,GAAiBvwC,KAAK1F,OAAO6yC,cAAcxzB,OAAO,SAAU0zB,GACxD,MAAa,eAATW,EACOX,EAAUp6B,WAAWrG,OAAS4jC,EAG9BnD,EAAUxrB,QAAQjV,OAAS4jC,IAY9C,IAAK,GARDE,GAAmBH,EAAel/B,KAAK,SAAUC,EAAGC,GACpD,MAAa,eAATy8B,EACS18B,EAAE2B,WAAWvQ,OAAU6O,EAAE0B,WAAWvQ,MAAe4O,EAAE2B,WAAWvQ,MAAQ6O,EAAE0B,WAAWvQ,MAAS,GAAK,EAAtD,EAG7C4O,EAAEuQ,QAAQnf,OAAU6O,EAAEsQ,QAAQnf,MAAe4O,EAAEuQ,QAAQnf,MAAQ6O,EAAEsQ,QAAQnf,MAAS,GAAK,EAAhD,IAG/C5E,EAAI,EAAGA,EAAI4yC,EAAiB/0C,OAAQmC,IAAK,CAE9C,GADAuwC,EAAaqC,EAAiB5yC,GAC1BA,IAAM4yC,EAAiB/0C,OAAS,EAAG,CACnCie,EAAQ82B,EAAiB5yC,GAAG8b,KAC5B,OAKJ,GAFI00B,EAAcoC,EAAiB5yC,EAAI,GAEnC4E,GAAS2rC,EAAW,GAAKL,GAAMtrC,MAAO,CACtC0tC,EAAwBM,EAAiB5yC,GAUrC8b,GATJy2B,EAAuBK,EAAiB/2B,OAAO,SAAU0zB,GACrD,MAAa,eAATW,EACOX,EAAUp6B,WAAWvQ,QAAU0tC,EAAsBn9B,WAAWvQ,MAGhE2qC,EAAUxrB,QAAQnf,QAAU0tC,EAAsBvuB,QAAQnf,SAGhD/G,OAAS,EACtBqE,KAAK2wC,sBAAsBN,GAG3BA,EAAqB,GAAGz2B,KAEpC,OAEC,GAAIlX,EAAQ2rC,EAAW,GAAKL,GAAMtrC,OAASA,EAAQ4rC,EAAY,GAAKN,GAAMtrC,MAAO,CAClF0tC,EAAwBM,EAAiB5yC,EAAI,GAUzC8b,GATJy2B,EAAuBK,EAAiB/2B,OAAO,SAAU0zB,GACrD,MAAa,eAATW,EACOX,EAAUp6B,WAAWvQ,QAAU0tC,EAAsBn9B,WAAWvQ,MAGhE2qC,EAAUxrB,QAAQnf,QAAU0tC,EAAsBvuB,QAAQnf,SAGhD/G,OAAS,EACtBqE,KAAK2wC,sBAAsBN,GAG3BA,EAAqB,GAAGz2B,KAEpC,QAGR,MAAOA,IAWXmxB,EAAStqC,UAAUgwC,eAAiB,SAAU7jC,EAAMgkC,EAAYC,GAC5D,GAAIC,IAAmB,OAAQ,QAAS,OAAQ,MAAO,OAAQ,WAC3DrxC,EAAQqxC,EAAgBhkC,QAAQF,EAapC,OAZc,KAAVnN,IACAoxC,GAAS,GAGTjkC,EADA5M,KAAKirC,UAAY4F,EACVC,EAAgBrxC,EAAQ,GAGxBqxC,EAAgBrxC,EAAQ,GAKL,IAHTO,KAAK1F,OAAO6yC,cAAcxzB,OAAO,SAAU0zB,GAC5D,MAAOA,GAAUp6B,WAAWrG,OAASA,IAEtBjR,QACF,SAATiR,IACAikC,GAAS,GAEbD,EAAahkC,EACN5M,KAAKywC,eAAe7jC,EAAMgkC,EAAYC,IAGtCjkC,GAGfm+B,EAAStqC,UAAUkwC,sBAAwB,SAAUI,GASjD,IAAK,GANDn3B,GACA00B,EACAD,EAJA2C,EAAaD,EACbh0B,EAAQ/c,KAAK4hB,uBAAuBitB,iBAIpCoC,EAAmBD,EAAW3/B,KAAK,SAAUC,EAAGC,GAChD,MAAQD,GAAEu9B,iBAAmBt9B,EAAEs9B,iBAAoB,GAAK,IAEnD/wC,EAAI,EAAGA,EAAImzC,EAAiBt1C,OAAQmC,IAAK,CAE9C,GADAuwC,EAAa4C,EAAiBnzC,GAC1BA,IAAMmzC,EAAiBt1C,OAAS,EAAG,CACnCie,EAAQq3B,EAAiBnzC,GAAG8b,KAC5B,OAKJ,GAFI00B,EAAc2C,EAAiBnzC,EAAI,GAEnCif,GAASsxB,EAAWQ,iBAAkB,CACtCj1B,EAAQq3B,EAAiBnzC,GAAG8b,KAC5B,OAEC,GAAImD,EAAQsxB,EAAWQ,kBAAoB9xB,EAAQuxB,EAAYO,iBAAkB,CAClFj1B,EAAQq3B,EAAiBnzC,EAAI,GAAG8b,KAChC,QAGR,MAAOA,IAQXmxB,EAAStqC,UAAUywC,2BAA6B,WAO5C,GANIlxC,KAAK1F,OAAOsX,eAAe4Y,aAC3BxqB,KAAK1F,OAAOwL,QAAQtL,UAAU62B,IJtsBT,2BIysBrBrxB,KAAK1F,OAAOwL,QAAQtL,UAAUmE,OJzsBT,2BI2sBrBqB,KAAK4vC,uBAAyB5vC,KAAKwqB,aAAc,CACjD,GAAIyS,GAAgB,CACfpiC,qBAAkBmF,KAAK1F,OAAO4iC,gBAAmBriC,oBAAkBmF,KAAK1F,OAAO4iC,cAAcp3B,WAC9Fm3B,EAAgBj9B,KAAK1F,OAAO4iC,cAAcp3B,QAAQq3B,cAEtDn9B,KAAK1F,OAAOmqB,iBAAiBC,aACzBoS,UAAU92B,KAAK1F,OAAO8iC,YAAcp9B,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBsK,aAAeF,GAC3Gj9B,KAAK1F,OAAO4H,SAAS+yB,OAASj1B,KAAK1F,OAAO8iC,YAAcH,EACpDj9B,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBsK,eAgBhE4N,EAAStqC,UAAU0wC,gBAAkB,SAAUrzB,EAAMtc,EAAausC,GAC9D,GAAI/gB,GAAa,GAAIlwB,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,YACnEmzC,EAAuB,MAAwBpxC,KAAK1F,OAAO0nB,WAQ/D,IAPKhiB,KAAK1F,OAAO0jB,iBAAiBsE,YAI9B0K,EAAWvrB,QAAQurB,EAAW9rB,UAAa4c,EAAOszB,GAHlDpkB,EAAahtB,KAAKqxC,qCAAqCvzB,EAAMkP,GAM7DxrB,IAAgB3G,oBAAkBkzC,EAAS1xB,mBAAmD,KAA9B0xB,EAAS1xB,iBAAyB,CAClG2Q,EAAWtrB,QAAQsrB,EAAW3wB,UAAY,EAC1C,IAAI+E,GAAapB,KAAK1F,OAA6B,qBAAEyzC,EAASptC,eAAiBotC,EAASzrC,YAAcyrC,EAAShzC,QAC/GiF,MAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAY4rB,GACrDA,EAAahtB,KAAK1F,OAAOoE,qBAAqBoC,eAAeksB,EAAY+gB,GAAU,GAEvF,GAAIpsB,GAAqD,SAA1C3hB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeiQ,QACzF7hB,KAAK1F,OAAOsX,eAAeqB,UAW/B,OAViB,SAAb0O,GAAoC,YAAbA,IACnB3hB,KAAK1F,OAAOg3C,QAAQ,GAAIx0C,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,eACzE+B,KAAK1F,OAAOg3C,QAAQtkB,GACrBA,EAAWvrB,QAAQurB,EAAW9rB,iBAExBlB,KAAK1F,OAAOg3C,QAAQ,GAAIx0C,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,cAChF+B,KAAK1F,OAAOg3C,QAAQtkB,IACpBA,EAAWvrB,QAAQurB,EAAW9rB,iBAG/B8rB,GAYX+d,EAAStqC,UAAU4wC,qCAAuC,SAAUvzB,EAAMkP,GACtE,GAAIokB,GAAuB,MAAwBpxC,KAAK1F,OAAO0nB,YAE3DmsB,EAAiBnuC,KAAK1F,OAAO2S,mBAC7B+V,EAAY9P,KAAKsH,MAAMsD,EAAOszB,SAE9BG,EADmB,EACqBpD,EAAexyC,OAEvD61C,EAAYt+B,KAAKsH,MAAMwI,EAAYuuB,GACnCE,EAAYzuB,EAAYuuB,EAExBG,EAAiB,GAAI50C,MAAKkwB,EAC9B0kB,GAAehwC,QAAQgwC,EAAer1C,UAPf,EAO2Bm1C,EAGlD,KADA,GAAIG,GAAY,EACTA,EAAYF,GACfC,EAAehwC,QAAQgwC,EAAer1C,UAAY,IACO,IAArD8xC,EAAerhC,QAAQ4kC,EAAe1kC,WACtC2kC,GAGR,OAAOD,IAQX3G,EAAStqC,UAAU4xB,qBAAuB,WACtC,GAAIqC,GACAkd,EACAC,EACAzT,EACA0T,EACAC,EACAC,EACAC,EAAYjyC,KAAKwqB,aAAe,EAAI,EACpCwjB,EAAwB,SAAjBhuC,KAAK6hB,QAAqB,aAAe,SAOpD,IANA7hB,KAAKkrC,qBACLlrC,KAAKmrC,yBACuB,IAAxBnrC,KAAKsrC,iBACLtrC,KAAKkxC,6BACLlxC,KAAKgzB,mBAAqBhzB,KAAKiuC,6BAA6BD,EAAMhuC,KAAK1F,OAAOsX,eAAeiT,kBAAmB7kB,KAAK1F,OAAOsX,eAAem6B,kBAE3I/rC,KAAK1F,OAAOkqB,8BAAiCxkB,KAAKgzB,mBAAuD,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,YAAkB,CAC7G,IAASxvB,EAAQ,EAAGA,EAAQuvC,EAAWvvC,IAAS,EAC5C07B,EAAQ7G,gBAAc,SAAWC,UJ9yBP,oCI8yBoDC,OAAQ,qBAChFnB,aAAa,OAAQ,QAC3Bwb,EAAQva,gBAAc,SAAWC,UJ/yBZ,+BI+yBoDC,OAAQ,2CAC7Eya,GAAalyC,KAAKmyC,uBAAuBnE,EAC7CtZ,GAAK6C,gBAAc,MACnB9jB,MAAM1R,KAAKmwC,EAAWtd,YAAYtiB,QAAQ,SAAUwE,GAChD4d,EAAGgD,YAAY5gB,KAEnB86B,EAAKra,gBAAc,MACnBsa,EAAMta,gBAAc,OAASE,OAAQ,gBACrCsa,EAAkBxa,gBAAc,OAASC,UJjzB/B,mBIkzBVwa,EAAkBza,gBAAc,OAASC,UJjzB/B,mBIkzBVoa,EAAGla,YAAYma,GACfnd,EAAGgD,YAAYka,GACfG,EAAgBra,YAAYhD,GAC5Bod,EAAMpa,YAAYqa,GAClBD,EAAMpa,YAAYsa,GAClB5T,EAAM1G,YAAYoa,GAClB9xC,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuB6E,YAAY0G,GAChE4P,EAAO,aACPtZ,EAAK,KACL10B,KAAKsrC,gBAAiB,EAE1B,GAA2B,SAAvBtrC,KAAK1F,OAAO26B,QAAqBj1B,KAAK1F,OAAOsX,eAAe4Y,aAAc,CACtE8hB,EAAoBtsC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,+BAA+B,GAAiB,YACnHpzB,MAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,MACtIzxC,oBAAkBmF,KAAK1F,OAAOwL,QAAQstB,uBAAuB,iBAAiB,MAC/EpzB,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,iBAAiB,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,OAGvItsC,KAAKoyC,mCAEJ,CACD,IAAK,GAAI1vC,GAAQ,EAAGA,EAAQuvC,EAAWvvC,IAAS,EAC5C07B,EAAQ7G,gBAAc,SAAWC,UJh1BP,oCIg1BoDC,OAAQ,qBAChFnB,aAAa,OAAQ,QAC3Bwb,EAAQva,gBAAc,SAAWC,UJj1BZ,+BIi1BoDC,OAAQ,2CACjF,IAAIya,GAAalyC,KAAKmyC,uBAAuBnE,EAC7CtZ,GAAK6C,gBAAc,MACnB9jB,MAAM1R,KAAKmwC,EAAWtd,YAAYtiB,QAAQ,SAAUwE,GAChD4d,EAAGgD,YAAY5gB,KAEnB86B,EAAKra,gBAAc,MACnBsa,EAAMta,gBAAc,OAASE,OAAQ,gBACrCma,EAAGla,YAAYma,GACfnd,EAAGgD,YAAYka,GACfE,EAAMpa,YAAYhD,GAClB0J,EAAM1G,YAAYoa,GAClB9xC,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuB6E,YAAY0G,GAChE4P,EAAO,aACPtZ,EAAK,KAGT,GADA10B,KAAKgzB,mBAAqBhzB,KAAKm2B,mBACJ,SAAvBn2B,KAAK1F,OAAO26B,QAAqBj1B,KAAK1F,OAAOsX,eAAe4Y,aAAc,CAC1E,GAAI8hB,GAAoBtsC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,+BAA+B,GAAiB,YACnHpzB,MAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,MACtIzxC,oBAAkBmF,KAAK1F,OAAOwL,QAAQstB,uBAAuB,iBAAiB,MAC/EpzB,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,iBAAiB,GAAU,MAAE6B,OAAS,eAAiBqX,EAAoB,UAK/IvB,EAAStqC,UAAU2xC,6BAA+B,WAC9C,GAAI7e,GAAkB,EAElB8e,EAAaryC,KAAKgzB,kBACtB,IAAIhzB,KAAK1F,OAAOkqB,6BAA8B,CAE1C+O,EAAmBvzB,KAAK1F,OAAOkqB,+BAC1B3pB,oBAAkBmF,KAAK1F,OAAOmqB,iBAAiBC,aAAa5e,QAAQ6e,aACD,IAAjE3kB,KAAK1F,OAAOmqB,iBAAiBC,aAAa5e,QAAQ6e,WACrD3kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaE,kBAAoB,EAC9D5kB,KAAK1F,OAAO24B,YACZM,MAEsBvzB,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,6BAA6B,GAAGx4B,cAAc,mBACzF8tB,MAAMsE,UAAY,aAAe1E,EAAkB,UACvE,IAAI+e,GAAsBtyC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,6BAA6B,GAAGx4B,cAAc,kBAI7G,IAHAysC,EAAoB3e,MAAM4e,SAAW,WACrCD,EAAoB3e,MAAM5W,MAAQs1B,EAAa,KAE3CryC,KAAK1F,OAAOmqB,iBAAiBC,aAA8B,gBAAG,CAC9D,GAAI8tB,GAAsBxyC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,GAAGx4B,cAAc,mBAClH4sC,MAAsB,EACrB53C,qBAAkBmF,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,MAC9FoU,EAAsBzyC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,GAAGx4B,cAAc,oBAEtH2sC,EAAoB7e,MAAMsE,UAAY,aAAe1E,EAAkB,WAClE14B,oBAAkB43C,KACnBA,EAAoB9e,MAAMsE,UAAY,aAAe1E,EAAkB,YAG/E,GAAImf,GAAsB1yC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,GAAGx4B,cAAc,mBAClH8sC,MAAsB,EACrB93C,qBAAkBmF,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,MAC9FsU,EAAsB3yC,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sCAAsC,GAAGx4B,cAAc,oBAEjHhL,oBAAkB83C,KACnBA,EAAoBhf,MAAM4e,SAAW,WACrCI,EAAoBhf,MAAM5W,MAAQs1B,EAAa,MAEnDK,EAAoB/e,MAAM4e,SAAW,WACrCG,EAAoB/e,MAAM5W,MAAQs1B,EAAa,KAExBryC,KAAK1F,OAAOm5B,oBAAoB4C,UAC/B,MAAEtZ,MAAQs1B,EAAa,KAE1BryC,KAAK1F,OAAOwL,QAAQD,cAAc,gCACjC,MAAEkX,MAAQ,qBAC5B/c,KAAK1F,OAAOsX,eAAeC,WAAa7R,KAAK1F,OAAOsX,eAAeO,eACnEnS,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,WAAa,EACxD3kB,KAAKmyB,iBAAkB,EACvBnyB,KAAK1F,OAAOmqB,iBAAiBC,aAAakO,8BAatDmY,EAAStqC,UAAUovC,cAAgB,SAAUd,EAAMrsC,EAAOsrC,GACtD,GAEI4E,GAFAC,GAAah4C,oBAAkB6H,IAAU1E,SAAS0E,EAAMzE,WAAY,IAAM,EAAID,SAAS0E,EAAMzE,WAAY,IAAM,EAC/G60C,EAAiB5/B,KAAK6P,IAAI/iB,KAAK+yC,wBAAwB7xC,UAAYlB,KAAK6kB,kBAAkB3jB,UAE9F,QAAQ6tC,GACJ,IAAK,OAED8D,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAO4nB,cACaD,EAAYD,EAAa,EAAIA,EAAa,EAC3D,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,GAEnD,MACJ,KAAK,QAEDA,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAO4nB,QAAuC,KAC1BD,EAAYD,EAAa,EAAKA,EAAa,EAAK,EACjE,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,GAEnD,MACJ,KAAK,OAEDA,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAO4nB,QAAuC,IAC1BD,EAAYD,EAAa,EAAIA,EAAa,EAC3D,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,GAEnD,MACJ,KAAK,MAEDA,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAM4nB,UACcD,EAAYD,EAAa,EAAIA,EAAa,EAC3D,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,GAEnD,MACJ,KAAK,OAEDA,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAM4nB,SACcD,EAAYD,EAAa,EAAIA,EAAa,EAC3D,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,GAEnD,MACJ,KAAK,UAEDA,EAAYA,IADZD,EAAa1/B,KAAKgY,MAAM4nB,QACcD,EAAYD,EAAa,EAAIA,EAAa,EAC3D,SAAjB5yC,KAAK6hB,SAA+B,eAATmsB,IAC3B6E,EAAY7yC,KAAKgzC,wBAAwBjE,EAAM8D,IAY3D,MARInwC,KAAUmwC,GAAa7yC,KAAK6R,WAAa7R,KAAK1F,OAAO4iC,gBAA2B,eAAT8Q,GAAyBhuC,KAAKwqB,gBACjGxqB,KAAKirC,SACLjrC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,YAAY,GAG3E7tC,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,aAAa,IAG7EgF,GAUX9H,EAAStqC,UAAUuyC,wBAA0B,SAAUjE,EAAM8D,GACzD,GAAInwC,EACJ,QAAQqsC,GACJ,IAAK,OACDrsC,EAAQmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MACrDmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,KACpD,MACJ,KAAK,QACDA,EAAyB,SAAjB1C,KAAK6hB,QAAqBgxB,GAA0D,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChFmwC,EAAyD,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACjDmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAC7CmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,KACxD,MACJ,KAAK,OACDA,EAAyB,SAAjB1C,KAAK6hB,QAAqBgxB,MAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChFmwC,KAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,UAAjB1C,KAAK6hB,QAAsBgxB,GAA0D,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACzEmwC,EAAyD,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACjDmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAC7CmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,KAC5D,MACJ,KAAK,MACDA,EAAyB,SAAjB1C,KAAK6hB,QAAqBgxB,OAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChFmwC,MAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,UAAjB1C,KAAK6hB,QAAsBgxB,GAA0D,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACzEmwC,EAAyD,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,SAAjB1C,KAAK6hB,QAAqBgxB,GAA0D,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACxEmwC,EAAyD,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACjDmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAQmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,KACrH,MACJ,KAAK,OACDA,EAAyB,SAAjB1C,KAAK6hB,QAAqBgxB,QAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChFmwC,OAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,UAAjB1C,KAAK6hB,QAAsBgxB,OAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MACzEmwC,MAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,SAAjB1C,KAAK6hB,QAAqBgxB,GAA0D,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAY,GACpFmwC,EAAyD,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAY,GAC5C,QAAjB1C,KAAK6hB,QAAoBgxB,GAA0D,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACvEmwC,EAAyD,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACjDmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAC7CmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,KACpE,MACJ,KAAK,UACDA,EAAyB,SAAjB1C,KAAK6hB,QAAqBgxB,UAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChFmwC,SAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,UAAjB1C,KAAK6hB,QAAsBgxB,SAAc7yC,KAAK4hB,uBAAuBC,QAAQnf,MACzEmwC,QAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAChC,SAAjB1C,KAAK6hB,QAAqBgxB,GAA0D,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAY,GAAK,GACzFmwC,EAAyD,EAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAY,GAAK,GACjD,QAAjB1C,KAAK6hB,QAAoBgxB,GAA0D,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAa,GACpFmwC,EAAyD,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MAAa,GAC7C,SAAjB1C,KAAK6hB,QAAqBgxB,GAA0D,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACxEmwC,EAAyD,GAA5C7yC,KAAK4hB,uBAAuBC,QAAQnf,MACjDmwC,GAAa7yC,KAAK4hB,uBAAuBC,QAAQnf,MAC7CmwC,EAAY7yC,KAAK4hB,uBAAuBC,QAAQnf,MAGhF,MAAOA,IAUXqoC,EAAStqC,UAAUqvC,eAAiB,SAAUf,EAAM7+B,GAChD,GAAI+iC,EACJ,QAAQlE,GACJ,IAAK,OACDkE,EAAc/iC,GAAS,cACvB,MACJ,KAAK,MACL,IAAK,OACD+iC,EAAc/iC,GAAS,EACvB,MACJ,KAAK,OACD+iC,EAAc/iC,GAAS,GACvB,MACJ,KAAK,QACD+iC,EAAc/iC,GAAS,UACvB,MACJ,KAAK,OACD+iC,EAAc/iC,GAAS,MACvB,MACJ,KAAK,UACD+iC,EAAc/iC,GAAS,IAG/B,MAAO+iC,IAWXlI,EAAStqC,UAAUivC,eAAiB,SAAUwD,EAAUC,EAAoB3D,GAGxE,IAAK,GAFDv+B,GAAQjR,KACRozC,KACK3zC,EAAQ,EAAGA,EAAQ0zC,EAAmBx3C,OAAQ8D,IACnD2zC,EAAQD,EAAmB1zC,IAAUyzC,EAASC,EAAmB1zC,GAOrE,OALI+vC,IACA/zC,OAAOC,KAAK8zC,GAAel9B,QAAQ,SAAU1W,GACzCw3C,EAAQx3C,GAAOqV,EAAMy+B,eAAewD,EAASt3C,GAAM4zC,EAAc5zC,GAAM,QAGxEw3C,GAWXrI,EAAStqC,UAAU4yC,iBAAmB,SAAUC,EAAWv1C,EAAMw1C,GAC7D,GACIC,GADAz3C,EAAO,GAAIe,MAAKiB,EAAKmD,UAuBzB,OArBkB,KAAdoyC,GACAE,EAAaxzC,KAAK1F,OAAO0V,UAAUyjC,WAAW13C,GAAQmU,OAAQ,MAE1DsjC,EADuB,OAAvBxzC,KAAK1F,OAAOo5C,OACCF,EAAWnlC,MAAM,GAGH,OAAvBrO,KAAK1F,OAAOo5C,OACUF,EAITA,EAAWnlC,MAAM,EAAG,KAKzCmlC,EAAaxzC,KAAK1F,OAAO0V,UAAUyjC,WAAW13C,GAAQmU,OAAQojC,IAC1DC,IACAC,EAAaxzC,KAAK2zC,mBAAmBL,EAAWE,EAAYD,EAAeh3C,YAAYq3C,gBAGxFJ,GAEXzI,EAAStqC,UAAUozC,oBAAsB,SAAUC,GAG/C,IAAK,GAFD/3C,GAAO,GAAIe,MAAKg3C,GAChBC,EAAch4C,EAAK6S,oBACdolC,EAAY,EAAGA,GAAa,EAAGA,IAGpC,GAFe,GAAIl3C,MAAKf,EAAKmF,UAAwB,GAAZ8yC,EAAiB,GAAK,KACnCplC,sBACPmlC,EACjB,OAAO,CAGf,QAAO,GAEXhJ,EAAStqC,UAAUwzC,mBAAqB,SAAUC,EAAgBp5C,EAAWi0C,EAAMrsC,GAC/EwxC,EAAepxC,SAAShI,EAAUyB,YAC9ByD,KAAK4rC,aAAe5rC,KAAK1F,OAAOg3C,QAAQx2C,IACxCkF,KAAK6zC,oBAAoB/4C,KACzBo5C,EAAepxC,SAASoxC,EAAe33C,WAAa,GACpDyD,KAAK2rC,mBAAoB,GAE7B3rC,KAAK4rC,aAAc,EACnBsI,EAAexwC,WAAW5I,EAAU2B,cACpCy3C,EAAe/rC,WAAWrN,EAAU6B,cACpCu3C,EAAeC,gBAAgBr5C,EAAU+B,kBACzC,IAAIu3C,EACJ,IAAa,SAATrF,EAAiB,CACb9kC,EAAYnP,EAAUyB,UAE1B63C,GAAalhC,KAAKC,MAAM,GAAKlJ,GAAavH,OAEzC,IAAa,YAATqsC,EAAoB,CACzB,GAAI9kC,GAAYnP,EAAUyB,WACtB83C,EAAcv5C,EAAU2B,YAE5B23C,GAAalhC,KAAKC,MAAM,MAAoB,GAAZlJ,EAAiBoqC,IAAgB3xC,GAMrE,MAJI1C,MAAK2rC,oBACLyI,GAAc,EACdp0C,KAAK2rC,mBAAoB,IAEpByI,WAAYA,EAAYF,eAAgBA,IAErDnJ,EAAStqC,UAAUkzC,mBAAqB,SAAUL,EAAWgB,EAAeC,GACxE,GAEIC,GAAYlB,EAAU5mC,MAFN,aAE8B4mC,EAAU5mC,MADxC,WAEpB,KAAK8nC,EAED,OAASC,SAAS,EAAOb,cAAeU,EAE5C,IAAII,GAAaF,EAAU,GACvBG,EAAcrB,EAAU3qC,MAAM,WAC9BisC,EAAYN,EAAc3rC,MAAM,WAChCksC,EAAYF,EAAYvH,UAAU,SAAU0H,GAAQ,MAAOA,GAAKptB,SAAS,MAAQotB,EAAKptB,SAAS,MACnG,KAAmB,IAAfmtB,GAAoBA,GAAaD,EAAUj5C,OAC3C,OAAS84C,SAAS,EAAOb,cAAeU,EAS5C,IAAIS,GAPJ,SAAsBxsC,EAAK5M,GAEvB,IADA,GAAIq5C,GAASn3B,OAAOtV,GACbysC,EAAOr5C,OAASA,GACnBq5C,EAAS,IAAMA,CAEnB,OAAOA,IAEsBT,EAASG,EAAW/4C,OAGrD,OAFAi5C,GAAUC,GAAaE,GAEdN,SAAS,EAAMI,UAAWA,EAAWjB,cAD5BgB,EAAU3uB,KAAK,OAcrC8kB,EAAStqC,UAAUw0C,aAAe,SAAUl5C,EAAMmU,EAAQ89B,EAAMe,EAAMmG,GAElE,OADAA,EAAkC,gBAAdA,GAAyBx1C,WAASw1C,EAAWxf,QAAUwf,GAC1Dn5C,EAAMmU,EAAQ89B,EAAMe,IASzChE,EAAStqC,UAAU0xC,uBAAyB,SAAUnE,GAClD,GAGImH,GAQAC,EACAC,EAZAC,GAAc,EACdh7C,EAAS0F,KAAK1F,OACdi7C,EAAWhe,gBAAc,MAEzBwX,EAAgB,YAATf,EACP1zC,EAAOsX,eAAegQ,uBAAuBC,QAAQjV,KACrDtS,EAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KACxDlK,EAAiB,YAATsrC,EAAqB1zC,EAAOsX,eAAegQ,uBAAuBC,QAAQnf,MAClFpI,EAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,MACxDmf,EAAUvnB,EAAOsX,eAAegQ,uBAAuBC,QACvD5O,EAAa3Y,EAAOsX,eAAegQ,uBAAuB3O,WAG1DsR,EAAyBvkB,KAAK1F,OAAOkqB,8BAC4B,IAAjExkB,KAAK1F,OAAOmqB,iBAAiBC,aAAa5e,QAAQ6e,WAChD3kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaE,kBAAoB,KAChE9pB,EAAakF,KAAK1F,OAAOkqB,+BAAiC3pB,oBAAkB0pB,GAC1E,GAAIznB,MAAMkD,KAAKmxC,gBAAgB5sB,GAAwBtmB,YACzD,GAAInB,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,YACtDlD,EAAU,GAAI+B,MAAKkD,KAAK+yC,wBAAwB90C,YAChDu3C,KACAC,EAAmB,GAAIC,KACvB34B,EAAQ,EACR44B,EAAyD,EAAlC31C,KAAK1F,OAAOwL,QAAQosB,YAC3C0jB,EAAS51C,KAAK1F,OAAO+J,cAAcge,iBAAiBvnB,EAAUmB,eAC9Di4C,EAAiB,GAAIp3C,MAAK,IAAM,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/C+4C,GAAU,CACd71C,MAAK4rC,aAAc,CACnB,IAEI,GAAK5rC,KAAK1F,OAAO0jB,iBAAiBsE,cAAetiB,KAAK81C,sBAAsB/G,EAAMf,EAAMlzC,GAAxF,CAOA,GAAIi7C,KACJA,GAAaj7C,UAAY,GAAIgC,MAAKhC,EAAUoG,UAC5C,IAAI80C,KAIJ,IAHc,UAATjH,GAA6B,SAATA,GAA6B,eAATf,GAAoC,IAAVtrC,GAAkD,IAAlC8yC,EAAuB75C,SAC1G25C,GAAc,IAEH,SAATvG,GAA8B,YAATA,GAAgC,KAAVrsC,GAC3B,SAAjBmf,EAAQjV,MAAuC,YAApBqG,EAAWrG,OAAwBgpC,EAAQ,CACvE,GAAIK,GAAsBj2C,KAAKi0C,mBAAmBC,EAAgBp5C,EAAWi0C,EAAMrsC,GAC/E0xC,EAAa6B,EAAoB7B,UACrCF,GAAezyC,QAAQw0C,EAAoB/B,eAAehzC,UAC1D,KAAK,GAAIpD,GAAI,EAAGA,EAAIs2C,EAAYt2C,IAAK,EACjCi4C,MACaj7C,UAAY,GAAIgC,MAAKhC,EAAUoG,WACxCpG,EAAUyB,aAAe23C,EAAe33C,aACxCyD,KAAKurC,cAAe,GAExB4J,EAAWn1C,KAAKk2C,wBAAwB,GAAIp5C,MAAKhC,EAAUmD,YAAa8wC,EAAMf,GAAM,EAAOtrC,EAAOqzC,EAAcT,EAAapB,EAC7H,IAAI7kB,GAAqB,GAAIvyB,MAAKhC,EAAUmD,YACxCk4C,EAAY9mB,EAAmBnuB,SAC9Bu0C,GAAiBW,IAAID,KACtBV,EAAiBpkB,IAAI8kB,GACrBX,EAAuBl3C,KAAK+wB,GAEhC,IAAIgnB,GAAkBr2C,KAAKs2C,aAAax7C,EAAW4H,EAAOqsC,EAAMuG,GAAa,GACzEiB,EAAqBF,CACZ,aAATtH,GAA+B,SAATA,IAClB/uC,KAAKyrC,kBACLzrC,KAAK0rC,eAAgB,EACrB6K,EAAqBv2C,KAAKs2C,aAAapC,EAAgBxxC,EAAOqsC,EAAMuG,GAAa,GACjFt1C,KAAKyrC,iBAAkB,EACvBzrC,KAAK0rC,eAAgB,GAEzBwI,EAAezyC,QAAQyyC,EAAehzC,UAAYq1C,GAC9Cv2C,KAAK6rC,yBACL/wC,EAAU2G,QAAQ3G,EAAUoG,UAAYm1C,EAAkB,MAC1Dr2C,KAAK6rC,yBAA0B,GAG/B/wC,EAAU2G,QAAQ3G,EAAUoG,UAAYm1C,IAGhDf,GAAc,EACVx3C,IAAMs2C,EAAa,GAA8B,IAAzBt5C,EAAUyB,YAClCzB,EAAUgI,SAAS,GAEM,KAAzBhI,EAAUyB,YAAqBzB,EAAUyB,aAAe23C,EAAe33C,YACvEzB,EAAUgI,SAAShI,EAAUyB,WAAa,GAE1CzB,GAAaC,IAEbo6C,EAAWn1C,KAAKk2C,wBAAwBV,EAAuBA,EAAuB75C,OAAS,GAAIozC,EAAMf,GAAM,EAAMtrC,EAAOqzC,GAC5HF,GAAU,GAEdN,EAAS7d,YAAYyd,EACjBqB,GAA0B,YAATxI,EAAqBhuC,KAAKkrC,kBAAoBlrC,KAAKmrC,oBAgBxE,IAfA4K,EAAah7C,QAAU,GAAI+B,MAAKhC,EAAUoG,WACtClB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAC3DrsB,KAAK1F,OAAOkqB,6BACC,YAATwpB,EACAhuC,KAAKorC,2BAA2B9sC,KAAKy3C,GAGrC/1C,KAAKqrC,8BAA8B/sC,KAAKy3C,GAI5CS,EAAel4C,KAAKy3C,GAExBh5B,GAASg5B,EAAah5B,MACtB/c,KAAKy2C,eAAiBV,EAAah7C,SAAWA,EAAUA,EAAUg7C,EAAah7C,QAC3E86C,EAAS,CACTA,GAAU,CACV,QAGR71C,KAAKurC,cAAe,EACP,SAATwD,EACAiH,EAAe55C,IAAM8W,KAAKsH,MAAO45B,EAAa1xC,EAAS,IAEzC,YAATqsC,IACLiH,EAAe55C,IAAM8W,KAAKsH,MAAO45B,EAAa1xC,EAAS,OAE3DwxC,EAAiB,GAAIp3C,MAAK,IAAM,EAAG,EAAG,EAAG,EAAG,EAAG,OAE9C,CAWD,GAVAq4C,EAAWn1C,KAAKk2C,wBAAwB,GAAIp5C,MAAKhC,EAAUmD,YAAa8wC,EAAMf,GAAM,EAAOtrC,EAAOqzC,EAAcT,GAChHE,EAAuBl3C,KAAK,GAAIxB,MAAKhC,EAAUmD,aAC3Cq3C,GAAwB,UAATvG,EACfsG,EAAUr1C,KAAK02C,wBAAwB57C,EAAW4H,GAAOxB,WAGzDk0C,EAAYliC,KAAK6P,IAAI/iB,KAAKs2C,aAAax7C,EAAW4H,EAAOqsC,EAAMuG,GAAa,IAC5ED,EAAUv6C,EAAUoG,UAAYk0C,GAEpCE,GAAc,GACTt1C,KAAK1F,OAAO0jB,iBAAiBsE,aAAwB,QAATysB,EAAgB,CAI7D,IAHA,GAAI4H,GAAY,EACZ11C,EAAa,GAAInE,MAAKhC,GAEnB67C,EAAYj0C,GACfzB,EAAWS,QAAQT,EAAW5E,UAAY,IAE2B,IAAjE2D,KAAK1F,OAAO2S,mBAAmBH,QAAQ7L,EAAW+L,WAElD2pC,GAGRtB,GAAUp0C,EAAWC,UAEzBpG,EAAU2G,QAAQ4zC,IACdO,GAAoB,QAAT7G,GAA2B,UAATA,GAA6B,SAATA,GACjDj0C,EAAUgI,SAAS,EAAG,EAAG,EAAG,GAE5BhI,GAAaC,IAEbo6C,EAAWn1C,KAAKk2C,wBAAwBV,EAAuBA,EAAuB75C,OAAS,GAAIozC,EAAMf,GAAM,EAAMtrC,EAAOqzC,IAEhIR,EAAS7d,YAAYyd,EACrB,IAAIqB,GAA0B,YAATxI,EAAqBhuC,KAAKkrC,kBAAoBlrC,KAAKmrC,oBACxE4K,GAAah7C,QAAU,GAAI+B,MAAKhC,EAAUoG,WACtClB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAOkqB,6BACzE,YAATwpB,EACAhuC,KAAKorC,2BAA2B9sC,KAAKy3C,GAGrC/1C,KAAKqrC,8BAA8B/sC,KAAKy3C,GAI5CS,EAAel4C,KAAKy3C,GAExBh5B,GAASg5B,EAAah5B,MACtB/c,KAAKy2C,eAAiBV,EAAah7C,SAAWA,EAAUA,EAAUg7C,EAAah7C,aA3I/Eq6C,GAAYliC,KAAK6P,IAAI/iB,KAAKs2C,aAAax7C,EAAW4H,EAAOqsC,EAAMuG,GAAa,IAC5ED,EAAUv6C,EAAUoG,UAAYk0C,EAChCt6C,EAAU2G,QAAQ4zC,SA2IhBr1C,KAAK1F,OAAOkqB,gCAAkCxkB,KAAK1F,OAAO8xB,iBAChEpsB,KAAK1F,OAAO8xB,kBAAoBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAiBtP,EAAQ44B,GACpF76C,EAAYC,EAAYD,EAAYC,EACzC,OAAOw6C,IAEXxK,EAAStqC,UAAUq1C,sBAAwB,SAAU/G,EAAMf,EAAM5xC,GAC7D,OAAiB,QAAT2yC,GAA2B,SAATA,GAA4B,YAATA,KACiB,IAA1D/uC,KAAK1F,OAAO2S,mBAAmBH,QAAQ1Q,EAAI4Q,WAEnD+9B,EAAStqC,UAAUm2C,2BAA6B,SAAU77C,EAAS87C,GAC/D,GAAIzvC,GACA4a,EACA80B,EACAC,EACAzZ,EAAiBtF,SAAS5E,uBAAuB,sCAAsC,EAC3F,KAAKv4B,oBAAkByiC,GAAiB,CAGhCyZ,GAFC/2C,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO08C,gBAAkBh3C,KAAK1F,OAAO08C,eAAeC,gBAC1C,UAAtCj3C,KAAK1F,OAAO48C,iBAAiBC,KACd7Z,EAA4B,YAAIt9B,KAAK1F,OAAO08C,eAAeC,eAAyB,SAAE,GAAG/kB,YAGzFoL,EAA4B,WAE/C,IAAInI,GAAgBmI,EAA6B,aAC7CC,EAAevF,SAAS5E,uBAAuB,0BAA0B,GAAiB,YAe9F,IAdAhsB,EAAW8L,KAAK6P,IAAI/iB,KAAK6kB,kBAAkB3jB,UAAYnG,EAAQmG,WAC/DkG,SAEI4a,EADoB,SAApBhiB,KAAKiT,WACSjT,KAAKkwC,eAAelwC,KAAK4hB,uBAAuBitB,iBAAkB7uC,KAAK4hB,uBAAuBC,QAAQnf,MAAO1C,KAAK6hB,SAGlH7hB,KAAKkwC,eAAelwC,KAAK4hB,uBAAuBitB,iBAAkB7uC,KAAK4hB,uBAAuB3O,WAAWvQ,MAAO1C,KAAKiT,YAGnI6jC,EADA3hB,EAAgBoI,EACJvb,EAAc5a,EAAY,GAG1B4a,EAAc5a,EAE1B2vC,GAAgBD,EAAU,CAC1B,GAAIM,GAAYL,EAAeD,CAC/B,IAAK92C,KAAK1F,OAAO0jB,iBAAiBsE,YAqB9B80B,EAAYlkC,KAAKgY,MAAMksB,EAAYp1B,GACnCjnB,EAAQ2G,QAAQ3G,EAAQsB,UAAY+6C,OAtBO,CAW3C,IAVA,GACIhG,SAA4CpvB,EAC5CgB,EAAY9P,KAAKsH,MAAMu8B,EAAe3F,SAEtCG,EAAqB,EADGvxC,KAAK1F,OAAO2S,mBAAmBtR,OAGvD07C,EAAiBr0B,EAAYuuB,EAE7B+F,EAA2B,EAHZpkC,KAAKsH,MAAMwI,EAAYuuB,GAGN8F,EAChCE,EAAax8C,EAAQiS,SAClBqqC,EAAiB,GACpBE,GAAcA,EAAa,GAAK,GAC4B,IAAxDv3C,KAAK1F,OAAO2S,mBAAmBH,QAAQyqC,IACvCF,IAEJC,GAEJv8C,GAAQ2G,QAAQ3G,EAAQsB,UAAYi7C,GAMxCt3C,KAAK1F,OAAOsX,eAAem6B,gBAAkBhxC,EACzC87C,GACA72C,KAAK1F,OAAOs/B,mBAAmB55B,KAAK6kB,kBAAmB7kB,KAAK+rC,gBAAiB/rC,KAAK1F,OAAOu/B,uBAKzGkR,EAAStqC,UAAU+2C,2BAA6B,SAAUz7C,GACtD,GAAI4lB,GAA4B,SAAjB3hB,KAAK6hB,QAAqB7hB,KAAKiT,WAAajT,KAAK6hB,QAC5D9mB,EAAU,GAAI+B,MAAKf,EAAKkC,WAe5B,OAdI+B,MAAK1F,OAAOu/B,qBACK,SAAblY,EACA5mB,EAAQ2I,WAAW,IAED,YAAbie,EACL5mB,EAAQoN,WAAW,IAGnBpN,EAAQ+H,SAAS,GAAI,EAAG,EAAG,IAG/BjI,oBAAkBmF,KAAK1F,OAAO4W,iBAC9BlR,KAAK42C,2BAA2B77C,GAAS,GAEtCA,GAYXgwC,EAAStqC,UAAU61C,aAAe,SAAUx7C,EAAW4H,EAAOqsC,EAAMuG,EAAamC,GAC7E,GAEIrC,GAFAsC,EAAW,GAAI56C,MAAKhC,EAAUoG,WAC9By2C,EAAU,GAAI76C,MAAKhC,EAAUoG,WAE7B02C,GAAW,EACXC,EAAiB,GAAI/6C,MAAK46C,EAC9B,QAAQ3I,GACJ,IAAK,OACD2I,EAAW58C,EACX68C,EAAU,GAAI76C,MAAKhC,EAAUmB,eAAiByG,EAAQ,GAAI,GAAI,GAC9D,IAAIo1C,GAAeh8C,EAAiBhB,GAEhCi9C,GADAC,EAAah4C,KAAKi4C,gBAAgBn9C,EAAW4H,IACbo1C,CACpC1C,GAAYp1C,KAAKk4C,aAAaR,EAAUC,EAASI,EAAmBJ,EAAQz2C,UAAYw2C,EAASx2C,gBAAoCu2C,GAAe,EACpJ,MAEJ,KAAK,QACDC,EAAW58C,EACX68C,EAAU,GAAI76C,MAAKhC,EAAUmB,cAAenB,EAAUqB,WAAauG,EAAO,EAC1E,IAAIo1C,GAAeh8C,EAAiBhB,GAEhCq9C,GADAH,EAAah4C,KAAKo4C,iBAAiBt9C,EAAW4H,IACbo1C,CACrC1C,GAAYp1C,KAAKk4C,aAAaR,EAAUC,EAASQ,EAAmBR,EAAQz2C,UAAYw2C,EAASx2C,UAAWu2C,GAAe,EAC3H,MAEJ,KAAK,OACD,GAAI1qC,GAAW/M,KAAK1F,OAAOsX,eAAegQ,uBAAuBmuB,aAC7DsI,EAAcv9C,EAAUkS,SAAWD,EAAYA,EAAWjS,EAAUkS,SACnE,EAAIlS,EAAUkS,SAAYD,CAC/BrK,GAAQ21C,EAAc,EAAI31C,EAAQ,EAAI,EACtCi1C,EAAQ70C,SAAS,GAAI,EAAG,EAAG,GAC3Bu1C,EAAcv9C,EAAUkS,SAAWD,GAAWsrC,EAAc,EACxDA,EAAc,EAAkBA,EACpCV,EAAQj2C,QAAQi2C,EAAQt7C,WAAag8C,EAAe,EAAI31C,GACxD,IAGI41C,IADAN,GAFAO,EAAqBv4C,KAAKw4C,eAAe19C,IAEwB,IAA7Bu9C,EAAe,EAAI31C,GAAe,GAAK,GAAK,MADhFo1C,EAAeh8C,EAAiBhB,GAGpCs6C,GAAYp1C,KAAKk4C,aAAaR,EAAUC,EAASW,EAAkBX,EAAQz2C,UAAYw2C,EAASx2C,UAAWu2C,GAAe,EAC1H,MAEJ,KAAK,MACDE,EAAQ70C,SAAS,GAAI,EAAG,EAAG,EAC3B,IAAIy1C,GAAqBv4C,KAAKw4C,eAAed,GAGzCe,GADAT,EAAaO,EAAoC,IAAb71C,EAAQ,GAAU,GAAK,GAAK,MADhEo1C,EAAeh8C,EAAiB47C,GAGpCtC,GAAauC,EAAQz2C,UAAYw2C,EAASx2C,UAAc,OAAuBwB,EAAQ,IACnF3G,EAAO,GAAIe,MAAK46C,IACfj2C,QAAQ1F,EAAKmF,UAAYk0C,GAC9BA,EAAYp1C,KAAKk4C,aAAaR,EAAU37C,EAAM08C,EAAiB18C,EAAKmF,UAAYw2C,EAASx2C,UAAWu2C,GAAe,EACnH,MAEJ,KAAK,OACDE,EAAQj0C,WAAW,IACnBi0C,EAAQxvC,WAAW,EACnB,IAGIuwC,IADAV,EAFch4C,KAAK24C,gBAAgBjB,GAEO,IAAbh1C,EAAQ,GAAU,GAAK,MADpDo1C,EAAeh8C,EAAiB47C,GAGpCtC,GAAauC,EAAQz2C,UAAYw2C,EAASx2C,UAAc,MAAkBwB,EAAQ,IAC9E3G,EAAO,GAAIe,MAAK46C,IACfj2C,QAAQ1F,EAAKmF,UAAYk0C,GAC1BE,GAAyB,KAAV5yC,GACa,IAAxBg1C,EAASn7C,YACTR,EAAK+G,SAAS,EAAG,EAAG,EAAG,EAG/B,IAAI81C,GAAiB,GAAI97C,MAAK46C,EAC9BkB,GAAe91C,SAAS81C,EAAer8C,WAAamG,IAEhC,KADHg1C,EAAS9oC,oBAAsBgqC,EAAehqC,sBAE3D7S,EAAK2H,WAAW3H,EAAKU,aAAe,IACpCuD,KAAK6rC,yBAA0B,GAE/B9vC,EAAKQ,WAAcs7C,EAAet7C,WAAamG,IAC/Ck1C,GAAW,GAEfxC,EAAYp1C,KAAKk4C,aAAaR,EAAU37C,EAAM28C,EAAkB38C,EAAKmF,UAAYw2C,EAASx2C,UAAWu2C,EAAeG,EACpH,MAEJ,KAAK,UACDD,EAAQxvC,WAAW,GACnB,IAEI6vC,GAFgBh4C,KAAK64C,kBAAkBnB,GAEK,IAAbh1C,EAAQ,GAAU,IACjDo2C,EAAqBd,GAFrBF,EAAeh8C,EAAiB47C,GAGpCtC,GAAauC,EAAQz2C,UAAYw2C,EAASx2C,UAAc,KAAawB,EAAQ,EAC7E,IAAI3G,GAAO,GAAIe,MAAK46C,EACpB37C,GAAK0F,QAAQ1F,EAAKmF,UAAYk0C,GAC1Br5C,EAAKU,cAAgBo7C,EAAep7C,eACpCm7C,GAAW,GAEfxC,EAAYp1C,KAAKk4C,aAAaR,EAAU37C,EAAM+8C,EAAoB/8C,EAAKmF,UAAYw2C,EAASx2C,UAAWu2C,EAAeG,GAI9H,MAAOxC,IAEXrK,EAAStqC,UAAUw3C,gBAAkB,SAAUc,EAAKr2C,GAChD,GAAI1G,GAAO+8C,EAAI98C,eACf,OAAOa,MAAKC,IAAIf,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,IAEzC+uC,EAAStqC,UAAU23C,iBAAmB,SAAUW,EAAKr2C,GACjD,GAAI1G,GAAO+8C,EAAI98C,cACXC,EAAQ68C,EAAI58C,UAChB,OAAOW,MAAKC,IAAIf,EAAME,EAAQwG,EAAO,EAAG,EAAG,EAAG,EAAG,IAErDqoC,EAAStqC,UAAU+3C,eAAiB,SAAUO,GAC1C,GAAI/8C,GAAO+8C,EAAI98C,cACXC,EAAQ68C,EAAI58C,WACZC,EAAM28C,EAAI18C,SACd,OAAOS,MAAKC,IAAIf,EAAME,EAAOE,EAAM,EAAG,EAAG,EAAG,EAAG,IAEnD2uC,EAAStqC,UAAUk4C,gBAAkB,SAAUI,GAC3C,GAAI/8C,GAAO+8C,EAAI98C,cACXC,EAAQ68C,EAAI58C,WACZC,EAAM28C,EAAI18C,UACVC,EAAQy8C,EAAIx8C,UAChB,OAAOO,MAAKC,IAAIf,EAAME,EAAOE,EAAKE,EAAQ,EAAG,EAAG,EAAG,IAEvDyuC,EAAStqC,UAAUo4C,kBAAoB,SAAUE,GAC7C,GAAI/8C,GAAO+8C,EAAI98C,cACXC,EAAQ68C,EAAI58C,WACZC,EAAM28C,EAAI18C,UACVC,EAAQy8C,EAAIx8C,WACZC,EAAUu8C,EAAIt8C,YAClB,OAAOK,MAAKC,IAAIf,EAAME,EAAOE,EAAKE,EAAOE,EAAU,EAAG,EAAG,IAE7DuuC,EAAStqC,UAAUy3C,aAAe,SAAUR,EAAUC,EAASqB,EAAc5D,EAAWqC,EAAeG,GACnG,IAAK53C,KAAK1F,OAAO+J,cAAcge,iBAAiBq1B,EAASz7C,eACrD,MAAOm5C,EAEX,IAAIp1C,KAAK6rC,wBACL,MAAOuJ,EAEX,IAAI6D,GAAgB7D,EAAY4D,CAChC,OAAIrB,GAAQ/oC,oBAAsB8oC,EAAS9oC,qBAAuB6oC,GAC9Dz3C,KAAKyrC,iBAAkB,EACnBzrC,KAAK0rC,cACEsN,EAEJpB,EAAWxC,OAA+BA,IAEjD6D,EAAgB,EAChB7D,GAAa6D,EAERA,EAAgB,IACrB7D,GAAaliC,KAAK6P,IAAIk2B,IAGf7D,IAYfrK,EAAStqC,UAAUy4C,oBAAsB,SAAUnK,EAAMf,EAAM5xC,GAC3D,QAAiB,QAAT2yC,GAA2B,SAATA,GAA4B,YAATA,GAAoE,IAA5C/uC,KAAK4hB,uBAAuBosB,GAAMtrC,OAC1F,SAATqsC,GAA4B,YAATA,IACuC,IAA1D/uC,KAAK1F,OAAO2S,mBAAmBH,QAAQ1Q,EAAI4Q,YAEnD+9B,EAAStqC,UAAUi2C,wBAA0B,SAAU36C,EAAM2G,GACzD,GAAIxG,GAAQH,EAAKI,UACjB,OAAc,KAAVuG,EACIxG,GAAS,GAAKA,GAAS,EAChB,GAAIY,MAAKf,EAAKE,cAAe,EAAG,GAElCC,GAAS,GAAKA,GAAS,EACrB,GAAIY,MAAKf,EAAKE,cAAe,EAAG,GAElCC,GAAS,GAAKA,GAAS,EACrB,GAAIY,MAAKf,EAAKE,cAAe,EAAG,GAGhC,GAAIa,MAAKf,EAAKE,cAAgB,EAAG,EAAG,GAI3CC,GAAS,GAAKA,GAAS,EAChB,GAAIY,MAAKf,EAAKE,cAAe,EAAG,GAGhC,GAAIa,MAAKf,EAAKE,cAAgB,EAAG,EAAG,IAIvD8uC,EAAStqC,UAAU04C,oBAAsB,SAAUpK,EAAMrsC,GACrD,GAAI02C,GAAY,CAChB,QAAQrK,GACJ,IAAK,OACDqK,EAAY,EAAI12C,CAChB,MACJ,KAAK,MACD02C,EAAY,GAAK12C,CACjB,MACJ,KAAK,OACD02C,EAAY,IAAS12C,CACrB,MACJ,KAAK,UACD02C,EAAY12C,EAAQ,GAG5B,MAAO02C,IAeXrO,EAAStqC,UAAUy1C,wBAA0B,SAAUmD,EAAetK,EAAMf,EAAMsL,EAAQ52C,EAAOqzC,EAAcT,EAAapB,GACxH,GACIqF,GADApE,EAAW,GAEXqE,EAAmB,IAClB3+C,qBAAkBmF,KAAK1F,OAAOk/C,oBAC/BA,EAAmBx5C,KAAK1F,OAAOkb,gBAAgBikC,iBAAiBz5C,KAAK1F,OAAOk/C,kBAEhF,IAMIE,GANAxpC,EAAkB,YAAT89B,EACThuC,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQ3R,OAC1DlQ,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAW/C,OAC7DglC,EAAqB,YAATlH,EACZhuC,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQqzB,UAC1Dl1C,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWiiC,UAE7DE,EAAYp1C,KAAKs2C,aAAa+C,EAAe32C,EAAOqsC,EAAMuG,EAC9D,KAAKt1C,KAAK1F,OAAO0jB,iBAAiBsE,cAAyB,SAATysB,GAA4B,UAATA,GAA6B,SAATA,IAA6B,YAATf,GACrD,QAApDhuC,KAAK1F,OAAO0xC,oBAAoB/4B,WAAWrG,KAAgB,CAC3D,GAAI+sC,GAAgB,GAAI78C,MAAKu8C,GACzBO,EAAc,GAAI98C,MAAKu8C,GACvBQ,EAAU,GAAI/8C,MAAK88C,EAAY14C,UAAYk0C,EAE/CA,IAAyC,GADrBp1C,KAAKkjB,oCAAoCy2B,EAAeE,GAC9B,GAAK,GAAK,IAG5D,GAAIC,GADJJ,EAAUxmC,KAAK6P,IAAKqyB,QAAqCp1C,KAAK1F,OAAO0nB,YAErE03B,GAAUJ,EACJt5C,KAAKiuC,6BAA6Bc,EAAMsK,EAAer5C,KAAK+yC,wBAAyBgD,EAAcuD,GAClGhE,GAAwB,SAATvG,EACZ/uC,KAAKiuC,6BAA6Bc,EAAMsK,EAAer5C,KAAK02C,wBAAwB2C,EAAe32C,IACnGg3C,EACN15C,KAAK4rC,aAAe5rC,KAAK1F,OAAOg3C,QAAQ+H,IAA+C,IAA7BA,EAAc98C,YACxEyD,KAAK6zC,oBAAoBwF,KACzBK,GAAW15C,KAAK1F,OAAO0nB,YAAc,IAEzChiB,KAAK4rC,aAAc,CACnB,IAAImO,GAAgB/5C,KAAKk5C,oBAAoBnK,EAAMf,EAAMqL,GACrDW,EAAyB,YAAThM,EAAqB,yBAA2B,EAChEsH,IAA4C,KAA7B+D,EAAc98C,YAA+B,KAAVmG,GAAyB,eAATsrC,GACI,SAAtEhuC,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,MAC7DysC,EAAc53C,QAAQ43C,EAAcn4C,eAExC,IAAI+4C,GAAc,GAAIn9C,MAAKu8C,EAC3B,IAAKr5C,KAAK1F,OAAO0jB,iBAAiBsE,YAS9B23B,EAAc,GAAIn9C,MAAKu8C,OAPvB,IADgBr5C,KAAKk6C,UAAUD,GAE3B,MAAyE,IAAlEj6C,KAAK1F,OAAO2S,mBAAmBH,QAAQmtC,EAAYjtC,WACtDitC,EAAYv4C,QAAQu4C,EAAY59C,UAAY,EAOxD,IAGIgD,GAHAtD,EAAOlB,oBAAkBq6C,GACzBl1C,KAAK1F,OAAO0V,UAAUyjC,WAAWwG,GAAe/pC,OAAQlQ,KAAK1F,OAAO6V,kBACpEnQ,KAAKi1C,aAAagF,EAAa/pC,EAAQ89B,EAAMe,EAAMmG,EAUvD,IAPI71C,EADAW,KAAKurC,aACI1wC,oBAAkBq6C,GAAal1C,KAAKqzC,iBAAiBnjC,EAAQ+pC,EAAa/F,GAC/El0C,KAAKi1C,aAAagF,EAAa/pC,EAAQ89B,EAAMe,EAAMmG,GAG9Cr6C,oBAAkBq6C,GAAal1C,KAAKqzC,iBAAiBnjC,EAAQ+pC,GAClEj6C,KAAKi1C,aAAagF,EAAa/pC,EAAQ89B,EAAMe,EAAMmG,IAEtDr6C,oBAAkB2+C,GAAmB,CACtC,GAAIx6C,IACAjD,KAAMA,EACNiyC,KAAMA,EACN3uC,MAAOA,GAGP86C,GADJZ,EAAWC,EAAiBt7C,YAAWc,GAAOgB,KAAK1F,OAAQ,mBAAoB0F,KAAK1F,OAAOkb,gBAAgB4kC,cAAc,qBAAqB,MAAOzyC,GAAW,KAAM3H,KAAK1F,OAAa,OAC5J,EACxB6/C,aAAwBE,eACxBF,EAAa7jB,aAAa,YAAa0X,GACvCmM,EAAa7jB,aAAa,OAAQv6B,GAClCo+C,EAAa7jB,aAAa,QAASj3B,IAG3C,GAAIm4B,GAAYx3B,KAAK1F,OAAOsX,eAAe4Y,aJxxDb,gCAHH,6BI4xDvB8vB,EAAeP,EAAgB,yBAA8B,GAC7DQ,EAAKhjB,gBAAc,MACnBC,UAAW,GAAKA,EAAY8iB,EAC5B7iB,OAAQ,SAAWiiB,EAAU,OAASK,GAAiB/5C,KAAK4hB,uBAAuB44B,kBAAoB,oBAAsBx6C,KAAK4hB,uBAAuB44B,kBAAoB,IAAM,KAEvLD,GAAG9a,UAAY,EACf8a,EAAGjkB,aAAa,aAAct2B,KAAK1F,OAAOoW,UAAUC,YAAY,gBAAkB,IAAM5U,EACxF,IAAI81C,GAAMta,gBAAc,OACpBC,UJnyDyB,sBImyDqBwiB,EAC9CviB,OAAQ,UAAYiiB,EAAU,GAAK,OA2BvC,OAzBA7H,GAAI4I,MAAQz6C,KAAK1F,OAAO0jB,iBAAiB08B,YAAc3+C,EAAO,GAC9D81C,EAAI8I,YAAct7C,EAClBwyC,EAAIvb,aAAa,YAAa0X,GAC1BhuC,KAAK1F,OAAOqyC,UAAY9xC,oBAAkB0+C,IAAaA,EAAS59C,OAAS,IACzE49C,EAAS,GAAU,MAAEx8B,MAAQ,OAC7Bw8B,EAAS,GAAU,MAAEtkB,OAAS,SAE7Bp6B,oBAAkB2+C,KAAsB3+C,oBAAkB0+C,IAAaA,EAAS59C,OAAS,EAC1Fi/C,SAAOrB,EAAUgB,GAGjBA,EAAGK,OAAO/I,GAGdsD,GAAYoF,EAAGjnB,WACVtzB,KAAKwqB,cAAyB,YAATwjB,GAAwBsL,GAGxCt5C,KAAKwqB,cAAyB,YAATwjB,IAAuBsL,IAClDt5C,KAAKm2B,mBAAsBn2B,KAAKm2B,mBAAqB2jB,EAAaJ,GAHlE15C,KAAKm2B,mBAAqBn2B,KAAKm2B,mBAAqBujB,EAMxD3D,EAAa12C,MAAQA,EACrB02C,EAAamE,UAAYH,EACzBhE,EAAah5B,MAAQ28B,EACda,GAaXxP,EAAStqC,UAAUyiB,oCAAsC,SAAUpoB,EAAWC,GAY1E,IAAK,GATDioB,GAAY9P,KAAKC,MAAMpY,EAAQmG,UAAYpG,EAAUoG,WAFxC,OAKbuwC,EAAYzuB,EAAY,EAGxBmC,EAJgBjS,KAAKsH,MAAMwI,EAAY,GAGfhjB,KAAK1F,OAAO2S,mBAAmBtR,OAGvDk/C,EAAW//C,EAAUkS,SAChBlP,EAAI,EAAGA,EAAI2zC,EAAW3zC,IAAK,CAChC,GAAImD,IAAc45C,EAAW/8C,GAAK,GAC0B,IAAxDkC,KAAK1F,OAAO2S,mBAAmBH,QAAQ7L,IACvCkkB,IAGR,MAAOA,IAWX4lB,EAAStqC,UAAUy5C,UAAY,SAAUn+C,GACrC,GAAIK,GAAML,EAAKiR,QACf,QAAwD,IAAjDhN,KAAK1F,OAAO2S,mBAAmBH,QAAQ1Q,IAclD2uC,EAAStqC,UAAUwtC,6BAA+B,SAAUc,EAAMsK,EAAet+C,EAASg7C,EAAcuD,GACpG,GAAIpzC,GAAQ,GAAIpJ,MAAKu8C,EAAcn4C,WAC/BiF,EAAQ,GAAIrJ,MAAK/B,EAAQmG,UAC7BlB,MAAK1F,OAAOoE,qBAA6C,uBAAEwH,EAAOC,EAClE,IACI6c,IADkB7c,EAAMjF,UAAYgF,EAAMhF,gBAE9C,IAAKlB,KAAK1F,OAAO0jB,iBAAiBsE,aAAmE,QAApDtiB,KAAK1F,OAAO0xC,oBAAoB/4B,WAAWrG,KAyBxF,MAAOoW,GAAYhjB,KAAK1F,OAAO0nB,WAxB/B,IACI84B,GADa5nC,KAAKsH,MAAMwI,EAAY,IACH,EAAIhjB,KAAK1F,OAAO2S,mBAAmBtR,QACpEo/C,EAAgB/3B,EAAY,CAChC,IAAI+3B,EAAgB,GAAKD,EAAmB,EAAG,CAG3C,IAAK,GAFDE,GAAwB,EACxB/3B,EAAc,GAAInmB,MAAKoJ,GAClBpI,EAAI,EAAGA,EAAIi9C,EAAej9C,IAAK,CACpC,GAAI8N,GAAYqX,EAAYjW,UAC+B,IAAvDhN,KAAK1F,OAAO2S,mBAAmBH,QAAQlB,IACvCovC,IAEJ/3B,EAAYvhB,QAAQuhB,EAAY5mB,UAAY,GAGhD,OADkBy+C,EAAmBE,GAChBh7C,KAAK1F,OAAO0nB,YAEhC,MAAIhiB,MAAKmS,aAAemnC,EAClBvD,EAAah5B,MAGbiG,EAAYhjB,KAAK1F,OAAO0nB,aAa3C+oB,EAAStqC,UAAU0rC,yBAA2B,WAC1C,GAAI0C,GAAmB7uC,KAAK4hB,uBAAuBitB,iBAC/CoM,EAAkBj7C,KAAK4hB,uBAAuB3O,WAAWvQ,MACzDw4C,EAAel7C,KAAK4hB,uBAAuBC,QAAQnf,KACvD1C,MAAKm7C,oBAAsBtM,EACH,SAApB7uC,KAAKiT,WACLjT,KAAK1F,OAAO0nB,YAAchiB,KAAKkwC,eAAerB,EAAkBqM,EAAcl7C,KAAK6hB,SAGnF7hB,KAAK1F,OAAO0nB,YAAchiB,KAAKkwC,eAAerB,EAAkBoM,EAAiBj7C,KAAKiT,YAE1FjT,KAAKo7C,iBAAuC,SAApBp7C,KAAKiT,WAAyC,SAAjBjT,KAAK6hB,QAC5B,EAA1B7hB,KAAK1F,OAAO0nB,YAAmC,SAAjBhiB,KAAK6hB,QACnC7hB,KAAK1F,OAAO0nB,YAAc,GAAsB,YAAjBhiB,KAAK6hB,QACpC7hB,KAAK1F,OAAO0nB,iBAA0BhiB,KAAK1F,OAAO0nB,YAAc6sB,EACpE7uC,KAAKo7C,iBAAmBp7C,KAAKwqB,aAAexqB,KAAKo7C,iBAAmBp7C,KAAKo7C,iBAAmBF,GAWhGnQ,EAAStqC,UAAUyvC,eAAiB,SAAUrB,EAAkBoM,EAAiBlM,GAC7E,GAAI/sB,EACJ,QAAQ+sB,GACJ,IAAK,OACD/sB,EAAe6sB,EAAmBoM,KAClC,MACJ,KAAK,QACDj5B,EAAe6sB,EAAmBoM,EAAmB,EACrD,MACJ,KAAK,OACDj5B,EAAe6sB,EAAmBoM,EAAmB,CACrD,MACJ,KAAK,MACDj5B,EAAc6sB,EAAmBoM,CACjC,MACJ,KAAK,OACDj5B,EAAe,GAAKi5B,EAAmBpM,CACvC,MACJ,KAAK,UACD7sB,EAAe,KAAYi5B,EAAmBpM,EAGtD,MAAO7sB,IAQX+oB,EAAStqC,UAAUwrC,aAAe,WAC9B,GAAInxC,GAAYkF,KAAK1F,OAAOuO,sBACxB9N,EAAUiF,KAAK1F,OAAOmX,oBACtBkQ,EAA4B,SAAjB3hB,KAAK6hB,QAAqB7hB,KAAKiT,WAAajT,KAAK6hB,OAChE,IAAI7hB,KAAK1F,OAAOu/B,mBAAoB,CAChC,GAAiB,SAAblY,EACA7mB,EAAY,GAAIgC,MAAKhC,EAAUmB,cAAe,EAAG,GACjDlB,EAAU,GAAI+B,MAAK/B,EAAQkB,cAAe,GAAI,QAE7C,IAAiB,UAAb0lB,EACL7mB,EAAY,GAAIgC,MAAKhC,EAAUmB,cAAenB,EAAUqB,WAAY,GACpEpB,EAAU,GAAI+B,MAAK/B,EAAQkB,cAAelB,EAAQoB,WAAa,EAAG,OAEjE,IAAiB,SAAbwlB,EAAqB,CAC1B,GAAI5U,GAAYlS,oBAAkBmF,KAAK4hB,uBAAuBmuB,cACO,EAAjE/vC,KAAK1F,OAAOsX,eAAegQ,uBAAuBmuB,aAClDsL,EAAoBvgD,EAAUkS,SAAWD,EACxCjS,EAAUuB,WAAc,EAAI0Q,EAAWjS,EAAUkS,UACjDlS,EAAUuB,UAAavB,EAAUkS,SAAWD,CACjD,KAAK/M,KAAK1F,OAAO0jB,iBAAiBsE,YAC9B,KAAOtiB,KAAKk6C,UAAU,GAAIp9C,MAAKhC,EAAUmB,cAAenB,EAAUqB,WAAYk/C,KAC1EA,GAGRvgD,GAAU4G,QAAQ25C,EAClB,IACIC,GADQvgD,EAAQsB,UAAYtB,EAAQiS,SACrB,EAAID,CACvBhS,GAAQ2G,QAAQ45C,GAEH,SAAb35B,EACA7mB,EAAU4I,WAAW,GAEH,YAAbie,EACL7mB,EAAUqN,WAAW,GAGrBrN,EAAUgI,SAAS,EAAG,EAAG,EAAG,GAGpC9C,KAAK6kB,kBAAoB/pB,EACzBkF,KAAK+rC,gBAAkBhxC,EACvBiF,KAAK+yC,wBAA0B/yC,KAAKw3C,2BAA2Bx3C,KAAK+rC,kBAYxEhB,EAAStqC,UAAU86C,6BAA+B,SAAUxM,EAAMyM,EAAM1gD,EAAWC,GAgC/E,GA/Ba,SAATg0C,IACa,iBAATyM,EAEI1gD,EADyB,IAAzBA,EAAUqB,WACE,GAAIW,MAAKhC,EAAUmB,cAAgB,EAAG,EAAG,GAGzC,GAAIa,MAAKhC,EAAUmB,cAAe,EAAG,GAKjDlB,EADuB,KAAvBA,EAAQoB,WACE,GAAIW,MAAK/B,EAAQkB,cAAgB,EAAG,EAAG,GAGvC,GAAIa,MAAK/B,EAAQkB,cAAe,GAAI,IAI7C,UAAT8yC,IACa,iBAATyM,EAEI1gD,EADwB,IAAxBA,EAAUuB,UACE,GAAIS,MAAKhC,EAAUmB,cAAenB,EAAUqB,WAAa,EAAG,GAG5D,GAAIW,MAAKhC,EAAUmB,cAAenB,EAAUqB,WAAY,GAIxEpB,EAAU,GAAI+B,MAAK/B,EAAQkB,cAAelB,EAAQoB,WAAa,EAAG,IAG7D,SAAT4yC,EAAiB,CACjB,GAAIhiC,GAAW/M,KAAK1F,OAAOsX,eAAegQ,uBAAuBmuB,aAC7DsI,MAAc,EACL,kBAATmD,GACAnD,EAAcv9C,EAAUkS,SAAWD,EAAW,GAAKA,EAAWjS,EAAUkS,UACpElS,EAAUkS,SAAWD,EACzBjS,EAAUgI,SAAS,EAAG,EAAG,EAAG,GACR,IAAhBu1C,EACAv9C,EAAU4G,QAAQ5G,EAAUuB,UAAY,GAGxCvB,EAAU4G,QAAQ5G,EAAUuB,UAAYg8C,KAI5CA,EAAct9C,EAAQiS,SAAWD,EAAYA,EAAWhS,EAAQiS,SAC3D,EAAIjS,EAAQiS,SAAYD,EAC7BhS,EAAQ+H,SAAS,EAAG,EAAG,EAAG,GACN,IAAhBu1C,EACAt9C,EAAQ2G,QAAQ3G,EAAQsB,UAAY,GAGpCtB,EAAQ2G,QAAQ3G,EAAQsB,UAAYg8C,IAInC,QAATtJ,IACa,iBAATyM,EAC6B,IAAzB1gD,EAAUyB,WACVzB,EAAU2G,QAAQ3G,EAAUoG,iBAG5BpG,EAAUgI,SAAS,GAII,IAAvB/H,EAAQwB,WACRxB,EAAQ0G,QAAQ1G,EAAQmG,iBAGxBnG,EAAQ+H,SAAS,KAIhB,SAATisC,IACa,iBAATyM,EAC+B,IAA3B1gD,EAAU2B,aACV3B,EAAU2G,QAAQ3G,EAAUoG,gBAG5BpG,EAAU4I,WAAW,GAII,IAAzB3I,EAAQ0B,aACR1B,EAAQ0G,QAAQ1G,EAAQmG,gBAGxBnG,EAAQ2I,WAAW,KAIlB,YAATqrC,IACa,iBAATyM,EAC+B,IAA3B1gD,EAAU6B,aACV7B,EAAU2G,QAAQ3G,EAAUoG,eAG5BpG,EAAUqN,WAAW,GAII,IAAzBpN,EAAQ4B,aACR5B,EAAQ0G,QAAQ1G,EAAQmG,eAGxBnG,EAAQoN,WAAW,KAI/BnI,KAAK1F,OAAOuO,sBAAwB/N,EACpCkF,KAAK1F,OAAOmX,oBAAsB1W,GAUtCgwC,EAAStqC,UAAUg7C,wBAA0B,SAAUC,EAAW/rB,GAC9D,GAAI+rB,EAAU,GAAG//C,QAAU,EACvB,IAAK,GAAImC,GAAI,EAAGA,EAAI49C,EAAU//C,OAAQmC,IAAK,CACvC,GAAIxC,GAAOogD,EAAU19C,SAASF,EAAEG,WAAY,KACxC09C,EAA0BrgD,EAAKqe,OAAO,SAAUiiC,GAAO,OAAQ/gD,oBAAkB+gD,EAAIp9C,gBAAgB1D,aACrG+gD,EAAwBvgD,EAAKqe,OAAO,SAAUiiC,GAAO,OAAQ/gD,oBAAkB+gD,EAAIp9C,gBAAgBzD,WACnGiO,EAAe2yC,EAAwBhgD,OAAS,EAChD,GAAImB,MAAKg/C,WAASC,WAAWztC,IAAIqtC,EAAyB,8BAAgC,KAC1FK,EAAaL,EAAwBhgD,OAAS,EAC9C,GAAImB,MAAKg/C,WAASC,WAAWztC,IAAIutC,EAAuB,4BAA8B,KACtF1qC,EAAa0qC,EAAsBlgD,OAAS,EAC5C,GAAImB,MAAKg/C,WAASC,WAAWE,IAAIJ,EAAuB,4BAA8B,KACtFK,EAAiB,GAAIp/C,MAAKkD,KAAK1F,OAAO+J,cAAcvD,eAAed,KAAK6kB,mBAAmB3jB,WAC3Fi7C,EAAe,GAAIr/C,MAAKkD,KAAK1F,OAAO+J,cAActB,aAAa/C,KAAK+rC,iBAAiB7qC,WACrFk7C,EAAevhD,oBAAkBmO,GACjC,KAAOhJ,KAAK1F,OAAO+J,cAAcmd,YAAYxY,GAAc,GAC3DqzC,EAAaxhD,oBAAkBsW,GAC/B,KAAOnR,KAAK1F,OAAO+J,cAAcmd,YAAYrQ,GAAY,GACzDmrC,EAAiBt8C,KAAK1F,OAAO+J,cAAcmd,YAAY06B,GAAgB,GACvEK,EAAev8C,KAAK1F,OAAO+J,cAAcmd,YAAY26B,GAAc,GACnEK,MAAY,GACZC,EAAgBz8C,KAAK1F,OAAO0I,WAAWC,kBACvCnI,EAAY6gD,EAAwBhgD,OAAS,EAC7C,GAAImB,MAAKg/C,WAASC,WAAWztC,IAAIqtC,EAAyB,8BAA8B74C,SAAS,EAAG,EAAG,EAAG,GAAK,KAC/G+hB,EAAoB,GAAI/nB,MAAKkD,KAAK6kB,kBAAkB3jB,WAAW4B,SAAS,EAAG,EAAG,EAAG,IAChFjI,oBAAkBuhD,KAAuBvhD,oBAAkB4hD,KAAqBA,EAAcC,mBAAyD,kBAApCD,EAAcC,mBAA0C7hD,oBAAkB4hD,EAAcC,qBAC3M5hD,GAAa+pB,IAAyBu3B,EAAep8C,KAAKm7C,qBAAuBiB,GAAgBE,IAClGE,EAAY,eACZxzC,EAAeA,EAAehJ,KAAK6kB,kBAAoB7kB,KAAK6kB,kBAAoB7b,GAGhFA,EAAehJ,KAAK6kB,mBAEnBhqB,oBAAkBwhD,IAAgBA,IAAgBr8C,KAAK1F,OAAOkqB,6BAC/DxkB,KAAKgzB,mBAAqBhzB,KAAKm2B,oBAAsBn2B,KAAKm7C,qBAC1DkB,EAAaE,GACbC,EAA0B,iBAAdA,EAA+B,OAAS,eACpDrrC,EAAaA,EAAanR,KAAK+rC,gBAAkB/rC,KAAK+rC,gBAAkB56B,GAGxEA,EAAanR,KAAK+rC,gBAElByQ,EACAx8C,KAAK28C,sBAAsBH,EAAW7sB,EAAQ3mB,EAAcmI,GAEtDtW,oBAAkBS,EAAK,GAAGkD,gBAAgBmG,WAChD3E,KAAK1F,OAAO+J,cAAcwW,gBAAgBvf,EAAK,KAE9CT,oBAAkBmO,KAAkBnO,oBAAkBmhD,IAAeA,GAAchzC,IAA4B,gBAAX2mB,GAAuC,kBAAXA,IAA+B3vB,KAAK1F,OAAOiP,uBAC5KP,EAAe,GAAIlM,MAAKoW,KAAK5E,IAAItF,EAAa9H,UAAW86C,EAAW96C,YACpE8H,EAAe,GAAIlM,MAAKoW,KAAK5E,IAAItF,EAAa9H,UAAWlB,KAAK6kB,kBAAkB3jB,YAChFlB,KAAK28C,sBAAsB,eAAgBhtB,EAAQ3mB,EAAcmI,IAE5DtW,oBAAkBmhD,IAAeA,GAAchzC,IAA4B,gBAAX2mB,GAAuC,kBAAXA,IAA+B3vB,KAAK1F,OAAOiP,uBAAiD,IAAxBmyC,EAAU,GAAG//C,SACjLd,oBAAkB6gD,EAAU,GAAG,GAAGl9C,gBAAgBzD,UAAaF,oBAAkBS,EAAK,GAAGkD,gBAAgB1D,YAC1GQ,EAAK,GAAGkD,gBAAgBzD,SAAWiF,KAAK6kB,oBACxC7b,EAAe,GAAIlM,MAAKoW,KAAK5E,IAAIotC,EAAU,GAAG,GAAGl9C,gBAAgBzD,QAAQmG,UAAW8H,EAAa9H,YACjGlB,KAAK28C,sBAAsB,eAAgBhtB,EAAQ3mB,EAAcmI,GAErE,SAeZ45B,EAAStqC,UAAUk8C,sBAAwB,SAAUvsC,EAAMwsC,EAAQ9hD,EAAWC,EAASg0C,GACnFA,EAAQl0C,oBAAkBk0C,GAAsD,SAAvC/uC,KAAK1F,OAAOsX,eAAeiQ,QAChE7hB,KAAK1F,OAAOsX,eAAeqB,WAAajT,KAAK1F,OAAOsX,eAAeiQ,QADrCktB,CAElC,IAAIjmC,GAAmB,GAAIhM,MAAKkD,KAAK1F,OAAOuO,sBAAsB3H,WAC9DgQ,EAAiB,GAAIpU,MAAKkD,KAAK1F,OAAOmX,oBAAoBvQ,UAC/C,kBAAX07C,GAAsC,SAATxsC,GAC7BpQ,KAAKu7C,6BAA6BxM,EAAM,eAAgBj0C,EAAWC,GACnEiF,KAAKu7C,6BAA6BxM,EAAM,eAAgB,GAAIjyC,MAAKkD,KAAK1F,OAAOuO,sBAAsB3H,WAAYnG,IAG/GiF,KAAKu7C,6BAA6BxM,EAAM3+B,EAAMtV,EAAWC,EAE7D,IAAIiE,GAAOgB,KAAK68C,oBAAoB,cAAezsC,EAAMwsC,EACzD,IAAK59C,EAAK4/B,OA0BN5+B,KAAK1F,OAAOuO,sBAAwBC,EACpC9I,KAAK1F,OAAOmX,oBAAsBP,MA3BpB,CACdlR,KAAKsrC,gBAAiB,EACtBtrC,KAAKwrC,yBAA0B,CAC/B,IAAItV,GAAqBl2B,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,UAEpE,IADA3kB,KAAK1F,OAAOs/B,mBAAmB56B,EAAK8J,iBAAkB9J,EAAK89C,eAAgB99C,EAAK66B,mBAAoB+iB,GACvF,iBAATxsC,GAAsC,iBAAXwsC,EAC3B58C,KAAK1F,OAAOmqB,iBAAiB0c,iBAAiB,GAC9CnhC,KAAK1F,OAAOsX,eAAeO,aAAc,MAExC,IAAa,iBAAT/B,GAAsC,iBAAXwsC,EAChC58C,KAAK1F,OAAOmqB,iBAAiB0c,iBAAiBnhC,KAAK1F,OAAOkqB,6BACtDxkB,KAAKgzB,mBAAqBhzB,KAAKm2B,oBACnCn2B,KAAK1F,OAAOsX,eAAeO,aAAc,MAExC,IAAa,iBAAT/B,GAAsC,mBAAXwsC,EAA6B,CAC7D,GAAIlQ,GAAoB1U,SAAS5E,uBAAuB,sCAAsC,GAAGzO,UACjG3kB,MAAK1F,OAAOwL,QAAQD,cAAc,gCAAgC8e,WAAa+nB,EAC/E1sC,KAAK1F,OAAOsX,eAAeO,aAAc,EAE9B,mBAAXyqC,GAA+B58C,KAAK1F,OAAOkqB,+BAAiCxkB,KAAKgzB,mBAAuD,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,aAAoBr3B,oBAAkBmF,KAAK1F,OAAOwO,mBAAqBjO,oBAAkBmF,KAAK1F,OAAO4W,mBAC/NlR,KAAK1F,OAAOmqB,iBAAiBC,aAAauS,cAAcf,GACxDl2B,KAAK1F,OAAOmqB,iBAAiBC,aAAaqN,iBAE9C/xB,KAAK1F,OAAOsX,eAAeirC,oBAAoB,iBAAkBzsC,EAAMwsC,KAgB/E7R,EAAStqC,UAAUo8C,oBAAsB,SAAUE,EAAWlmB,EAAa+lB,GACvE,GAAI59C,KAWJ,OAVAA,GAAK8J,iBAAmB,GAAIhM,MAAKkD,KAAK1F,OAAOuO,sBAAsB3H,WACnElC,EAAK89C,eAAiB,GAAIhgD,MAAKkD,KAAK1F,OAAOmX,oBAAoBvQ,WAC/DlC,EAAK63B,YAAyB,iBAAX+lB,EAA4B/lB,EAAyB,cAAX+lB,EACzD,uBAAoC,mBAAXA,EAA8B,wBAA0B/lB,EACnE,gBAAdkmB,IACA/9C,EAAK66B,mBAAqB75B,KAAK1F,OAAOu/B,mBACtC76B,EAAK4/B,QAAS,GAElB5/B,EAAK2wB,OAAS,kBACd3vB,KAAK1F,OAAOgc,QAAQymC,EAAW/9C,GACxBA,GAEJ+rC,KCzyEPiS,GAAwB,WACxB,QAASA,GAAOC,GAOZj9C,KAAK4/B,cAAe,EAOpB5/B,KAAKk9C,iBAAkB,EAOvBl9C,KAAKm9C,eAAgB,EAOrBn9C,KAAKo9C,cAAe,EAOpBp9C,KAAKuiC,gBAAiB,EAMtBviC,KAAKwF,QACL63C,QAAMr9C,KAAMi9C,GAEhB,MAAOD,MCzCPM,GAA+B,WAC/B,QAASA,GAAchjD,GACnB,GAAI2W,GAAQjR,IACZA,MAAKu9C,WAAY,EACjBv9C,KAAK+wB,gBAAmBC,IAAK,EAAGlT,KAAM,GACtC9d,KAAKw9C,cAAgB,SAAUx+C,GAC3BiS,EAAM3W,OAAOgc,QAAQ,gBAAiBtX,IAE1CgB,KAAKy9C,eAAiB,SAAUz+C,GAC5BiS,EAAM3W,OAAOgc,QAAQ,iBAAkBtX,IAE3CgB,KAAK09C,aAAe,SAAU1+C,GAC1BiS,EAAM3W,OAAOgc,QAAQ,eAAgBtX,IAEzCgB,KAAK29C,eAAiB,SAAU3+C,GAC5BiS,EAAM3W,OAAOy7B,OAAO,iBAAkB/2B,GACtCiS,EAAM3W,OAAOgc,QAAQ,iBAAkBtX,GACvCg5B,SAASnyB,cAAc,cAAc2O,iBAAiB,YAAa,WAC/D,GAAIopC,GAAgB5lB,SAASnyB,cAAc,mBACvCg4C,EAAa7lB,SAASnyB,cAAc,iBACnChL,qBAAkB+iD,IACdC,EAAWrjD,UAAUC,SAAS,cAC/BkE,SAAOsS,EAAM3W,OAAO8X,aAAa0rC,sBAKjD99C,KAAK+9C,gBAAkB,SAAU/+C,GAC7BiS,EAAM3W,OAAOgc,QAAQ,kBAAmBtX,IAE5CgB,KAAKg+C,sBAAwB,SAAUC,EAAK/U,GACxC,GAAI+U,EAAK,CAIL,IAAK,GAHDviD,GAAOD,OAAOC,KAAKuiD,GACnBC,GAAU,EACVC,GAAe,WAAY,eAAgB,WAAY,WAAY,aAAc,iBAAkB,mBAC9FrgD,EAAI,EAAGA,EAAIpC,EAAKC,OAAQmC,IAK7B,IAJamgD,EAAIviD,EAAKsC,SAASF,EAAEG,WAAY,eAAiBnB,MAC1D,GAAIA,MAAKmhD,EAAIviD,EAAKsC,SAASF,EAAEG,WAAY,OAAOiD,UAAY+8C,EAAIviD,EAAKsC,SAASF,EAAEG,WAAY,UAC/EirC,EAAQxtC,EAAKsC,SAASF,EAAEG,WAAY,eAAiBnB,MAClE,GAAIA,MAAKosC,EAAQxtC,EAAKsC,SAASF,EAAEG,WAAY,OAAOiD,UAAYgoC,EAAQxtC,EAAKsC,SAASF,EAAEG,WAAY,SACzC,IAAlCkgD,EAAYrxC,QAAQpR,EAAKoC,IAAY,CAC9DmT,EAAM3W,OAAO8jD,gBAAgB9/C,KAAK4qC,GAClCgV,GAAU,CACV,OAGR,MAAOA,GAGP,OAAO,GAGfl+C,KAAK1F,OAASA,EACd0F,KAAK1F,OAAO4H,SAAW,GAAIm8C,YAC3Br+C,KAAK1F,OAAO4H,SAASo8C,gBAAiB,EACtCt+C,KAAK1F,OAAO4H,SAASq8C,cAAgBv+C,KAAK1F,OAAOikD,cACjDv+C,KAAK1F,OAAO4H,SAAS,0BAA4BlC,KAAK1F,OAAOkkD,oBAC7Dx+C,KAAK1F,OAAO4H,SAASu8C,oBAAsBz+C,KAAK1F,OAAOmkD,oBACvDz+C,KAAK0+C,oBACA1+C,KAAK1F,OAAOqkD,iBAAmB3+C,KAAK1F,OAAO0G,SAC5ChB,KAAK1F,OAAOskD,qBAAuB1gD,eAAe8B,KAAK1F,OAAO2gB,SAAS,IAE3Ejb,KAAK6+C,uBACD7+C,KAAK1F,OAAOqkD,kBACZ3+C,KAAK1F,OAAOqkD,iBAAkB,GAElC3+C,KAAKwU,mBA4oCT,MA1oCA8oC,GAAc78C,UAAU+T,iBAAmB,WACvCxU,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAK8+C,gBAAiB9+C,MACrDA,KAAK1F,OAAOma,GAAG,cAAezU,KAAK++C,gBAAiB/+C,MACpDA,KAAK1F,OAAOma,GAAG,UAAWzU,KAAKm3B,QAASn3B,MACxCA,KAAK1F,OAAO4H,SAASuS,GAAG,sBAAuBzU,KAAKg/C,oBAAqBh/C,OAE7Es9C,EAAc78C,UAAUu+C,oBAAsB,SAAUhgD,GAEpD,IAAK,GAAIzD,GAAK,EAAG0jD,EAASjgD,EAAMzD,EAAK0jD,EAAOtjD,OAAQJ,IAAM,CACtD,GAAI2jD,GAASD,EAAO1jD,IAC0B,IAA1CyE,KAAK1F,OAAc,QAAEwS,QAAQoyC,IAC7Bl/C,KAAK1F,OAAc,QAAEgE,KAAK4gD,GAGlCl/C,KAAK1F,OAAO6kD,mBAEhB7B,EAAc78C,UAAUq+C,gBAAkB,WAEtC9+C,KAAKo/C,gBAAkB7nB,gBAAc,OACjCh9B,GAAI,WAAayF,KAAK1F,OAAOwL,QAAQvL,GAAIi9B,UAAW,qBAGxD,IAAI6nB,GAAa9nB,gBAAc,OAASC,UAAW,uBACnDx3B,MAAK1F,OAAOglD,aAAa5nB,YAAY13B,KAAKo/C,iBAC1Cp/C,KAAKo/C,gBAAgB1nB,YAAY2nB,GACjCr/C,KAAK1F,OAAOglD,aAAa9kD,UAAU62B,IAAI,mBAO3CisB,EAAc78C,UAAU8+C,eAAiB,WACrCv/C,KAAKw/C,oBACLx/C,KAAKy/C,YAELz/C,MAAK1F,OAAO4H,SAAa,KAAIlC,KAAK1F,OAAW,KAAI0F,KAAK1F,OAAW,KAAI0F,KAAK1F,OAC1EwY,WAAS,qBAAsB9S,KAAK0/C,mBAAoB1/C,KAAK1F,OAAO4H,SAEpE4Q,YAAS,mBAAoB9S,KAAK1F,OAAe,iBAAG0F,KAAK1F,OAAO4H,UAC3DlC,KAAKo/C,gBAAgB3kD,SAASuF,KAAK1F,OAAO4H,SAAS4D,UACpD9F,KAAK1F,OAAO4H,SAASy9C,SAAS3/C,KAAKo/C,iBAEnCp/C,KAAK1F,OAAO4H,SAASqvB,MAAQvxB,KAAK1F,OAAO4iC,eAAiBl9B,KAAK1F,OAAOqyC,UACtE3sC,KAAK1F,OAAO4H,SAASqvB,KAAKquB,QAAU5/C,KAAK1F,OAAOslD,SAEpD5/C,KAAKm5B,cAETmkB,EAAc78C,UAAU++C,kBAAoB,WAmBxC,GAlBAx/C,KAAK1F,OAAO4H,SAAS29C,iBAAmB7/C,KAAK1F,OAAOulD,iBACpD7/C,KAAK1F,OAAO4H,SAASE,gBAAkBpC,KAAK1F,OAAOmE,WAAW2D,gBAC9DpC,KAAK1F,OAAO4H,SAAS4T,MAAQ9V,KAAK1F,OAAOwb,MACzC9V,KAAK1F,OAAO4H,SAASC,kBAAoBnC,KAAK1F,OAAO6H,kBACrDnC,KAAK1F,OAAO4H,SAAsB,aAAI,EACtClC,KAAK1F,OAAO4H,SAASiV,gBAAkBnX,KAAK1F,OAAOmE,WAAWkY,SAC1D3W,KAAK1F,OAAOmE,WAAWkY,WACvB3W,KAAK1F,OAAO4H,SAAS49C,UAAY9/C,KAAK1F,OAAOmE,WAAWlE,IAE5DyF,KAAK1F,OAAO4H,SAAS69C,eAAiB//C,KAAK1F,OAAOylD,eAClD//C,KAAK1F,OAAO4H,SAAS89C,kBAAoBhgD,KAAK1F,OAAOoiB,uBACrD1c,KAAK1F,OAAO4H,SAAS+9C,gBAAkBjgD,KAAK1F,OAAO2lD,gBACnDjgD,KAAK1F,OAAO4H,SAAS+wB,UAAYjzB,KAAK1F,OAAO24B,UAC7CjzB,KAAK1F,OAAO4H,SAASg+C,aAAerlD,oBAAkBmF,KAAK1F,OAAOmE,WAAWqY,OAAS,GAAK9W,KAAK1F,OAAOmE,WAAWqY,MAClH9W,KAAK1F,OAAO4H,SAASi+C,gBAAkBngD,KAAK1F,OAAO6lD,gBACnDngD,KAAK1F,OAAO4H,SAAS+Y,QAAUjb,KAAK0+C,gBACpC1+C,KAAK1F,OAAO4H,SAASy0B,iBAAmB32B,KAAK1F,OAAOq8B,iBACpD32B,KAAK1F,OAAO4H,SAASw0B,qBAAuB12B,KAAK1F,OAAOo8B,qBACpD12B,KAAK1F,OAAOY,qBAAsBO,SAAUR,EAAgB+E,KAAK1F,QAAS,CAE1E0F,KAAK1F,OAAO4H,SAASE,gBAAkB,UACvC,IAAIM,GAAQhD,WAAS,QAASM,KAAK1F,OAAOY,WAC1C8E,MAAK1F,OAAO4H,SAAShH,YAAe2C,OAAQmC,KAAK1F,OAAOyO,SAAUrG,MAAOA,OAGrE1C,MAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBACjEpC,KAAK1F,OAAO4H,SAAShH,WAAa8E,KAAK1F,OAAOY,YAG9C8E,KAAK1F,OAAO4H,SAASE,gBAAkB,KACvCpC,KAAK1F,OAAO4H,SAAShH,WAAa8E,KAAK1F,OAAOyO,SAGtD/I,MAAK1F,OAAO4H,SAASud,mBAAqBzf,KAAK1F,OAAOmE,WAAWihB,WAEjE1f,MAAK1F,OAAO4H,SAAgB,SAAI,EAChClC,KAAK1F,OAAO4H,SAASkf,UAAYphB,KAAK1F,OAAO8mB,UAC7CphB,KAAK1F,OAAO4H,SAASowB,UAAYtyB,KAAK1F,OAAOg4B,UACI,IAA7CtyB,KAAK1F,OAAO8lD,eAAeC,OAAO1kD,QAAmD,KAAnCqE,KAAK1F,OAAO8lD,eAAexkD,MAC7EoE,KAAK1F,OAAO4H,SAASk+C,eAAiBpgD,KAAK1F,OAAO8lD,eAGtDpgD,MAAK1F,OAAO4H,SAAsB,eAAI,EACtClC,KAAK1F,OAAO4H,SAAS+yB,OACjBj1B,KAAK1F,OAAOwL,QAAQstB,uBAAuB,sCAAsC,GAAiB,cAAqC,IAAhCpzB,KAAK1F,OAAOyO,SAASpN,OAAe,EAAI,KAEvJ2hD,EAAc78C,UAAU6/C,cAAgB,WACpC,MAAOtgD,MAAKo/C,gBAAgBv5C,cAAc,eAE9Cy3C,EAAc78C,UAAU8/C,aAAe,WACnC,MAAOvgD,MAAKo/C,gBAAgBv5C,cAAc,qBAE9Cy3C,EAAc78C,UAAU+/C,kBAAoB,WACxC,GAAIC,GAAQzoB,SAAST,cAAc,MACnCkpB,GAAM9sB,MAAM+sB,WAAa,SACzBD,EAAM9sB,MAAMgtB,SAAW,SACvBF,EAAM9sB,MAAMitB,gBAAkB,WAC9B,IAAIC,GAAQ7oB,SAAST,cAAc,MACnCkpB,GAAM/oB,YAAYmpB,GAClB7gD,KAAK1F,OAAOwL,QAAQ4xB,YAAY+oB,EAChC,IAAIK,GAAkBL,EAAMvuB,YAAc2uB,EAAM3uB,WAEhD,OADAuuB,GAAMM,WAAWC,YAAYP,GACtBK,GAMXxD,EAAc78C,UAAUwgD,gBAAkB,WACtC,GAAIvwB,GAAU1wB,KAAKsgD,gBACfY,EAAYlhD,KAAKugD,eACjBnf,EAAcphC,KAAKwgD,oBACnBW,EAAW,qEAAqE/+B,KAAK0b,UAAUC,UAE/E,KAAhBqD,GAAqBtD,UAAUC,UAAUrW,SAAS,WAClDgJ,EAAQiD,MAAMytB,SAAW,uBAAyBhgB,EAAc,GAAK,OAGrE1Q,EAAQl2B,UAAU62B,IAAI,0BAEN,IAAhB+P,GAAqB+f,IACrBD,EAAUvtB,MAAMytB,SAAW,8BAGnC9D,EAAc78C,UAAUg/C,WAAa,WACjCz/C,KAAK1F,OAAO4H,SAASm/C,UAAYrhD,KAAKqhD,UAAU1sC,KAAK3U,MACrDA,KAAK1F,OAAO4H,SAASo/C,WAAathD,KAAKshD,WAAW3sC,KAAK3U,MACvDA,KAAK1F,OAAO4H,SAASq/C,UAAYvhD,KAAKuhD,UAAU5sC,KAAK3U,MACrDA,KAAK1F,OAAO4H,SAASs/C,UAAYxhD,KAAKwhD,UAAU7sC,KAAK3U,MACrDA,KAAK1F,OAAO4H,SAASgd,SAAWlf,KAAKkf,SAASvK,KAAK3U,MACnDA,KAAK1F,OAAO4H,SAASu/C,YAAczhD,KAAKyhD,YAAY9sC,KAAK3U,MACzDA,KAAK1F,OAAO4H,SAASw/C,eAAiB1hD,KAAK2hD,mBAAmBhtC,KAAK3U,MACnEA,KAAK1F,OAAO4H,SAAS0/C,QAAU5hD,KAAK4hD,QAAQjtC,KAAK3U,MACjDA,KAAK1F,OAAO4H,SAAS2/C,cAAgB7hD,KAAK6hD,cAAcltC,KAAK3U,MAC7DA,KAAK1F,OAAO4H,SAASu7C,eAAiBz9C,KAAKy9C,eAAe9oC,KAAK3U,MAC/DA,KAAK1F,OAAO4H,SAASw7C,aAAe19C,KAAK09C,aAAa/oC,KAAK3U,MAC3DA,KAAK1F,OAAO4H,SAASy7C,eAAiB39C,KAAK29C,eAAehpC,KAAK3U,MAC/DA,KAAK1F,OAAO4H,SAAS67C,gBAAkB/9C,KAAK+9C,gBAAgBppC,KAAK3U,MACjEA,KAAK1F,OAAO4H,SAAS4/C,gBAAkB9hD,KAAK8hD,gBAAgBntC,KAAK3U,MACjEA,KAAK1F,OAAO4H,SAAS6/C,gBAAkB/hD,KAAK+hD,gBAAgBptC,KAAK3U,MAChC,MAA7BA,KAAK1F,OAAOkjD,gBACZx9C,KAAK1F,OAAO4H,SAASs7C,cAAgBx9C,KAAKw9C,cAAc7oC,KAAK3U,QAGrEs9C,EAAc78C,UAAUqhD,gBAAkB,SAAU9iD,IAC3CnE,oBAAkBmF,KAAK1F,OAAO0nD,kBAAoBhiD,KAAK1F,OAAO2nD,mBAC/DjiD,KAAK1F,OAAO2nD,kBAAkBC,kBAAoBliD,KAAK1F,OAAO0nD,gBAAgBG,wBAAwBxmD,OAAS,GACzE,YAAtCqD,EAAiB,WAAe,cAChCgB,KAAKu9C,WAAY,GAErBv9C,KAAK1F,OAAOua,eAAiB7U,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACxE5X,WAAS,iCAAkCM,KAAK1F,OAAO4H,UAAYxC,WAAS,SAAUV,GACtFgB,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,sBAC/CtX,KAAK1F,OAAOkqC,oBAAoBxlC,GAEpC8T,WAAS,sCAAuC9S,KAAKg+C,sBAAuBh+C,KAAK1F,OAAO4H,SAASqvB,OAErG+rB,EAAc78C,UAAU4gD,UAAY,SAAUriD,GACtCgB,KAAK1F,OAAOqyC,SACZ3sC,KAAK1F,OAAsB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAE9I0F,KAAKihD,kBACLjhD,KAAK1F,OAAO8nD,cAAcpjD,GACtBgB,KAAK1F,OAAOk8B,mBACPx2B,KAAK1F,OAAOo8B,sBAAwB12B,KAAK1F,OAAOgd,sBAChDtX,KAAK1F,OAAOgd,uBAAyBtX,KAAK1F,OAAOo8B,sBAAuE,YAA/C12B,KAAK1F,OAAOq8B,iBAAiBC,eACvD,YAA/C52B,KAAK1F,OAAOq8B,iBAAiBC,gBAC9B52B,KAAK1F,OAAOi6B,cAEZv0B,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWsC,iBACjDtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAa,GAEvDvF,KAAK1F,OAAOk8B,iBAAkB,EACzB37B,oBAAkBmF,KAAK1F,OAAO0nD,kBAAqBnnD,oBAAkBmF,KAAK1F,OAAO4iC,gBAClFl9B,KAAK1F,OAAO4iC,cAAcmlB,uBAGlCriD,KAAKsiD,gBAAkBpkD,eAAe8B,KAAK1F,OAAOwX,iBAAiB,IAEvEwrC,EAAc78C,UAAUshD,gBAAkB,SAAU/iD,GAC5CA,EAAK2wB,QAAsC,YAA5B3wB,EAAK2wB,OAAOkH,cAC3B72B,KAAK1F,OAAO4H,SAAShH,YACjB2C,OAAQ6B,WAAS,SAAUM,KAAK1F,OAAO4H,SAAShH,YAChDwH,MAAOhD,WAAS,QAASM,KAAK1F,OAAO4H,SAAShH,cAGtD8E,KAAK1F,OAAOgc,QAAQ,kBAAmBtX,IAE3Cs+C,EAAc78C,UAAU6gD,WAAa,SAAUtiD,GAE3C,GAAIujD,GACAhkD,EAASmB,WAAS,OAAQV,GAC1B47B,EAAer8B,EAAO5C,MAC1B,KAAKqE,KAAK1F,OAAOmqB,iBAAiB4T,0BAC9B,GAAKx9B,oBAAkB+/B,GAQnB2nB,EAAiBviD,KAAKwiD,yBAAyBxjD,EAAM,MACrDgB,KAAK1F,OAAOmqB,iBAAiBof,iBAAiB0e,GAC9CzvC,WAAS,SAAUpT,WAAS,SAAU6iD,GAAiBvjD,OAVrB,CAClC,IAAK,GAAIlB,GAAI,EAAGA,EAAI88B,EAAc98B,IAC9BykD,EAAiBviD,KAAKwiD,yBAAyBxjD,EAAMT,EAAOT,IAC5DkC,KAAK1F,OAAOmqB,iBAAiBof,iBAAiB0e,EAElDzvC,YAAS,SAAUpT,WAAS,SAAU6iD,GAAiBvjD,KASnEs+C,EAAc78C,UAAU+gD,UAAY,SAAUxiD,GAE1C,GAAIyjD,GACAlkD,EAASmB,WAAS,OAAQV,GAC1B47B,EAAer8B,EAAO5C,MAC1B,KAAKqE,KAAK1F,OAAOmqB,iBAAiB4T,0BAC9B,GAAKx9B,oBAAkB+/B,GAQnB6nB,EAAgBziD,KAAKwiD,yBAAyBxjD,EAAM,MACpDgB,KAAK1F,OAAOmqB,iBAAiBqf,eAAe2e,GAC5C3vC,WAAS,SAAUpT,WAAS,SAAU+iD,GAAgBzjD,OAVpB,CAClC,IAAK,GAAIlB,GAAI,EAAGA,EAAI88B,EAAc98B,IAC9B2kD,EAAgBziD,KAAKwiD,yBAAyBxjD,EAAMT,EAAOT,IAC3DkC,KAAK1F,OAAOmqB,iBAAiBqf,eAAe2e,EAEhD3vC,YAAS,SAAUpT,WAAS,SAAU+iD,GAAgBzjD,KASlEs+C,EAAc78C,UAAU8gD,UAAY,SAAUviD,GAC1C,GAAI0jD,GAAqB1jD,EAAKjB,KAC1BmhB,EAAWwjC,GAAsBA,EAAmBxjC,QAIxD,IAHIlf,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,kBAAoBpC,KAAK1F,OAAOgd,uBAAyB4H,IACjHlgB,EAAW,KAAEgB,KAAK1F,OAAOmE,WAAWihB,cAAe,IAElD1f,KAAK1F,OAAOmqB,iBAAiB4T,4BAA8Br4B,KAAK1F,OAAOsqC,4BAA6B,CACrG,GAAI+d,OAAgB,GAChBpkD,EAASmB,WAAS,OAAQV,GAC1B47B,EAAer8B,EAAO5C,MAC1B,IAAKd,oBAAkB+/B,GAOnB+nB,EAAgB3iD,KAAKwiD,yBAAyBxjD,EAAM,MACpDgB,KAAK1F,OAAOmqB,iBAAiBwf,kBAAkB0e,OAP/C,KAAK,GAAI7kD,GAAI,EAAGA,EAAI88B,EAAc98B,IAC9B6kD,EAAgB3iD,KAAKwiD,yBAAyBxjD,EAAMT,EAAOT,IAC3DkC,KAAK1F,OAAOmqB,iBAAiBwf,kBAAkB0e,EAOlD3iD,MAAK1F,OAAOmqB,iBAAiBsQ,gBAAiB4tB,EAAuB,SAAM3iD,KAAK1F,OAAOk6B,sBACxFmuB,EAAuB,QAAEhvB,MAAMsB,OAAS0tB,EAAwB,SAAEhvB,MAAMsB,OACxEj1B,KAAK1F,OAAO66B,cAAgBn1B,KAAK1F,OAAO24B,UAAYjzB,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACxIp1B,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aAC5F4C,SAAS5E,uBAAuB,0BAA0B,GAAU,MAAE6B,OAASj1B,KAAK1F,OAAO66B,cAAgB,MAG9Gt6B,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKhBv0B,KAAK1F,OAAOgc,QAAQ,YAAatX,IAErCs+C,EAAc78C,UAAUye,SAAW,SAAUlgB,GACzC,IAAKgB,KAAK1F,OAAOmqB,iBAAiB4T,4BAA8Br4B,KAAK1F,OAAOsqC,4BAA6B,CACrG,GAAIge,OAAe,GACfrkD,EAASmB,WAAS,OAAQV,GAC1B47B,EAAer8B,EAAO5C,MAC1B,IAAKd,oBAAkB+/B,GAOnBgoB,EAAe5iD,KAAKwiD,yBAAyBxjD,EAAM,MACnDgB,KAAK1F,OAAOmqB,iBAAiBggB,iBAAiBme,OAP9C,KAAK,GAAI9kD,GAAI,EAAGA,EAAI88B,EAAc98B,IAC9B8kD,EAAe5iD,KAAKwiD,yBAAyBxjD,EAAMT,EAAOT,IAC1DkC,KAAK1F,OAAOmqB,iBAAiBggB,iBAAiBme,EAOjD5iD,MAAK1F,OAAOmqB,iBAAiBqQ,cAAe91B,EAAU,KAAMgB,KAAK1F,OAAOk6B,sBACzEx1B,EAAU,IAAE20B,MAAMsB,OAASj1B,KAAK1F,OAAO8mB,UAAY,KACnDphB,KAAK1F,OAAO66B,cAAgBn1B,KAAK1F,OAAO24B,UAAYjzB,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACxIp1B,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aAC5F4C,SAAS5E,uBAAuB,0BAA0B,GAAU,MAAE6B,OAASj1B,KAAK1F,OAAO66B,cAAgB,MAG9Gt6B,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKhBv0B,KAAK1F,OAAOy6B,eAAgB,EAC5B/0B,KAAK1F,OAAOgc,QAAQ,WAAYtX,IAEpCs+C,EAAc78C,UAAUghD,YAAc,SAAUziD,GAI5C,IAHIgB,KAAK1F,OAAOyhB,gBAAwC,cAArB/c,EAAK63B,aAAoD,cAArB73B,EAAK63B,aAAoD,YAArB73B,EAAK63B,aAAkD,oBAArB73B,EAAK63B,cAC9I72B,KAAK1F,OAAOyhB,eAA+B,gBAAI,GAE1B,wBAArB/c,EAAK63B,YAAuC,CAC5C,GAAIgsB,GAAgBnjD,WAAS,kBAAmBV,EAC5C6jD,KACAA,EAAclvB,MAAMkB,QAAU,QAGtC70B,KAAK1F,OAAOy7B,OAAO,cAAe/2B,GAErB,OADFU,WAAS,oBAAqBM,KAAK1F,OAAO4H,SAASc,aAE1D8P,WAAS,oBAAqB,KAAM9S,KAAK1F,OAAO4H,SAASc,YAE7DhD,KAAK1F,OAAOgc,QAAQ,cAAetX,GACV,kBAArBA,EAAK63B,aAAiD,SAAd73B,EAAKoR,MAAwC,cAArBpR,EAAK63B,aAAgC73B,EAAK4/B,SACrG/jC,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,gBAOxB+nB,EAAc78C,UAAUmhD,QAAU,SAAU5iD,GACxCgB,KAAK8iD,2BAETxF,EAAc78C,UAAUohD,cAAgB,SAAU7iD,GAC9CgB,KAAK1F,OAAOgc,QAAQ,gBAAiBtX,IAEzCs+C,EAAc78C,UAAU+hD,yBAA2B,SAAUxjD,EAAM+7B,GAC/D,GAAI7K,GAEA0K,EADSl7B,WAAS,OAAQV,GACJrD,MAC1B,IAAKd,oBAAkB+/B,GAMlB,CACD,GAAImoB,GAAYrjD,WAAS,OAAQV,GAC7B4kC,EAAUlkC,WAAS,MAAOV,GAE1BpB,GAAcG,KAAMglD,EAAWnf,QAASA,EAAS1T,SADrDA,EAAWlwB,KAAK1F,OAAOmqB,iBAAiBif,eAAe1jC,KAAK1F,OAAOwX,gBAAgBhF,QAAQi2C,IAClBnkB,QAAQ,EACjF,OAAOhhC,GAPP,MADIA,IAAcG,KAAMg9B,EAAe6I,QAFnCA,EAAUlkC,WAAS,MAAOV,GAE2BkxB,SADzDA,EAAWlwB,KAAK1F,OAAOmqB,iBAAiBif,eAAe1jC,KAAK1F,OAAOwX,gBAAgBhF,QAAQiuB,IACd6D,QAAQ,IAW7F0e,EAAc78C,UAAUkhD,mBAAqB,SAAU3iD,GACnD,GACIxD,GADAyV,EAAQjR,KAERgjD,EAAc9kD,YAAWc,EA2B7B,IA1BsC,YAAlCU,WAAS,cAAeV,IACpBgB,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAA+B,gBAAK/b,KAAK1F,OAA8B,sBAAE,mBAChH0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,wBAC7Cxd,MACW,OAAI,gBACnBA,EAAkB,UAAIL,gBAAgBc,EAAgB,YAAI,GAAM,GAChET,EAAgB,QAAIL,gBAAgBc,EAAc,UAAI,GAAM,GAC5DT,EAAiB,SAAIL,gBAAgB8B,KAAK1F,OAAO4H,SAAS+Y,QAAQjc,EAAc,SAAU,QAAI,GAAM,GACpGT,EAAmB,WAAIL,gBAAgB8B,KAAK1F,OAAO4H,SAAS+Y,QAAQjc,EAAgB,WAAU,QAAI,GAAM,GACxGgB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,GAGhF,gBAAlCmB,WAAS,cAAeV,IACpBgB,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAA+B,gBAAK/b,KAAK1F,OAA8B,sBAAE,iBAChH0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,wBAC7Cxd,GAAWoxB,OAAQ,gBACC,gBAAIzxB,eAAec,EAAc,SAAG,GAC5DgB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,GAGhF,YAAlCmB,WAAS,cAAeV,GACpBgB,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAA8B,sBAAE,aAC/D0F,KAAK1F,OAAOyhB,eAA8B,eAAK/b,KAAK1F,OAAOyhB,eAA8B,cAAe,aAAK/b,KAAK1F,OAAOyhB,eAA8B,cAAe,YAAEpgB,OAAS,GACjLqE,KAAK1F,OAAOyhB,eAAoC,sBAE9C/b,KAAK1F,OAAOyhB,eAA8B,iBAAM/b,KAAK1F,OAAOyhB,eAA8B,cAAe,aAAK/b,KAAK1F,OAAOyhB,eAAoC,sBAAM/b,KAAK1F,OAAOyhB,eAA8B,cAAe,YAAEpgB,SAAaqE,KAAK1F,OAAOyhB,eAA+B,iBACrR/b,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,wBAC7Cxd,GAAWoxB,OAAQ,YACH,eACpBpxB,EAAoB,YAAIyB,KAAK1F,OAAOyhB,eAAsC,sBAC1E/b,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,GAElHyB,KAAK1F,OAAOyhB,eAAsC,sBAAI/b,KAAK1F,OAAO4H,SAAS+gD,aAAahoC,SAE5Fjb,KAAK1F,OAAOy7B,OAAO,kBACnBmtB,eAAaF,EAAa,gBAEzB,IAAsC,cAAlCtjD,WAAS,cAAeV,GACzBgB,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAA+B,gBAAK/b,KAAK1F,OAA8B,sBAAE,eAChH0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,wBAC7Cxd,GAAWoxB,OAAQ,cACC,gBAAIzxB,eAAec,EAAc,SAAG,GAC5DgB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,GAElHyB,KAAK1F,OAAOy7B,OAAO,sBAElB,IAA+B,SAA3Br2B,WAAS,OAAQV,IAClBgB,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWsC,eAAgB,CACjE,GAAIvH,GAAO2B,WAAS,OAAQV,EAS5B,IARKnE,oBAAkBkD,IAAUlD,oBAAkBmF,KAAK1F,OAAO+O,kBAAkBtL,EAAKuL,aAElFtJ,KAAK1F,OAAO+O,kBAAkBtL,EAAKuL,UAAUnL,SAAS6B,KAAK1F,OAAOmE,WAAWzD,UAAY+C,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWzD,UACzHH,oBAAkBkD,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWga,iBAExDzY,KAAK1F,OAAO+O,kBAAkBtL,EAAKuL,UAAUnL,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAAgB1a,EAAKI,SAAS6B,KAAK1F,OAAOmE,WAAWga,gBAGtI5c,EAAcmE,KAAKmjD,iBAAmBnkD,EAAa,QAAKA,EAAa,OAAEwG,MAAQxG,EAAa,OAAEmc,QAAUnb,KAAK1F,OAAOmE,WAAWga,aAAc,CAC7I,GAAI0C,GAAQnb,KAAK1F,OAAOmE,WAAWga,YACnCzY,MAAKmjD,gBAAkB3nD,KAASA,EAAG2f,GAASpd,EAAgB,UAAGvC,GAEnEwE,KAAK1F,OAAO0I,WAAWsC,eAAe89C,iBAAiBpkD,EAAMgB,KAAKmjD,gBAClEnjD,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAa,EACnDvF,KAAKmjD,kBAMb,GAHsC,oBAAlCzjD,WAAS,cAAeV,IACxBgB,KAAK1F,OAAOy7B,OAAO,iBAAkB/2B,GAEH,cAAlCU,WAAS,cAAeV,GAAuB,CAC/C,GAAIgB,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAA8B,sBAAE,UAAW,CAC9E,IAAK0F,KAAK1F,OAAOyhB,eAA+B,eAAG,CAC3C/b,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAIxd,IAAWoxB,OAAU,SACzBpxB,GAAqB,aAAIyB,KAAK1F,OAAOyhB,eAA6B,aAClE/b,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,EAElHyB,KAAK1F,OAAOyhB,eAA6B,aAAI/b,KAAK1F,OAAO4H,SAASk+C,eAAexkD,IAErFoE,KAAK1F,OAAOy7B,OAAO,iBAAkB/2B,GAUzC,GARKnE,oBAAkBmF,KAAK1F,OAAO4iC,gBAAmBriC,oBAAkB6E,WAAS,eAAgBV,KAC7FgB,KAAK1F,OAAO4iC,cAAcmlB,sBAE1BriD,KAAK1F,OAAO+oD,cACZvwC,WAAS,cAAe,SAAUkwC,GAClClwC,WAAS,SAAU,cAAekwC,GAClChjD,KAAK1F,OAAO+oD,aAAc,GAEQ,YAAlC3jD,WAAS,cAAeV,IAAuBnE,oBAAkB6E,WAAS,OAAQV,KAAUgB,KAAK1F,OAAOgpD,gBAAiB,CACzH,IAAsC,IAAlCtjD,KAAK1F,OAAOipD,iBACZ,IAAK1oD,oBAAkBmF,KAAK1F,OAAO0nD,kBAC/BhiD,KAAK1F,OAAO2nD,mBACZjiD,KAAK1F,OAAO2nD,kBAAkBC,kBAC9BliD,KAAK1F,OAAO0I,WAAWyjB,QAAS,CAChC,GAAI+8B,GAAkBxjD,KAAK1F,OAAO0nD,gBAAgByB,kBAClD,IAAID,EAAgB7nD,OAAS,GAAKqE,KAAK1F,OAAO2nD,kBAAkBC,iBAC5D,IAASpkD,EAAI,EAAGA,EAAI0lD,EAAgB7nD,OAAQmC,IAAK,CAC7C,GAAIJ,GAAUsC,KAAK1F,OAAOyO,SAASy6C,EAAgB1lD,GAAGG,WACtD+B,MAAK1F,OAAOopD,WAAWhmD,QAK/BsC,MAAK1F,OAAOqpD,UAAU3jD,KAAK1F,OAAOipD,kBAC9BvjD,KAAK1F,OAAOipD,iBAAmBvjD,KAAK1F,OAAOwX,gBAAgBnW,OAAS,IACpEqE,KAAK1F,OAAOipD,kBAAoB,OAIvC,CACD,IAAK1oD,oBAAkBmF,KAAK1F,OAAO0nD,kBAAoBhiD,KAAK1F,OAAO2nD,mBAC/DjiD,KAAK1F,OAAO2nD,kBAAkBC,kBAC3BliD,KAAK1F,OAAO0I,aAAehD,KAAK1F,OAAO0I,WAAWyjB,QAYrD,IAAK,GAXDm9B,GAAkB5jD,KAAK1F,OAAO0nD,gBAAgB6B,qBAU9CtrC,EAASvY,KACJlC,EAAI8lD,EAAgBjoD,OAAS,EAAGmC,GAAK,EAAGA,KAVnC,SAAUA,GACpB,GAAIgmD,GAAiBF,EAAgB9lD,GAAGya,EAAOje,OAAOmE,WAAWlE,GACrCge,GAAOje,OAAO0I,WAAW+gD,cAAct1B,KAAK,SAAU/b,GAC9E,MAAOA,GAAKlU,gBAAgBkX,SAAWouC,KAGvCF,EAAgBv7B,OAAOvqB,EAAG,IAKtBA,EAGhB,IAAIkmD,GAAe,GACEhkD,KAAK1F,OAAOgd,qBAAuBtX,KAAK1F,OAAOyO,SAAW/I,KAAK1F,OAAOwX,iBAE5EyD,IAAI,SAAUxX,EAAM0B,GAC1B5E,oBAAkBoW,EAAM3W,OAAO2pD,mBAC5BlmD,EAAsB,gBAAE2X,SAAWzE,EAAM3W,OAAO2pD,iBAAiBhzC,EAAM3W,OAAOmE,WAAWlE,MACjE,iBAA1B0W,EAAM3W,OAAOyd,UACXha,EAAsB,gBAAE8b,cAAgB5I,EAAM3W,OAAO2pD,iBAAiBpqC,cAC5C,iBAA1B5I,EAAM3W,OAAOyd,WACjBisC,EAAevkD,KAGvBO,KAAKkkD,aAAc,EACnBlkD,KAAK1F,OAAOqpD,UAAW9oD,oBAAkBmpD,GAAgB,EAAIA,GAE5DhkD,KAAK1F,OAA0B,oBAChC0F,KAAK1F,OAAOgpD,iBAAkB,GAElCtjD,KAAK1F,OAA0B,mBAAI,EASvC,GAPI0F,KAAK1F,OAAOyhB,iBACZ/b,KAAK1F,OAAOyhB,eAA+B,gBAAI,GAEb,YAAlCrc,WAAS,cAAeV,IACxBgB,KAAK1F,OAAO6pD,oBAAmB,GAEnCnkD,KAAK1F,OAAOgc,QAAQ,iBAAkB0sC,GAClChjD,KAAK1F,OAAOm6B,qBAAuBz0B,KAAK1F,OAAOk6B,oBAAqB,CACpE,IAAS12B,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOwX,gBAAgBnW,OAAQmC,IAChDkC,KAAK1F,OAAOwX,gBAAgBhU,GAAG2e,kBAAoBzc,KAAK1F,OAAOwX,gBAAgBhU,GAAGohB,UAClFlf,KAAK1F,OAAOkb,gBAAgB4uC,sBAAsBpkD,KAAK1F,OAAOwX,gBAAgBhU,GAGtFkC,MAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,iBAE7DjX,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,eAMpB+oB,EAAc78C,UAAUqiD,wBAA0B,iBACvC9iD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWC,aACpDvkD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWE,aACpDxkD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWG,cACpDzkD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWI,gBACpD1kD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWK,eACpD3kD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWM,cACpD5kD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWO,YACpD7kD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWQ,UACpD9kD,MAAK1F,OAAO4H,SAASqvB,KAAK8yB,eAAeC,WAAWS,eACpD/kD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWO,YAC/C7kD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWG,cAC/CzkD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWI,gBAC/C1kD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWU,uBAC/ChlD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWW,yBAC/CjlD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWY,kBAC/CllD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWa,oBAC/CnlD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWQ,UAC/C9kD,MAAK1F,OAAO4H,SAASmiD,eAAeC,WAAWS,UAO1DzH,EAAc78C,UAAU04B,WAAa,WACjC,GAAIzI,GAAU1wB,KAAK1F,OAAO4H,SAAS4D,QAAQD,cAAc,aACrD6qB,IACAU,eAAaC,IAAIX,EAAS,SAAU1wB,KAAKolD,cAAeplD,MAExDA,KAAK1F,OAAOymC,YACZ3P,eAAaC,IAAIrxB,KAAK1F,OAAOglD,aAAc,QAASt/C,KAAKqlD,qBAAsBrlD,OAGvFs9C,EAAc78C,UAAU8lC,aAAe,WACnC,GAAI7V,GAAU1wB,KAAK1F,OAAO4H,SAAS4D,SAC/B9F,KAAK1F,OAAO4H,SAAS4D,QAAQD,cAAc,aAC3C6qB,IACAU,eAAazyB,OAAO+xB,EAAS,SAAU1wB,KAAKolD,eAE5CplD,KAAK1F,OAAOymC,YACZ3P,eAAazyB,OAAOqB,KAAK1F,OAAOglD,aAAc,QAASt/C,KAAKqlD,uBAIpE/H,EAAc78C,UAAU2kD,cAAgB,SAAUhvC,GAC9C,GAAIsa,GAAU1wB,KAAK1F,OAAO4H,SAAS4D,QAAQD,cAAc,aACrD6qB,GAAQmB,YAAc7xB,KAAK+wB,eAAeC,KAC1ChxB,KAAK1F,OAAOy7B,OAAO,eAAiB/E,IAAKN,EAAQmB,YAErD7xB,KAAK+wB,eAAeC,IAAMN,EAAQmB,UAC9B7xB,KAAK1F,OAAOisB,mBAAqBvmB,KAAK1F,OAAOisB,kBAAkB++B,QAC/DtlD,KAAK1F,OAAOisB,kBAAkBg/B,YAAYC,SAOlDlI,EAAc78C,UAAUo+C,qBAAuB,WAC3C,GAAI7T,GAAWhrC,KAAK1F,OAChBqB,EAASqvC,EAAS/vB,QAAQtf,OAC1BotB,EAAQ/oB,KAAK1F,OAAOmE,UACxBuB,MAAK1F,OAAO+K,iBACZrF,KAAK1F,OAAO8K,iBACZpF,KAAK1F,OAAOmrD,gBAwCZ,KAAK,GAvCDC,IAAgB,KAAM,OAAQ,YAAa,UAAW,WAAY,aAClE,WAAY,oBAAqB,kBAAmB,eAAgB,QAAS,OAAQ,SAAU,OAAQ,YAAa,YAqCpHnsC,EAASvZ,KACJlC,EAAI,EAAGA,EAAInC,EAAQmC,KArCd,SAAUA,GACpB,GAAImlC,KAC+B,iBAAxB+H,GAAS/vB,QAAQnd,GACxBmlC,EAAO9nB,MAAQ6vB,EAAS/vB,QAAQnd,GAGhCmlC,EAAS+H,EAAS/vB,QAAQnd,EAE9B,IAAI2qC,KAMJ,IALIid,EAAa/pD,OAAS,IACtB8sC,EAAaid,EAAa/rC,OAAO,SAAUtB,GACvC,MAAO4qB,GAAO9nB,QAAU4N,EAAM1Q,MAGZ,IAAtBowB,EAAW9sC,OACX,MAAIsnC,GAAO9nB,QAAU5B,EAAOjf,OAAO8d,eAAe1B,MACvC,YAEX6C,EAAOjf,OAAOmrD,cAAcnnD,KAAK2kC,EAAO9nB,OACxC8nB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO9nB,MACnE8nB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,aACtD3iB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO,SACtB,aAAhB6yB,EAAO7yB,OACPmJ,EAAOjf,OAAO2nD,kBAAkB7xC,KAAO,YAE3CmJ,EAAOssC,6BAA6B5iB,GAAQ,GACrC,WAGP,IAAIxjC,GAAQimD,EAAa54C,QAAQ27B,EAAW,GAC5Cid,GAAar9B,OAAO5oB,EAAO,GAC3B8Z,EAAOusC,qBAAqB7iB,GAAQ,GACpC1pB,EAAOjf,OAAO+K,cAAcojC,EAAW,IAAMxF,EAAO9nB,OAKhDrd,EAGZ,KAAK,GAAI2N,GAAI,EAAGA,EAAIi6C,EAAa/pD,OAAQ8P,IAAK,CACtCw3B,IACCpoC,qBAAkBkuB,EAAM28B,EAAaj6C,OACtCw3B,EAAO9nB,MAAQ4N,EAAM28B,EAAaj6C,IAClCzL,KAAK8lD,qBAAqB7iB,EAAmB,IAAXtnC,GAClCqE,KAAK1F,OAAO+K,cAAcqgD,EAAaj6C,IAAMw3B,EAAO9nB,OAG5D,GAA6B,gBAAzBnb,KAAK1F,OAAOyd,SAA4B,CACxC,GAAIkrB,KACJjjC,MAAK+lD,sBAAsB9iB,GAC3BjjC,KAAK8lD,qBAAqB7iB,GAAQ,KAS1Cqa,EAAc78C,UAAUqlD,qBAAuB,SAAU7iB,EAAQ+iB,GAC7D,GAAI/0C,GAAQjR,KACRsb,EAAetb,KAAK1F,OAAOmE,WAC3BwnD,EAAiBjmD,KAAK1F,OAAOskD,qBAAqBjlC,OAAO,SAAUusC,GACnE,MAAOjjB,GAAO9nB,QAAU+qC,EAAW/qC,QACpC,EAKH,IAJA8nB,EAAOkjB,kBAAqBtrD,oBAAkBooC,EAAOkjB,mBAAgDnmD,KAAK1F,OAAO6rD,kBAAvCljB,EAAOkjB,kBAC7E7qC,EAAa/gB,KAAO0oC,EAAO9nB,QAC3B8nB,EAAOmjB,SAAWnjB,EAAOmjB,SAAWnjB,EAAOmjB,SAAW,uBAEtD9qC,EAAa/gB,KAAO0oC,EAAO9nB,MAE3Bnb,KAAKqmD,gBAAgBpjB,OAEpB,IAAI3nB,EAAajD,OAAS4qB,EAAO9nB,MAE9Bnb,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,QAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,QAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,aACtD3iB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO,aAEzC,IAAIkL,EAAaxgB,YAAcmoC,EAAO9nB,MAEnCnb,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,aAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,aAElGsyB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,UACsB,IAA7D5lD,KAAK1F,OAAO6V,gBAAgB7F,cAAcwC,QAAQ,MAAe,qBAAuB,iBAC5Fm2B,EAAO/yB,OAAS+yB,EAAO/yB,OAAS+yB,EAAO/yB,QAAWE,KAAM,OAAQF,OAAQlQ,KAAK1F,OAAO6V,iBACpF8yB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IACzCkmB,EAAOz9B,MAAQy9B,EAAOz9B,KAAK8gD,OAC3BrjB,EAAOz9B,KAAK8gD,OAAsB,cAAItmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,QAG7E2oC,EAAOz9B,KACPy9B,EAAOz9B,KAAK8gD,QAAWE,cAAexmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,SAGjF2oC,EAAOz9B,MAAS8gD,QAAUE,cAAexmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,cAI3F,IAAIghB,EAAavgB,UAAYkoC,EAAO9nB,MACjCnb,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,WAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,WAElGsyB,EAAO/yB,OAAS+yB,EAAO/yB,OAAS+yB,EAAO/yB,QAAWE,KAAM,OAAQF,OAAQlQ,KAAK1F,OAAO6V,iBACpF8yB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,UACsB,IAA7D5lD,KAAK1F,OAAO6V,gBAAgB7F,cAAcwC,QAAQ,MAAe,qBAAuB,iBAC5Fm2B,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IACzCkmB,EAAOz9B,MAAQy9B,EAAOz9B,KAAK8gD,OAC3BrjB,EAAOz9B,KAAK8gD,OAAsB,cAAItmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,QAG7E2oC,EAAOz9B,KACPy9B,EAAOz9B,KAAK8gD,QAAWE,cAAexmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,SAGjF2oC,EAAOz9B,MAAS8gD,QAAUE,cAAexmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,cAI3F,IAAIghB,EAAatgB,WAAaioC,EAAO9nB,MACtC8nB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IACzC/c,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAElGsyB,EAAOwjB,cAAgBxjB,EAAOwjB,cAC1BxjB,EAAOwjB,cAAiB5rD,oBAAkBooC,EAAOz9B,OAAU3K,oBAAkBooC,EAAOz9B,KAAKC,MACzFzF,KAAK0mD,sBAAsB/xC,KAAK3U,MADiE,KAErGijC,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,aACtD3iB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO6yB,EAAO7yB,KAAO,aAEzC,IAAIkL,EAAaC,WAAa0nB,EAAO9nB,MACtCnb,KAAK2mD,sBAAsB1jB,OAE1B,IAAI3nB,EAAalC,aAAe6pB,EAAO9nB,MACpCnb,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,cAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,cAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,aACtD3iB,EAAO7yB,KAAO,SACd6yB,EAAOV,gBAA2C,IAA1BU,EAAOV,eAC/BU,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBzmD,KAAK4mD,wBAAwBjyC,KAAK3U,MACnGnF,oBAAkBooC,EAAOtpB,SAAkC,UAAvB3Z,KAAK1F,OAAOo5C,SAChDzQ,EAAOtpB,QACHktC,IACI/yC,OAAQ,SAAU9U,GACd,GAAI8nD,GAAavvB,gBAAc,SAAWC,UAAW,aACrDx4B,GAAKsgC,OAAO5H,YAAYovB,GACxB71C,EAAM81C,aAAe,GAAIC,iBACrB9rD,WAAY+V,EAAMg2C,aAAah2C,EAAM3W,OAAO4H,SAASqvB,KAAKr2B,YAC1DmlD,QAAU6G,KAAMj2C,EAAM3W,OAAOmE,WAAW2a,WAAY/Z,MAAO4R,EAAM3W,OAAOmE,WAAW2a,YACnF+tC,YAAal2C,EAAM3W,OAAOoW,UAAUC,YAAY,cAChDy2C,YAAa,UAEjBn2C,EAAM81C,aAAapH,SAASmH,IAEhCO,MAAO,SAAUroD,GACbiS,EAAM81C,aAAa1nD,MAAQL,EAAKsoD,eAEpC7hD,KAAM,SAAUzG,GACZA,EAAKuoD,QAAQC,eAAexoD,EAAKikC,OAAO9nB,MAAOnc,EAAKyoD,SAAUx2C,EAAMy2C,eAAgBz2C,EAAM81C,6BAMzG,IAAIzrC,EAAa7C,eAAiBwqB,EAAO9nB,MAC1Cnb,KAAK2nD,sBAAsB1kB,OAE1B,IAAI3nB,EAAaE,QAAUynB,EAAO9nB,OASnC,GARI8qC,GAAkBjmD,KAAK1F,OAAOqkD,gBAC9B1b,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,SAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,SAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,cACjD5lD,KAAK1F,OAAOstD,kBACR3kB,EAAOsW,SAAU,CAClB,GAAIsO,GAAc,WACd,MAAO,0IAEX5kB,GAAOsW,SAAWuO,wBAAsBD,QAI/C,IAAIvsC,EAAazc,oBAAsBokC,EAAO9nB,OAC/CG,EAAa1c,kBAAoBqkC,EAAO9nB,MAAO,CAC/C,GAAI4sC,GAAWzsC,EAAa1c,kBAAoBqkC,EAAO9nB,MAAS,kBAC5D,mBACJ8nB,GAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IACzC/c,KAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAYo3C,GAG9G9kB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAYo3C,GAElG9kB,EAAO/yB,OAAS+yB,EAAO/yB,OAAS+yB,EAAO/yB,QAAWE,KAAM,OAAQF,OAAQlQ,KAAK1F,OAAO6V,iBACpF8yB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,UACsB,IAA7D5lD,KAAK1F,OAAO6V,gBAAgB7F,cAAcwC,QAAQ,MAAe,qBAAuB,qBAEvFwO,GAAazK,OAASoyB,EAAO9nB,OAC9B8qC,GAAkBjmD,KAAK1F,OAAOqkD,gBAC9B1b,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,QAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,QAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBzmD,KAAKgoD,kBAAkBrzC,KAAK3U,MACjGijC,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,eAEjDtqC,EAAalL,OAAS6yB,EAAO9nB,OAC9B8qC,GAAkBjmD,KAAK1F,OAAOqkD,gBAC9B1b,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAE7CkmB,EAAO2iB,SAAW,eAClB3iB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBzmD,KAAKioD,sBAAsBtzC,KAAK3U,OAEhGsb,EAAaO,SAAWonB,EAAO9nB,OAAkC,WAAzBnb,KAAK1F,OAAOshB,WACrDqqC,GAAkBjmD,KAAK1F,OAAOqkD,gBAC9B1b,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,eACtD3iB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBzmD,KAAKkoD,kBAAkBvzC,KAAK3U,MACjGijC,EAAOz9B,MACH8gD,QACIxwC,MAAO,GAAIC,SACX7a,aACMX,GAAI,EAAG2sD,KAAMlnD,KAAK1F,OAAOoW,UAAUC,YAAY,UAAWtR,OAAO,IACjE9E,GAAI,EAAG2sD,KAAMlnD,KAAK1F,OAAOoW,UAAUC,YAAY,QAAStR,OAAO,IAErEghD,QAAU6G,KAAM,OAAQ7nD,MAAO,WAI3CW,MAAK6lD,6BAA6B5iB,EAAQ+iB,IAE9C1I,EAAc78C,UAAUwmD,aAAe,SAAUlpD,GAC7C,GAAIkT,GAAQjR,KACR2Z,IA2BJ,OA1BgB5b,GAAKwX,IAAI,SAAUhD,GAAQ,MAAOA,GAAK/T,gBAAgB6d,mBAC7D9G,IAAI,SAAU8G,GACpB,IAAKxhB,oBAAkBwhB,GAAmB,CACtC,GAAI8rC,GAAU,GACVC,EAAgB/rC,EAAiB1T,MAAM,IAC3Cy/C,GAAc7yC,IAAI,SAAU8yC,EAAY5oD,GAChC4oD,EAAW3gC,SAAS,OACpBygC,GAAWE,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvEw3C,GAAYC,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,OACzBygC,GAAWE,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvEw3C,GAAYC,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,OACzBygC,GAAWE,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvEw3C,GAAYC,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,QACzBygC,GAAWE,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvEw3C,GAAYC,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,MAGhEka,EAAOrb,KAAK6pD,MAGbxuC,GAEX2jC,EAAc78C,UAAUinD,eAAiB,SAAUtuC,GAC/C,GAAIkvC,GAAKtoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC43C,EAAKvoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC63C,EAAKxoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC83C,EAAKzoD,KAAK1F,OAAOoW,UAAUC,YAAY,KAC3C,KAAK9V,oBAAkBue,GAAa,CAChC,GAAIsvC,GAAgBtvC,EAAWzQ,MAAM,KACjCggD,EAAU,EAuBd,OAtBAD,GAAcnzC,IAAI,SAAU8yC,EAAY5oD,GAChC4oD,EAAW3gC,SAAS4gC,IACpBK,GAAWN,EAAWlpD,QAAQmpD,EAAI,MAClCK,GAAYD,EAAc/sD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS6gC,IACzBI,GAAWN,EAAWlpD,QAAQopD,EAAI,MAClCI,GAAYD,EAAc/sD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS8gC,IACzBG,GAAWN,EAAWlpD,QAAQqpD,EAAI,MAClCG,GAAYD,EAAc/sD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS+gC,IACzBE,GAAWN,EAAWlpD,QAAQspD,EAAI,MAClCE,GAAYD,EAAc/sD,SAAW8D,EAAQ,EAAK,IAAM,KAGxDkpD,GAAWN,EACXM,GAAYD,EAAc/sD,SAAW8D,EAAQ,EAAK,IAAM,MAGzDkpD,EAEX,MAAO,OAQXrL,EAAc78C,UAAUknD,sBAAwB,SAAU1kB,GACtD,GAAIgjB,GAAiBjmD,KAAK1F,OAAOskD,qBAAqBjlC,OAAO,SAAUusC,GACnE,MAAOjjB,GAAO9nB,QAAU+qC,EAAW/qC,QACpC,EACC8qC,IAAkBjmD,KAAK1F,OAAOqkD,gBAC9B1b,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,gBAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,gBAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO7yB,KAAO,SACd6yB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBxjB,EAAOwjB,cAAgBzmD,KAAK4oD,sBAAsBj0C,KAAK3U,MACrGijC,EAAOV,gBAA2C,IAA1BU,EAAOV,gBAOnC+a,EAAc78C,UAAUooD,eAAiB,SAAU9qD,GAC/C,GAAIsB,GAAQK,WAASM,KAAK1F,OAAOmE,WAAWga,aAAc1a,EAAKI,UAC3D5D,IACJ,IAAKM,oBAAkBwE,GAOnB,MAAOA,EANP,KAAK,GAAIvB,GAAI,EAAGA,EAAIuB,EAAM1D,OAAQmC,IAC9BvD,EAAG+D,KAAyB,gBAAbe,GAAMvB,GAAkBuB,EAAMvB,GAAGkC,KAAK1F,OAAO8d,eAAe7d,IAAM8E,EAAMvB,GAE3F,OAAOvD,IAYf+iD,EAAc78C,UAAU4lD,gBAAkB,SAAUpjB,GAChD,GAEI6lB,GAFAC,EAAyC,gBAAzB/oD,KAAK1F,OAAOyd,SAC5BixC,EAAmBhpD,KAAK1F,OAAOY,WAAa8E,KAAK1F,OAAOY,WAAmB,OAAI,CAGnF,IADA+nC,EAAOgmB,eAAeF,EAClB/oD,KAAK1F,OAAOqkD,gBAAiB,CAC7B,GAAIsH,GAAiBjmD,KAAK1F,OAAOskD,qBAAqBjlC,OAAO,SAAUusC,GACnE,MAAOjjB,GAAO9nB,QAAU+qC,EAAW/qC,QACpC,EACC8qC,KACAhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,WAIlHsyB,GAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,KAElGsyB,GAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,GAC7C,KAAK,GAAIjf,GAAI,EAAGA,EAAIkrD,EAAkBlrD,IAClC,IAAKjD,oBAAkBmF,KAAK1F,OAAOY,WAAW4C,GAAGkC,KAAK1F,OAAOmE,WAAWlE,KAAM,CAC1EuuD,EAAa9oD,KAAK1F,OAAOY,WAAW4C,GAAGkC,KAAK1F,OAAOmE,WAAWlE,GAC9D,OAGoB,oBAAYM,oBAAkBiuD,IACzB,iBAAzB9oD,KAAK1F,OAAOyd,SACZkrB,EAAOrD,eAAeqD,EAAOrD,cAAeqD,EAAOrD,aAGnDqD,EAAOrD,cAAeqD,EAAOrD,cAAeqD,EAAOrD,aAEvDqD,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,eAGtD3iB,EAAOrD,eAAeqD,EAAOrD,cAAeqD,EAAOrD,aACnDqD,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,eAE1D3iB,EAAOwjB,cAAgBsC,EAAgB,KAAO/oD,KAAKkpD,gBAAgBv0C,KAAK3U,OAE5Es9C,EAAc78C,UAAUslD,sBAAwB,SAAU9iB,GACtDA,EAAO9nB,MAAQ,cACf8nB,EAAOgmB,cAAe,EACtBhmB,EAAO0iB,WAAa,WACpB1iB,EAAOrD,cAAe,EACtBqD,EAAOkmB,SAAU,GAQrB7L,EAAc78C,UAAUkmD,sBAAwB,SAAU1jB,GACtD,GAAIgjB,GAAiBjmD,KAAK1F,OAAOskD,qBAAqBjlC,OAAO,SAAUusC,GACnE,MAAOjjB,GAAO9nB,QAAU+qC,EAAW/qC,QACpC,EACCnb,MAAK1F,OAAOqkD,iBAAmBsH,EAC/BhjB,EAAO0iB,WAAaM,EAAeN,WAAaM,EAAeN,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAG9GsyB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa1iB,EAAO0iB,WAAa3lD,KAAK1F,OAAOoW,UAAUC,YAAY,YAElGsyB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQkmB,EAAOlmB,MAAQ,IAC7CkmB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW3iB,EAAO2iB,SAAW,eAO1DtI,EAAc78C,UAAUolD,6BAA+B,SAAUuD,EAAgBpD,GAG7E,IAAK,GAFDqD,MACAC,KACK/tD,EAAK,EAAGC,EAAKC,OAAOC,KAAK0tD,GAAiB7tD,EAAKC,EAAGG,OAAQJ,IAAM,CACrE,GAAIqyB,GAAOpyB,EAAGD,EACd8tD,GAAez7B,GAAQ07B,EAAY17B,GAAQw7B,EAAex7B,GAE9D5tB,KAAK1F,OAAO8K,cAAckkD,EAAYnuC,OAASmuC,EAC/CtpD,KAAK1F,OAAO4gB,aAAa5c,KAAK,GAAIirD,IAAYD,IAC1CtD,GACAhmD,KAAK0+C,gBAAgBpgD,KAAK+qD,IAGlC/L,EAAc78C,UAAUimD,sBAAwB,SAAUvrC,EAAOpd,EAAMklC,GACnE,IAAKpoC,oBAAkBkD,KAAUlD,oBAAkBkD,EAAKS,iBAAkB,CACtE,GAAI5D,GAAYmD,EAAKS,eACrB,OAAOwB,MAAK1F,OAAO+J,cAAckM,kBAAkB3V,EAAUI,SAAUJ,EAAUuJ,cAEhF,MAAInE,MAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBACtDpC,KAAK1F,OAAO+J,cAAckM,kBAAkBvS,SAASD,EAAKiC,KAAK1F,OAAOmE,WAAWzD,UAAW,IAAKgF,KAAK1F,OAAO6J,cAEjH,IAEXm5C,EAAc78C,UAAUmmD,wBAA0B,SAAUzrC,EAAOpd,EAAMklC,GACrE,GAAIhyB,GAAQjR,IACZ,IAAIjC,GAAQA,EAAKS,kBAAoB3D,oBAAkBkD,EAAKS,gBAAgB6d,kBAAmB,CAC3F,GAAImtC,GAAU,GAEVC,EADmB1rD,EAAKS,gBAAgB6d,iBACP1T,MAAM,IAmB3C,OAlBA8gD,GAAcl0C,IAAI,SAAU8yC,EAAY5oD,GAChC4oD,EAAW3gC,SAAS,OACpB8hC,GAAWnB,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvE64C,GAAYC,EAAc9tD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,OACzB8hC,GAAWnB,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvE64C,GAAYC,EAAc9tD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,OACzB8hC,GAAWnB,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvE64C,GAAYC,EAAc9tD,SAAW8D,EAAQ,EAAK,IAAM,IAEnD4oD,EAAW3gC,SAAS,QACzB8hC,GAAWnB,EAAWlpD,QAAQ,KAAM8R,EAAM3W,OAAOoW,UAAUC,YAAY,OACvE64C,GAAYC,EAAc9tD,SAAW8D,EAAQ,EAAK,IAAM,MAGzD+pD,EAEX,MAAO,IAEXlM,EAAc78C,UAAUmoD,sBAAwB,SAAUztC,EAAOpd,EAAMklC,GACnE,GAAIroC,GAAYmD,EAAKS,eACrB,OAAK3D,qBAAkBD,GAGhB,GAFIA,EAAU8uD,eAIzBpM,EAAc78C,UAAUunD,kBAAoB,SAAU7sC,EAAOpd,EAAMklC,GAC/D,GAAIroC,GAAYmD,EAAKS,eACrB,OAAK3D,qBAAkBD,GAGhB,GAFIoF,KAAK1F,OAAO+J,cAAcuM,cAAchW,EAAUiW,KAAMjW,EAAUkW,WAIjFwsC,EAAc78C,UAAUwnD,sBAAwB,SAAU9sC,EAAOpd,EAAMklC,GACnE,GAAIroC,GAAYmD,EAAKS,eACrB,OAAK3D,qBAAkBD,GAGhB,GAFIA,EAAUokB,UAIzBs+B,EAAc78C,UAAUynD,kBAAoB,SAAU/sC,EAAOpd,EAAMklC,GAC/D,MAAIllC,GAAKod,GACE,SAGA,QAGfmiC,EAAc78C,UAAUyoD,gBAAkB,SAAU/tC,EAAOpd,EAAMklC,GAC7D,MAAsB,KAAfllC,EAAK6b,MAAc,KAAO7b,EAAKS,gBAAgBkX,OAAS,KAAO3X,EAAKS,gBAAgBkX,QAE/F4nC,EAAc78C,UAAUs+C,gBAAkB,SAAU//C,GAChD,GAAI2qD,GAAejqD,WAAS,MAAOV,EACnCgB,MAAKo/C,gBAAgBv5C,cAAc,cAAcgsB,UAAY83B,EAC7D3pD,KAAK+wB,eAAeC,IAAMhxB,KAAKo/C,gBAAgBv5C,cAAc,cAAcgsB,WAE/EyrB,EAAc78C,UAAU4kD,qBAAuB,SAAUjvC,GACrDpW,KAAK1F,OAAOy7B,OAAO,gBAAiB3f,IAExCknC,EAAc78C,UAAUg+B,oBAAsB,WAC1Cz+B,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAK8+C,iBACrC9+C,KAAK1F,OAAOs3B,IAAI,cAAe5xB,KAAK++C,iBACpC/+C,KAAK1F,OAAOs3B,IAAI,UAAW5xB,KAAKm3B,SAChCn3B,KAAK1F,OAAO4H,SAAS0vB,IAAI,sBAAuB5xB,KAAKg/C,sBAEzD1B,EAAc78C,UAAU02B,QAAU,WAC9Bn3B,KAAKy+B,sBACLz+B,KAAKumC,eACDvmC,KAAK1F,OAAO4H,SAAS4D,SACrB9F,KAAK1F,OAAO4H,SAASi1B,WAGtBmmB,KCttCPlqC,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DK,GAAgC,SAAUr2C,GAE1C,QAASq2C,KACL,MAAkB,QAAXr2C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAQ/D,MAVAoT,IAAUi3C,EAAgBr2C,GAI1B41C,IACIU,WAAS,OACVD,EAAe5pD,UAAW,WAAQ,IACrCmpD,IACIU,WAAS,OACVD,EAAe5pD,UAAW,SAAM,IAC5B4pD,GACTE,iBCnCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DQ,GAAwC,SAAUx2C,GAElD,QAASw2C,KACL,MAAkB,QAAXx2C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAc/D,MAhBAoT,IAAUo3C,EAAwBx2C,GAIlC41C,IACIU,WAAS,OACVE,EAAuB/pD,UAAW,WAAQ,IAC7CmpD,IACIU,WAAS,OACVE,EAAuB/pD,UAAW,iBAAc,IACnDmpD,IACIU,gBACDE,EAAuB/pD,UAAW,aAAU,IAC/CmpD,IACIU,gBACDE,EAAuB/pD,UAAW,uBAAoB,IAClD+pD,GACTD,iBCzCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DS,GAAyC,SAAUz2C,GAEnD,QAASy2C,KACL,MAAkB,QAAXz2C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAc/D,MAhBAoT,IAAUq3C,EAAyBz2C,GAInC41C,IACIU,WAAS,OACVG,EAAwBhqD,UAAW,WAAQ,IAC9CmpD,IACIU,WAAS,OACVG,EAAwBhqD,UAAW,iBAAc,IACpDmpD,IACIU,gBACDG,EAAwBhqD,UAAW,aAAU,IAChDmpD,IACIU,gBACDG,EAAwBhqD,UAAW,uBAAoB,IACnDgqD,GACTF,iBCzCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DU,GAA8B,SAAU12C,GAExC,QAAS02C,KACL,MAAkB,QAAX12C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KA0B/D,MA5BAoT,IAAUs3C,EAAc12C,GAIxB41C,IACIU,YAAS,IACVI,EAAajqD,UAAW,mBAAgB,IAC3CmpD,IACIU,YAAS,IACVI,EAAajqD,UAAW,kBAAe,IAC1CmpD,IACIU,YAAS,IACVI,EAAajqD,UAAW,oBAAiB,IAC5CmpD,IACIU,WAAS,SACVI,EAAajqD,UAAW,WAAQ,IACnCmpD,IACIU,WAAS,QACVI,EAAajqD,UAAW,qBAAkB,IAC7CmpD,IACIU,YAAS,IACVI,EAAajqD,UAAW,8BAA2B,IACtDmpD,IACIU,YAAS,IACVI,EAAajqD,UAAW,0BAAuB,IAClDmpD,IACIU,YAAS,IACVI,EAAajqD,UAAW,uBAAoB,IACxCiqD,GACTH,iBCrDEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DW,GAA6B,SAAU32C,GAEvC,QAAS22C,KACL,MAAkB,QAAX32C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAW/D,MAbAoT,IAAUu3C,EAAa32C,GAIvB41C,IACIU,WAAS,OACVK,EAAYlqD,UAAW,UAAO,IACjCmpD,IACIU,WAAS,OACVK,EAAYlqD,UAAW,YAAS,IACnCmpD,IACIU,WAAS,OACVK,EAAYlqD,UAAW,eAAY,IAC/BkqD,GACTJ,iBCtCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAO5DY,GAAgC,SAAU52C,GAE1C,QAAS42C,KACL,MAAkB,QAAX52C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAiB/D,MAnBAoT,IAAUw3C,EAAgB52C,GAI1B41C,IACIiB,gBAAeC,cAChBF,EAAenqD,UAAW,cAAW,IACxCmpD,IACIU,WAAS,SACVM,EAAenqD,UAAW,WAAQ,IACrCmpD,IACIU,cACDM,EAAenqD,UAAW,gBAAa,IAC1CmpD,IACIU,YAAS,IACVM,EAAenqD,UAAW,mBAAgB,IAC7CmpD,IACIU,WAAS,WACVM,EAAenqD,UAAW,oBAAiB,IACvCmqD,GACTL,iBC7CEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5De,GAAgC,SAAU/2C,GAE1C,QAAS+2C,KACL,MAAkB,QAAX/2C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAiB/D,MAnBAoT,IAAU23C,EAAgB/2C,GAI1B41C,IACIU,gBACDS,EAAetqD,UAAW,aAAU,IACvCmpD,IACIU,YAAS,IACVS,EAAetqD,UAAW,iBAAc,IAC3CmpD,IACIU,WAAS,aACVS,EAAetqD,UAAW,eAAY,IACzCmpD,IACIU,WAAS,KACVS,EAAetqD,UAAW,UAAO,IACpCmpD,IACIU,WAAS,WACVS,EAAetqD,UAAW,oBAAiB,IACvCsqD,GACTR,iBC5CEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DgB,GAAyB,SAAUh3C,GAEnC,QAASg3C,KACL,MAAkB,QAAXh3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAc/D,MAhBAoT,IAAU43C,EAASh3C,GAInB41C,IACIU,WAAS,OACVU,EAAQvqD,UAAW,WAAQ,IAC9BmpD,IACIU,WAAS,OACVU,EAAQvqD,UAAW,SAAM,IAC5BmpD,IACIU,WAAS,OACVU,EAAQvqD,UAAW,YAAS,IAC/BmpD,IACIU,WAAS,OACVU,EAAQvqD,UAAW,eAAY,IAC3BuqD,GACTT,iBCzCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DiB,GAA+B,SAAUj3C,GAEzC,QAASi3C,KACL,MAAkB,QAAXj3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAW/D,MAbAoT,IAAU63C,EAAej3C,GAIzB41C,IACIU,WAAS,OACVW,EAAcxqD,UAAW,iBAAc,IAC1CmpD,IACIU,WAAS,OACVW,EAAcxqD,UAAW,gBAAa,IACzCmpD,IACIU,WAAS,OACVW,EAAcxqD,UAAW,gBAAa,IAClCwqD,GACTV,iBCtCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DkB,GAAmC,SAAUl3C,GAE7C,QAASk3C,KACL,MAAkB,QAAXl3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAiB/D,MAnBAoT,IAAU83C,EAAmBl3C,GAI7B41C,IACIU,WAAS,QACVY,EAAkBzqD,UAAW,WAAQ,IACxCmpD,IACIU,WAAS,SACVY,EAAkBzqD,UAAW,wBAAqB,IACrDmpD,IACIU,WAAS,WACVY,EAAkBzqD,UAAW,WAAQ,IACxCmpD,IACIU,YAAS,IACVY,EAAkBzqD,UAAW,uBAAoB,IACpDmpD,IACIU,YAAS,IACVY,EAAkBzqD,UAAW,mBAAgB,IACzCyqD,GACTX,iBC5CEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DmB,GAAkC,SAAUn3C,GAE5C,QAASm3C,KACL,MAAkB,QAAXn3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAiB/D,MAnBAoT,IAAU+3C,EAAkBn3C,GAI5B41C,IACIU,WAAS,OACVa,EAAiB1qD,UAAW,eAAY,IAC3CmpD,IACIU,YAAU,IACXa,EAAiB1qD,UAAW,kBAAe,IAC9CmpD,IACIU,WAAS,IACVa,EAAiB1qD,UAAW,oBAAiB,IAChDmpD,IACIU,WAAS,OACVa,EAAiB1qD,UAAW,cAAW,IAC1CmpD,IACIU,WAAS,YACVa,EAAiB1qD,UAAW,WAAQ,IAChC0qD,GACTZ,iBC5CEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DoB,GAA4B,SAAUp3C,GAEtC,QAASo3C,KACL,MAAkB,QAAXp3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KA0E/D,MA5EAoT,IAAUg4C,EAAYp3C,GAItB41C,IACIU,WAAS,OACVc,EAAW3qD,UAAW,SAAM,IAC/BmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,WAAQ,IACjCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,eAAY,IACrCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,sBAAmB,IAC5CmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,gBAAa,IACtCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,cAAW,IACpCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,iBAAc,IACvCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,eAAY,IACrCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,YAAS,IAClCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,gBAAa,IACtCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,eAAY,IACrCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,mBAAgB,IACzCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,eAAY,IACrCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,wBAAqB,IAC9CmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,sBAAmB,IAC5CmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,mBAAgB,IACzCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,kBAAe,IACxCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,iBAAc,IACvCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,YAAS,IAClCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,WAAQ,IACjCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,aAAU,IACnCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,WAAQ,IACjCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,eAAY,IACrCmpD,IACIU,WAAS,OACVc,EAAW3qD,UAAW,gBAAa,IAC/B2qD,GACTb,iBCrGEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DqB,GAAsC,SAAUr3C,GAEhD,QAASq3C,KACL,MAAkB,QAAXr3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAc/D,MAhBAoT,IAAUi4C,EAAsBr3C,GAIhC41C,IACIU,WAAS,KACVe,EAAqB5qD,UAAW,aAAU,IAC7CmpD,IACIU,WAAS,SACVe,EAAqB5qD,UAAW,WAAQ,IAC3CmpD,IACIU,WAAS,IACVe,EAAqB5qD,UAAW,YAAS,IAC5CmpD,IACIU,WAAS,OACVe,EAAqB5qD,UAAW,gBAAa,IACzC4qD,GACTd,iBAKEe,GAAkC,SAAUt3C,GAE5C,QAASs3C,KACL,MAAkB,QAAXt3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KA6B/D,MA/BAoT,IAAUk4C,EAAkBt3C,GAI5B41C,IACIU,WAAS,SACVgB,EAAiB7qD,UAAW,uBAAoB,IACnDmpD,IACI2B,aAAYF,KACbC,EAAiB7qD,UAAW,cAAW,IAC1CmpD,IACI2B,aAAYF,KACbC,EAAiB7qD,UAAW,iBAAc,IAC7CmpD,IACIU,WAAS,KACVgB,EAAiB7qD,UAAW,uBAAoB,IACnDmpD,IACIU,WAAS,IACVgB,EAAiB7qD,UAAW,mBAAgB,IAC/CmpD,IACIU,WAAS,OACVgB,EAAiB7qD,UAAW,wBAAqB,IACpDmpD,IACIU,YAAS,IACVgB,EAAiB7qD,UAAW,kBAAe,IAC9CmpD,IACIU,YAAS,IACVgB,EAAiB7qD,UAAW,0BAAuB,IACtDmpD,IACIU,YAAS,IACVgB,EAAiB7qD,UAAW,kBAAe,IACvC6qD,GACTf,iBC/EEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DwB,GAAiC,SAAUx3C,GAE3C,QAASw3C,KACL,MAAkB,QAAXx3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAoB/D,MAtBAoT,IAAUo4C,EAAiBx3C,GAI3B41C,IACIU,YAAS,IACVkB,EAAgB/qD,UAAW,kBAAe,IAC7CmpD,IACIU,cACDkB,EAAgB/qD,UAAW,cAAW,IACzCmpD,IACIU,cACDkB,EAAgB/qD,UAAW,eAAY,IAC1CmpD,IACIU,cACDkB,EAAgB/qD,UAAW,oBAAiB,IAC/CmpD,IACIU,cACDkB,EAAgB/qD,UAAW,cAAW,IACzCmpD,IACIU,cACDkB,EAAgB/qD,UAAW,eAAY,IACnC+qD,GACTjB,iBC/CEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5DyB,GAAgC,SAAUz3C,GAE1C,QAASy3C,KACL,MAAkB,QAAXz3C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAQ/D,MAVAoT,IAAUq4C,EAAgBz3C,GAI1B41C,IACIU,cACDmB,EAAehrD,UAAW,YAAS,IACtCmpD,IACIU,cACDmB,EAAehrD,UAAW,gBAAa,IACnCgrD,GACTlB,iBAKEmB,GAA8B,SAAU13C,GAExC,QAAS03C,KACL,MAAkB,QAAX13C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAQ/D,MAVAoT,IAAUs4C,EAAc13C,GAIxB41C,IACIiB,gBAAeY,KAChBC,EAAajrD,UAAW,cAAW,IACtCmpD,IACIU,YAAS,IACVoB,EAAajrD,UAAW,kBAAe,IACnCirD,GACTnB,iBCpDEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5D2B,GAAgC,SAAU33C,GAE1C,QAAS23C,KACL,MAAkB,QAAX33C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAc/D,MAhBAoT,IAAUu4C,EAAgB33C,GAI1B41C,IACIU,WAAS,OACVqB,EAAelrD,UAAW,SAAM,IACnCmpD,IACIU,WAAS,OACVqB,EAAelrD,UAAW,WAAQ,IACrCmpD,IACIU,WAAS,OACVqB,EAAelrD,UAAW,WAAQ,IACrCmpD,IACIU,WAAS,OACVqB,EAAelrD,UAAW,YAAS,IAC/BkrD,GACTpB,iBCzCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAM5D4B,GAAkC,SAAU53C,GAE5C,QAAS43C,KACL,MAAkB,QAAX53C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAK/D,MAPAoT,IAAUw4C,EAAkB53C,GAI5B41C,IACIU,WAAS,YACVsB,EAAiBnrD,UAAW,oBAAiB,IACzCmrD,GACTrB,iBChCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GAO5D6B,GAAiC,SAAU73C,GAE3C,QAAS63C,KACL,MAAkB,QAAX73C,GAAmBA,EAAOgD,MAAMhX,KAAM8qC,YAAc9qC,KAQ/D,MAVAoT,IAAUy4C,EAAiB73C,GAI3B41C,IACIU,cACDuB,EAAgBprD,UAAW,gBAAa,IAC3CmpD,IACIiB,gBAAeR,KAChBwB,EAAgBprD,UAAW,gBAAa,IACpCorD,GACTtB,iBCpCEn3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAYnFk4C,GAA2B,SAAU93C,GAErC,QAAS83C,GAAU9gB,GACf,GAAI/5B,GAAQ+C,EAAOC,KAAKjU,KAAMgrC,IAAahrC,IAsC3C,OArCAiR,GAAMoQ,cAAgB,EACtBpQ,EAAM86C,gBAAkB,EACxB96C,EAAM+6C,iBAAmB,EACzB/6C,EAAMg7C,YAAc,EACpBh7C,EAAMi7C,eAAiB,EACvBj7C,EAAMk7C,wBAA0B,GAChCl7C,EAAMm7C,yBAA2B,GACjCn7C,EAAMo7C,WAAY,EAClBp7C,EAAMq7C,eACNr7C,EAAMs7C,iBACNt7C,EAAMi3B,WAAY,EAClBj3B,EAAMu7C,SAAW,2BACjBv7C,EAAMw7C,eAAiB,4BACvBx7C,EAAMy7C,yBAA2B,KAQjCz7C,EAAM07C,gBAAkB,SAAUvmB,GAC9Bn1B,EAAM3W,OAAOmqB,iBAAiC,eAAE2hB,IASpDn1B,EAAM27C,eAAiB,SAAUxmB,GAC7Bn1B,EAAM3W,OAAOmqB,iBAAkC,gBAAE2hB,IAErDn1B,EAAM3W,OAAS0wC,EACf/5B,EAAM47C,iBACN57C,EAAMuD,mBACCvD,EAmjFX,MA3lFAmC,IAAU04C,EAAW93C,GAgDrB83C,EAAUrrD,UAAUosD,eAAiB,WACjC7sD,KAAK20B,oBAAsB,MAE/Bm3B,EAAUrrD,UAAU+T,iBAAmB,WACnCxU,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAK8sD,iBAAkB9sD,MACtDA,KAAK1F,OAAOma,GAAG,YAAazU,KAAK+sD,kBAAmB/sD,MACpDA,KAAK1F,OAAOma,GAAG,UAAWzU,KAAKm3B,QAASn3B,OAE5C8rD,EAAUrrD,UAAUgsC,uBAAyB,WACzCzsC,KAAK0zB,UAAUC,MAAM5W,MAAQqX,aAAWp0B,KAAK1F,OAAOkqB,6BAChDxkB,KAAK1F,OAAOsX,eAAeohB,mBAAqBhzB,KAAK1F,OAAOsX,eAAeukB,mBAC/E,IAAI62B,GAAWttD,WAAS,uBAAwBM,KAAK1F,OAAO+J,eACxD6jC,GAAY,CACZ8kB,KACA9kB,EAAY8kB,EAAS9rD,YAAclB,KAAK1F,OAAOuO,sBAAsB3H,WAEzElB,KAAKkoC,aAAYloC,KAAK1F,OAAOq/B,wBAA0BuO,GACnDxoC,WAAS,cAAeM,KAAK1F,OAAO4H,SAASqvB,KAAK07B,gBACtDjtD,KAAKktD,mBACLltD,KAAKkoC,WAAY,GAQrB4jB,EAAUrrD,UAAUqsD,iBAAmB,WACnC9sD,KAAK0zB,UAAY6D,gBAAc,SAC3BC,UAAW21B,8BAAuC5yD,GAAI,iBAAmByF,KAAK1F,OAAOwL,QAAQvL,GAC7Fk9B,OAAQ,6BAA+Bz3B,KAAK1F,OAAOkqB,6BAA+BxkB,KAAK1F,OAAOsX,eAAeohB,mBAAqBhzB,KAAK1F,OAAOsX,eAAeukB,oBAAsB,MACnLi3B,OAASC,YAAa,WAE1B,IAAIC,GAAW/1B,gBAAc,YACzB0L,EAAS1L,gBAAc,OAASE,OAAQ,SAAWz3B,KAAK1F,OAAOsX,eAAeukB,mBAAqB,OACvGm3B,GAAS51B,YAAYuL,GACrBjjC,KAAK0zB,UAAUgE,YAAY41B,GAC3BttD,KAAK20B,oBAAsB4C,gBAAc,SACrCh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,uBAEjCyF,KAAK0zB,UAAUgE,YAAY13B,KAAK20B,qBAChC30B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBF,YAAY13B,KAAK0zB,YAEnEo4B,EAAUrrD,UAAUssD,kBAAoB,WACpC/sD,KAAK0zB,UAAUC,MAAM5W,MAAQqX,aAAWp0B,KAAK1F,OAAOkqB,6BAChDxkB,KAAK1F,OAAOsX,eAAeohB,mBAAqBhzB,KAAK1F,OAAOsX,eAAeukB,oBAC/En2B,KAAKutD,iCACLvtD,KAAKwtD,2BAQT1B,EAAUrrD,UAAUq5B,gBAAkB,WAClC95B,KAAKytD,wBACLztD,KAAK1F,OAAOozD,sBAAuB,GASvC5B,EAAUrrD,UAAUktD,iBAAmB,SAAUzqB,GAC7C,GAAI0qB,GAAiB,wHACd5tD,KAAK1F,iBAAoB,OAC3B0F,KAAK1F,OAAO24B,UAAY,SAAW,SAAWjzB,KAAK6tD,iBAAiB3qB,EAAUnnC,MAAQ,kBAAoBmnC,EAAU4qB,UAAY,4CACrI,OAAO9tD,MAAK+tD,iBAAiBH,IASjC9B,EAAUrrD,UAAUotD,iBAAmB,SAAU9xD,GAG7C,MAFAA,GAAOiE,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB7G,GAC/CiE,KAAK1F,OAAO+J,cAAcmd,YAAYzlB,GAAM,IAW3D+vD,EAAUrrD,UAAUutD,oBAAsB,SAAUlwD,EAAGmwD,GACnD,GAEIC,GAFAC,EAAmB,KACnBpwD,EAAOiC,KAAKouD,YAQhB,IALIF,EADAluD,KAAK1F,OAAO24B,UACA,SAGA,QAEZjzB,KAAKquD,6BACLF,EAAmBnuD,KAAKquD,6BAA6BnwD,UAASuB,MAAO3B,GAAKC,GAAOiC,KAAK1F,OAAQ,kBAAmB0F,KAAKo6C,cAAc,oBAAoB,MAAOzyC,GAAWsmD,EAAY,GAAIjuD,KAAK1F,OAAO4H,SAAe,UAEpN,CACD,GAAIosD,GAAc,GACdv+B,EAAY,GACZw+B,MAAkB,GAClBC,MAAc,EACdzwD,GAAKS,gBAAgB1D,WAAaiD,EAAKS,gBAAgBzD,SACpDgD,EAAKS,gBAAgBxD,WACxBuzD,EAAkBvuD,KAAK+tD,iBAAiB,sEAC7BhwD,EAAKS,gBAAgBmC,eAAiB,GzBnHjC,+ByBmHgE,iBAC1D5C,EAAKS,gBAAgBue,MAAQ,aAC9C/c,mBAAsB,gCAC3BwuD,EAAcxuD,KAAK+tD,iBAAiB,eAAiBU,EAA+B,+BAC7C1wD,EAAKS,gBAAgBmC,eACxD,GzBvHgB,mCyBuHmB,0BACR5C,EAAKS,gBAAgBuuB,cAAgB,SAAW,SAC3E,SAAWhvB,EAAKS,gBAAgBuuB,cAAgB,0CACnB/sB,KAAK0uD,gBAAgB3wD,EAAKS,iBAAmB,iCAC1CwB,KAAK0uD,gBAAgB3wD,EAAKS,iBAAmB,eAGrF,IAAImwD,GAAUp3B,gBAAc,MAC5B,IAAIv3B,KAAK4uD,4BAA8B/zD,oBAAkB2zD,IAAgBA,EAAY7yD,OAAS,EAAG,CAC7F,GAAIkzD,GAAwB7uD,KAAK4uD,0BAA0B1wD,UAASuB,MAAO3B,GAAKC,GAAOiC,KAAK1F,OAAQ,oBAAqB0F,KAAKo6C,cAAc,sBAAsB,MAAOzyC,GAAW6mD,EAAY,GAC5LK,IAAyBA,EAAsBlzD,OAAS,IACxDi/C,SAAOiU,EAAuBF,GAC9BL,EAAcK,EAAQt7B,UAEtBi7B,EAA8B,sBAD9BA,EAActuD,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcrZ,YACP4+B,EAAQt7B,UAAYi7B,EACnEtuD,KAAK1F,OAAOkkD,qBAAgD,qBAC5D8P,EAAcS,qBAAmBC,SAASV,SAIjD,CACD,GAAInzC,GAAQnb,KAAK1F,OAAO8uC,cAAcrZ,SAEtCu+B,GAA8B,sBAD9BA,EAActuD,KAAK8uD,aAAa3zC,IACmBnb,KAAK1F,OAAO8uC,cAAcrZ,UAAYu+B,EACrFtuD,KAAK1F,OAAOkkD,qBAAgD,qBAC5D8P,EAAcS,qBAAmBC,SAASV,KAGb,IAAjCA,EAAYxhD,QAAQ,UAC2C,qBAA3D9M,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcrZ,YAC3C/vB,KAAKivD,WAAWjvD,KAAK1F,OAAO8uC,cAAcrZ,aAC3Cu+B,EAAc,IAGdv+B,EADA1gB,MAAMrR,SAASswD,EAAa,KAChB,kDACPtuD,KAAKqhB,cAAgB,GAAK,mBAAqBrhB,KAAK1F,OAAO24B,UAAY,SAAW,SACnF,+BACYl1B,EAAKS,gBAAgBue,MAAQ,IAAM,cAC/C/c,KAAKqhB,cAAgB,eAGb,kDACPrhB,KAAKqhB,cAAgB,GAAK,OAAkC,iBAAzBrhB,KAAK1F,OAAOyd,SAA+B,eAC9E/X,KAAK1F,OAAO24B,UAAY,SAAW,SAAY,OACrB,iBAAzBjzB,KAAK1F,OAAOyd,SAA8B,uBAAyB,OAC1C,iBAAzB/X,KAAK1F,OAAOyd,SAA+Bha,EAAKS,gBAAgBue,MAAQ,GAAM,IAAM,cACtF/c,KAAKqhB,cAAgB,eAGjC,IAAIk4B,IAAY1+C,oBAAkBkD,EAAKS,gBAAgBmG,WAAa5G,EAAKS,gBAAgBmG,SAAShJ,OAAS,EACvGqE,KAAKkvD,aAAanxD,EAAMuwD,GAAgBvwD,EAAKS,gBAAgB1D,WAAaiD,EAAKS,gBAAgBzD,SAC5FgD,EAAKS,gBAAgBxD,YACvB+C,EAAKS,gBAAgB1D,WAAciD,EAAKS,gBAAgBzD,SAAYgD,EAAKS,gBAAgBxD,UAIrF+C,EAAKS,gBAAgBzD,SAAYgD,EAAKS,gBAAgB1D,WAAciD,EAAKS,gBAAgBxD,UAKrF+C,EAAKS,gBAAgBxD,UAAa+C,EAAKS,gBAAgB1D,WAAciD,EAAKS,gBAAgBzD,QAKhC,GAJtD,eAAiB0zD,EAA+B,IAAMU,EAAwB,iCAC3CpxD,EAAKS,gBAAgBmC,eACrD,GzBxLA,+ByBwL+B,WACnButD,EAAYnwD,EAAKS,gBAAgBsf,KAAO,aAAe/f,EAAKS,gBAAgBue,MAAQ,cACnF/c,KAAKqhB,cAAgB,cATzC,eAAiBotC,EAA+B,IAAMU,EAAwB,uCACtCpxD,EAAKS,gBAAgBmC,eAC1D,GzBnLI,+ByBmL2B,WACnButD,EAAYnwD,EAAKS,gBAAgBsf,KAAO,cAAgB9d,KAAKqhB,cAAgB,cARE,eAAiBotC,EAA+B,IAAMU,EAAwB,sCAC7IpxD,EAAKS,gBAAgBmC,eACzD,GzB9KY,+ByB8KmB,WACnButD,EAAYnwD,EAAKS,gBAAgBsf,KAAO,cAAgB9d,KAAKqhB,cAAgB,aAgBjG,IAJItjB,EAAKS,gBAAgBmG,UAAY5G,EAAKS,gBAAgBmG,SAAShJ,OAAS,IAExE49C,GADev5C,KAAKovD,+BAGpBrxD,EAAKS,gBAAgB1D,WAAaiD,EAAKS,gBAAgBzD,SAAWgD,EAAKS,gBAAgBxD,WACtFH,oBAAkBkD,EAAKS,gBAAgBmG,YAAe9J,oBAAkBkD,EAAKS,gBAAgBmG,WACjD,IAAzC5G,EAAKS,gBAAgBmG,SAAShJ,QAAgB,CAClD,GAAiB,KAAb49C,IAAoB1+C,oBAAkB2zD,IAAgBA,EAAY7yD,OAAS,EAAG,CAE9E,GAAI0zD,GAAkBrvD,KAAK+tD,iBAAiBxU,GAAU,EAClDv5C,MAAK1F,OAAO6rD,kBACZkJ,EAAgBC,UAAYhB,EAG5Be,EAAgBh8B,UAAYi7B,CAEhC,IAAIiB,GAAavvD,KAAK1F,OAAO8uC,cAAcrZ,SACvCw/B,IAAcA,EAAuB,YACrCF,EAAgB33B,YAAYi3B,GAEhCH,EAAY,GAAG92B,YAAY23B,GAC6C,KAApEb,EAAY,GAAGnwB,iBAAiB,iBAAiB,GAAGsc,cACnD36C,KAAKivD,WAAWM,IACjBf,EAAY,GAAGnwB,iBAAiB,iBAAiB,GAAGjJ,SAAS,IAAMp1B,KAAK1F,OAAO6rD,mBAC/EqI,EAAY,GAAGnwB,iBAAiB,iBAAiB,GAAGjJ,SAAS,GAAGz2B,SAEI,KAApE6vD,EAAY,GAAGnwB,iBAAiB,iBAAiB,GAAGsc,aACpD4U,IAAeA,EAAuB,YAA2B,KAAtBZ,EAAQt7B,YACnDm7B,EAAY,GAAGnwB,iBAAiB,iBAAiB,GAAGsc,YAAc4U,IAGrE10D,oBAAkB0zD,IAAoBA,EAAgB5yD,OAAS,GAChE4yD,EAAgB,GAAG72B,eAAerpB,MAAM4F,KAAKu6C,GAAa,IAE9DL,EAAmBI,MAGnBJ,GAAmBnuD,KAAK+tD,iBAAiBxU,GAUjD,MAPIv5C,MAAK1F,OAAO24B,YAAcp4B,oBAAkBszD,IAAqBA,EAAiB,IAAMA,EAAiB,GAAGtoD,cAAc,mBAC1HsoD,EAAiB,GAAGtoD,cAAc,iBAAiB8tB,MAAM67B,WAAa,OACtErB,EAAiB,GAAGtoD,cAAc,iBAAiB8tB,MAAM87B,YAAc,MACnEtB,EAAiB,GAAGtoD,cAAc,gCAClCsoD,EAAiB,GAAGtoD,cAAc,8BAA8B8tB,MAAM+7B,UAAY,SAGnFvB,GAEXrC,EAAUrrD,UAAUyuD,aAAe,SAAUnxD,EAAMuwD,GAE/C,IAAK,GADDqB,GAAa,GACR7xD,EAAI,EAAGA,EAAIC,EAAKS,gBAAgBmG,SAAShJ,OAAQmC,IAAK,CAC3D,GAAI4f,GAAU3f,EAAKS,gBAAgBmG,SAAS7G,GACxC8xD,MAAqB,EAKrBA,GAJClyC,EAAQoP,aAIY,UAHA,SAOzB6iC,GAEA,gDAJ6B,IAAN7xD,EAAW,kBAAqBA,IAAMC,EAAKS,gBAAgBmG,SAAShJ,OAAS,EAC9F,iBAAmB,wBAG2C,IAAMwzD,EAAwB,sCAE3EzxC,EAAQX,MAAQ,0BAA4B/c,KAAK1F,OAAO24B,UAAY,SAAW,SAAWvV,EAAQI,KAAO,aAC3H9d,mBAAsB,gBAAkB4vD,EAAqB,4BAA8B9xD,EAAI,mBAChGkC,KAAK6vD,2BAA2BnyC,EAAS3f,EAAKS,iBAAmB,MACjEwB,KAAK8vD,iCAEL,eAAiBrB,EAA+B,qDACpB/wC,EAAQqP,cAAgB,SAAW,SAC/D,YAAcrP,EAAQqP,eAAiB,EAAI,SAAW,SACtD,SAAWrP,EAAQqP,cAAgB,8BAAqC/sB,KAAK1F,OAAO24B,UAAY,QAAU,UAC1G,2BAA6BjzB,KAAK+vD,yBAAyBryC,GAAW,iCACtC1d,KAAK+vD,yBAAyBryC,GAAW,qBAEvDsyC,EAAgB,yBACjChwD,KAAKqhB,cAAgB,GAAK,eAAiB3D,EAAQoP,aAAe,UAAY,SAC/E,UAAY9sB,KAAKqhB,cAAgB,QAAUitC,EAAc,gBAEzDtuD,KAAKiwD,gCAAgCvyC,GACrC,eAER,MAAOiyC,IAEX7D,EAAUrrD,UAAUqvD,+BAAiC,WACjD,GAAII,IAAiBr1D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAK,CAGxH,OAFe,sDACG1nB,KAAK1F,OAAO24B,UAAY,SAAW,SAAWi9B,EAAe,aAAgBlwD,mBAAsB,wBAGzH8rD,EAAUrrD,UAAUwvD,gCAAkC,SAAUvyC,GAC5D,GAAIyyC,IAAiBt1D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,aAAgB,IAAM,EAI1H,OAHe,uDACG1nB,KAAK1F,OAAO24B,UAAY,SAAW,UAAYvV,EAAQX,MAAQozC,GAAgB,aAChFnwD,mBAAsB,wBAG3C8rD,EAAUrrD,UAAU2uD,4BAA8B,WAC9C,GAAIryC,GAAQ/c,KAAK1F,OAAO24B,UAAajzB,KAAKouD,aAAa5vD,gBAAgBuuB,cAAgB,EAClF/sB,KAAKouD,aAAa5vD,gBAAgBuuB,cAAgB,CAMvD,OALe,iDACG/sB,KAAK1F,OAAO24B,UAAY,SAAW,SAAWlW,EAAQ,kBACnE/c,KAAKqhB,cAAgB,GAAK,kJAKnCyqC,EAAUrrD,UAAU2vD,gBAAkB,SAAUC,EAAgB9xD,GAC5D,GAAIwf,IAAgB,EAChBnjB,EAAY2D,EAAOC,gBACnBmG,EAAW/J,EAAU+J,QACzB,KAAK9J,oBAAkB8J,GAAW,CAC9BA,EAAS0M,KAAK,SAAUC,EAAGC,GACvB,MAAOD,GAAExW,UAAUoG,UAAYqQ,EAAEzW,UAAUoG,WAG/C,KAAK,GADD2mB,GAAWljB,EAAShJ,OACfmC,EAAI,EAAGA,EAAI+pB,EAAU/pB,IAAK,CAC/B,GAAI4f,GAAU/Y,EAAS7G,EAGvB,IAAIuyD,EAAenvD,YAActG,EAAUE,UAAUoG,UACjDlB,KAAKqsD,WAAY,EACjBtuC,EAAe,MAId,IAAIsyC,EAAenvD,YAAcwc,EAAQ5iB,UAAUoG,UAAW,CAC/DlB,KAAKqsD,WAAY,CACjB,IAAInmD,GAAQwX,EAAQ5iB,SACpBoL,GAAMxE,QAAQwE,EAAM7J,UAAY,GAChC6J,EAAQwX,EAAQ5iB,UAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAeoF,EAAOtL,GAAW,GACvF8iB,EAAQ5iB,UAAYoL,CACpB,IAAIC,GAAQuX,EAAQ3iB,OACpBoL,GAAQnG,KAAK1F,OAAO+J,cAAcQ,WAAWqB,EAAOwX,EAAQ1iB,SAAUJ,EAAUuJ,aAAcvJ,GAAW,GACzG8iB,EAAQ3iB,QAAUoL,EACdrI,IAAM6G,EAAShJ,OAAS,GACxBqE,KAAK1F,OAAO8J,eAAe,UAAW+B,EAAOvL,GAAW,GAE5DoF,KAAK6sB,kBAAkBloB,EAAU7G,EAAGS,GACpCwf,EAAeL,EAAQK,iBAIvBL,GAAQ3iB,QAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAW6Y,EAAQ5iB,UAAW4iB,EAAQ1iB,SAAUJ,EAAUuJ,aAAcvJ,GAAW,GAC3Hy1D,EAAenvD,WAAawc,EAAQ5iB,UAAUoG,WAAamvD,EAAenvD,WAAawc,EAAQ3iB,QAAQmG,YACvG6c,EAAeL,EAAQK,aAG/B/d,MAAK1F,OAAO8J,eAAe,WAAYxJ,EAAU+J,SAAU/J,GAAW,IAM9E,OAHsB,IAAlBmjB,IACA/d,KAAKqsD,WAAY,GAEdtuC,GAEX+tC,EAAUrrD,UAAU6vD,UAAY,SAAU56C,EAAQ66C,GAC9C,GAAIC,GAAmBD,EAAe50D,OAClC8C,EAAauB,KAAK1F,OAAOmE,WACzBgyD,EAAYzwD,KAAK1F,OAAOyO,SAAS4Q,OAAO,SAAUK,GAClD,MAAIA,GAAEvb,EAAWlE,MAAQmb,EACdsE,EAGA,OAEZ,EACH,IAAIha,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,oBAAG,CAClF,GAAI20C,KAEJ,IADAA,EAAgB,OAAI,eAChB1wD,KAAK1F,OAA8B,sBAAE,QAAS,CAC1C0F,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWC,kBAA6B,WAAKjD,KAAK1F,OAAOq2D,iBAAiBh1D,OAAS,GACzHqE,KAAK1F,OAAOyhB,eAAkC,kBAAEsM,OAAOroB,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,EAAG,GAEvHqE,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAIoT,GAAMnvB,KAAK1F,OAAOs2D,iBAAiBH,EAAUhxD,MACjDixD,GAAyB,gBAAIxyD,aAAYixB,OAAU,GACnDnvB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+0D,GAGtH,GAAI/rD,GAAW8rD,EAAUjyD,gBAAgBmG,QACzC4rD,GAAiBA,EAAel/C,KAAK,SAAUC,EAAGC,GAC9C,MAAOA,GAAEs/C,kBAAoBv/C,EAAEu/C,mBAEnC,KAAK,GAAIC,GAAc,EAAGA,EAAcN,EAAkBM,IAAe,CACrE,GAAIC,GAAepsD,EAAS4rD,EAAeO,GAAaD,mBACpDG,EAAgBrsD,EAAS4rD,EAAeO,GAAaG,oBACrDj2D,EAAW+1D,EAAa/1D,SAAWg2D,EAAch2D,SACjDD,EAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAWksD,EAAaj2D,UAAWE,EAAUy1D,EAAUjyD,gBAAgB2F,aAAcssD,EAAUjyD,iBAAiB,GACpJkf,GACA5iB,UAAWi2D,EAAaj2D,UACxBC,QAASA,EACTC,SAAUA,GAEVk2D,EAAcX,EAAeO,GAAaD,iBAC9ClsD,GAAS0jB,OAAO6oC,EAAa,EAAGxzC,GAChC1d,KAAK1F,OAAO8J,eAAe,WAAYO,EAAU8rD,EAAUjyD,iBAAiB,GAC5EwB,KAAK1F,OAAO+J,cAAcC,kBAAkBmsD,EAAW,YAC/B,IAApB9rD,EAAShJ,QACTqE,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAAS01D,EAAUjyD,iBAAiB,GAC1EwB,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAAS01D,GAAW,GAC1DzwD,KAAK1F,OAAO8J,eAAe,WAAY,KAAMqsD,EAAUjyD,iBAAiB,GACxEwB,KAAK1F,OAAO+J,cAAcC,kBAAkBmsD,EAAW,aAElDA,EAAUjyD,gBAAgBzD,UAAY4J,EAASA,EAAShJ,OAAS,GAAGZ,SACzEiF,KAAK1F,OAAO8J,eAAe,UAAWO,EAASA,EAAShJ,OAAS,GAAGZ,QAAS01D,EAAUjyD,iBAAiB,GAGhH,GAAI2yD,EACCt2D,qBAAkB41D,EAAUhyD,EAAWkG,YAAe9J,oBAAkB41D,EAAUhyD,EAAWkG,UAAU,MACxGwsD,EAAgB11D,OAAOC,KAAK+0D,EAAUhyD,EAAWkG,UAAU,IAG/D,KAAK,GADDysD,MACKtzD,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAC5BjD,oBAAkBs2D,IAAmBC,EAAiBtzD,KACvDszD,EAAiBtzD,OAEhBjD,oBAAkBs2D,KAA0D,IAAxCA,EAAcrkD,QAAQ,eAC3DskD,EAAiBtzD,GAAGW,EAAW3D,WAAa6J,EAAS7G,GAAGhD,WAEvDD,oBAAkBs2D,KAAwD,IAAtCA,EAAcrkD,QAAQ,aAC3DskD,EAAiBtzD,GAAGW,EAAW1D,SAAW4J,EAAS7G,GAAG/C,SAErDF,oBAAkBs2D,KAAyD,IAAvCA,EAAcrkD,QAAQ,cAC3DskD,EAAiBtzD,GAAGW,EAAWzD,UAAY2J,EAAS7G,GAAG9C,SAG/Dy1D,GAAUhyD,EAAWkG,UAAYysD,EACjCpxD,KAAKyV,cAAcg7C,EAAUjyD,gBAAgBmG,SAAU+Q,GACvD1V,KAAKqxD,yBAAyBZ,EAAW,iBAE7C3E,EAAUrrD,UAAUgV,cAAgB,SAAUqC,EAAapC,GACvD,GAAIzE,GAAQjR,IACZ,KAAKnF,oBAAkBmF,KAAK1F,OAAOmE,WAAWmZ,YAAc5X,KAAK1F,OAAOwd,YAAYnc,OAAS,EACzF,GAAKd,oBAAkBid,GAyBlB,CACGw5C,EAAatxD,KAAK1F,OAAOwd,YAAY6B,OAAO,SAAU5b,GACtD,QAAS2X,IAAW3X,EAAKkT,EAAM3W,OAAOmE,WAAWmZ,aAErD5X,MAAK1F,OAAOwd,YAAcw5C,MA7BO,CAEjC,IAAK,GADDC,MACKzzD,EAAI,EAAGA,EAAIga,EAAYnc,OAAQmC,IAAK,CACzC,GAAI0zD,MACA9zC,EAAU5F,EAAYha,EAC1B0zD,GAAWxxD,KAAK1F,OAAOmE,WAAWmZ,WAAalC,EAC1C7a,oBAAkBmF,KAAK1F,OAAOmE,WAAW3D,aAC1C02D,EAAWxxD,KAAK1F,OAAOmE,WAAW3D,WAAa4iB,EAAQ5iB,WAEtDD,oBAAkBmF,KAAK1F,OAAOmE,WAAWzD,YAC1Cw2D,EAAWxxD,KAAK1F,OAAOmE,WAAWzD,UAAY0iB,EAAQ1iB,UAErDH,oBAAkBmF,KAAK1F,OAAOmE,WAAW1D,WAC1Cy2D,EAAWxxD,KAAK1F,OAAOmE,WAAW1D,SAAW2iB,EAAQ3iB,SAEzDw2D,EAAcjzD,KAAKkzD,GAKvB,IAAK,GAHDF,GAAatxD,KAAK1F,OAAOwd,YAAY6B,OAAO,SAAU5b,GACtD,QAAS2X,IAAW3X,EAAKkT,EAAM3W,OAAOmE,WAAWmZ,cAE5C9Z,EAAI,EAAGA,EAAIyzD,EAAc51D,OAAQmC,IACtCwzD,EAAWhzD,KAAKizD,EAAczzD,GAElCkC,MAAK1F,OAAOwd,YAAcw5C,IAUtCxF,EAAUrrD,UAAU4wD,yBAA2B,SAAUtzD,EAAM84B,GAC3D72B,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK1F,OAAO+J,cAAc+Y,gBAAgBrf,GAAM,GAAQA,EAAKS,iBAAiB,GACrHwB,KAAK1F,OAAO+J,cAAcC,kBAAkBvG,EAAM,YAClDiC,KAAK1F,OAAO+J,cAAcwW,gBAAgB9c,GAC1CiC,KAAK1F,OAAO+J,cAAc6nB,kBAAkBnuB,GACxCA,EAAKS,gBAAgBsb,qBAAuB/b,EAAKS,gBAAgBsb,oBAAoBne,OAAS,GAC9FqE,KAAK1F,OAAO0I,WAA6B,iBAAEjF,GAE3CiC,KAAK1F,OAAO+e,mBAAqBrZ,KAAK1F,OAAOmE,WAAW2a,YACxDpZ,KAAK1F,OAAO+e,kBAAkBo4C,kCAC9BzxD,KAAK1F,OAAOm5B,oBAAoBi+B,6BAA6B1xD,KAAK1F,OAAOyO,UACzE/I,KAAK1F,OAAO8nC,wBAAwBuvB,iCAAiC3xD,KAAK1F,OAAOyO,UAC7EhL,EAAKyL,YAAcxJ,KAAK1F,OAAOoP,cAAc3L,EAAKyL,YAAYhL,gBAAgBmC,gBAC3EX,KAAK1F,OAAOs3D,2BACf5xD,KAAK1F,OAAO+J,cAAc6nB,kBAAkBnuB,EAAKyL,YAErDxJ,KAAK6kC,eAAe7kC,KAAK1F,OAAOwX,kBAGhC9R,KAAK6kC,eAAe7kC,KAAK1F,OAAOwX,gBAEpC,IAAI4iB,GAAK10B,KAAK20B,oBAAoB0J,iBAAiB,MAAMr+B,KAAK1F,OAAOwX,gBAAgBhF,QAAQ/O,IACzFiB,GACA63B,YAAaA,EACbgM,QAAS9kC,EACTqgD,gBAAiBp+C,KAAK1F,OAAOu3D,cAC7BC,iBAAkBr0D,EAAYuC,KAAK1F,OAAOu3D,eAAe,GAE7D7xD,MAAK+xD,+BAA+Br9B,EAAI32B,GACpCiC,KAAK1F,OAAO0nD,iBACZhiD,KAAK1F,OAAO0nD,gBAAgBgQ,gBAEhC,IAAIrtD,GAAW3F,EAAK6jC,QAAQ1kC,SAAS6B,KAAK1F,OAAOmE,WAAWkG,SAC5D,IAAI3E,KAAK1F,OAAO8D,UAAwB,MAAZuG,EACxB,IAAK,GAAI7G,GAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IACjC6G,EAAS7G,GAAGkC,KAAK1F,OAAOmE,WAAW3D,WAAakF,KAAK1F,OAAOoE,qBAAqBC,OAAOK,EAAK6jC,QAAQrkC,gBAAgBmG,SAAS7G,GAAGhD,UAAWkF,KAAK1F,OAAO8D,UACpJ4B,KAAK1F,OAAOmE,WAAW1D,UACvB4J,EAAS7G,GAAGkC,KAAK1F,OAAOmE,WAAW1D,SAAWiF,KAAK1F,OAAOoE,qBAAqBC,OAAOK,EAAK6jC,QAAQrkC,gBAAgBmG,SAAS7G,GAAG/C,QAASiF,KAAK1F,OAAO8D,UAIhK4B,MAAK1F,OAAOgc,QAAQ,iBAAkBtX,GACjCnE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKhBzhB,WAAS,UAAU,EAAO9S,KAAK1F,OAAOisB,mBACtCzT,WAAS,UAAU,EAAO9S,KAAK1F,SAOnCwxD,EAAUrrD,UAAUwxD,UAAY,SAAUv8C,EAAQw8C,GAC9C,GAAIzzD,GAAauB,KAAK1F,OAAOmE,WACzB0zD,EAAYD,EACZE,EAAcpyD,KAAK1F,OAAOyO,SAAS4Q,OAAO,SAAUK,GACpD,MAAIA,GAAEvb,EAAWlE,MAAQmb,EACdsE,EAGA,OAEZ,EACH,IAAIha,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,oBAAG,CAClF,GAAI20C,KACJA,GAAgB,OAAI,eAChB1wD,KAAK1F,OAA8B,sBAAE,UACrC0F,KAAK1F,OAAOyhB,eAAqC,uBACjD20C,EAAyB,gBAAIxyD,aAAYk0D,OAAkB,GAC3DpyD,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+0D,GAGtH,GAAI91D,GAAYw3D,EAAY5zD,eAC5BwB,MAAKqsD,WAAY,CACjB,IAAItuC,IAAgB,EAChBpZ,EAAW/J,EAAU+J,QACzB,IAAI9J,oBAAkBq3D,EAAWv2D,SAAWu2D,EAAWv2D,OAAS,EAAG,CAC/D,GAAI00D,GAAiBrwD,KAAK1F,OAAO+J,cAAcvD,eAAeqxD,EAAWv3D,GAAW,EACpF,IAAIy1D,EAAenvD,YAActG,EAAUE,UAAUoG,WAC7CtG,EAAU+F,eAAgB,CAK1B,IAJK9F,oBAAkB8J,IAAaA,EAAShJ,OAAS,IAClDoiB,EAAe/d,KAAKowD,gBAAgBC,EAAgB+B,KAGjC,IAAnBpyD,KAAKqsD,WAAuB8F,EAAUjxD,UAAYtG,EAAUE,UAAUoG,WACtEixD,EAAUjxD,UAAYtG,EAAUG,QAAQmG,UAAW,CACnDyD,GAA6B,IAAlBoZ,EAAsBpZ,IACjC,IAAI7J,IAA8B,IAAlBijB,EACZpZ,EAASoZ,GAAcjjB,UAAY,GAAIgC,MAAKlC,EAAUE,UAAUoG,WAChEnG,GAA4B,IAAlBgjB,EACVpZ,EAASoZ,GAAchjB,QAAU,GAAI+B,MAAKlC,EAAUG,QAAQmG,WAC5DmxD,EAAkBryD,KAAK1F,OAAO+J,cAAca,YAAYpK,EAAWC,EAASH,EAAUuJ,aAAcvJ,EAAU+F,eAAgB/F,EAAU4G,YAC5IxB,MAAK1F,OAAO8J,eAAe,WAAYpE,KAAKsyD,sBAAsBx3D,EAAWC,EAASo3D,EAAWp0C,EAAcpZ,EAAUytD,EAAaC,GAAkBz3D,GAAW,EAEnK,KAAK,GADDw2D,MACKtzD,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAC5BszD,EAAiBtzD,KAClBszD,EAAiBtzD,OAErBszD,EAAiBtzD,GAAGW,EAAW3D,WAAa6J,EAAS7G,GAAGhD,UACxDs2D,EAAiBtzD,GAAGW,EAAW1D,SAAW4J,EAAS7G,GAAG/C,QACtDq2D,EAAiBtzD,GAAGW,EAAWzD,UAAY2J,EAAS7G,GAAG9C,QAE3Do3D,GAAY3zD,EAAWkG,UAAYysD,GACb,IAAlBrzC,GACA/d,KAAK6sB,kBAAkBloB,EAAUoZ,EAAe,EAAGq0C,GAEvDpyD,KAAK1F,OAAO8J,eAAe,UAAWO,EAASA,EAAShJ,OAAS,GAAGZ,QAASH,GAAW,GACpFoF,KAAK1F,OAAOmE,WAAW1D,SACvBiF,KAAK1F,OAAO+J,cAAcC,kBAAkB8tD,EAAa,WAGjEpyD,KAAKyV,cAAc28C,EAAY5zD,gBAAgBmG,SAAU+Q,GACzD1V,KAAKqxD,yBAAyBe,EAAa,qBAKnDF,GAAW7gD,KAAK,SAAUC,EAAGC,GACzB,MAAOD,GAAEpQ,UAAYqQ,EAAErQ,YAE3BlB,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKuyD,kBAAkBL,EAAYE,EAAY5zD,iBAAkB4zD,EAAY5zD,iBAAiB,GACrIwB,KAAKyV,cAAc28C,EAAY5zD,gBAAgBmG,SAAU+Q,GACzD1V,KAAKqxD,yBAAyBe,EAAa,cAGnDtG,EAAUrrD,UAAU8xD,kBAAoB,SAAUrgD,EAAO/T,GAMrD,IAAK,GAJDuf,GAEA3iB,EACAC,EAJAu2D,KAEAz2D,EAAY,GAAIgC,MAGXgB,EAAI,EAAGA,EAAIoU,EAAMvW,OAAS,IAC/Bb,EAAkB,IAANgD,EAAUK,EAASrD,UAAYA,EAC3CA,EAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAehG,EAAWqD,GAAU,GAC1EpD,EAAU+C,IAAMoU,EAAMvW,OAAS,GAAImB,MAAKoV,EAAMpU,GAAGoD,WAAa/C,EAASpD,QAAUoD,EAASpD,QACpF,GAAI+B,MAAKoV,EAAMpU,GAAGoD,WAAa/C,EAASpD,QAC9CA,EAAUiF,KAAK1F,OAAO+J,cAActB,aAAahI,EAASoD,GAAU,GACpEnD,EAAWgF,KAAK1F,OAAO+J,cAAca,YAAYpK,EAAWC,EAASoD,EAASgG,aAAchG,EAASwC,eAAgBxC,EAASqD,aAC1HzG,EAAQmG,WAAapG,EAAUoG,YAC/Bwc,GACI5iB,UAAWA,EACXC,QAASA,EACTC,SAAUA,GAEdu2D,EAAcjzD,KAAKof,IAEnB5f,IAAMoU,EAAMvW,QAfkBmC,KAkBlChD,EAAY,GAAIgC,MAAKoV,EAAMpU,GAAGoD,YACpBQ,QAAQwQ,EAAMpU,GAAGzB,UAAY,EAE3C,OAAOk1D,IAEXzF,EAAUrrD,UAAU6xD,sBAAwB,SAAUx3D,EAAWC,EAASo3D,EAAWp0C,EAAcpZ,EAAUX,EAAWquD,GACpH,GACIG,GACAC,EAFA73D,EAAYoJ,EAAUxF,gBAStB42C,GAAiC,KALjCod,EADAxyD,KAAK1F,OAAOsG,gBACO,EAGDZ,KAAK1F,OAAO2S,mBAAmBH,QAAQqlD,EAAUnlD,WAE9B,EAAwB,IAApBwlD,EAAwB,EAAwB,IAApBA,EAAwB,EAAI,CACrG13D,GAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAehG,EAAWF,GAAW,EAC3E,IAAI83D,GAAiB,GAAI51D,MAAKq1D,EAAUjxD,UACxCwxD,GAAiB1yD,KAAK1F,OAAO+J,cAActB,aAAa2vD,EAAgB93D,GAAW,EACnF,KAAK,GAAIkD,GAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,GAAIkC,KAAK1F,OAAOuH,gBAAgBlG,OAAS,EAAG,CACxC,GAAIyF,GAAapB,KAAK1F,OAA6B,qBAAEo4D,EACrD1yD,MAAKyB,QAAQL,EAAYsxD,GAE7B,GAAIh1C,IACA5iB,UAAWA,EACXC,QAAS23D,EACT13D,SAAUgF,KAAK1F,OAAO+J,cAAca,YAAYpK,EAAW43D,EAAgB93D,EAAUuJ,aAAcvJ,EAAU+F,eAAgB/F,EAAU4G,aACvIsD,eAAgB,EAGhB2tD,GADAzyD,KAAK1F,OAAOsG,gBACI,EAGDZ,KAAK1F,OAAO2S,mBAAmBH,QAAQ4lD,EAAe1lD,WAEnD,IAAlB+Q,IACApZ,EAAS0jB,OAAOtK,EAAc,GAC9BA,GAAgB,GAEpBpZ,EAASrG,KAAKof,EACd,IAAIqxB,GAAO/uC,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,IACxE,IAAa,SAATmiC,GAA4B,YAATA,EAAoB,CACvCj0C,EAAY,GAAIgC,MAAKq1D,EAAUjxD,WAC/BpG,EAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAehG,EAAWF,GAAW,EAC3E,IAAI8H,GAAQ1C,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,MACrEiwD,EAAS3yD,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KACtEgmD,EAAgB5yD,KAAK1F,OAAOsX,eAAe0kC,aAAax7C,EAAW4H,EAAOiwD,GAC1Etd,EAAUv6C,EAAUoG,UAAY0xD,CACpC93D,GAAU2G,QAAQ4zC,EAAUD,GAC5Bsd,EAAiB,GAAI51D,MAAK/B,EAAQmG,WAClC0xD,EAAgB5yD,KAAK1F,OAAOsX,eAAe0kC,aAAaoc,EAAgBhwD,EAAOiwD,GAC/Etd,EAAUqd,EAAexxD,UAAY0xD,EACrCF,EAAejxD,QAAQ4zC,EAAUD,OAEhC,EACDt6C,EAAY,GAAIgC,MAAKq1D,EAAUjxD,YACrBQ,QAAQ5G,EAAUuB,UAAY,EAAI+4C,EAC5C,IAAIj0C,GAAenB,KAAK1F,OAA+B,uBAAEQ,EAUzD,IATAkF,KAAKyB,QAAQN,EAAcrG,GAC3BA,EAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAehG,EAAWF,GAAW,IACtEoF,KAAK1F,OAAOmE,WAAWzD,UAAYo6C,GAAa,GACjDt6C,EAAU4G,QAAQ5G,EAAUuB,UAAY,IAE5Cq2D,EAAiB,GAAI51D,MAAK/B,EAAQmG,YACbpG,GACjB43D,EAAehxD,QAAQgxD,EAAer2D,UAAY,GAElD2D,KAAKqH,qBAAqBqrD,GAAgB,GAC1C,GACIA,EAAehxD,QAAQgxD,EAAer2D,UAAY,SAC7C2D,KAAKqH,qBAAqBqrD,GAAgB,GAElD1yD,MAAK1F,OAAOsG,iBACb8xD,EAAiB1yD,KAAKyC,kBAAkBiwD,IAGhD,IAAsB,IAAlBD,EAAqB,CACrB,GAAII,GAAOR,EAAkB30C,EAAQ1iB,QACrC03D,GACI1yD,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAW+3D,EAAMj4D,EAAUuJ,aAAcvJ,GAAW,OAG7F83D,GAAiB1yD,KAAK1F,OAAO+J,cAActB,aAAa2vD,EAAgB93D,GAAW,GAM3F,MAHA+J,GAAS0M,KAAK,SAAUC,EAAGC,GACvB,MAAOD,GAAExW,UAAUoG,UAAYqQ,EAAEzW,UAAUoG,YAExCyD,GAEXmnD,EAAUrrD,UAAUosB,kBAAoB,SAAUloB,EAAUoZ,EAAc/Z,GAEtE,IAAK,GADDpJ,GAAYoJ,EAAUxF,gBACjBV,EAAIigB,EAAe,EAAGjgB,EAAI6G,EAAShJ,OAAQmC,IAAK,CACrD,GAAI4f,GAAU/Y,EAAS7G,GACnBhD,EAAkB,IAANgD,EAAU,GAAIhB,MAAK6H,EAAS7G,EAAI,GAAG/C,QAAQmG,WAAa,GAAIpE,MAAK4gB,EAAQ5iB,UAAUoG,UACnGlB,MAAK1F,OAAO+J,cAA4B,cAAI,EAC5CvJ,EAAYkF,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAW4iB,EAAQ5Y,eAAgBlK,EAAUuJ,aAAcvJ,GAAW,GACvHoF,KAAK1F,OAAO+J,cAA4B,cAAI,EAC5CvJ,EAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAehG,EAAWF,GAAW,GAC3E8iB,EAAQ5iB,UAAYA,CACpB,IAAIC,GAAU2iB,EAAQ3iB,QAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAW4iB,EAAQ1iB,SAAUJ,EAAUuJ,aAAcvJ,GAAW,EACrI8iB,GAAQ3iB,QAAUA,EACd+C,IAAM6G,EAAShJ,OAAS,IACxBqE,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAASH,GAAW,GACtDoF,KAAK1F,OAAOmE,WAAW1D,SACvBiF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YAInEW,EAAS0M,KAAK,SAAUC,EAAGC,GACvB,MAAOD,GAAExW,UAAUoG,UAAYqQ,EAAEzW,UAAUoG,YAE/ClB,KAAK1F,OAAO8J,eAAe,WAAYO,EAAU/J,GAAW,GAC5DoF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,aAE3D8nD,EAAUrrD,UAAUskB,mBAAqB,SAAU3D,GAC/C,GAAI0xC,GAAqB9yD,KAAK1F,OAAOkY,eAAiB,KAAU3X,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAM,IAChKqrC,EAAuB7/C,KAAKsH,MAAMxa,KAAK1F,OAAO8mB,UAAY0xC,EAC9D,QAAMj4D,oBAAkBmF,KAAK1F,OAAOgnB,gBAAkBthB,KAAK1F,OAAOgnB,eAAiByxC,GAC9El4D,oBAAkBmF,KAAK1F,OAAOgnB,gBAAkBF,GAAa,GACvD,EAGHA,GAAa,GACN,GAEF,EAAI,IAAOA,EAAY,IAAM,GAW9C0qC,EAAUrrD,UAAUuyD,iBAAmB,SAAUl1D,EAAGmwD,GAChD,GAAIgF,GAAgB,KAChBl1D,EAAOiC,KAAKouD,aACZhtC,EAAYphB,KAAK1F,OAAO8mB,UACxB0D,EAAY9kB,KAAK+kB,mBAAmB3D,EACxC,IAAIphB,KAAKkzD,0BACLD,EAAgBjzD,KAAKkzD,0BAA0Bh1D,UAASuB,MAAO3B,GAAKC,GAAOiC,KAAK1F,OAAQ,oBAAqB0F,KAAKo6C,cAAc,sBAAsB,MAAOzyC,GAAWsmD,EAAY,GAAIjuD,KAAK1F,OAAO4H,SAAe,UAElN,CACD,GAAIq3C,GAAW,gDAA4Dv5C,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgBrhB,KAAKqhB,cAAgB,GAAM,cAClJrhB,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgBrhB,KAAKqhB,cAAgB,GAAM,sDAAwDyD,EAAY,cACvJmuC,GAAgBjzD,KAAK+tD,iBAAiBxU,GAE1C,MAAO0Z,IAQXnH,EAAUrrD,UAAU0yD,oBAAsB,WACtC,GAAIp1D,GAAOiC,KAAKouD,aACZ7U,EAAW,8DAA8Ev5C,KAAKisD,YAC9F,OAASjsD,KAAK1F,OAAO24B,UAAY,SAAW,SAAWl1B,EAAKS,gBAAgB40D,aAAe,YAChFr1D,EAAKS,gBAAgB60D,cAAgB,aAChDrzD,KAAKksD,eAAiB,OAASlsD,KAAKszD,cAAgB,qBAAuBtzD,KAAKszD,cAAgB,IAAM,IAAM,UAChH,OAAOtzD,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAU8yD,uBAAyB,SAAUn5C,GACnD,GAAIm/B,GAAW,8DAA8Ev5C,KAAKisD,YAC9F,OAASjsD,KAAK1F,OAAO24B,UAAY,SAAW,SAAW7Y,EAAU5b,gBAAgB40D,aAAe,YACrFh5C,EAAU5b,gBAAgB60D,cAAgB,aACrDrzD,KAAKksD,eAAiB,OAASlsD,KAAKszD,cAAgB,qBAAuBtzD,KAAKszD,cAAgB,IAAM,IAAM,UAChH,OAAOtzD,MAAK+tD,iBAAiBxU,IAQjCuS,EAAUrrD,UAAU+yD,yBAA2B,WAC3C,GAAIz1D,GAAOiC,KAAKouD,aACZqF,EAA0BzzD,KAAK1F,OAAOkY,eAAiB,EAAI,EAC3D+mC,EAAW,mEAAwEv5C,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgBrhB,KAAKqhB,cAAgB,IAAO,cAC/JrhB,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgBrhB,KAAKqhB,cAAgB,IAAO,iDAAmDrhB,KAAK1F,OAAO24B,UAAY,SAAW,UAAYjzB,KAAK1F,OAAO24B,UAAal1B,EAAKS,gBAAgBsf,KAC/N9d,KAAK+rD,gBAAkB,EAAK,EAAMhuD,EAAKS,gBAAgB40D,aAAgBpzD,KAAK+rD,gBAAkB,EAAK,GAAM,OAAS/rD,KAAKszD,cACxH,qBAAuBtzD,KAAKszD,cAAgB,IAAM,IAAM,gBAAmBpgD,KAAKsH,MAAMxa,KAAK1F,OAAO8mB,UAAYphB,KAAK0zD,oBAAsBD,EAA2B,GAAK,aAC7K,OAAOzzD,MAAK+tD,iBAAiBxU,IASjCuS,EAAUrrD,UAAUkzD,iBAAmB,SAAU71D,GAC7C,GAAI81D,GAAgB5zD,KAAK4vB,oBACuB,MAA5C5vB,KAAK6zD,2BAA2B,SAChCD,EAAc,GAAGt9B,aAAa,aAAct2B,KAAK6zD,2BAA2B,QAEhF,IAAIC,GAAwB,IAC5B,IAAI9zD,KAAK+zD,8BACLD,EAAwB9zD,KAAK+zD,8BAA8B71D,UAASuB,MAAO3B,GAAKkC,KAAKouD,cAAepuD,KAAK1F,OAAQ,oBAAqB0F,KAAKo6C,cAAc,sBAAsB,MAAOzyC,GAAWisD,EAAc,GAAI5zD,KAAK1F,OAAO4H,SAAe,UAE7O,CACD,GAAIiZ,GAAQnb,KAAK1F,OAAO8uC,cAAcE,UAClCglB,EAActuD,KAAK8uD,aAAa3zC,EAChCmzC,KACAA,EAA8B,qBAAhBA,EAAqCnzC,EAAQmzC,EAC3DwF,EAAwB9zD,KAAKg0D,aAAa1F,EzBx1B3B,0ByBy1BXtuD,KAAK1F,OAAOkkD,qBAAgD,qBAE5D8P,EAA8B,sBAD9BA,EAAcS,qBAAmBC,SAASV,IACSnzC,EAAQmzC,EAC3DwF,EAAwB9zD,KAAKg0D,aAAa1F,EzB51B/B,4ByB02BvB,MAVIwF,IAAyBA,EAAsBn4D,OAAS,IACf,SAArCm4D,EAAsB,GAAS,OAC/BA,EAAsB,GAAS,KAAI,IAEvClZ,SAAOkZ,EAAuBF,EAAc,KAE5C5zD,KAAK1F,OAAO24B,YACZ2gC,EAAc,GAAGjgC,MAAMsgC,YAAc,OACrCL,EAAc,GAAGjgC,MAAMugC,aAAe,OAEnCN,GAEX9H,EAAUrrD,UAAUuzD,aAAe,SAAU1F,EAAa6F,GACtD,GAAIC,GAAkBp0D,KAAK1F,OAAOkY,gBAC5BxS,KAAK1F,OAAO8mB,UAAYphB,KAAKqhB,eAAiB,EAAKrhB,KAAKq0D,iBAC1DzG,EAAiBr2B,gBAAc,OAC/BC,UAAW28B,EAAU18B,OAAQ,UAAaz3B,mBAAsB,iBAC5Co0D,EAAkB,QAEtCE,EAAW/8B,gBAAc,QAAUC,UAAW+8B,GAElDD,GADet0D,KAAK1F,OAAO6rD,kBAAoB,cAAgB,aAC1CmI,EACrBV,EAAel2B,YAAY48B,EAC3B,IAAIziB,GAAMta,gBAAc,MAExB,OADAsa,GAAIna,YAAYk2B,GACT/b,EAAIjd,YASfk3B,EAAUrrD,UAAU+zD,kBAAoB,SAAU12D,GAC9C,GAAI22D,GAAiBz0D,KAAK6vB,qBACuB,MAA7C7vB,KAAK6zD,2BAA2B,UAChCY,EAAe,GAAGn+B,aAAa,aAAct2B,KAAK6zD,2BAA2B,SAEjF,IAAIa,GAAyB,IAC7B,IAAI10D,KAAK20D,+BACLD,EAAyB10D,KAAK20D,+BAA+Bz2D,UAASuB,MAAO3B,GAAKkC,KAAKouD,cAAepuD,KAAK1F,OAAQ,qBAAsB0F,KAAKo6C,cAAc,uBAAuB,MAAOzyC,GAAW8sD,EAAe,GAAIz0D,KAAK1F,OAAO4H,SAAe,UAElP,CACD,GAAIiZ,GAAQnb,KAAK1F,OAAO8uC,cAAcC,WAClCilB,EAActuD,KAAK8uD,aAAa3zC,EAChCmzC,KACAA,EAA8B,qBAAhBA,EAAqCnzC,EAAQmzC,EAC3DoG,EAAyB10D,KAAKg0D,aAAa1F,EzB74B3B,2ByB84BZtuD,KAAK1F,OAAOkkD,qBAAgD,qBAE5D8P,EAA8B,sBAD9BA,EAAcS,qBAAmBC,SAASV,IACSnzC,EAAQmzC,EAC3DoG,EAAyB10D,KAAKg0D,aAAa1F,EzBj5B/B,6ByB+5BxB,MAVIoG,IAA0BA,EAAuB/4D,OAAS,IAChB,SAAtC+4D,EAAuB,GAAS,OAChCA,EAAuB,GAAS,KAAI,IAExC9Z,SAAO8Z,EAAwBD,EAAe,KAE9Cz0D,KAAK1F,OAAO24B,YACZwhC,EAAe,GAAG9gC,MAAM67B,WAAa,MACrCiF,EAAe,GAAG9gC,MAAMugC,aAAe,QAEpCO,GAEX3I,EAAUrrD,UAAUm0D,iBAAmB,WACnC,GAAI72D,GAAOiC,KAAKouD,aACZ9sC,EAAiBthB,KAAKqhB,cAAgB,EAAI,EAe1CwzC,GAdY92D,EAAKS,gBAAgB1D,WAAaiD,EAAKS,gBAAgBzD,UAClEgD,EAAKS,gBAAgBxD,UAAY+C,EAAK0e,iBACtC,eAAiBq4C,EAA0B,kBAAoB/2D,EAAKS,gBAAgBue,MAAQ,aACzFuE,EAAgB,EAAI,wBAA0BA,EAAgB,EAC9D,qBAAuBA,EAAgB,EAAI,gCAC7CvjB,EAAKS,gBAAgB1D,WAAciD,EAAKS,gBAAgBzD,UAAWgD,EAAKS,gBAAgBxD,SAIH,eACnF85D,EAA0B,KAAO/2D,EAAKS,gBAAgB1D,UzBj3BlC,mCACC,qCyBi3BrB,kBAAoBiD,EAAKS,gBAAgBue,MAAQ,aACjC,EAAhBuE,EAAoB,wBAA0BA,EAAgB,EAC9D,qBAAuBA,EAAgB,EAAI,gCAP1C,eAAiBwzC,EAA0B,iDACpB/2D,EAAKS,gBAAgBue,MAAQ,cAChDuE,EAAgB,EAAI,GAAK,wBAA0BA,EAAgB,EACpE,qBAAuBA,EAAgB,EAAI,kCAK3BvjB,EAAKS,gBAAgB1D,WAAaiD,EAAKS,gBAAgBzD,UAC9EgD,EAAKS,gBAAgBxD,UAAY+C,EAAK0e,kBAAqB1e,EAAKS,gBAAgBxD,SAAW,wDAC3FgF,KAAK1F,OAAO24B,UAAY,oBAAsB,IAAM,YAAe3R,EAAgB,EAAK,GAAK,wBAA0BA,EAAgB,EACxI,qBAAuBA,EAAgB,EAAI,uFACiBthB,KAAK1F,OAAO24B,UAAY,qBAAuB,KAC1GjzB,KAAK1F,OAAO24B,UAAY,SAAW,UAAYl1B,EAAKS,gBAAgBue,MAAQ7J,KAAKsH,OAAQ8G,EAAgB,EAAK,GAAK,IAAM,cACxHA,EAAgB,EAAK,GAAK,yBAA2BA,EAAgB,EAAI,oBAC3EA,EAAgB,EAAI,sCAA6C,IACjEi4B,EAAW,oDACCv5C,KAAK1F,OAAO24B,UAAY,SAAW,UAAYl1B,EAAKS,gBAAgBsf,KAAO/f,EAAKS,gBAAgBu2D,UAAY,YAC7Gh3D,EAAKS,gBAAgBue,MAAQ,aAC5BuE,EAAgB,cAAgBthB,KAAK1F,OAAO4kC,aAAaC,oBAAsB,QAAU,YAAc,SACnH61B,EAAoB,6DAAmEh1D,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgB,EAAIrhB,KAAKqhB,cAAgB,GAAM,cACtKrhB,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgB,EAAIrhB,KAAKqhB,cAAgB,GAC7E,sDAAwDrhB,KAAK1F,OAAO8mB,UAAY,GAAK,EAAI,GAAK,YAC3FphB,KAAK1F,OAAOkY,eAAiB,EAAI,GAAK,cAC7C,OAAOxS,MAAK+tD,iBAAoD,IAAlChwD,EAAKS,gBAAgBxD,UAAkB+C,EAAK0e,kBACrE1e,EAAKS,gBAAgBmC,eAAkBq0D,EAAoBH,EAAWtb,EAAWsb,IAU1F/I,EAAUrrD,UAAUw0D,qBAAuB,SAAUn3D,EAAGmwD,GACpD,GAAIiH,GAAoB,KACpBn3D,EAAOiC,KAAKouD,YAChB,IAAIpuD,KAAKm1D,8BACLD,EAAoBl1D,KAAKm1D,8BAA8Bj3D,UAASuB,MAAO3B,GAAKC,GAAOiC,KAAK1F,OAAQ,wBAAyB0F,KAAKo6C,cAAc,0BAA0B,MAAOzyC,GAAWsmD,EAAY,GAAIjuD,KAAK1F,OAAO4H,SAAe,UAElO,CACD,GAAIosD,GAAc,GACd6F,MAAW,GACXiB,EAAUp1D,KAAKqhB,cAAgB,EAC/Bk4B,EAAWv5C,KAAK+tD,iBAAiB,gDACjC/tD,KAAKq1D,eAAet3D,GAAQ,0CACRA,EAAKS,gBAAgBmC,eAAiB5C,EAAKS,gBAAgBue,MAC/Ehf,EAAKS,gBAAgB0uB,WAAa,cAAgBnvB,EAAKS,gBAAgBmC,eAAiBX,KAAKqhB,cAClF,EAAV+zC,GAAgB,kBAAoBr3D,EAAKS,gBAAgBmC,gBAAkB,EACjE,EAAVy0D,GAAgB,gBAEjBE,EAAsBt1D,KAAK+tD,iBAAiB,oDAC5C/tD,KAAKq1D,eAAet3D,GAAQ,qDACDA,EAAKS,gBAAgBuuB,cAAgB,SAAW,SAC3E,SAAWhvB,EAAKS,gBAAgBuuB,cAAgB,8BACnB/sB,KAAK0uD,gBAAgB3wD,GAAQ,iCAC1BiC,KAAK0uD,gBAAgB3wD,GAAQ,2BAC7D8zC,EAAMta,gBAAc,MACxB,IAAIv3B,KAAK4uD,0BAA2B,CAChC,GAAI2G,GAAsBv1D,KAAK4uD,0BAA0B1wD,UAASuB,MAAO3B,GAAKC,GAAOiC,KAAK1F,OAAQ,oBAAqB0F,KAAKo6C,cAAc,sBAAsB,MAAOzyC,GAAW2tD,EAAoB,GAClMC,IAAuBA,EAAoB55D,OAAS,IACpDi/C,SAAO2a,EAAqB1jB,GAC5Byc,EAAczc,EAAIxe,UAElBi7B,EAA8B,sBAD9BA,EAActuD,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcrZ,YACP8hB,EAAIxe,UAAYi7B,EAC/DtuD,KAAK1F,OAAOkkD,qBAAgD,qBAC5D8P,EAAcS,qBAAmBC,SAASV,SAMlDA,GAA8B,sBAD9BA,EAActuD,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcrZ,YACP/vB,KAAK1F,OAAO8uC,cAAcrZ,UAAYu+B,EACrFtuD,KAAK1F,OAAOkkD,qBAAgD,qBAC5D8P,EAAcS,qBAAmBC,SAASV,GAGlD,KAAqC,IAAjCA,EAAYxhD,QAAQ,QAAgB,CAC2B,qBAA3D9M,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcrZ,YAC3C/vB,KAAKivD,WAAWjvD,KAAK1F,OAAO8uC,cAAcrZ,aAC3Cu+B,EAAc,IAGd6F,EADA9kD,MAAMrR,SAASswD,EAAa,KACjB,kDACNvwD,EAAKiC,KAAK1F,OAAOmE,WAAWod,SAAW9d,EAAK0e,gBAAmBvJ,KAAKsH,MAAM,GAAaxa,KAAKqhB,eACxFrhB,KAAKqhB,cAAgB,GAAM,mBAAqBrhB,KAAK1F,OAAO24B,UAAY,SAAW,SACxF,+BAA2Cl1B,EAAKS,gBAAgBue,MAAQ,IAAM,cAC9E/c,KAAKqhB,cAAgB,eAGd,kDAENtjB,EAAKiC,KAAK1F,OAAOmE,WAAWod,SAAW9d,EAAK0e,gBAAmBvJ,KAAKsH,MAAM,GAAaxa,KAAKqhB,eAAmBrhB,KAAKqhB,cAAgB,GAAM,OACjH,iBAAzBrhB,KAAK1F,OAAOyd,SAA8B,uBAAyB,KAC1C,iBAAzB/X,KAAK1F,OAAOyd,SAA8B,UAAYha,EAAKS,gBAAgBue,MAAQ,IAAM,IAAM,eAC/F/c,KAAKqhB,cAAgB,GAAK,OAAkC,iBAAzBrhB,KAAK1F,OAAOyd,SAA8B,wBAA0B,KAC9E,iBAAzB/X,KAAK1F,OAAOyd,SAA8B,UAAYha,EAAKS,gBAAgBue,MAAQ,IAAM,IAAM,cAChG/c,KAAKqhB,cAAgB,cAE7B,IAAIm0C,GAAex1D,KAAK+tD,iBAAiBoG,GAAU,EAC/Cn0D,MAAK1F,OAAO6rD,kBACZqP,EAAalG,UAAYhB,EAGzBkH,EAAaniC,UAAYi7B,CAE7B,IAAImH,GAAcz1D,KAAK1F,OAAO8uC,cAAcrZ,SACxC0lC,IAAeA,EAAwB,YACvCD,EAAa99B,YAAYma,GAE7ByjB,EAAoB,GAAG59B,YAAY89B,GAC6C,KAA5EF,EAAoB,GAAGj3B,iBAAiB,iBAAiB,GAAGsc,cAC3D36C,KAAKivD,WAAWwG,IACjBH,EAAoB,GAAGj3B,iBAAiB,iBAAiB,GAAGjJ,SAAS,IAAMp1B,KAAK1F,OAAO6rD,mBACvFmP,EAAoB,GAAGj3B,iBAAiB,iBAAiB,GAAGjJ,SAAS,GAAGz2B,SAEI,KAA5E22D,EAAoB,GAAGj3B,iBAAiB,iBAAiB,GAAGsc,aAC5D8a,IAAgBA,EAAwB,YAAuB,KAAlB5jB,EAAIxe,YACjDiiC,EAAoB,GAAGj3B,iBAAiB,iBAAiB,GAAGsc,YAAc8a,GAGlF,GAAIT,GAAoB,uDAA6Dh1D,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgB,EAAIrhB,KAAKqhB,cAAgB,GAAM,cAChKrhB,KAAK1F,OAAOkY,eAAiBxS,KAAKqhB,cAAgB,EAAIrhB,KAAKqhB,cAAgB,GAAM,sDAAwDrhB,KAAK1F,OAAO8mB,UAAY,GAAK,EAAI,GAAK,YAAcphB,KAAK1F,OAAOkY,eAAiB,EAAI,GAAK,cACzO+mC,GAAS,GAAG7hB,eAAerpB,MAAM4F,KAAKqhD,GAAqB,IAC3DJ,EAAoBn3D,EAAKS,gBAAgBgD,YACrCxB,KAAK+tD,iBAAiBhwD,EAAKS,gBAAgBmC,eAAiBq0D,EAAoB,IAAMzb,EAS9F,MAPIv5C,MAAK1F,OAAO24B,WAAaiiC,EAAkB,IAAMA,EAAkB,GAAGrvD,cAAc,mBACpFqvD,EAAkB,GAAGrvD,cAAc,iBAAiB8tB,MAAM67B,WAAa,OACvE0F,EAAkB,GAAGrvD,cAAc,iBAAiB8tB,MAAM87B,YAAc,MACpEyF,EAAkB,GAAGrvD,cAAc,iCACnCqvD,EAAkB,GAAGrvD,cAAc,+BAA+B8tB,MAAM+7B,UAAY,SAGrFwF,GASXpJ,EAAUrrD,UAAUi1D,eAAiB,SAAU53D,GAC3C,GAKI63D,GACAxwB,EANAl0B,EAAQjR,KACRo+B,EAAQ7G,gBAAc,SACtBC,EAAuC,eAA1Bx3B,KAAK1F,OAAOg4B,WAAwD,SAA1BtyB,KAAK1F,OAAOg4B,UACnE,qBAAuB,EAIvBtyB,MAAK1F,OAAOs7D,eAAerY,UAC3BjpB,WAAW,WACFz5B,oBAAkBoW,EAAM3W,OAAO4H,SAASqvB,OAAU12B,oBAAkBoW,EAAM3W,OAAO4H,SAASqvB,KAAK07B,gBAC/FpyD,oBAAkBoW,EAAM3W,OAAO4H,SAASqvB,KAAK07B,cAAc/3B,aAC5DiQ,EAAOl0B,EAAM3W,OAAO4H,SAASqvB,KAAK07B,cAAc/3B,UAAUp3B,GAEtD63D,EADAxwB,GAAQA,EAAK0wB,WACD,WAGA,KAGrB,IAGH1wB,EAAOnlC,KAAK1F,OAAO4H,SAASqvB,KAAK07B,cAAc/3B,UAAUp3B,GAErD63D,EADAxwB,GAAQA,EAAK0wB,WACD,WAGA,GAGpB,IAAIC,GAAQ13B,EAAMv4B,cAAc,QAC3BiwD,KACDA,EAAQ99B,SAAST,cAAc,SAC/B6G,EAAM1G,YAAYo+B,GAEtB,IAAIC,GAAW/9B,SAAST,cAAc,KACtCw+B,GAASv7D,UAAU62B,IAAIrxB,KAAKg2D,gBAAgBh2D,KAAKouD,cAAe1jB,GAC5DirB,GACAI,EAASv7D,UAAU62B,IAAIskC,GAE3BI,EAASpiC,MAAMkB,QAAU70B,KAAKi2D,qBAAqBj2D,KAAKouD,cACxD2H,EAASpiC,MAAMsB,OAASj1B,KAAK1F,OAAO8mB,UAAY,IAChD,IAAI80C,GAAYl+B,SAAST,cAAc,KAUvC,OATIC,GACA0+B,EAAU17D,UAAU62B,IzB1lCN,mByB0lC4BmG,GAG1C0+B,EAAU17D,UAAU62B,IzB7lCN,oByB+lClB6kC,EAAUviC,MAAM5W,MAAQ/c,KAAK1F,OAAOsX,eAAeukB,mBAAqB,KACxE4/B,EAASr+B,YAAYw+B,GACrBJ,EAAMp+B,YAAYq+B,GACX33B,EAAMxJ,YAQjBk3B,EAAUrrD,UAAU+sD,wBAA0B,WACrC3yD,oBAAkBmF,KAAK1F,OAAO67D,yBAC/Bn2D,KAAKm1D,8BAAgCn1D,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO67D,yBAEtEt7D,oBAAkBmF,KAAK1F,OAAO8uC,cAAcE,YAC7CtpC,KAAKivD,WAAWjvD,KAAK1F,OAAO8uC,cAAcE,aAC1CtpC,KAAK+zD,8BAAgC/zD,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO8uC,cAAcE,aAEpFzuC,oBAAkBmF,KAAK1F,OAAO8uC,cAAcC,aAC7CrpC,KAAKivD,WAAWjvD,KAAK1F,OAAO8uC,cAAcC,cAC1CrpC,KAAK20D,+BAAiC30D,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO8uC,cAAcC,cAErFxuC,oBAAkBmF,KAAK1F,OAAO8uC,cAAcrZ,YAC7C/vB,KAAKivD,WAAWjvD,KAAK1F,OAAO8uC,cAAcrZ,aAC1C/vB,KAAK4uD,0BAA4B5uD,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO8uC,cAAcrZ,YAEhFl1B,oBAAkBmF,KAAK1F,OAAO87D,mBAC/Bp2D,KAAKquD,6BAA+BruD,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO87D,kBAErEv7D,oBAAkBmF,KAAK1F,OAAO06D,qBAC/Bh1D,KAAKkzD,0BAA4BlzD,KAAKy5C,iBAAiBz5C,KAAK1F,OAAO06D,qBAG3ElJ,EAAUrrD,UAAUstD,iBAAmB,SAAUxU,GAC7C,GAAI1H,GAAM7Z,SAAST,cAAc,MAGjC,OAFev3B,MAAKq2D,cAAc9c,GACzBjnC,QAAQ,SAAUxM,GAAW,MAAO+rC,GAAIna,YAAY5xB,KACtD+rC,EAAIjd,YAGfk3B,EAAUrrD,UAAU41D,cAAgB,SAAUC,GAC1C,GAAIrlD,GAAQjR,IAEZ,OADkBA,MAAKu2D,6BAA6BD,GACjC/gD,IAAI,SAAUzP,GAAW,MAAOmL,GAAMulD,yBAAyB1wD,MAGtFgmD,EAAUrrD,UAAU81D,6BAA+B,SAAUE,GAMzD,IALA,GAEI/pD,GAFA7O,KACA64D,KAEAC,EAAY,EAE8B,QAAtCjqD,EAAQ1M,KAAKwsD,SAASoK,KAAKH,KAAiB,CAChD,GAAII,GAAYnqD,EAAM,GAAIoqD,EAAUpqD,EAAM,GAAIlR,EAAKkR,EAAM,GAAIqqD,MAAyB,KAAPv7D,EAAgB,GAAKA,EAChG8zD,EAAYmH,EAAKO,UAAUL,EAAWjqD,EAAMjN,OAAOkN,MACvDgqD,GAAY32D,KAAKwsD,SAASmK,SAC1B,IAAI7wD,IAAYgxD,QAASA,EAASG,WAAYF,EAAiB3hC,YAC3DyhC,GAAUK,WAAW,OACjBR,EAAM/6D,OAAS,GAAK2zD,IACpBoH,EAAMA,EAAM/6D,OAAS,GAAG0D,MAAQiwD,GAEpCoH,EAAMS,OAGDN,EAAUO,SAAS,QAChBV,EAAM/6D,OAAS,EACf+6D,EAAMA,EAAM/6D,OAAS,GAAGy5B,SAAS92B,KAAKwH,GAGtCjI,EAAOS,KAAKwH,GAEhB4wD,EAAMp4D,KAAKwH,IAIvB,MAAOjI,IAGXiuD,EAAUrrD,UAAU+1D,yBAA2B,SAAUr8B,GACrD,GAAIlpB,GAAQjR,KACR8F,EAAUkyB,SAAST,cAAc4C,EAAK28B,QAS1C,OARI38B,GAAK96B,QACLyG,EAAQ60C,YAAcxgB,EAAK96B,OAE/BW,KAAKq3D,cAAcvxD,EAASq0B,EAAK88B,YACjC98B,EAAK/E,SAAS9iB,QAAQ,SAAUglD,GAC5B,GAAIrtB,GAAeh5B,EAAMulD,yBAAyBc,EAClDxxD,GAAQ4xB,YAAYuS,KAEjBnkC,GAGXgmD,EAAUrrD,UAAU42D,cAAgB,SAAUvxD,EAASyxD,GACnD,GAAI7qD,EAMJ,KAFA6qD,EAHA,SAAwBjB,GACpB,MAAOA,GAAWn3D,QAAQ,yBAA0B,eAEtBo4D,GAE8B,QAAxD7qD,EAAQ1M,KAAKysD,eAAemK,KAAKW,KAA6B,CAClE,GAAI37D,GAAM8Q,EAAM,GAAIrN,EAAQqN,EAAM,EACtB,WAAR9Q,EACAkK,EAAQ0xB,UAAYn4B,EAEP,UAARzD,EACLkK,EAAQ6tB,MAAMytB,QAAUphD,KAAKw3D,iBAAiBn4D,GAG9CyG,EAAQwwB,aAAa16B,EAAKyD,KAKtCysD,EAAUrrD,UAAU+2D,iBAAmB,SAAU7jC,GAC7C,MAAOA,GAAMhrB,MAAM,KAAK4M,IAAI,SAAUq1B,GAAK,MAAOA,GAAEj+B,SAAWgN,OAAOmS,SAAS7F,KAAK,OAExF6lC,EAAUrrD,UAAUwuD,WAAa,SAAU1V,GAEvC,IAAK,GADD17C,IAAS,EACJC,EAAI,EAAGA,EAAIkC,KAAK1F,OAAO4gB,aAAavf,OAAQmC,IACjD,GAAIy7C,IAAav5C,KAAK1F,OAAO4gB,aAAapd,GAAGqd,MAAO,CAChDtd,GAAS,CACT,OAUR,MALIA,GAFoB,gBAAb07C,IAAmD,IAA1BA,EAASzsC,QAAQ,MAAcysC,EAASzsC,QAAQ,MAAQ,GACrFysC,EAASzsC,QAAQ,MAAQ,IAAMjP,GAa1CiuD,EAAUrrD,UAAU25C,cAAgB,SAAUqd,GAE1C,MADcz3D,MAAK1F,OAAOwL,QAAQvL,GACjBk9D,GAErB3L,EAAUrrD,UAAUmvB,mBAAqB,WACrC,GAAI2pB,GAAW,gBAAmBv5C,mCzBhwCN,qDyBiwCxB03D,GAA0B,+CACzB13D,KAAK1F,OAAO8mB,UAAY,GAAK,YAAcphB,KAAK23D,cAAc33D,KAAKouD,cAAgB,UACxF,OAAOpuD,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAUm3D,iBAAmB,WACnC,GAAI75D,GAAOiC,KAAKouD,aACZyJ,KAAe73D,KAAK1F,OAAO0I,aAAchD,KAAK1F,OAAO4kC,aAAaC,qBACH,mBAA/Dn/B,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,mBAEzCnD,EAAW,wCACXv5C,KAAK1F,OAAOw9D,wBAAwB/5D,EAAKS,iBAAmB,KAC1DT,EAAKS,yBAA4BT,EAAKS,gBAAgB8d,SAAW,IAAM,yCAChCve,EAAKS,gBAAgBgD,aAAgBq2D,GAAkB95D,EAAK0e,kBAAoB1e,EAAKS,gBAAgBmC,eAGnB,SAAW5C,EAAKS,gBAAgBue,MAC3J,iBAAmB/c,KAAKq0D,iBAAmB,OAASr0D,KAAK1F,OAAO24B,UAAY,SAAW,WAAal1B,EAAK0e,iBAAmB1e,EAAKS,gBAAgBmC,eACjJ5C,EAAKS,gBAAgBsf,KAAO/f,EAAKS,gBAAgBu2D,UAAY,aAC7D/0D,KAAKqhB,cAAgB,cAAgBrhB,KAAK1F,OAAO4kC,aAAaC,oBAAsB,QAAU,YAL7F,SAAWn/B,KAAK+rD,gBAAkB,aAC/B/rD,KAAK+rD,gBAAkB,iBAAmB/rD,KAAK0zD,mBAAqB,OAAS1zD,KAAK1F,OAAO24B,UAAY,SAAW,UAAYl1B,EAAKS,gBAAgBsf,KAChJ9d,KAAK+rD,gBAAkB,GAAM,cAAgB/rD,KAAK1F,OAAO4kC,aAAaC,oBAAsB,QAAU,aAGG,UAClH,OAAOn/B,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAUovB,oBAAsB,WACtC,GAAI0pB,GAAW,gBAAmBv5C,oCzBpxCL,uDyBqxCzB+3D,GAA2B,wCAA+C/3D,KAAK1F,OAAO24B,UAAY,SAAW,SAAWjzB,KAAKg4D,kBAAkBh4D,KAAKouD,cAAgB,eACjKpuD,KAAK1F,OAAO8mB,UAAY,GAAK,aACpC,OAAOphB,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAUw3D,wBAA0B,WAC1C,GAAI/H,IAAiBr1D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAK,EACpH6xB,EAAW,qDACEv5C,KAAK1F,OAAO24B,UAAY,SAAW,SAAWi9B,EAAe,aAAgBlwD,mBAAsB,sBACpH,OAAOA,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAUy3D,yBAA2B,WAC3C,GAAI/H,IAAiBt1D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,aAAgB,IAAM,GACtH6xB,EAAW,sDACEv5C,KAAK1F,OAAO24B,UAAY,SAAW,UAAYjzB,KAAKouD,aAAa5vD,gBAAgBue,MAAQozC,GAAgB,aACzGnwD,mBAAsB,sBACvC,OAAOA,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAU03D,4BAA8B,WAC9C,GAAIp7C,GAAQ/c,KAAK1F,OAAO24B,UAAajzB,KAAKouD,aAAa5vD,gBAAgBuuB,cAAgB,EAClF/sB,KAAKouD,aAAa5vD,gBAAgBuuB,cAAgB,EACnDwsB,EAAW,gDACEv5C,KAAK1F,OAAO24B,UAAY,SAAW,SAAWlW,EAAQ,kBAClE/c,KAAKqhB,cAAgB,GAAK,gJAG/B,OAAOrhB,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAU23D,iBAAmB,WACnC,GAMIC,GANAt6D,EAAOiC,KAAKouD,aACZtwC,GAASjjB,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAK,EAC5G4wC,GAAuBz9D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,EAAI,EACzH6wC,IAAgB,EAAIv4D,KAAKw4D,oBAAsB16C,GAC/C26C,IAAkBz4D,KAAKw4D,oBAAsBF,GAC7CI,EAAaxlD,KAAKsH,MAAMxa,KAAKgsD,iBAAoBhsD,KAAKw4D,oBAAsB,EAG5EH,IADEr4D,KAAKouD,aAAa5vD,gBAAgBmC,gBAAkBX,KAAKouD,aAAa3xC,iBAAoBzc,KAAK1F,OAAOqgB,sBAC5F,GAGA,cAAgB3a,KAAK24D,qBAAuB,IAE5D,IAAIC,IAAS,CACT76D,GAAK0e,kBAAoBzc,KAAK1F,OAAOqgB,wBACrCi+C,GAAS,EAEb,IAAIrf,GAAW,wDACTx7C,EAAKS,4BAAgC,cAAgBk6D,EAAa,WAAaD,EAC7E,MAAUJ,EAAY,SAAWE,EAAc,OAAU,kBAC3CK,EAASC,EAAyB,IAAM,IAAM74D,KAAK1F,OAAOw9D,wBAAwB/5D,EAAKS,iBACzG,mBAAqBwB,KAAKw4D,oBAAsB,OAASx4D,KAAK1F,OAAO24B,UAAY,oBAAsB,IACvG,WAAajzB,KAAKw4D,oBAAsB,QAAUx4D,KAAKmsD,wBAA0B,cACrF,OAAOnsD,MAAK+tD,iBAAiBxU,IAEjCuS,EAAUrrD,UAAUq4D,kBAAoB,WACpC,GAIIT,GAJAt6D,EAAOiC,KAAKouD,aAEZ2K,IAAiB,IADPl+D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,aAAgB,GAAK,IAE9GgxC,EAAaxlD,KAAKsH,MAAMxa,KAAKgsD,iBAAoBhsD,KAAKw4D,oBAAsB,EAG5EH,IADEr4D,KAAKouD,aAAa5vD,gBAAgBmC,gBAAkBX,KAAKouD,aAAa3xC,iBAAoBzc,KAAK1F,OAAOqgB,sBAC5F,GAGA,cAAgB3a,KAAK24D,qBAAuB,IAE5D,IAAIC,IAAS,CACT76D,GAAK0e,kBAAoBzc,KAAK1F,OAAOqgB,wBACrCi+C,GAAS,EAEb,IAAIrf,GAAW,yDACTx7C,EAAKS,4BAAgC,UAAa3D,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAgB1nB,KAAK+rD,gBAAkB,EAAK/rD,KAAK+rD,gBAAkB,GAAK,iBACvM2M,EAAa,MAAU,SAAW36D,EAAKS,gBAAgBue,MAAQg8C,GAAgB,MAAQV,EAAY,KAAQ,kBAC7FO,EzBnwCG,yByBmwCgC,IAAM,IAAM54D,KAAK1F,OAAOw9D,wBAAwB/5D,EAAKS,iBAC1G,kBAAoBwB,KAAKw4D,oBAAsB,aAAex4D,KAAKw4D,oBAAsB,QACzFx4D,KAAKosD,yBAA2B,cACpC,OAAOpsD,MAAK+tD,iBAAiBxU,IASjCuS,EAAUrrD,UAAUquD,aAAe,SAAU3zC,GACzC,GAAIxf,GAASqE,KAAK1F,OAAO4gB,aAAavf,OAClCq9D,EAAe,IACnB,IAAKn+D,oBAAkBsgB,IAAoB,KAAVA,EAiB7B69C,EAAe,OAhBf,IAAI79C,IAAUnb,KAAK1F,OAAOmE,WAAWga,aACjCugD,EAAeh5D,KAAKi5D,gBAAgBj5D,KAAKouD,kBAExC,CACD,IAAK,GAAItwD,GAAI,EAAGA,EAAInC,EAAQmC,IACxB,GAAIqd,IAAUnb,KAAK1F,OAAO4gB,aAAapd,GAAGqd,MAAO,CAC7C69C,EAAeh5D,KAAKk5D,cAAcl5D,KAAKouD,aAAajzC,IAAQld,UAC5D,OAGR,GAAIpD,oBAAkBm+D,GAClB,MAAO,mBAOnB,MAAOA,IAEXlN,EAAUrrD,UAAUw1D,qBAAuB,SAAUl4D,GAEjD,MADAA,GAAOiC,KAAKouD,aACRpuD,KAAK1F,OAAO6+D,gBAAgBp7D,GACrB,YAEJ,QAEX+tD,EAAUrrD,UAAUu1D,gBAAkB,SAAUj4D,GAE5C,GAAIq7D,GAAW,gBACX5vD,GAFJzL,EAAOiC,KAAKouD,cAEU5kD,UAMtB,OALIA,KACA4vD,GAAY5vD,EAAWkM,OAAOzX,YAElCm7D,GAAY,QACZA,GAAYr7D,EAAK6b,MAAM3b,YAG3B6tD,EAAUrrD,UAAUiuD,gBAAkB,SAAU3wD,GAE5C,GAAI80D,IADJ90D,EAAOiC,KAAKouD,cACI5vD,gBAAgBue,MAAQhf,EAAKS,gBAAgBuuB,aAC7D,OAAI8lC,IAAQ,EACD,EAAIA,EAGJ,GAGf/G,EAAUrrD,UAAUsvD,yBAA2B,SAAUhyD,GACrD,GAAI80D,GAAO90D,EAAKgf,MAAQhf,EAAKgvB,aAC7B,OAAI8lC,IAAQ,EACD,EAAIA,EAGJ,GAGf/G,EAAUrrD,UAAUk3D,cAAgB,SAAU3zD,GAE1C,GACI+Y,GADAniB,GADJoJ,EAAYhE,KAAKouD,cACS5vD,eAoB1B,QAjBIue,EADA/Y,EAAUxF,gBAAgBgD,YACjBwC,EAAUxF,gBAAgBsf,KAAQ9d,KAAK1F,OAAO6mB,mBAAqB,EAEvEnd,EAAUyY,kBAAoB7hB,EAAU+F,eACxCX,KAAK1F,OAAOiP,sBAKL3O,EAAUkjB,KAAOljB,EAAUm6D,SAAWn6D,EAAUkjB,KAAOljB,EAAUm6D,SAJhEn6D,EAAUkJ,cAAc5C,UAAYtG,EAAUE,UAAUoG,UAC7DtG,EAAUm6D,SAAWn6D,EAAUkjB,KAO/B9Z,EAAUxF,gBAAgBsf,MAE1B,IACRf,EAAQ,GAELA,EAAQ,MAEnB+uC,EAAUrrD,UAAUu3D,kBAAoB,SAAUh0D,GAE9C,GACI8Z,GAEAf,EAHAniB,GADJoJ,EAAYhE,KAAKouD,cACS5vD,eAI1B,OAAIwF,GAAUxF,gBAAgBgD,YACnBwC,EAAUxF,gBAAgBsf,KAAQ9d,KAAK1F,OAAO6mB,mBAAqB,EAErEnd,EAAUyY,kBAAoB7hB,EAAU+F,gBACxCX,KAAK1F,OAAOiP,uBAQbuU,EAAOljB,EAAUkjB,KAAOljB,EAAUm6D,SAAWn6D,EAAUm6D,SAAWn6D,EAAUkjB,KAC5Ef,EAAQniB,EAAUsyB,YARlBpP,EAAOljB,EAAUkJ,cAAc5C,UAAYtG,EAAUE,UAAUoG,UAAYtG,EAAUm6D,SAAWn6D,EAAUkjB,KAI1Gf,GAHUniB,EAAU0H,YAAYpB,UAAYtG,EAAUG,QAAQmG,UAC1DlB,KAAK1F,OAAO+J,cAAcmd,YAAY5mB,EAAUG,QAASH,EAAU4G,aACnExB,KAAK1F,OAAO+J,cAAcmd,YAAY5mB,EAAU0H,YAAa1H,EAAU4G,cACzDsc,GAMfA,EAAOf,GAGP/Y,EAAUxF,gBAAgBsf,KAAO9Z,EAAUxF,gBAAgBue,OAG1E+uC,EAAUrrD,UAAU40D,eAAiB,SAAUt3D,GAE3C,MADAA,GAAOiC,KAAKouD,aACRrwD,EAAKmhB,SzB38CM,gByB88CLnhB,EAAKmhB,UAAYnhB,EAAK0e,gBzB78Cf,iByBg9CV,IAEXqvC,EAAUrrD,UAAUy4D,cAAgB,SAAU/9C,GAC1C,MAAOtgB,qBAAkBsgB,GAAS,GAAKA,GAE3C2wC,EAAUrrD,UAAUw4D,gBAAkB,SAAUj1D,GAC5CA,EAAYhE,KAAKouD,YACjB,IAAIx1C,GAAW,IACf,KAAK/d,oBAAkBmJ,EAAUxF,gBAAgBia,cAAe,CAC5D,GAAI4gD,GAAWr1D,EAAUxF,gBAAgBia,aAAa9c,MACtD,IAAI09D,EAAW,EAAG,CACd,IAAK,GAAIv7D,GAAI,EAAGA,EAAIu7D,EAAUv7D,IAAK,CAC/B,GAAIqa,GAAenU,EAAUxF,gBAAgBia,aAAa3a,GAAGkC,KAAK1F,OAAO8d,eAAeC,MACpFqG,EAAe1a,EAAUxF,gBAAgBia,aAAa3a,GAAGkC,KAAK1F,OAAO8d,eAAexL,KACnE,OAAjB8R,IACAvG,GAAgB,IAAMuG,EAAe,MAErC7jB,oBAAkB+d,GAClBA,EAAWT,EAGXS,GAAY,MAAQT,EAG5B,MAAOS,GAGP,MAAO,GAGf,MAAO,IAQXkzC,EAAUrrD,UAAU8sD,+BAAiC,WACjD,GAAIuF,GAAqB9yD,KAAK1F,OAAOkY,eAAiB,KAAU3X,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAM,IAChK4xC,EAAwBt5D,KAAK1F,OAAOkY,eAAiB,EAAI,EACzD+mD,EAAuBv5D,KAAK1F,OAAOkY,eAAiB,KAAO,GAM/D,IALAxS,KAAK1F,OAAO8mB,UAAYvmB,oBAAkBmF,KAAK1F,OAAO8mB,WAAa,GAAKphB,KAAK1F,OAAO8mB,UACpFphB,KAAKszD,cAAiBz4D,oBAAkBmF,KAAK1F,OAAOg5D,gBAClB,KAA9BtzD,KAAK1F,OAAOg5D,cAAmD,KAA5BtzD,KAAK1F,OAAOg5D,cACnDtzD,KAAKqhB,cAAgBxmB,oBAAkBmF,KAAK1F,OAAOgnB,gBAAkBthB,KAAK1F,OAAOgnB,eAAiBthB,KAAK1F,OAAO8mB,UAC1GlO,KAAKsH,MAAMxa,KAAK1F,OAAO8mB,UAAY0xC,GAAsB9yD,KAAK1F,OAAOgnB,cACrEthB,KAAK1F,OAAOkY,eAAgB,CAC5B,GAAIyiB,OAAS,EAETA,GADCj1B,KAAKqhB,cAAgBrhB,KAAKksD,gBAAmBlsD,KAAK1F,OAAO8mB,UACjDphB,KAAKqhB,cAGLrhB,KAAKqhB,eAAiBrhB,KAAKksD,eAAiB,GAEzDlsD,KAAKqhB,cAAgB4T,EAEzBj1B,KAAK+rD,gBAAkB74C,KAAKsH,MAAMxa,KAAKqhB,cAAgBk4C,GACvDv5D,KAAKq0D,iBAAmBnhD,KAAKsH,OAAOxa,KAAK1F,OAAO8mB,UAAYphB,KAAKqhB,eAAiBi4C,GAClFt5D,KAAK0zD,mBAAqBxgD,KAAKsH,OAAOxa,KAAK1F,OAAO8mB,UAAYphB,KAAK+rD,iBAAmB,GACtF/rD,KAAKgsD,iBAAmB94C,KAAKsH,MAAOxa,qBAAwB,GAC5DA,KAAKisD,cAAgB/4C,KAAKsH,MAAOxa,KAAK1F,OAAO8mB,WAAaphB,KAAKqhB,cAAgBrhB,KAAKq0D,mBAAsB,GAC1Gr0D,KAAKw4D,oBAAsBx4D,KAAK1F,OAAOymC,WAAa7tB,KAAKgY,MAAMlrB,KAAKqhB,cAAgB,GAAK,EACzFrhB,KAAK24D,qBAAuBzlD,KAAKsH,MAAOxa,KAAKqhB,cAAgB,EAAMrhB,KAAKw4D,oBAAsB,MAQlG1M,EAAUrrD,UAAUysD,iBAAmB,WAGnC,GAFAltD,KAAK1F,OAAOwX,gBAAkB9R,KAAK1F,OAAO4H,SAASmiC,wBAAwBh2B,QAC3ErO,KAAKytD,wBACDztD,KAAK1F,OAAOm6B,mBAAoB,CAChC,IAAK,GAAI32B,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOwX,gBAAgBnW,OAAQmC,IAAK,CACzD,GAAIC,GAAOiC,KAAK1F,OAAOwX,gBAAgBhU,EACnCC,GAAKmf,aAAavhB,OAAS,IAC3BqE,KAAK1F,OAAO8J,eAAe,qBAAsBpE,KAAK1F,OAAO+J,cAAcslB,sBAAsB5rB,EAAKS,gBAAgByqB,oBAAoB,GAAOlrB,EAAKS,iBAAiB,GACvKwB,KAAK1F,OAAO+J,cAAculB,wBAAwB7rB,EAAKS,gBAAgByqB,qBAG/EjpB,KAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,iBAElE9R,KAAK1F,OAAOmqB,iBAAiBmZ,4BAQjCkuB,EAAUrrD,UAAUgtD,sBAAwB,WACxC,GACIjyD,GADAyV,EAAQjR,KAERw5D,KAASnrD,MAAM4F,KAAKjU,KAAK20B,oBAAoB0J,iBAAiB,MAClEr+B,MAAK20B,oBAAoBtB,UAAY,EACrC,IAAIomC,MACAnX,EAAkBtiD,KAAK1F,OAAOs7D,eAAetT,eAGjD,IAFAtiD,KAAKssD,eACLtsD,KAAKusD,iBACDvsD,KAAK1F,OAAOmkD,qBAAuB6D,GAAmBA,EAAgB3mD,OAAS,GAAKqE,KAAKkoC,UAAW,CAIpG,IAAK,GAHDwxB,MACAC,KACA/9D,EAAMoE,KAAK1F,OAAO4H,SAAS03D,0BAA0B,GAChD97D,EAAI,EAAGA,EAAIwkD,EAAgB3mD,OAAQmC,IACxC67D,EAAe77D,GAAK07D,EAAI17D,GACxB47D,EAAQpX,EAAgBxkD,GAAGlC,IAAQkC,CAEvC,KAAK,GAAI2B,GAAQ,EAAGA,EAAQO,KAAK1F,OAAOwX,gBAAgBnW,OAAQ8D,IAAS,CACrE,GAAIo6D,GAAWH,EAAQ15D,KAAK1F,OAAOwX,gBAAgBrS,GAAO7D,IACtDk+D,EAAmB95D,KAAK1F,OAAO8jD,gBAAgBtxC,QAAQ9M,KAAK1F,OAAOwX,gBAAgBrS,GACvF,IAAI5E,oBAAkBg/D,KAAmC,IAAtBC,GAA2B95D,KAAK1F,OAAOy/D,qBAAsB,CACxFC,EAAOh6D,KAAKi6D,iBAAiBx6D,EAAOO,KAAK1F,OAAOwX,gBAAgBrS,GACpEO,MAAK20B,oBAAoB+C,YAAYsiC,GACrCh6D,KAAKssD,YAAYhuD,KAAK0B,KAAK20B,oBAAoB0J,iBAAiB,MAAM5+B,IACtEO,KAAKusD,cAAcjuD,KAAK0B,KAAK1F,OAAOwX,gBAAgBrS,QAGpDO,MAAK20B,oBAAoB+C,YAAYiiC,EAAeE,GAExD75D,MAAK20B,oBAAoB0J,iBAAiB,MAAM5+B,GAAO62B,aAAa,iBAAkB72B,EAAQ,GAAGxB,iBAGpG,CAID,IAAK,GAHDi8D,GAAe3iC,gBAAc,SAC7Bh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,uBAExBuD,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOwX,gBAAgBnW,OAAQmC,IAAK,CACzD,GAAIq8D,GAAmBn6D,KAAK1F,OAAOwX,gBAAgBhU,IAC9Cq8D,EAAiBj7C,UAAYlf,KAAK1F,OAAO6hC,oBAC1Cs9B,EAAwBn7D,KAAK67D,EAEjC,IAAIH,GAAOh6D,KAAKi6D,iBAAiBn8D,EAAGq8D,EAChCA,GAAiB19C,kBAAqB09C,EAAiBj7C,UAAalf,KAAK1F,OAAO6hC,qBAC5En8B,KAAK1F,OAAOk6B,qBAChBx0B,KAAKokD,sBAAsB+V,EAAkBH,GAEjDE,EAAaxiC,YAAYsiC,GACrBh6D,KAAK1F,OAAOmkD,sBACZz+C,KAAKssD,YAAYhuD,KAAK47D,EAAa77B,iBAAiB,MAAMvgC,IAC1DkC,KAAKusD,cAAcjuD,KAAK0B,KAAK1F,OAAOwX,gBAAgBhU,KAGpDkC,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,gBAC3Ct+C,KAAK1F,OAAO0nD,gBAAgBoY,wBAAwBp8D,SAASg8D,EAAKv2B,aAAa,iBAAkB,IAAM,IAI9GjoC,EAAKwE,KAAK20B,qBAAqB0lC,gBAAgBrjD,MAAMxb,EAAI0+D,EAAatlC,YAEtE50B,KAAK20B,+BAAgCriB,QAAQ,SAAUoiB,GAChDA,YAAc4lC,WACd5lC,EAAGlgB,iBAAiB,YAAavD,EAAM07C,iBACvCj4B,EAAGlgB,iBAAiB,WAAYvD,EAAM27C,mBAG9C5sD,KAAK1F,OAAOigE,wBAA0Bv6D,KAAK1F,OAAOmqB,iBAAiBif,eAEvE,GAAI1jC,KAAK1F,OAAOggC,oBAAsBt6B,KAAK1F,OAAO+/B,mBAAoB,CAClE,GAAID,GAAiBp6B,KAAK1F,OAAO+/B,kBAC7BD,GAAeG,wBACfv6B,KAAK1F,OAAO+/B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,8BASrK,GANA16B,KAAK1F,OAAO6kD,kBACZn/C,KAAKw6D,0BACLx6D,KAAK1F,OAAO8jD,mBACRp+C,KAAK1F,OAAOm6B,oBACZz0B,KAAKy6D,mBAELhB,EAAwB99D,OACxB,IAAK,GAAI8P,GAAI,EAAGA,EAAIguD,EAAwB99D,OAAQ8P,IAC5CguD,EAAwBhuD,GAAGgR,kBAC3Bzc,KAAK1F,OAAOozD,sBAAuB,EACnC1tD,KAAK1F,OAAOkb,gBAAgBqvB,gBAAgB40B,EAAwBhuD,KAIhFzL,MAAK1F,OAAOozD,sBAAuB,EACnC1tD,KAAK1F,OAAO6kD,mBAUhB2M,EAAUrrD,UAAUw5D,iBAAmB,SAAUn8D,EAAGq8D,GAChDn6D,KAAKouD,aAAe+L,CACpB,IAAIO,GAAe16D,KAAK01D,eAAe53D,GACnC81D,EAAgB5zD,KAAK2zD,iBAAiB71D,GACtC68D,EAAuB36D,KAAK43D,kBAChC+C,GAAqB,GAAGrkC,aAAa,aAAct2B,KAAK46D,kBAAkB56D,KAAKouD,eAC/EuM,EAAqB,GAAGrkC,aAAa,cAAet2B,KAAKouD,aAAa5vD,gBAAgBqb,YACtF,IAAIghD,GACAC,CAKJ,IAJAD,EAAwB76D,KAAKo4D,oBACxBp4D,KAAKouD,aAAa5vD,gBAAgBmC,gBAA2C,gBAAzBX,KAAK1F,OAAOyd,WAAgC/X,KAAKouD,aAAa3xC,kBACnHk+C,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAK4mD,GAAuB,IAEzE76D,KAAKouD,aAAa3xC,gBAAiB,CACnC,GAAIs+C,OAA4B,EAChC,KAAK/6D,KAAK1F,OAAO6hC,oBAAuBn8B,KAAK1F,OAAO6hC,oBAAsBn8B,KAAKouD,aAAalvC,SACxF67C,EAA4B/6D,KAAKi1D,qBAAqBn3D,EAAG68D,OAExD,CACDA,IACA,KAASlvD,EAAI,EAAGA,EAAIzL,KAAKouD,aAAalxC,aAAavhB,OAAQ8P,IAAK,CAC5DzL,KAAKouD,aAAepuD,KAAKouD,aAAalxC,aAAazR,EACnD,IAAIuvD,GAAwBh7D,KAAK43D,kBACjCoD,GAAsB,GAAG1kC,aAAa,aAAct2B,KAAK46D,kBAAkB56D,KAAKouD,eAChF4M,EAAsB,GAAG1kC,aAAa,cAAet2B,KAAKouD,aAAa5vD,gBAAgBqb,aAClF7Z,KAAK1F,OAAOqgB,uBAKbkgD,EAAwB76D,KAAKo4D,oBACxBp4D,KAAKouD,aAAa5vD,gCAAoCwB,KAAKouD,aAAa3xC,iBACzEu+C,EAAsB,GAAGtjC,eAAerpB,MAAM4F,KAAK4mD,GAAuB,MAN9EA,EAAwB76D,KAAKo4D,mBAC7B4C,EAAsB,GAAGtjC,eAAerpB,MAAM4F,KAAK4mD,GAAuB,KAQ9E76D,KAAKi7D,oBAAoBd,EAAkBr8D,EAAGk9D,EAAuBF,EAAwBH,IAGrG,IAAK36D,KAAKouD,aAAa5vD,gBAAgBmC,eAAgB,CACnD,GAAIu6D,GAAgBl7D,KAAK40D,kBACzB,KAAK/5D,oBAAkBqgE,EAAc,IAAK,CACtC,GAAIl7D,KAAK1F,OAAOqgB,sBAAuB,CACnCkgD,EAAwB76D,KAAKo4D,mBAC7B8C,EAAc,GAAGxjC,eAAerpB,MAAM4F,KAAK4mD,GAAuB,GAClE,IAAIM,GAA2Bn7D,KAAK84D,mBACpCoC,GAAc,GAAGxjC,eAAerpB,MAAM4F,KAAKknD,GAA0B,IAGzER,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAKinD,GAAe,KAGzE,GAAwD,IAAnDl7D,KAAKouD,aAAa5vD,gBAAgB2K,eAAwBnJ,KAAKouD,aAAa5vD,gBAAgBgD,aAC7Fu5D,GAA6BA,EAA0Bp/D,OAAS,EAChEi/C,SAAOmgB,EAA2BJ,EAAqB,QAEtD,IAAoD,IAA/C36D,KAAKouD,aAAa5vD,gBAAgBxD,UAAkBgF,KAAKouD,aAAa5vD,gBAAgBgD,aAC5FxB,KAAKouD,aAAa5vD,gBAAgBmC,eAAiB,CACnD,GAAIy6D,GAAwBp7D,KAAKgzD,iBAAiBl1D,EAAG68D,EACjDS,IAAyBA,EAAsBz/D,OAAS,GACxDi/C,SAAOwgB,EAAuBT,EAAqB,IAGvD36D,KAAK1F,OAAOkY,gBAAkBxS,KAAKouD,aAAa5vD,gBAAgBK,mBAChEmB,KAAKouD,aAAa5vD,gBAAgBI,kBAClCoB,KAAK0sD,yBAA6B1sD,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YAClFlB,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAAiBrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBK,oBACtHhE,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgB1D,YACpDkF,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YACjDlB,KAAKouD,aAAa5vD,gBAAgB1D,UAAUoG,WAC3CrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBI,kBACpD/D,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBzD,UACpDiF,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAC/ClB,KAAKouD,aAAa5vD,gBAAgBzD,QAAQmG,YAClDlB,KAAKouD,aAAa5vD,gBAAgBgD,aACExB,KAAKmzD,sBAAvCnzD,KAAKwzD,8BAEVxzD,KAAK1F,OAAO6hC,oBAAuBn8B,KAAK1F,OAAO6hC,oBAAsBn8B,KAAKouD,aAAalvC,YACpFlf,KAAK1F,OAAOqgB,wBAA2B3a,KAAKouD,aAAa5vD,gBAAgBmC,gBAA2C,gBAAzBX,KAAK1F,OAAOyd,WAAgC/X,KAAKouD,aAAa3xC,kBACzJq+C,EAAyB96D,KAAK84D,oBAE9B6B,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAK6mD,GAAwB,KAEpE96D,KAAK1F,OAAOqgB,wBAClBmgD,EAAyB96D,KAAK84D,oBAE9B6B,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAK6mD,GAAwB,UAKlF96D,MAAKi7D,oBAAoBd,EAAkBr8D,EAAG68D,EAAsBG,EAExE,IAAIrG,GAAiBz0D,KAAKw0D,kBAAkB12D,EAC5C,IAAIkC,KAAK1F,OAAO6hC,oBAAsBn8B,KAAKouD,aAAa3xC,kBAAoBzc,KAAKouD,aAAalvC,SAAU,CACpG,GAAIm8C,GAAiB9jC,gBAAc,OAC/BC,UAAW,qBAEfkjC,GAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,YAAY2jC,EACxD,KAAK,GAAI5vD,GAAI,EAAGA,EAAIkvD,EAAqBh/D,OAAQ8P,IAC7C+yB,YAAUm8B,EAAqBlvD,IAAK,yBACpCivD,EAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAK0mD,GAAsBlvD,GAE9GivD,GAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAK2/C,GAAe,IACjF5zD,KAAKouD,aAAa5vD,gBAAgBiU,YAAczS,KAAKouD,aAAa5vD,gBAAgBiU,WAAW9W,OAAS,GACtGqE,KAAKs7D,iBAAiBx9D,EAAG48D,OAI7BA,GAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAK2/C,GAAe,IACrF8G,EAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAK0mD,GAAsB,IACxF36D,KAAKouD,aAAa5vD,gBAAgBiU,YAAczS,KAAKouD,aAAa5vD,gBAAgBiU,WAAW9W,OAAS,GACtGqE,KAAKs7D,iBAAiBx9D,EAAG48D,GAEzBjG,GAAkBA,EAAe94D,OAAS,GAC1C++D,EAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAKwgD,GAAgB,GAGzF55D,qBAAkBmF,KAAK0sD,2BACxBgO,EAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAKjU,KAAK0sD,0BAA0B,IAEzG1sD,KAAK0sD,yBAA2B,IAChC,IAAIsN,GAAOU,EAAa,GAAG9lC,WAAW,EAEtC,OADA50B,MAAKu7D,gBAAgBpB,EAAkBH,GAChCA,GAQXlO,EAAUrrD,UAAU86D,gBAAkB,SAAUpB,EAAkBH,GAC9D,GAIIv6D,GAJAwR,EAAQjR,KACR9E,EAAa8E,KAAK1F,OAAO4H,SAASmiC,wBAClCm3B,EAAax7D,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAC5D5X,WAAS,iCAAkCM,KAAK1F,OAAO4H,UAAYhH,CAEvE,IAAI8E,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAAiB,CAEzE,GAEIrE,GAFWiC,KAAK1F,OAAO4H,SAASqvB,KAAK07B,cAAoB,KAEzCtzC,OAAO,SAAUK,GACjC,GAAIA,EAAQ,KAAE/I,EAAM3W,OAAOmE,WAAWlE,MAAQ4/D,EAAiB37D,gBAAgBkX,OAC3E,MAAOsE,KAEZ,EACHggD,GAAK1jC,aAAa,gBAAiBv4B,EAAY,MAAEE,YACjD+7D,EAAK1jC,aAAa,iBAAkBv4B,EAAY,MAAI,GAAGE,gBAGvDwB,GAAQ+7D,EAAW1uD,QAAQqtD,GAC3BH,EAAK1jC,aAAa,iBAAkB72B,EAAQ,GAAGxB,aASvD6tD,EAAUrrD,UAAU+5D,wBAA0B,WAC1C,GAAKx6D,KAAK1F,OAAOmhE,iBAOjB,IAAK,GAFDC,GACA39D,EAHApC,EAASqE,KAAK1F,OAAOmkD,oBACrBz+C,KAAKssD,YAAY3wD,OAASqE,KAAK20B,oBAAoB0J,iBAAiB,MAAM1iC,OAGrE8D,EAAQ,EAAGA,EAAQ9D,EAAQ8D,IAAS,CACzCi8D,EAAY17D,KAAK1F,OAAOmkD,oBAAsBz+C,KAAKssD,YAAY7sD,GAASO,KAAK20B,oBAAoB0J,iBAAiB,MAAM5+B,GACxH1B,EAAOiC,KAAKusD,cAAc5wD,OAAS,EAAIqE,KAAKusD,cAAc9sD,GAASO,KAAK1F,OAAOwX,gBAAgBrS,EAC/F,IAAIk8D,IAAiB9gE,oBAAkBkD,EAAKS,gBAAgBmG,WAAa5G,EAAKS,gBAAgBmG,SAAShJ,MACvG,IAAIggE,EAAgB,EAChB,IAAK,GAAI79D,GAAI,EAAGA,EAAI69D,EAAe79D,IAAK,CACpC,GACI89D,GADiBF,EAAUtoC,uBAAuB,uBAClBt1B,EACpCkC,MAAK+xD,+BAA+B6J,EAAgB79D,OAGnD29D,IACL17D,KAAK+xD,+BAA+B2J,EAAW39D,KAI3D+tD,EAAUrrD,UAAU66D,iBAAmB,SAAUx9D,EAAG48D,GAKhD,IAAK,GAJDmB,GAEAC,EACArpD,EAAazS,KAAKouD,aAAa5vD,gBAAgBiU,WAC1CspD,EAAiB,EAAGA,EAAiBtpD,EAAW9W,OAAQogE,IAAkB,CAG/E,IAFAF,EAAoB77D,KAAK2tD,iBAAiBl7C,EAAWspD,KACnC,GAAGzlC,aAAa,aAAc7jB,EAAWspD,GAAgB1jD,MACvE5F,EAAWspD,GAAgB1jD,KAAKvL,QAAQ,MAAQ,GAAK2F,EAAWspD,GAAgB1jD,KAAKvL,QAAQ,MAAQ,EAErGgvD,EAD4B97D,KAAKy5C,iBAAiBhnC,EAAWspD,GAAgB1jD,MAC3Bna,UAASuB,MAAO3B,GAAKkC,KAAKouD,cAAepuD,KAAK1F,OAAQ,0BAEvG,CACD,GAAI4sD,GAAO3vB,gBAAc,OACzB2vB,GAAK7zB,UAAY5gB,EAAWspD,GAAgB1jD,KACxCrY,KAAK1F,OAAOkkD,qBAAoE,gBAArC/rC,GAAWspD,UACtDtpD,EAAWspD,GAAgB1jD,KAAO02C,qBAAmBC,SAASv8C,EAAWspD,GAAgB1jD,OAE7FyjD,EAAwB5U,EAAKtyB,WAEjCinC,EAAkB,GAAGnkC,eAAerpB,MAAM4F,KAAK6nD,GAAuB,IACtED,EAAkB,GAAGphB,MAChB5/C,oBAAkB4X,EAAWspD,GAAgBC,SAAgD,GAArCvpD,EAAWspD,GAAgBC,QACxFtB,EAAa,GAAG9lC,WAAW,GAAGA,WAAW,GAAG8C,eAAerpB,MAAM4F,KAAK4nD,GAAmB,MAGjG/P,EAAUrrD,UAAUw6D,oBAAsB,SAAUd,EAAkBr8D,EAAG68D,EAAsBG,EAAwBmB,GACnH,GAAIj8D,KAAKouD,aAAa5vD,gBAAgBgD,YAAa,CAC/C,GAAI45D,GAAwBp7D,KAAKgzD,iBAAiBl1D,EAAG68D,EACjDS,IAAyBA,EAAsBz/D,OAAS,GACxDi/C,SAAOwgB,EAAuBT,EAAqB,IAEnD36D,KAAK1F,OAAOkY,gBAAkBxS,KAAKouD,aAAa5vD,gBAAgBK,mBAChEmB,KAAKouD,aAAa5vD,gBAAgBI,kBAClCoB,KAAK0sD,yBAA6B1sD,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YAClFlB,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAAiBrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBK,oBACtHhE,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgB1D,YACpDkF,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YACjDlB,KAAKouD,aAAa5vD,gBAAgB1D,UAAUoG,WAC3CrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBI,kBACpD/D,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBzD,UACpDiF,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAC/ClB,KAAKouD,aAAa5vD,gBAAgBzD,QAAQmG,YAClDlB,KAAKouD,aAAa5vD,gBAAgBgD,aACExB,KAAKmzD,sBAAvCnzD,KAAKwzD,4BAEXyI,IAEAA,EAAkB39D,KAAKq8D,EAAqB,IAC5C36D,KAAKouD,aAAe+L,OAGvB,CACD,GAAI+B,GAAgBvhE,EAAgBqF,KAAKouD,aAAa5vD,iBAClD29D,EAAiC,KACjCC,EAA8B,KAC9BC,EAA6B,IACjC,KAAKxhE,oBAAkBqhE,GAAgB,EAC/BA,GAAiBl8D,KAAKouD,aAAa5vD,gBAAgBxD,WAC/CkhE,IAAkBrhE,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBmG,WACnE3E,KAAKouD,aAAa5vD,gBAAgBmG,SAAShJ,QAAU,KACxDwgE,EAAiCn8D,KAAKm4D,8BACtCkE,EAA6Br8D,KAAKi4D,0BAClCmE,EAA8Bp8D,KAAKk4D,2BAG3C,IAAIoE,GAA2Bt8D,KAAKguD,oBAAoBlwD,EAAG68D,EAI3D,IAHI0B,GACA1B,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAKooD,GAA4B,IAE9EC,GAA4BA,EAAyB3gE,OAAS,EAC9D,GAAIqE,KAAKouD,aAAa5vD,gBAAgBmG,UAAY3E,KAAKouD,aAAa5vD,gBAAgBmG,SAAShJ,OAAS,EAAG,CACrG,GAAI4gE,GAAWv8D,KAAKouD,aAAa5vD,gBAAgBmG,SAAShJ,OAEtD6gE,EAAmB,IACvBA,GAAmBx8D,KAAK+tD,qEACxB4M,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAKuoD,GAAkB,GACpE,KAAK,GAAIC,GAAM,EAAGA,EAAMF,EAAUE,IAC9B7hB,SAAO0hB,EAA0B3B,EAAqB,QAI1D/f,UAAO0hB,EAA0B3B,EAAqB,GAG1DwB,IACAxB,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAKkoD,GAAgC,IAElFC,GACAzB,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAKmoD,GAA6B,IAGnFp8D,KAAK1F,OAAOkY,gBAAkBxS,KAAKouD,aAAa5vD,gBAAgBK,mBAChEmB,KAAKouD,aAAa5vD,gBAAgBI,kBAClCoB,KAAK0sD,yBAA6B1sD,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YAClFlB,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAAiBrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBK,oBACtHhE,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgB1D,YACpDkF,KAAKouD,aAAa5vD,gBAAgBK,kBAAkBqC,YACjDlB,KAAKouD,aAAa5vD,gBAAgB1D,UAAUoG,WAC3CrG,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBI,kBACpD/D,oBAAkBmF,KAAKouD,aAAa5vD,gBAAgBzD,UACpDiF,KAAKouD,aAAa5vD,gBAAgBI,gBAAgBsC,YAC/ClB,KAAKouD,aAAa5vD,gBAAgBzD,QAAQmG,YAClDlB,KAAKouD,aAAa5vD,gBAAgBgD,aACExB,KAAKmzD,sBAAvCnzD,KAAKwzD,4BAGfxzD,KAAK1F,OAAOqgB,wBAA2B3a,KAAKouD,aAAa5vD,gBAAgBmC,gBAA2C,gBAAzBX,KAAK1F,OAAOyd,WAAgC/X,KAAKouD,aAAa3xC,kBACzJq+C,EAAyB96D,KAAK84D,oBAE9B6B,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAK6mD,GAAwB,KAEpE96D,KAAK1F,OAAOqgB,wBAClBmgD,EAAyB96D,KAAK84D,oBAE9B6B,EAAqB,GAAGjjC,eAAerpB,MAAM4F,KAAK6mD,GAAwB,KAE1EmB,IAEAA,EAAkB39D,KAAKq8D,EAAqB,IAC5C36D,KAAKouD,aAAe+L,IAG5BrO,EAAUrrD,UAAUi8D,kBAAoB,SAAU3+D,EAAM29D,EAAW95B,GAC/D,GAEI+6B,GAFA1rD,EAAQjR,IAGRjC,GAAKS,gBAAgBmG,UAAY5G,EAAKS,gBAAgBmG,SAAShJ,OAAS,GAAK+/D,GAAaA,EAAUhhE,eACjGghE,EAAUhhE,cAAcA,eAAiBghE,EAAUhhE,cAAcA,cAAcA,gBAClFiiE,EAAoBjB,EAAUhhE,cAAcA,cAAcA,cAE9D,IACIsE,IACAjB,KAAMA,EACN+kC,WAAY44B,EACZ95B,eAAgBA,EAChBg7B,YAAa7+D,EAAK0e,gBAAkB,aAAe1e,EAAKS,gBAAgBgD,YAAc,YAAc,aAEpGq7D,EAAmB78D,KAAK88D,aAAa99D,EACzC,IAAyB,cAArBA,EAAK49D,YACL59D,EAAK+9D,eAAiBn7B,EAAe/7B,cAAcg3D,EAAiB,IAChEG,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,gBAAkB,KAC1Fj+D,EAAKs0D,cAAgBoI,EAAU71D,cAAcg3D,EAAiB,IAC1DG,iBAAiBtB,EAAU71D,cAAcg3D,EAAiB,KAAKI,gBAC9DvB,EAAU71D,cAAc,IAAMq3D,GAAmBF,iBAAiBtB,EAAU71D,cAAc,IAAMq3D,IAAkBD,gBAAkB,SAExI,IAAIr7B,EAAgB,CACrB,GAAIu7B,GAAYv7B,EAAe/7B,cAAcg3D,EAAiB,IAC1DO,EAAex7B,EAAe/7B,cAAcg3D,EAAiB,GACjE79D,GAAKq+D,eAAiBxiE,oBAAkBsiE,GAAa,KAAOv7B,EAAepnC,UAAUC,SAAS00D,GAC1F6N,iBAAiBp7B,GAAgBq7B,gBACjCD,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,gBACxEj+D,EAAKs+D,mBAAqBziE,oBAAkBsiE,GAAa,KAAOv7B,EAAepnC,UAAUC,SAAS00D,GAC9F6N,iBAAiBp7B,GAAgBq7B,gBACjCD,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKU,aACxEv+D,EAAKw+D,mBAAqB3iE,oBAAkBuiE,GAAgB,KACxDx7B,EAAepnC,UAAUC,SzBr9DN,6ByBs9DfuiE,iBAAiBp7B,GAAgBq7B,gBACjCD,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,gBAIxEj+D,EAAKs0D,cADLqJ,EACqBA,EAAkB92D,cAAc,IAAMq3D,GACvDF,iBAAiBL,EAAkB92D,cAAc,IAAMq3D,IAAkBD,gBAAkB,KAG1EvB,EAAU71D,cAAc,IAAMq3D,GAC/CF,iBAAiBtB,EAAU71D,cAAc,IAAMq3D,IAAkBD,gBAAkB,KAE3Fj+D,EAAKy+D,eAAiB77B,EAAe/7B,cAAc,IAAMmqD,GACrDgN,iBAAiBp7B,EAAe/7B,cAAc,IAAMmqD,IAAgB0N,MAAQ,KAEhFf,GACA39D,EAAK2+D,gBAAkBhB,EAAkB92D,cAAc,IAAMkyD,IACxD4E,EAAkB92D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,GACrFyI,iBAAkBL,EAAkB92D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IAAYmJ,MAAQ,KAC9H1+D,EAAK4+D,eAAiBjB,EAAkB92D,cAAc,IAAM6xD,IACvDiF,EAAkB92D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,GACpFyI,iBAAkBL,EAAkB92D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IAAYmJ,MAAQ,OAG7H1+D,EAAK2+D,gBAAkBjC,EAAU71D,cAAc,IAAMkyD,IAChD2D,EAAU71D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,GAC7EyI,iBAAkBtB,EAAU71D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IAAYmJ,MAAQ,KACtH1+D,EAAK4+D,eAAiBlC,EAAU71D,cAAc,IAAM6xD,IAC/CgE,EAAU71D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,GAC5EyI,iBAAkBtB,EAAU71D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IAAYmJ,MAAQ,MAEzH19D,KAAK1F,OAAOgc,QAAQ,mBAAoBtX,EAAM,SAAU6+D,GACpD5sD,EAAM6sD,2BAA2BD,MAhEjC/6B,OAMAi7B,OAoERjS,EAAUrrD,UAAUsxD,+BAAiC,SAAU2J,EAAW39D,GAEtE,IAAIlD,oBAAkB6gE,GAAtB,CAGA,GAAI95B,GACAo8B,EAAcjgE,CAClB,KAAOlD,oBAAkBkD,EAAKS,gBAAgBmG,WAAa5G,EAAKS,gBAAgBmG,SAAShJ,OAAS,EA4C9FimC,EAAiB85B,EACbA,GACA17D,KAAK08D,kBAAkB3+D,EAAM29D,EAAW95B,OA7C5C,IAAI5hC,KAAK1F,OAAO6hC,mBAEZ,IAAK,GADD8hC,GAAkBvC,EAAUr9B,iBAAiB,IAAMyC,GAC9ChjC,EAAI,EAAGA,EAAImgE,EAAgBtiE,OAAQmC,IAAK,CAC7C8jC,EAAiBq8B,EAAgBngE,GACjCkgE,GAAgBjgE,EAAKmhB,UAAYnhB,EAAK0e,gBAAmB1e,EAAKmf,aAAapf,GAAKkgE,CAChF,IAAIzjE,GAA8B,iBAAzByF,KAAK1F,OAAOyd,SACjB6pB,EAAe6B,aAAa,eAAiBu6B,EAAYx/D,gBAAgBkX,OAAOzX,UAWpF,IAVI+/D,EAAYx/D,gBAAgBmG,UAAYq5D,EAAYx/D,gBAAgBmG,SAAShJ,OAAS,GACtFqiE,EAAYx0D,aAAezL,EAAKmhB,WAChC3kB,EAA8B,iBAAzByF,KAAK1F,OAAOyd,SACbha,EAAKS,gBAAgBqb,YAAc9b,EAAKS,gBAAgBkX,OAAOzX,YAEvEy9D,EAAY17D,KAAK1F,OAAO4jE,WAAW3jE,GACnCmhE,EAAYA,GAAyB95B,EAAe/7B,cAAc,0BAC9DhL,oBAAkB6gE,IAAcsC,EAAYx/D,gBAAgBgD,cAC5Dk6D,EAAY95B,GAEZ85B,EAAW,CACX,GAAIyC,GAAkBzC,EAAUr9B,iBAAiB,uBACjD,IAAI8/B,GAAmBA,EAAgBxiE,OAAS,EAK5C,IAAK,GADDyiE,IAFgB1C,EAAU71D,cAAc,0CAA6Cm4D,EAAYx/D,gBAAgBqb,YAAc,OAC/H6hD,GAC+Br9B,iBAAiB,wBAC3CggC,EAAM,EAAGA,EAAMD,EAAeziE,OAAQ0iE,IAC3Cz8B,EAAiBw8B,EAAeC,GAChCr+D,KAAK08D,kBAAkBsB,EAAaI,EAAeC,GAAMz8B,OAI7D5hC,MAAK08D,kBAAkBsB,EAAatC,EAAW95B,QAK1D,CACD,GAAI08B,GAAmB5C,EAAU71D,cAAc,IAAMi7B,EACjD46B,IACA17D,KAAK08D,kBAAkBsB,EAAatC,EAAW4C,MAqB/DxS,EAAUrrD,UAAUq9D,2BAA6B,SAAU9+D,EAAM8jC,EAAYy7B,GACzE,GAGI5B,GAHAjB,EAAY18D,EAAK8jC,WACjBlB,EAAiB5hC,KAAK1F,OAAOgd,qBAAuBtY,EAAK8jC,WAAa9jC,EAAK4iC,eAC3Ei7B,EAAmB78D,KAAK88D,aAAa99D,EAErCA,GAAKjB,KAAKS,gBAAgBmG,UAAY3F,EAAKjB,KAAKS,gBAAgBmG,SAAShJ,OAAS,IAClFghE,EAAoBjB,EAAUhhE,cAAcA,cAAcA,eAErC,cAArBsE,EAAK49D,aACDh7B,EAAe/7B,cAAcg3D,EAAiB,KAC9CG,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,kBAAoBj+D,EAAK+9D,iBAC7Fn7B,EAAe/7B,cAAcg3D,EAAiB,IAAIlpC,MAAMspC,gBAAkBj+D,EAAK+9D,gBAE/ErB,EAAU71D,cAAcg3D,EAAiB,KACzCG,iBAAiBtB,EAAU71D,cAAcg3D,EAAiB,KAAKI,kBAAoBj+D,EAAKs0D,gBACxFoI,EAAU71D,cAAcg3D,EAAiB,IAAIlpC,MAAMspC,gBAAkBj+D,EAAKs0D,eAE1EoI,EAAU71D,cAAc,IAAMq3D,IAC9BF,iBAAiBtB,EAAU71D,cAAc,IAAMq3D,IAAkBsB,iBAAmBx/D,EAAKs0D,gBACzFoI,EAAU71D,cAAc,IAAMq3D,GAAiBvpC,MAAMspC,gBAAkBj+D,EAAKs0D,gBAG3E1xB,IACDA,EAAe/7B,cAAcg3D,EAAiB,KAC9CG,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,kBAAoBj+D,EAAKq+D,iBAC7Fz7B,EAAe/7B,cAAcg3D,EAAiB,IAAIlpC,MAAMspC,gBAAkBj+D,EAAKq+D,gBAE/Ez7B,EAAe/7B,cAAcg3D,EAAiB,KAC9CG,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKU,eAAiBv+D,EAAKs+D,qBAC1F17B,EAAe/7B,cAAcg3D,EAAiB,IAAIlpC,MAAM4pC,aAAev+D,EAAKs+D,oBAE5E17B,EAAe/7B,cAAcg3D,EAAiB,KAC9CG,iBAAiBp7B,EAAe/7B,cAAcg3D,EAAiB,KAAKI,kBAAoBj+D,EAAKw+D,qBAC7F57B,EAAe/7B,cAAcg3D,EAAiB,IAAIlpC,MAAMspC,gBAAkBj+D,EAAKw+D,oBAE/E57B,EAAepnC,UAAUC,SAAS00D,IAClC6N,iBAAiBp7B,GAAgBq7B,kBAAoBj+D,EAAKq+D,iBAC1Dz7B,EAAejO,MAAMspC,gBAAkBj+D,EAAKq+D,gBAE5Cz7B,EAAepnC,UAAUC,SAAS00D,IAClC6N,iBAAiBp7B,GAAgB27B,eAAiBv+D,EAAKs+D,qBACvD17B,EAAejO,MAAM4pC,aAAev+D,EAAKs+D,oBAEzC17B,EAAepnC,UAAUC,SzB9mEN,8ByB+mEnBuiE,iBAAiBp7B,GAAgBq7B,kBAAoBj+D,EAAKw+D,qBAC1D57B,EAAejO,MAAMspC,gBAAkBj+D,EAAKw+D,oBAM5C57B,EAAe/7B,cAAc,IAAMmqD,IACnCgN,iBAAiBp7B,EAAe/7B,cAAc,IAAMmqD,IAAgB0N,QAAU1+D,EAAKy+D,iBACnF77B,EAAe/7B,cAAc,IAAMmqD,GAAer8B,MAAM+pC,MAAQ1+D,EAAKy+D,gBAErEd,EACIA,EAAkB92D,cAAc,IAAMq3D,IACtCF,iBAAiBL,EAAkB92D,cAAc,IAAMq3D,IAAkBD,kBAAoBj+D,EAAKs0D,gBAClGqJ,EAAkB92D,cAAc,IAAMq3D,GAAiBvpC,MAAMspC,gBAAkBj+D,EAAKs0D,eAIpFoI,EAAU71D,cAAc,IAAMq3D,IAC9BF,iBAAiBtB,EAAU71D,cAAc,IAAMq3D,IAAkBD,kBAAoBj+D,EAAKs0D,gBAC1FoI,EAAU71D,cAAc,IAAMq3D,GAAiBvpC,MAAMspC,gBAAkBj+D,EAAKs0D,gBAIpFqJ,GACIA,EAAkB92D,cAAc,IAAM6xD,IACrCiF,EAAkB92D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IACpFyI,iBAAkBL,EAAkB92D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IAAYmJ,QAAU1+D,EAAK4+D,iBAC/HjB,EAAkB92D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,GAAW5gC,MAAM+pC,MAAQ1+D,EAAK4+D,gBAElHjB,EAAkB92D,cAAc,IAAMkyD,IACrC4E,EAAkB92D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IACrFyI,iBAAkBL,EAAkB92D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IAAYmJ,QAAU1+D,EAAK2+D,kBAChIhB,EAAkB92D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,GAAW5gC,MAAM+pC,MAAQ1+D,EAAK2+D,mBAInHjC,EAAU71D,cAAc,IAAM6xD,IAC7BgE,EAAU71D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IAC5EyI,iBAAkBtB,EAAU71D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,IAAYmJ,QAAU1+D,EAAK4+D,iBACvHlC,EAAU71D,cAAc,IAAM6xD,GAAyB7xD,cAAc,IAAM0uD,GAAW5gC,MAAM+pC,MAAQ1+D,EAAK4+D,gBAE1GlC,EAAU71D,cAAc,IAAMkyD,IAC7B2D,EAAU71D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IAC7EyI,iBAAkBtB,EAAU71D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,IAAYmJ,QAAU1+D,EAAK2+D,kBACxHjC,EAAU71D,cAAc,IAAMkyD,GAA0BlyD,cAAc,IAAM0uD,GAAW5gC,MAAM+pC,MAAQ1+D,EAAK2+D,mBAIvH7R,EAAUrrD,UAAUq8D,aAAe,SAAU99D,GACzC,GAAIy/D,KAKJ,OAJAA,GAAgBngE,KAAK,KAA4B,eAArBU,EAAK49D,YzBzpET,yByB0pE0B,cAArB59D,EAAK49D,YAA8BzN,EzBtqE5C,sByBuqEpBsP,EAAgBngE,KAAK,KAA4B,eAArBU,EAAK49D,YzB1pEL,6ByB2pE0B,cAArB59D,EAAK49D,YzBrqEX,4BAlBK,yCyBwrEzB6B,GASX3S,EAAUrrD,UAAUg5C,iBAAmB,SAAUF,GAC7C,IAAK1+C,oBAAkB0+C,IAA0B,KAAbA,EAChC,IACI,MAAwB,kBAAbA,IAA2BvhB,SAASqG,iBAAiBkb,GAAU59C,OAC/D+iE,UAAQ1mC,SAASnyB,cAAc0zC,GAAUlmB,UAAU1mB,OAAQ3M,KAAK1F,QAGhEokE,UAAQnlB,EAAUv5C,KAAK1F,QAGtC,MAAO8b,GACH,MAAOsoD,WAAQnlB,EAAUv5C,KAAK1F,QAGtC,MAAO,OAGXwxD,EAAUrrD,UAAUg6D,iBAAmB,WACnC,IAAK,GAAIv4C,GAAI,EAAGA,EAAIliB,KAAK1F,OAAO4H,SAAS+S,WAAWtZ,OAAQumB,IAExD,IAAK,GADDhF,GAAeld,KAAK1F,OAAO4H,SAAS+S,WAAWiN,GAAGhF,aAC7Cpf,EAAI,EAAGA,EAAIof,EAAavhB,OAAQmC,IAAK,CACtCof,EAAapf,EAAI,KACjBof,EAAapf,GAAGU,gBAAgBmgE,gBAAch3D,GAElD,KAAK,GAAI8D,GAAI3N,EAAI,EAAG2N,EAAIyR,EAAavhB,OAAQ8P,IACzCyR,EAAazR,GAAGjN,gBAAgBmgE,gBAAch3D,GAC1CuV,EAAapf,GAAGU,gBAAgB1D,UAAUoG,UAC1Cgc,EAAazR,GAAGjN,gBAAgBzD,QAAQmG,WACxCgc,EAAapf,GAAGU,gBAAgBzD,QAAQmG,UACpCgc,EAAazR,GAAGjN,gBAAgB1D,UAAUoG,WAC9Cgc,EAAazR,GAAGjN,gBAAgBmgE,aAAc,EAC9CzhD,EAAapf,GAAGU,gBAAgBmgE,aAAc,IAG1C9jE,oBAAkBqiB,EAAazR,GAAGjN,gBAAgBmgE,eAClDzhD,EAAazR,GAAGjN,gBAAgBmgE,aAAc,GAE9C9jE,oBAAkBqiB,EAAapf,GAAGU,gBAAgBmgE,eAClDzhD,EAAapf,GAAGU,gBAAgBmgE,aAAc,MAQtE7S,EAAUrrD,UAAU2jD,sBAAwB,SAAUrmD,EAAM22B,GACxD,GAAIxX,GAAenf,EAAKmf,aACpBgf,EAAWl8B,KAAK1F,OAAOwX,gBAAgBhF,QAAQ/O,GAC/CwnC,EAAwBvlC,KAAK1F,OAAO24B,UACpCjzB,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACxFp1B,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,YACvFV,KACDA,EAAK10B,KAAK20B,oBAAoBC,WAAWsH,IAEzCl8B,KAAK1F,OAAOmqB,iBAAiBqQ,aAAe90B,KAAK1F,OAAOmqB,iBAAiBsQ,cACzEL,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAAS8yB,cAAckH,GAAiB,MAAEjH,OAASj1B,KAAK1F,OAAO8mB,UAAY,KAG5GsT,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAASgzB,UAAUgH,GAAiB,MAAEjH,OAASj1B,KAAK1F,OAAO8mB,UAAY,KAE5GphB,KAAK1F,OAAO66B,cAAgBoQ,CAC5B,IAAIq5B,MACAC,EAAY,CAChB,IAAI9gE,EAAM,CACN,IAAK,GAAID,GAAI,EAAGA,EAAIof,EAAavhB,OAAQmC,IACrC,IAAK,GAAI2N,GAAI3N,EAAI,EAAG2N,EAAIyR,EAAavhB,OAAQ8P,IAEzC,IAAK,GADDmsD,GAAmBljC,EAAGtB,uBAAuB,4BACxClR,EAAI,EAAGA,EAAI01C,EAAiBj8D,OAAQumB,IAAK,CAC9C,GAAI48C,GAAuC,iBAAzB9+D,KAAK1F,OAAOyd,SAA8BmF,EAAazR,GAAgB,YAAIyR,EAAazR,GAAGjN,gBAAgBqb,WACzHqD,GAAapf,GAAGU,gBAAgB1D,UAAUoG,UAC1Cgc,EAAazR,GAAGjN,gBAAgBzD,QAAQmG,WACxCgc,EAAapf,GAAGU,gBAAgBzD,QAAQmG,UACpCgc,EAAazR,GAAGjN,gBAAgB1D,UAAUoG,UAC1C02D,EAAiB11C,GAAGuhB,aAAa,iBAAmBq7B,IACnB,IAAjCF,EAAO9xD,QAAQgyD,KACfF,EAAOtgE,KAAKwgE,GACZD,IACAnqC,EAAGU,SAAS,GAAU,MAAE2pC,cAAgB,WACxCrqC,EAAGtB,uBAAuB,4BAA4BlR,GAAU,MAAEm2C,UAC7DwG,EAAY7+D,KAAK1F,OAAO8mB,UAAaphB,KAAKq0D,iBAAmB,KAC9Dr0D,KAAK1F,OAAOmqB,iBAAiBqQ,aAAe90B,KAAK1F,OAAOmqB,iBAAiBsQ,cACzEL,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAAS8yB,cAAckH,GAAiB,MAAEjH,OAASj3B,SAAS02B,EAAU,MAAEO,OAAQ,IAAMj1B,KAAK1F,OAAO8mB,UAAY,KAG/IsT,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAASgzB,UAAUgH,GAAiB,MAAEjH,OAASj3B,SAAS02B,EAAU,MAAEO,OAAQ,IAAMj1B,KAAK1F,OAAO8mB,UAAY,MAK/Iw2C,EAAiB11C,GAAGuhB,aAAa,iBAAmBq7B,IACnB,IAAjCF,EAAO9xD,QAAQgyD,IAAuB9+D,KAAK1F,OAAO0kE,sBAClDh/D,KAAK1F,OAAO0kE,qBAAoC,eAAKpH,EAAiB11C,GAAGuhB,aAAa,iBACtFzjC,KAAK1F,OAAO0kE,qBAAoC,cAAe,aAAKh/D,KAAK1F,OAAO0kE,qBAAoC,cAAe,cACnI9hD,EAAazR,GAAgB,cAC7BipB,EAAGtB,uBAAuB,4BAA4BlR,GAAU,MAAEm2C,UAC9Dr4D,KAAK1F,OAAO0I,WAAWC,kBAAkBg8D,wBAMjEj/D,KAAK1F,OAAO66B,cAAgBoQ,EAC5BvN,SAAS5E,uBAAuB,0BAA0B,GAAU,MAAE6B,OAASj1B,KAAK1F,OAAO66B,cAAgB,OAYnH22B,EAAUrrD,UAAUy+D,WAAa,SAAUz/D,EAAO0/D,EAAiBC,GAC/D,GAEIC,GAFApuD,EAAQjR,KACR00B,EAAK10B,KAAK20B,oBAAoBC,WAAWn1B,EAQ7C,IALI4/D,EADAD,EACep/D,KAAK1F,OAAOs2D,iBAAiBnxD,GAG7BO,KAAK1F,OAAOwX,gBAAgBrS,IAEhC,IAAXA,GAAgB4/D,EAAc,CAC9B,GAAI34C,GAAS24C,CASb,KARKr/D,KAAK1F,OAAOk6B,qBAAuB9N,EAAOxH,WACvClf,KAAK1F,OAAOmqB,iBAAiBqQ,aAAe90B,KAAK1F,OAAOmqB,iBAAiBsQ,cACzEL,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAAS8yB,cAAcv1B,GAAc,MAAEw1B,OAASj1B,KAAK1F,OAAO8mB,UAAY,KAGzGsT,EAAU,MAAEO,OAASj1B,KAAK1F,OAAO4H,SAASgzB,UAAUz1B,GAAc,MAAEw1B,OAASj1B,KAAK1F,OAAO8mB,UAAY,MAGzGsF,EAAOjK,kBAAoBiK,EAAOxH,UAAYlf,KAAK1F,OAAO6hC,mBAC1DzH,EAAG4qC,aAAat/D,KAAKi6D,iBAAiBx6D,EAAOinB,GAAQkO,WAAW,GAAIF,EAAGE,WAAW,IAC9E50B,KAAK1F,OAAOkY,gBACZkU,EAAOxJ,aAAa5K,QAAQ,SAAUoc,GAC7B7zB,oBAAkB6zB,EAAYlwB,gBAAgBK,mBAC/C6vB,EAAYlwB,gBAAgBI,kBAC5B81B,EAAGE,WAAW,GAAG8C,YAAazmB,EAAMsiD,uBAAuB7kC,GAAc,UAMrF,IAAI1uB,KAAK1F,OAAO2kC,0BAA4BvY,EAAOxH,SAC/CwV,EAAG6qC,YAAYv/D,KAAKi6D,iBAAiBx6D,EAAOinB,QAI5C,IADAgO,EAAG4qC,aAAat/D,KAAKi6D,iBAAiBx6D,EAAOinB,GAAQkO,WAAW,GAAIF,EAAGE,WAAW,IAC9E50B,KAAK1F,OAAO6hC,oBAAsBzV,EAAOld,WAAY,CACrD,GAAImN,GAAW+P,EAAOld,WAAWkM,OAC7BT,EAAajV,KAAK1F,OAAO4gC,cAAcvkB,EAC3C,KAAK1B,EAAWiK,SAAU,CACtB,GAAIi2B,GAAWn1C,KAAK1F,OAAO4jE,WAAWvnD,EACtCw+B,GAASmqB,aAAat/D,KAAKi6D,iBAAiBzxD,OAAOmO,GAAW1B,GAAY2f,WAAW,GAAIugB,EAASvgB,WAAW,KAM7H,GADA50B,KAAK1F,OAAO6kD,kBACRn/C,KAAK1F,OAAOm6B,oBACZz0B,KAAK1F,OAAOk6B,sBACX9N,EAAOjK,iBAAoBiK,EAAOld,YAAcxJ,KAAK1F,OAAOu3D,cAAc2N,MAAM,SAAUjhE,GACvF,MAAOA,GAAOC,gBAAgBkX,OAAOzX,aAAeyoB,EAAOld,WAAWkM,OAAOzX,cAEjF,GAAIkhE,EACAn/D,KAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,qBAE7D,CACD,GAAI2tD,GAAa/4C,EAAOjK,gBAAkBiK,EAAS1mB,KAAK1F,OAAO4gC,cAAcxU,EAAOld,WAAWkM,OAC/F1V,MAAK1F,OAAO+J,cAAcukB,wBAAwB62C,GAClDz/D,KAAK1F,OAAOmqB,iBAAiBiV,sBAAsB+lC,IAG3D,GAAI9D,IAAiB9gE,oBAAkB6rB,EAAOloB,gBAAgBmG,WAAa+hB,EAAOloB,gBAAgBmG,SAAShJ,MAC3G,IAAIggE,EAAgB,EAChB,IAAK,GAAI79D,GAAI,EAAGA,EAAI69D,EAAe79D,IAAK,CACpC,GACI89D,GADiBlnC,EAAGtB,uBAAuB,uBACXt1B,EACpCkC,MAAK+xD,+BAA+B6J,EAAgBl1C,OAKxD,IADA1mB,KAAK+xD,+BAA+Br9B,EAAIhO,GACpC1mB,KAAK1F,OAAO6hC,oBAAsBzV,EAAOld,YAAcxJ,KAAK1F,OAAOmhE,mBACjEz7D,KAAK1F,OAAOoP,cAAcgd,EAAOld,YAAqB,SAAE,CAE1D,GAAIk2D,GAAch5C,EAAOld,WAAW/J,MAChCgK,MAAa,EAEbA,GADA21D,EACap/D,KAAK1F,OAAOs2D,iBAAiB8O,GAG7B1/D,KAAK1F,OAAOwX,gBAAgB4tD,GAG7C1/D,KAAK+xD,+BAA+B/xD,KAAK20B,oBAAoB0J,iBAAiB,MAAMqhC,GAAcj2D,GAG1G,GAAIk2D,GAAkC,gBAAzB3/D,KAAK1F,OAAOyd,SAA6B2O,EAAOloB,gBAAgBkX,OAASgR,EAAOloB,gBAAgBqb,WACxG7Z,MAAK1F,OAAOmqB,iBAAiBqQ,aAAgB90B,KAAK1F,OAAOmqB,iBAAiBsQ,eAC3E/0B,KAAK1F,OAAO4H,SAASqvB,KAAKquC,WAAWD,EAAQj5C,GAE7CA,EAAOjK,kBAAoBiK,EAAOxH,UAAYlf,KAAK1F,OAAO6hC,qBAAuBn8B,KAAK1F,OAAOk6B,qBAC7Fx0B,KAAKokD,sBAAsBib,EAAc3qC,GAEzChO,EAAOjK,iBAAmBzc,KAAK1F,OAAOm6B,qBAAuBz0B,KAAK1F,OAAOk6B,sBACzEx0B,KAAK1F,OAAO+J,cAAcukB,wBAAwBlC,GAClD1mB,KAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,iBAElE,IAAI+tD,GAAsB7/D,KAAK1F,OAAOmqB,iBAAiB0jB,eACnDnoC,MAAK1F,OAAOmqB,iBAAiB6jB,mBAAqBu3B,IAClD7/D,KAAK1F,OAAO4H,SAASqvB,KAAKoW,YAAYuC,QACtC1L,YAAUx+B,KAAK1F,OAAO4H,SAASgzB,UAAUl3B,SAAS02B,EAAG+O,aAAa,iBAAkB,IAAM,GAAGrO,SAASp1B,KAAK1F,OAAOmqB,iBAAiB2jB,gBAAiB,aACpJpoC,KAAK1F,OAAOmqB,iBAAiB0jB,gBAAkB,KAEnD,IAAIlH,GAAMjhC,KAAK1F,OAAO4H,SAASqvB,KAAKuuC,oBAAoB9/D,KAAK1F,OAAO4H,SAASqvB,KAAKwuC,cAActgE,GAAOgkC,aAAa,YAC/G5oC,qBAAkBomC,KACnBA,EAAIljC,KAAO2oB,KAIvBolC,EAAUrrD,UAAUu/D,6BAA+B,SAAUhG,EAAM7kB,GAC/D,GAAI8qB,GAAejG,EAAKn0D,cAAc,4BACT,iBAAzB7F,KAAK1F,OAAOyd,UAA8BiiD,EAAKn0D,cAAc,wBAC7Do6D,EAAejG,EAAKn0D,cAAc,uBAEW,OAA7Cm0D,EAAKn0D,cAAc,uBACnB24B,YAAUyhC,GAAe,wBAE7B,IAAI1lE,GAAKy/D,EAAKn0D,cAAc,IAAMi7B,GAA0B2C,aAAa,eACrEz/B,EAAYhE,KAAK1F,OAAO4gC,cAAc3gC,EAC1C,KAAMM,oBAAkBmJ,IAAeA,EAAUxF,gBAAgBmG,UAAYX,EAAUxF,gBAAgBmG,SAAShJ,OAAS,EAErH,IAAK,GADDyiE,GAAiB6B,EAAa7sC,uBAAuB,uBAChDt1B,EAAI,EAAGA,EAAIsgE,EAAeziE,OAAQmC,IACvCkC,KAAK+xD,+BAA+BqM,EAAetgE,GAAIkG,OAG1D,IAAIhE,KAAK1F,OAAOmhE,iBAAkB,CACnC,GAAIyE,GAAeD,EAAap6D,cAAc,yBACzChL,qBAAkBqlE,IACnBlgE,KAAK+xD,+BAA+BmO,EAAal8D,GAGzD,GAAIm8D,GAAS,EACTn8D,KAAcnJ,oBAAkBmJ,EAAUxF,gBAAgBqrB,iBAC1Ds2C,EAAUn8D,EAAUxF,8BAA+BP,WAEvD,IAAImiE,GAAoBH,EAAaI,WAAU,EAC/CD,GAAkBzsC,MAAMwsC,OAASA,EACjChrB,EAAS,GAAGvgB,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG8C,YAAY0oC,IAWtEtU,EAAUrrD,UAAUokC,eAAiB,SAAU9tB,EAAOooD,EAAiBC,GACnE,GAAIp/D,KAAK1F,OAAOozD,qBAAsB,CAElC,GADA1tD,KAAK1F,OAAO6kD,kBACRn/C,KAAK1F,OAAO6hC,mBAAoB,CAIhCplB,EAFgB,GAAI5b,eAAY4b,GAAON,cAAa,GAAIV,UACnDoU,OAAO,WAAY,eAG5B,IAAK,GAAIrsB,GAAI,EAAGA,EAAIiZ,EAAMpb,OAAQmC,IAAK,CACnC,GAAI2B,OAAQ,EAERA,GADA2/D,EACQp/D,KAAK1F,OAAOya,IAAIjI,QAAQiK,EAAMjZ,GAAGU,gBAAgBkX,OAAOzX,YAGxD+B,KAAK1F,OAAOwX,gBAAgBhF,QAAQiK,EAAMjZ,IAEjDkC,KAAK1F,OAAO6hC,sBACZn8B,KAAK1F,OAAO6hC,qBAAuBplB,EAAMjZ,GAAGohB,UAAalf,KAAK1F,OAAO0G,SACtEhB,KAAKk/D,WAAWz/D,EAAO0/D,EAAiBC,GAGhDp/D,KAAK1F,OAAOmqB,iBAAiBmZ,6BAGrCkuB,EAAUrrD,UAAUg+B,oBAAsB,WACtC,GAAIxtB,GAAQjR,IACRA,MAAK1F,OAAOokC,cAGf1+B,KAAK20B,+BAAgCriB,QAAQ,SAAUoiB,GAChDA,YAAc4lC,WACd5lC,EAAG+J,oBAAoB,YAAaxtB,EAAM07C,iBAC1Cj4B,EAAG+J,oBAAoB,WAAYxtB,EAAM27C,mBAGjD5sD,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAK8sD,kBACrC9sD,KAAK1F,OAAOs3B,IAAI,YAAa5xB,KAAK+sD,mBAClC/sD,KAAK1F,OAAOs3B,IAAI,UAAW5xB,KAAKm3B,WAEpC20B,EAAUrrD,UAAU02B,QAAU,WAC1Bn3B,KAAKy+B,uBAETqtB,EAAUrrD,UAAUm6D,kBAAoB,SAAU78D,GAC9CA,EAAOiC,KAAKouD,YACZ,IAAIkS,GAAe,GACfC,EAAevgE,KAAK1F,OAAOoW,UAAUC,YAAY,QACjD6vD,EAAoBxgE,KAAK1F,OAAOoW,UAAUC,YAAY,aACtD8vD,EAAkBzgE,KAAK1F,OAAOoW,UAAUC,YAAY,WACpD+vD,EAAmB1gE,KAAK1F,OAAOoW,UAAUC,YAAY,YACrDgwD,EAAc5iE,EAAKS,gBAAgByoB,SACnC25C,EAAe7iE,EAAKS,gBAAgB1D,UACpC+lE,EAAa9iE,EAAKS,gBAAgBzD,QAClC+lE,EAAc/iE,EAAKS,gBAAgBxD,QAoBvC,OAnBI+C,GAAKS,gBAAgBgD,YACrB8+D,EAAeC,EAAe,IAAMI,EAAc,IAAMH,EAAoB,IACtExgE,KAAK1F,OAAOsN,gBAAgBg5D,IAG9BD,IACAL,GAAgBC,EAAe,IAAMI,EAAc,KAEnDC,IACAN,GAAgBE,EAAoB,IAAMxgE,KAAK1F,OAAOsN,gBAAgBg5D,GAAgB,KAEtFC,IACAP,GAAgBG,EAAkB,IAAMzgE,KAAK1F,OAAOsN,gBAAgBi5D,GAAc,KAElFC,IACAR,GAAgBI,EAAmB,IAC7B1gE,KAAK1F,OAAOiW,kBAAkBuwD,EAAa/iE,EAAKS,gBAAgB2F,gBAGvEm8D,GAEXxU,EAAUrrD,UAAUsgE,0BAA4B,SAAUhjE,GACtDA,EAAOiC,KAAKouD,YACZ,IAAIkS,GAAe,GACfC,EAAevgE,KAAK1F,OAAOoW,UAAUC,YAAY,QACjD6vD,EAAoBxgE,KAAK1F,OAAOoW,UAAUC,YAAY,aACtD8vD,EAAkBzgE,KAAK1F,OAAOoW,UAAUC,YAAY,WACpDgwD,EAAc5iE,EAAKS,gBAAgByoB,SACnC25C,EAAe7iE,EAAKS,gBAAgBK,kBACpCgiE,EAAa9iE,EAAKS,gBAAgBI,eAKtC,OAJA0hE,IAAgB,YAChBA,GAAgBC,EAAe,IAAMI,EAAc,IACnDL,GAAgBE,EAAoB,IAAMxgE,KAAK1F,OAAOsN,gBAAgBg5D,GAAgB,IACtFN,GAAgBG,EAAkB,IAAMzgE,KAAK1F,OAAOsN,gBAAgBi5D,GAAc,KAGtF/U,EAAUrrD,UAAUovD,2BAA6B,SAAU9xD,EAAMnD,GAC7D,GAAI0lE,GAAe,GACfE,EAAoBxgE,KAAK1F,OAAOoW,UAAUC,YAAY,aACtD8vD,EAAkBzgE,KAAK1F,OAAOoW,UAAUC,YAAY,WACpD+vD,EAAmB1gE,KAAK1F,OAAOoW,UAAUC,YAAY,YACrDiwD,EAAe7iE,EAAKjD,UACpB+lE,EAAa9iE,EAAKhD,QAClB+lE,EAAc/iE,EAAK/C,QAWvB,OAVI4lE,KACAN,GAAgBE,EAAoB,IAAMxgE,KAAK1F,OAAOsN,gBAAgBg5D,GAAgB,KAEtFC,IACAP,GAAgBG,EAAkB,IAAMzgE,KAAK1F,OAAOsN,gBAAgBi5D,GAAc,KAElFC,IACAR,GAAgBI,EAAmB,IAC7B1gE,KAAK1F,OAAOiW,kBAAkBuwD,EAAalmE,EAAUuJ,eAExDm8D,GAEXxU,EAAUrrD,UAAUozD,2BAA6B,SAAUzjD,GACvD,GAAIkgB,GAAQ,EASZ,OARa,SAATlgB,GAAmBpQ,KAAK1F,OAAO8uC,cAAcE,YAActpC,KAAK+zD,8BAChEzjC,GAAStwB,KAAK1F,OAAOoW,UAAUC,YAAY,iBACvC,IAAM3Q,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcE,WAExC,UAATl5B,GAAoBpQ,KAAK1F,OAAO8uC,cAAcC,aAAerpC,KAAK20D,iCACvErkC,GAAStwB,KAAK1F,OAAOoW,UAAUC,YAAY,kBACvC,IAAM3Q,KAAK8uD,aAAa9uD,KAAK1F,OAAO8uC,cAAcC,aAEnD/Y,GAEJw7B,GACT/rD,GCjnFEihE,GAA4B,WAC5B,QAASA,GAAWC,GAChBjhE,KAAKo8B,gBACLp8B,KAAKkhE,aACLlhE,KAAKmhE,sBACLnhE,KAAKohE,sBACLphE,KAAKqhE,QAAU,KACfrhE,KAAKshE,0BACLthE,KAAK1F,OAAS2mE,EACdjhE,KAAKuhE,mBAAqBvhE,KAAK1F,OAAOoE,qBAg5C1C,MAx4CAsiE,GAAWvgE,UAAU6Y,4BAA8B,WAE/C,IAAK,GAAI/d,GAAK,EAAGimE,EADMxhE,KAAK1F,OAAO0a,uBACqBzZ,EAAKimE,EAAmB7lE,OAAQJ,IAAM,CAC1F,GAAIyI,GAAYw9D,EAAmBjmE,KAC7ByI,EAAUyY,kBAAoBzc,KAAK1F,OAAOqgB,uBAA0B3a,KAAK1F,OAAOqgB,wBAClF3a,KAAKyhE,kCAAkCz9D,EAAWA,EAAUxF,mBAWxEwiE,EAAWvgE,UAAUghE,kCAAoC,SAAUz9D,EAAWpJ,GAC1E,GAAI8mE,GAAiB9mE,EAAUyhB,gBAC/B,KAAIqlD,GAA6C,gBAAnBA,IAAyD,gBAAnBA,IAG/D,GAAIA,GAA4C,gBAAnBA,IAA+BA,EAAe/lE,OAAQ,CAEpF,IAAK,GADDgmE,MACK5X,EAAI,EAAGA,EAAI2X,EAAe/lE,OAAQouD,IAAK,CAC5C,GAAI6X,GAAkBF,EAAe3X,GACjC8X,IACJA,GAAS9/D,KAAOrC,WAAS,OAAQkiE,GAAmBliE,WAAS,OAAQkiE,GAAmBF,EAAe3X,GACvG8X,EAAS//D,GAAKpC,WAAS,KAAMkiE,GAAmBliE,WAAS,KAAMkiE,GAAmBhnE,EAAUif,YAC5FgoD,EAASzxD,KAAO1Q,WAAS,OAAQkiE,GAAmBliE,WAAS,OAAQkiE,GAAmB,IACxF,IAAIE,GAAcpiE,WAAS,SAAUkiE,EACrC,IAAI/mE,oBAAkBinE,GAClBD,EAAS7yD,OAAS,EAClB6yD,EAASE,WAAa/hE,KAAK1F,OAAO6J,aAAa4D,wBAE9C,IAA2B,gBAAhB+5D,GAA0B,CACtC,GAAIE,GAAkBhiE,KAAKiiE,sBAAsBviE,WAAS,SAAUkiE,GACpEC,GAAS7yD,OAASgzD,EAAgBhnE,SAClC6mE,EAASE,WAAaC,EAAgB79D,iBAGtC09D,GAAS7yD,OAASnH,WAAWi6D,EAAY7jE,YACzC4jE,EAASE,WAAa/hE,KAAK1F,OAAO6J,aAAa4D,mBAEjC/H,MAAKkiE,cAAcL,EAAS9/D,KAAK9D,aAE/C0jE,EAAUrjE,KAAKujE,GAGvB7hE,KAAK1F,OAAO8J,eAAe,cAAeu9D,EAAW/mE,GAAW,QA7BhEoF,MAAK1F,OAAO8J,eAAe,cAAepE,KAAKmiE,qBAAqBT,EAAgB19D,GAAYpJ,GAAW,EA+B/GoF,MAAK1F,OAAO8J,eAAe,mBAAoBpE,KAAKoiE,0BAA0Bp+D,GAAYpJ,GAAW,GACrGoF,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAYxe,EAAUyhB,iBAAkBrY,GACxGhE,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAYxe,EAAUyhB,iBAAkBrY,IAS9Fg9D,EAAWvgE,UAAU4hE,4BAA8B,SAAUtkE,GAIzD,IAAK,GAHDwU,GAAOvS,KAAK1F,OAAOmE,WACnB6jE,EAAWznE,oBAAkBkD,EAAKwU,EAAK6G,gBACvCrb,EAAKwU,EAAK6G,YAAYnb,WAAW0K,MAAM,KAClC7K,EAAI,EAAGA,EAAIwkE,EAAQ3mE,OAAQmC,IAAK,CACrC,GAAIykE,GAASvkE,SAASskE,EAAQxkE,GAAI,GAClC,KAAKuR,MAAMkzD,GAAS,CAChB,GAAIC,GAAWxiE,KAAK1F,OAAOm5B,oBAAoByH,cAAcqnC,EAAOtkE,YAChEM,EAAU1D,oBAAkB2nE,GACc,KAA1CtkE,eAAeskE,EAASrkE,UAAU,EACtC,KAAKtD,oBAAkB0D,IAAW1D,oBAAkB0D,EAAOgU,EAAKzX,aACzDD,oBAAkB0D,EAAOgU,EAAKvX,YAAcH,oBAAkB0D,EAAOgU,EAAKxX,UAAW,CACxFwD,EAAOgU,EAAKvX,UAAY,CACxB,IAAIF,OAAY,EAEhB,IADiB0nE,EAASh5D,WACV,CAEZ,IADA,GAAIC,GAAazJ,KAAK1F,OAAOoP,cAAc84D,EAASh5D,YAC7CC,IAAeA,EAAWjL,gBAAgB1D,WAC7C2O,EAAazJ,KAAK1F,OAAOoP,cAAcD,EAAWD,WAEtD1O,GAAY2O,EAAaA,EAAWjL,gBAAgB1D,UAAYkF,KAAK1F,OAAOuO,0BAG5E/N,GAAYkF,KAAK1F,OAAOuO,qBAE5BtK,GAAOgU,EAAKzX,WAAaA,EACzBkF,KAAK1F,OAAOmoE,iBAAiBlkE,OAU7CyiE,EAAWvgE,UAAUyhE,cAAgB,SAAUQ,GAC3C,GAAIC,IAAY,CAKhB,OAJW3iE,MAAK1F,OAAOm5B,oBAAoByH,cAAcwnC,GAChDjmD,kBACLkmD,GAAY,GAETA,GAGX3B,EAAWvgE,UAAU47B,cAAgB,SAAUlN,GAC3C,GAAI5N,GAAY4N,CAChB,OAAIA,GAAI3lB,aACJ+X,EAAYvhB,KAAK1F,OAAOyO,SAAS4Q,OAAO,SAAUjH,GAC9C,MAAOA,GAAKpJ,WAAa6lB,EAAIyzC,iBAC9B,IACWp5D,aACV+X,EAAYvhB,KAAKq8B,cAAc9a,IAE5BA,GAEJA,GAGXy/C,EAAWvgE,UAAUoiE,0BAA4B,SAAUC,EAAYC,GACnE,GAAID,GAAcC,EACd,GAAIA,EAAStmD,kBAAoBqmD,EAAWrmD,gBAAiB,CACzD,GAAIqmD,EAAWF,iBAAmBG,EAASz5D,SACvC,OAAO,CAGP,IACI,GAAIw5D,EAAWt5D,aACXs5D,EAAa9iE,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQg2D,EAAWt5D,WAAWkM,UACjEpM,WAAay5D,EAASz5D,SACjC,OAAO,QAGVw5D,EAAWt5D,gBAGvB,KAAKu5D,EAAStmD,iBAAmBqmD,EAAWrmD,gBAAiB,CAC9D,GAAIsmD,EAASH,iBAAmBE,EAAWx5D,SACvC,OAAO,CAGP,IACI,GAAIy5D,EAASv5D,aACTu5D,EAAW/iE,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQi2D,EAASv5D,WAAWkM,UAC/DpM,WAAaw5D,EAAWx5D,SACjC,OAAO,QAGVy5D,EAASv5D,gBAGrB,IAAIu5D,EAAStmD,iBAAmBqmD,EAAWrmD,gBAC5C,GAAIsmD,EAASv5D,YAAcs5D,EAAWt5D,YAClC,GAAIs5D,EAAWF,iBAAmBG,EAASz5D,UAAYw5D,EAAWx5D,WAAay5D,EAASH,eACpF,OAAO,MAIX,KAAKG,EAASv5D,YAAcs5D,EAAWt5D,YAEnC,GADqBxJ,KAAKq8B,cAAcymC,GACrBx5D,WAAay5D,EAASz5D,SACrC,OAAO,MAGV,IAAIy5D,EAASv5D,aAAes5D,EAAWt5D,YACrBxJ,KAAKq8B,cAAc0mC,GACrBz5D,WAAaw5D,EAAWx5D,SACrC,OAAO,CAM3B,QAAO,GAUX03D,EAAWvgE,UAAU0hE,qBAAuB,SAAUa,EAAkBhoD,GACpE,GAGItO,GAEAu2D,EACAC,EANAjyD,EAAQjR,KAERT,KAEAkN,KAGAsf,IANci3C,GAAiB/kE,WAOvB0K,MAAM,KAAK2J,QAAQ,SAAU6wD,GACrC,GACIC,GACAC,EAIA9oE,EANA+oE,GAAS,EAGTC,GAAU,EACVC,EAAQ,gFACRC,EAAUN,EAAGx6D,MAAM,IAYvB,IAVuB,IAAnB86D,EAAQ9nE,SACR8nE,EAAQ,GAAKA,EAAQ,GAAK,IAAMA,EAAQ,GACxCA,EAAQtM,OAEW,IAAnBsM,EAAQ9nE,QAAgB8nE,EAAQ,GAAG9nE,QAAU,KAC7CpB,EAAK4oE,EAAGnM,UAAU,EAAG,IACjBwM,EAAMphD,KAAK7nB,KACX+oE,GAAS,IAGbH,EAAGz7C,SAAS,KAAM,CAClB,GAAIivC,GAAYwM,EAAGO,YAAY,KAC3BC,EAAWR,EAAGnM,UAAUL,EAAY,GAEpCiN,EADaT,EAAGhkE,QAAQwkE,EAAU,IAAIh3D,OACjBD,MAAM,mBAC3Bm3D,GAAmBD,EAAUA,EAAQ,GAAK,IAAMD,CACpD,KAAK,iBAAiBvhD,KAAKyhD,GAAkB,CACzC,GAAIC,GAAcD,EAAgBn3D,MAAM,gBACxCm3D,GAAkBC,EACZA,EAAY,GAAKD,EAAgBx1D,MAAMw1D,EAAgB/2D,QAAQg3D,EAAY,IAAMA,EAAY,GAAGnoE,QAChGwnE,EAGV,GADAE,EAAkBQ,EACdV,EAAGz7C,SAAS,MAAQ,WAAWtF,KAAKihD,GAAkB,CACtD,GAAIU,GAAUZ,EAAGr2D,QAAQu2D,IACR,IAAbU,IACAX,EAAYD,EAAGnM,UAAU,EAAG+M,IACdr8C,SAAS,OACnB67C,GAAU,IAK1B,GAAID,EAAQ,CACR,GAAI36D,OAAQ,GAERq7D,MAAe,EACE,MAFrBr7D,EAAQ86D,EAAQ,GAAG96D,MAAM,MAEfhN,OACN8Q,EAAO,GAAK02D,GAGZa,EAAer7D,EAAM,GAAGhN,OACxB8Q,EAAO,GAAK02D,EAAG90D,MAAM,IAAK21D,EAAe,IACzCv3D,EAAO,GAAK9D,EAAM,IAEtBs6D,EAAc,IACVQ,EAAQ,GAAG32D,QAAQ,MAAQ,IAEN,KADrBnE,EAAQ86D,EAAQ,GAAG96D,MAAM,MACfhN,OACN8Q,EAAO,GAAK02D,GAGZa,EAAer7D,EAAM,GAAGhN,OACxB8Q,EAAO,GAAK02D,EAAG90D,MAAM,IAAK21D,EAAe,IACzCv3D,EAAO,GAAK9D,EAAM,IAEtBs6D,EAAc,SAIdM,IAAWH,EAAU17C,SAAS,KAC9Bjb,EAAO,GAAK22D,GAGZ32D,EAAS02D,EAAGx6D,MAAM,KAClBs6D,EAAc,IACVE,EAAGr2D,QAAQ,MAAQ,IACnBL,EAAS02D,EAAGx6D,MAAM,KAClBs6D,EAAc,KAI1Bv2D,KACA,IAAIqI,GAAgC,iBAA1B9D,EAAM3W,OAAOyd,SAA8B9G,EAAM3W,OAAOkf,aAAevI,EAAM3W,OAAOya,KAE5E,KADuB,iBAA1B9D,EAAM3W,OAAOyd,SAA8BhD,EAAIjI,QAAQ,IAAML,EAAO,IAAMsI,EAAIjI,QAAQL,EAAO,KAExGC,EAAM,GAAKD,EAAO,IAGc,IAA5BsI,EAAIjI,QAAQL,EAAO,IAEE,KADrBC,EAAQD,EAAO,GAAG9D,MAAM,MACdhN,UACyB,IAA3B+Q,EAAM,GAAGI,QAAQ,KACjBJ,EAAQD,EAAO,GAAGC,MAAM,kBAGxBA,EAAM,GAAKD,EAAO,GAAG4B,MAAM,GAAI,GAC/B3B,EAAM,GAAKD,EAAO,GAAG4B,OAAO,KAKpC3B,EAAM,GAAKD,EAAO,EAG1B,IAAIw3D,GAAoC,iBAA1BhzD,EAAM3W,OAAOyd,SAA8BhD,EAAIjI,QAAQ,IAAMJ,EAAM,IAAMqI,EAAIjI,QAAQJ,EAAM,GAEzG,IAAIA,EAAM,KAAmB,IAAbu3D,EAAhB,CACI,GAAIv3D,EAAM/Q,OAAS,EAEf,GAAa,QADTyU,EAAO1D,EAAM,GAAGw3D,gBACU,OAAT9zD,GAA0B,OAATA,GAA0B,OAATA,EACnD8yD,EAAkB9yD,MAEjB,CACD,GAAIgG,GAAI,iCAAmChG,EAAO,8EAClDa,GAAM3W,OAAOgc,QAAQ,iBAAmBhH,MAAO8G,IAC/C8sD,EAAkB,SAGrB,IAAIC,EAAGz7C,SAAS,MAAQ,WAAWtF,KAAKihD,IAAoBD,EAAU17C,SAAS,KAAM,CACtF,GAAItX,GAAO+yD,EAAG90D,OAAO,GAAGpQ,UACxBmS,GAAK8zD,cAEDhB,EADS,OAAT9yD,GAA0B,OAATA,GAA0B,OAATA,GAA0B,OAATA,EACjCA,EAGA,SAItB8yD,GAAkB,IAM1B,IAAIiB,GAAa13D,EAAO9Q,OAAS,EAAIsnE,EAAc,GAAKx2D,EAAO,GAAK,IAChEq1D,EAAc7wD,EAAMgxD,sBAAsBkC,GAC1C9oE,GACA0G,KAAM2K,EAAM,GACZ0D,KAAM8yD,EACNkB,SAAS,EACTtiE,GAA8B,iBAA1BmP,EAAM3W,OAAOyd,SAA8BiD,EAAYxc,gBAAgBkX,OAAOzX,WAC5E+c,EAAYxc,gBAAgBqb,YAAY5b,WAC9C8jE,WAAYD,EAAY39D,aACxB6K,OAAQ8yD,EAAY9mE,UAEpBqpE,EAAcpzD,EAAMixD,cAAcx1D,EAAM,GAC5C,IAAKuE,EAAM3W,OAAOqgB,sBAKb,CACD,GAAI2pD,GAAWrzD,EAAM3W,OAAOm5B,oBAAoByH,cAAc7/B,EAAIyG,IAC9DyiE,EAAStzD,EAAM3W,OAAOm5B,oBAAoByH,cAAc7/B,EAAI0G,KAE5DwiE,IAAUD,EACArzD,EAAM4xD,0BAA0B0B,EAAQD,KAE9C/kE,EAAWjB,KAAKjD,IACuB,IAAnC0wB,EAAcjf,QAAQy3D,IAAkBA,EAAO9nD,iBAAmBxL,EAAM3W,OAAO0I,YAC5EiO,EAAM3W,OAAO0I,WAAWsC,gBAAkB2L,EAAM3W,OAAO0I,WAAWsC,eAAeC,YACpFwmB,EAAcztB,KAAKJ,gBAAgBqmE,IAAS,GAAM,KAK1DhlE,EAAWjB,KAAKjD,GAEpBqR,EAAM2b,OAAO,OArBRg8C,IACD9kE,EAAWjB,KAAKjD,MAuBxB0wB,EAAcpwB,OAAS,GAAKqE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWsC,gBAC3GtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,aACtCvF,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAqB,iBAAIowB,EAEtI,IAAIy4C,KAUJ,OATAjlE,GAAWgW,IAAI,SAAUxX,GACrB,GAAIgE,GAAOhE,EAAKgE,KACZD,EAAK/D,EAAK+D,GACV2iE,IACJA,GAAkBllE,EAAWoa,OAAO,SAAU+qD,GAAS,MAAOA,GAAM3iE,OAASA,GAAQ2iE,EAAM5iE,KAAOA,KACpB,IAA1E0iE,EAAgB13D,QAAQ23D,EAAgBA,EAAgB9oE,OAAS,KACjE6oE,EAAgBlmE,KAAKmmE,EAAgBA,EAAgB9oE,OAAS,MAG/D6oE,GASXxD,EAAWvgE,UAAU2hE,0BAA4B,SAAUrkE,GACvD,GAEI4mE,GAFAjpD,EAAe3d,EAAKS,gBAAgBsd,YACpCk9C,EAAe,GAEftsD,IACJ,IAAIgP,EAEA,IAAK,GADDmM,GAAWnM,EAAa/f,OACnBmC,EAAI,EAAGA,EAAI+pB,EAAU/pB,IAAK,CAC/B,GAAI8mE,GAAelpD,EAAa5d,GAC5BxC,EAAO,GACPf,EAA8B,iBAAzByF,KAAK1F,OAAOyd,SAA8Bha,EAAKS,gBAAgBkX,OAClE3X,EAAKS,gBAAgBqb,WAC3B,IAAI+qD,EAAa7iE,OAASxH,EAAG0D,WAAY,CAWrC,GAVA3C,EAAOspE,EAAa7iE,KAAO6iE,EAAax0D,KACK,gBAAjCrS,GAAKS,wBACbkO,EAAM,GAAKpR,EAAK+S,MAAM,GAAI,GAC1B3B,EAAM,GAAKpR,EAAK+S,OAAO,GACvBs2D,EAAQj4D,EAAM,GAAK,IAAMA,EAAM,IAG/Bi4D,EAAQrpE,EAEZA,EAAOqpE,EACqB,IAAxBC,EAAa51D,OAAc,CAC3B1T,GAAQspE,EAAa51D,OAAS,EAAK,IAAM41D,EAAa51D,OAAS,IAAQ41D,EAAa51D,OAAS,GAC7F,IAAI61D,GAAmC,IAAxBD,EAAa51D,MACI,SAA5B41D,EAAa7C,WACbzmE,GAAQupE,EAAW7kE,KAAK1F,OAAOoW,UAAUC,YAAY,QAAU3Q,KAAK1F,OAAOoW,UAAUC,YAAY,OAEhE,SAA5Bi0D,EAAa7C,WAClBzmE,GAAQupE,EAAW7kE,KAAK1F,OAAOoW,UAAUC,YAAY,SAAW3Q,KAAK1F,OAAOoW,UAAUC,YAAY,QAGlGrV,GAAQupE,EAAW7kE,KAAK1F,OAAOoW,UAAUC,YAAY,WAAa3Q,KAAK1F,OAAOoW,UAAUC,YAAY,UAIxGqoD,EADAA,EAAar9D,OAAS,EACPq9D,EAAe,IAAM19D,EAGrBA,GAK/B,MAAO09D,IAGXgI,EAAWvgE,UAAUwhE,sBAAwB,SAAUj0D,GACnD,GAAIhT,GAAW,EACXmJ,EAAenE,KAAK1F,OAAO6J,aAAa4D,oBACxC+8D,EAAqB9kE,KAAK1F,OAAOuS,oBACrC,IAAmB,gBAARmB,GAAkB,CAEzB,IAAK,GADDvB,GAASuB,EAAItB,MAAM,mBACdsN,EAAI,EAAGA,EAAIvN,EAAO9Q,OAAQqe,IAC/BvN,EAAOuN,GAAMvN,EAAOuN,GAAIrN,MAEV,OAAdF,EAAO,IAAcA,EAAO,IAC5BA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAC/BA,EAAO2b,SAEY,MAAd3b,EAAO,IACZA,EAAO2b,QAEO,MAAd3b,EAAO,IAAe4C,MAAMrR,SAASyO,EAAO,GAAI,OAChDA,EAAO,IAAMA,EAAO,GAAKA,EAAO,GAChCA,EAAO4b,OAAO,EAAG,IAEjB5b,GAAUA,EAAO9Q,QAAU,IAC3BX,EAAW6M,WAAW4E,EAAO,IAC7BtI,EAAesI,EAAO,GAAMA,EAAO,GAAGnC,cAAeqC,OAAS,GAE1DxI,GADkE,IAAlEzE,WAAS,SAAUolE,GAAoBh4D,QAAQ3I,GAChC,UAEsD,IAAhEzE,WAAS,OAAQolE,GAAoBh4D,QAAQ3I,GACnC,QAEqD,IAA/DzE,WAAS,MAAOolE,GAAoBh4D,QAAQ3I,GAClC,MAGAnE,KAAK1F,OAAO6J,aAAa4D,yBAKhD/M,GAAWgT,EACX7J,EAAenE,KAAK1F,OAAO6J,aAAa4D,mBAE5C,IAAIsH,MAAMrU,GAAW,CAEjBgF,KAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAD7B,yHAEVtU,EAAW,EACXmJ,EAAenE,KAAK1F,OAAO6J,aAAa4D,oBAE5C,OACI/M,SAAUA,EACVmJ,aAAcA,IAUtB68D,EAAWvgE,UAAUskE,mBAAqB,SAAUC,OACrB,KAAvBA,IAAiCA,EAAqB,KAI1D,KAAK,GAFDhqD,GADAhG,EAAyBhV,KAAK1F,OAAO0a,uBAErCrZ,EAASqZ,EAAuBrZ,OAC3B+G,EAAQ,EAAGA,EAAQ/G,EAAQ+G,OAChCsY,EAAchG,EAAuBtS,IACnB+Z,kBAAoBzc,KAAK1F,OAAOqgB,uBAA0B3a,KAAK1F,OAAOqgB,yBACpF3a,KAAKilE,wBAAwBjqD,EAAahG,EAAwBgwD,IAC7DhqD,EAAYxc,gBAAgBmC,gBAAkBX,KAAK1F,OAAO4kC,aAAaU,eACxE5/B,KAAK1F,OAAO8nC,wBAA4C,sBACxDpiC,KAAK1F,OAAO8nC,wBAAyC,gBAAEpnB,MAcvEgmD,EAAWvgE,UAAUwkE,wBAA0B,SAAUjqD,EAAahG,EAAwBgwD,OAC/D,KAAvBA,IAAiCA,EAAqB,KAC1D,IACIE,GADAC,EAAuBnqD,EAAYxc,gBAAgBsd,YAEnDspD,EAAiBD,EAAqBxpE,MAC1CqZ,GAAyBna,oBAAkBma,MAA+BA,CAC1E,KAAK,GAAIlX,GAAI,EAAGA,EAAIsnE,EAAgBtnE,IAAK,CACrC,GAAIunE,GAAYF,EAAqBrnE,EAKjConE,GAJyB,gBAAzBllE,KAAK1F,OAAOyd,UAA+Bld,oBAAkBmqE,GAItChlE,KAAK1F,OAAOm5B,oBAAoByH,cAAcmqC,EAAUtjE,MAHxDijE,EAAmBh5C,IAAIq5C,EAAUtjE,KAK5D,IAAIxH,GAA8B,iBAAzByF,KAAK1F,OAAOyd,SAA8BiD,EAAYxc,gBAAgBkX,OACzEsF,EAAYxc,gBAAgBqb,WAClC,IAAIwrD,EAAUtjE,OAASxH,EAAG0D,YAClBinE,EAAsB,CACtB,GAAII,OAAwB,EACxBJ,GAAqB1mE,gBAAgBsd,cACrCwpD,EAAyBpnE,YAAWgnE,EAAqB1mE,gBAAgBsd,gBAAiB,IACpExd,KAAK+mE,GAC3BrlE,KAAK1F,OAAO8J,eAAe,cAAekhE,EAAuBJ,EAAqB1mE,iBAAiB,MAIvG8mE,MACsBhnE,KAAK+mE,GAC3BrlE,KAAK1F,OAAO8J,eAAe,cAAekhE,EAAuBJ,EAAqB1mE,iBAAiB,GAGvGwW,EAAuB1W,KAAK4mE,OAMhDlE,EAAWvgE,UAAU8kE,gBAAkB,SAAUhnE,GAC7CyB,KAAK1F,OAAO+J,cAAc6nB,kBAAkB3tB,IAShDyiE,EAAWvgE,UAAUgxD,gCAAkC,SAAUuT,GAE7D,OAD2B,KAAvBA,IAAiCA,EAAqB,MACrDhlE,KAAK1F,OAAO2H,+BACZjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,iBAD5F,CAIA,GAAI2G,GAAW/I,KAAK1F,OAAOyO,SACvBy8D,EAAYz8D,EAASpN,MACzB,IAAId,oBAAkBmqE,GAAqB,CACvCA,EAAqB,GAAI9rD,IACzB,KAAK,GAAI3d,GAAK,EAAGowB,EAAa5iB,EAAUxN,EAAKowB,EAAWhwB,OAAQJ,IAAM,CAClE,GAAIgD,GAASotB,EAAWpwB,EACxBypE,GAAmB/rD,IAAI1a,EAAOC,gBAAgBqb,YAAY5b,WAAYM,IAG9E,IAAK,GAAImE,GAAQ,EAAGA,EAAQ8iE,EAAW9iE,IAAS,CAC5C,GAAIomB,GAAc/f,EAASrG,GACvB+iE,EAAa38C,EAAYtqB,eAC7B,IAAIinE,EAAWppD,iBAAkB,CAC7Brc,KAAK0lE,yBAAyB58C,EAAak8C,EAC3C,IAAIM,GAAwBG,EAAW3pD,WACvC,IAAIwpD,GAAyBA,EAAsB3pE,OAAS,EACxD,IAAK,GAAIH,GAAK,EAAGmqE,EAA0BL,EAAuB9pE,EAAKmqE,EAAwBhqE,OAAQH,IAAM,CACzG,GAAIsgB,GAAc6pD,EAAwBnqE,GACtCoqE,MAAiB,IAEjBA,EADyB,gBAAzB5lE,KAAK1F,OAAOyd,SACKitD,EAAmBh5C,IAAIlQ,EAAYha,IAGnC9B,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYha,MAG3E9B,KAAK0lE,yBAAyBE,EAAgBZ,GAO1D,GAHIl8C,EAAYrM,iBAAmBgpD,EAAW3qE,WAAakF,KAAK1F,OAAOqgB,uBACnE3a,KAAK6lE,iBAAiB/8C,GAEtBA,EAAYtf,WAAY,CACxB,GAAIs8D,GAAWh9C,EAAYtf,WAAWkM,OAClC0mB,MAAe,IAEfA,EADyB,gBAAzBp8B,KAAK1F,OAAOyd,SACGitD,EAAmBh5C,IAAI85C,GAGvB9lE,KAAK1F,OAAO4gC,cAAc4qC,KAGzC9lE,KAAKulE,gBAAgBnpC,QAMzC4kC,EAAWvgE,UAAUslE,wBAA0B,SAAUf,GAErD,OAD2B,KAAvBA,IAAiCA,EAAqB,MACtDhlE,KAAK1F,OAAO0rE,4BAEZ,IAAK,GAAIloE,GADqBkC,KAAKmhE,mBAAmBxlE,OACf,EAAGmC,GAAK,EAAGA,IAAK,CACnD,GAAI4U,GAAO1S,KAAKmhE,mBAAmBrjE,EACnCkC,MAAK0lE,yBAAyBhzD,EAAMsyD,GAChCtyD,EAAKlU,gBAAgB1D,WACrBkF,KAAK6lE,iBAAiBnzD,KAatCsuD,EAAWvgE,UAAUilE,yBAA2B,SAAU1qD,EAAagqD,GAEnE,OAD2B,KAAvBA,IAAiCA,EAAqB,MACtDhqD,EAAYxc,gBAAgBsd,YAAa,CACzC,GAAI9G,GAAyBgG,EAAYxc,gBAAgBsd,YACrDpZ,MAAQ,GACRujE,MAAoB,GACpB1nE,EAAS,KACT2nE,EAA2C,iBAAzBlmE,KAAK1F,OAAOyd,SAA8BiD,EAAYxc,gBAAgBkX,OAAOzX,WAC7F+c,EAAYxc,gBAAgBqb,YAAY5b,WAC1Cyd,EAAe1G,EAAuB2E,OAAO,SAAU5b,GACvD,MAAIA,GAAK+D,KAAOokE,EACLnoE,EAGA,MAGf,KAAK2E,EAAQ,EAAGA,EAAQgZ,EAAa/f,OAAQ+G,IAAS,CAClD,GAAIoZ,GAAcJ,EAAahZ,EAY/B,IAX6B,gBAAzB1C,KAAK1F,OAAOyd,UAA+Bld,oBAAkBmqE,IAK7DiB,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,MAC9ExD,EAASyB,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYha,MALnEmkE,EAAoBjB,EAAmBh5C,IAAIlQ,EAAY/Z,MACvDxD,EAASymE,EAAmBh5C,IAAIlQ,EAAYha,KAM5C9B,KAAK1F,OAAOqgB,uBAAyBsrD,EAAkBxpD,iBACvDzc,KAAK1F,OAAO+J,cAAc6nB,kBAAkB+5C,GAEnB,gBAAzBjmE,KAAK1F,OAAOyd,UAA8B/X,KAAK1F,OAAO2kC,wBAAyB,CAC/E,GAAIx/B,OAAQ,EACR5E,qBAAkB0D,IAClBkB,EAAQO,KAAK1F,OAAO0I,WAAWC,kBAAkBkjE,YAAYr5D,QAAQgP,EAAYha,IACjFvD,EAASyB,KAAK1F,OAAO0I,WAAWC,kBAAkB2tD,iBAAiBnxD,IAE9D5E,oBAAkBorE,KACvBxmE,EAAQO,KAAK1F,OAAO0I,WAAWC,kBAAkBkjE,YAAYr5D,QAAQgP,EAAY/Z,MACjFkkE,EAAoBjmE,KAAK1F,OAAO0I,WAAWC,kBAAkB2tD,iBAAiBnxD,IAGlFO,KAAK1F,OAAOqgB,uBAAyB3a,KAAK1F,OAAO0G,SAA4D,IAAlDhB,KAAKmhE,mBAAmBr0D,QAAQkO,KACvFA,EAAYyB,iBAAmBle,EAAOke,kBAC1Czc,KAAKmhE,mBAAmB7iE,KAAK0c,IAE7Bzc,EAAOC,gBAAgBmC,gBAAkBX,KAAK1F,OAAO8rE,+BACrDpmE,KAAKqmE,yBAAyBJ,EAAmB1nE,EAAQymE,MAazEhE,EAAWvgE,UAAU4lE,yBAA2B,SAAUJ,EAAmB74C,EAAkB43C,GAE3F,OAD2B,KAAvBA,IAAiCA,EAAqB,QACtDhlE,KAAK1F,OAAOgsE,oBAAsBl5C,GAAqB64C,GACvDprE,oBAAkBF,EAAgBsrE,EAAkBznE,mBAChD4uB,GAAoBvyB,oBAAkBF,EAAgByyB,EAAiB5uB,oBAG3EwB,KAAK1F,OAAOs3D,4BAA8BxkC,EAAiB5uB,gBAAgBmC,gBAC3EX,KAAK1F,OAAO8rE,8BAA+B,CAC3C,GAAIG,GAAsBn5C,EAAiB5uB,gBACvCgoE,EAA2C,iBAAzBxmE,KAAK1F,OAAOyd,SAA8BwuD,EAAoB7wD,OAAOzX,WACrFsoE,EAAoB1sD,YAAY5b,WAElCwoE,EADyBF,EAAoBzqD,YACHnC,OAAO,SAAU5b,GAC3D,MAAIA,GAAK+D,KAAO0kE,EACLzoE,EAGA,OAGXjD,EAAYkF,KAAK0mE,mBAAmBt5C,EAAkBq5C,EAAkBzB,EAC5EhlE,MAAK1F,OAAO8J,eAAe,YAAatJ,EAAWyrE,GAAqB,GACxEvmE,KAAK1F,OAAO+J,cAAcC,kBAAkB8oB,EAAkB,YAC9D,IAAIzoB,GAAWyoB,EAAiB5uB,gBAAgBmG,UAC5C9J,oBAAkB8J,KAAc9J,oBAAkB8J,IAAiC,IAApBA,EAAShJ,SACxEqE,KAAKuhE,mBAAmBh9D,iBAAiB6oB,GAE7CptB,KAAK1F,OAAO+J,cAAcwW,gBAAgBuS,IACrCptB,KAAK1F,OAAO0G,SAAWhB,KAAK1F,OAAOq/B,wBAA0BvM,EAAiB5jB,YAC/ExJ,KAAK1F,OAAOs3D,2BACZ5xD,KAAK1F,OAAOoP,cAAc0jB,EAAiB5jB,YAAYhL,gBAAgBmC,iBACD,IAAlEX,KAAKkhE,UAAUp0D,QAAQsgB,EAAiB5jB,WAAWF,YACnDtJ,KAAKkhE,UAAU5iE,KAAK8uB,EAAiB5jB,WAAWF,UAChDtJ,KAAKo8B,aAAa99B,KAAK8uB,EAAiB5jB,eAaxDw3D,EAAWvgE,UAAUimE,mBAAqB,SAAU1rD,EAAahG,EAAwBgwD,GACrF,GAAI/zD,GAAQjR,SACe,KAAvBglE,IAAiCA,EAAqB,KAC1D,IAAI2B,GACA1iE,EACAgiE,EACA74C,EACAw5C,EAAuB5xD,EAAuB2E,OAAO,SAAU5b,GAC/D,GAAIxD,GAA+B,iBAA1B0W,EAAM3W,OAAOyd,SAA8BiD,EAAYxc,gBAAgBkX,OAC1EsF,EAAYxc,gBAAgBqb,WAClC,OAAI9b,GAAK+D,KAAOvH,EAAG0D,WACRF,EAGA,MAGf,IAAI6oE,EAEA,IAAK,GADDvN,GAAWuN,EAAqBjrE,OAC3BmC,EAAI,EAAGA,EAAIu7D,EAAUv7D,IAAK,CAC/B,GAAIge,GAAc8qD,EAAqB9oE,EACV,iBAAzBkC,KAAK1F,OAAOyd,UAA+Bld,oBAAkBmqE,IAK7DiB,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,MAC9EqrB,EAAmBptB,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYha,MAL7EmkE,EAAoBjB,EAAmBh5C,IAAIlQ,EAAY/Z,MACvDqrB,EAAmB43C,EAAmBh5C,IAAIlQ,EAAYha,KAM7B,gBAAzB9B,KAAK1F,OAAOyd,WAA8B/X,KAAK1F,OAAO2kC,yBAA6BpkC,oBAAkBuyB,IACrGvyB,oBAAkBorE,KAClB74C,EAAmBvyB,oBAAkBuyB,GACjCptB,KAAK6mE,UAAUZ,EAAmB74C,EAAkBtR,GAAesR,EACvE64C,EAAoBprE,oBAAkBorE,GAClCjmE,KAAK6mE,UAAUZ,EAAmB74C,EAAkBtR,GAAemqD,GAEvE74C,GAAoB64C,IACpBhiE,EACIjE,KAAK8mE,sBAAsB15C,EAAiB5uB,gBAAiBynE,EAAkBznE,gBAAiBsd,IAEnF,OAAjB6qD,GAA+F,IAAtE3mE,KAAKuhE,mBAAmB98D,aAAaR,EAAe0iE,KAC7EA,EAAe1iE,GAI3B,MAAO0iE,IAUX3F,EAAWvgE,UAAUqmE,sBAAwB,SAAUC,EAAeC,EAAsBlrD,GACxF,GAEItZ,GACAykE,EAHA72D,EAAO0L,EAAY1L,KACnBpB,EAAS8M,EAAY9M,MAGzB,QAAQoB,GACJ,IAAK,KACD5N,EAAWxC,KAAKuhE,mBAAmB53D,gBAAgBq9D,GAC9CD,EAAcvlE,aAA0B,IAAXwN,IAC9BxM,EAAWxC,KAAKuhE,mBAAmBzgE,eAAe0B,EAAUukE,IAEjD,IAAX/3D,IACAxM,EAAWxC,KAAKknE,mBAAmB1kE,EAAUsZ,EAAairD,IAM1DE,EAJCF,EAAcvlE,YAIGgB,EAHAxC,KAAKuhE,mBAAmBzgE,eAAe0B,EAAUukE,EAKvE,MACJ,KAAK,KACL,IAAK,KAMD,GALAvkE,EAAoB,OAAT4N,EAAgBpQ,KAAKuhE,mBAAmB53D,gBAAgBq9D,GAC/DhnE,KAAKuhE,mBAAmBt4D,kBAAkB+9D,GAC/B,IAAXh4D,IACAxM,EAAWxC,KAAKknE,mBAAmB1kE,EAAUsZ,EAAairD,KAEzDA,EAAcvlE,YAAa,CAC5B,GAAIzF,GAAO,GAAIe,MAAK0F,EACpBzG,GAAK2F,QAAQ3F,EAAKM,UAAY,GAC9BmG,EAAWxC,KAAKuhE,mBAAmBx+D,aAAaP,EAAUukE,GAE9D,GAAIA,EAAcpiE,UAA8C,IAAlCoiE,EAAcpiE,SAAShJ,OAAc,CAC/D,GAAIX,GAAWgF,KAAKuhE,mBAAmBr8D,YAAY6hE,EAAcjsE,UAAWisE,EAAchsE,QAASgsE,EAAc5iE,aAAc4iE,EAAcpmE,eAAgBomE,EAAcvlE,YAC3KylE,GAAkBjnE,KAAKuhE,mBAAmBr9D,aAAa1B,EAAUxH,EAAU+rE,EAAc5iE,aAAc4iE,OAGvGE,GAAkBjnE,KAAKuhE,mBAAmBr9D,aAAa1B,EAAUukE,EAAc/rE,SAAU+rE,EAAc5iE,aAAc4iE,EAEzH,MACJ,KAAK,KACDvkE,EAAWxC,KAAKuhE,mBAAmBt4D,kBAAkB+9D,GACtC,IAAXh4D,IACAxM,EAAWxC,KAAKknE,mBAAmB1kE,EAAUsZ,EAAairD,IAM1DE,EAJCF,EAAcvlE,YAIGgB,EAHAxC,KAAKuhE,mBAAmBzgE,eAAe0B,EAAUukE,GAO/E,MAAOE,IASXjG,EAAWvgE,UAAUymE,mBAAqB,SAAUnrE,EAAM+f,EAAavd,GACnE,GAAI4oE,GACAlE,EAAcnnD,EAAY9M,OAC1B7K,EAAe2X,EAAYimD,UAY/B,OAXIkB,GAAc,IAAMpoE,oBAAkBkB,GACtCorE,EAAannE,KAAKuhE,mBAAmBr9D,aAAalE,KAAKuhE,mBAAmBx+D,aAAahH,EAAMwC,IAAyB,EAAf0kE,EAAmB9+D,EAAc5F,GAAQ,IAG3I1D,oBAAkBkB,KACnBorE,EAAannE,KAAKuhE,mBAAmB18D,WAAW9I,EAAMknE,EAAa9+D,EAAc5F,GAAQ,IAExFA,EAAOiD,cACR2lE,EAAannE,KAAKuhE,mBAAmBzgE,eAAeqmE,EAAY5oE,KAGjE4oE,GAQXnG,EAAWvgE,UAAUw5B,+BAAiC,SAAUv8B,GAC5D,GAAI0pE,GAAe1pE,GAAoBsC,KAAK1F,OAAOwX,gBAC/Csa,EAAkBpsB,KAAK1F,OAAO8xB,gBAC9BC,EAAcD,GAAmBA,EAAgBC,WACrD,IAAIA,EAAa,CACb,GAAIE,GAAcH,EAAgBE,QAAUF,EAAgBE,OAAOC,YAC/DC,EAAqBD,GAAeA,EAAYC,kBACpD,IAAID,GAAeC,GAAsBA,EAAmBC,aAAc,CACtE,GAAI46C,GAAa96C,EAAY86C,WACzB36C,EAAyBN,EAAgBE,OAAOI,sBACpD06C,GAA+B,oBAAfC,EACZ36C,EAA6C,qBAC7CA,EAAsC,eAGlD,GACIhqB,GAEAsS,EAHA4lB,EAAewsC,EAAazrE,MAI5BqE,MAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,cAAgBzsB,KAAK1F,OAAO8xB,gBAAgBC,YAC9GrsB,KAAK1F,OAAOm5B,oBAAoBuK,gBAAkBh+B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAC7FtX,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,cAAI1sB,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,eAGzL1sB,KAAK1F,OAAOm5B,oBAAoBuK,gBAAkBh+B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAC7FtX,KAAK1F,OAAOua,eAAiB7U,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOua,eAEhF,IAAI9L,GAAW/I,KAAK1F,OAAOyO,SACvBi8D,EAAqB34C,EAAc,KAAO,GAAInT,IAClD,KAAKmT,IAAgBxxB,oBAAkBkO,GACnC,IAAK,GAAIxN,GAAK,EAAG+rE,EAAav+D,EAAUxN,EAAK+rE,EAAW3rE,OAAQJ,IAAM,CAClE,GAAIgD,GAAS+oE,EAAW/rE,EACxBypE,GAAmB/rD,IAAI1a,EAAOC,gBAAgBqb,YAAY5b,WAAYM,GAG9E,GAAI2mC,GAAYllC,KAAK1F,OAAOmqB,iBAAiBif,eACzCtiB,GAAavmB,oBAAkBqqC,IAAcA,EAAU,IAAMA,EAAU,GAAG/H,YAC9E,KAAKz6B,EAAQ,EAAGA,EAAQk4B,EAAcl4B,IAAS,CAC3C,GAAI1C,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWukE,mBAAmB5rE,OAAS,EAAG,CAChF,GAAIygC,GAAegrC,EAAa1kE,GAAO8G,UACvC,IAAI4yB,EAAc,CACd,GAAI5yB,GAAc3O,oBAAkBmqE,GACyBhlE,KAAK1F,OAAO4gC,cAAckB,EAAa1mB,OAAOzX,YAAvG+mE,EAAmBh5C,IAAIoQ,EAAa1mB,OAAOzX,WAC/C+B,MAAK1F,OAAO8J,eAAe,aAAcpE,KAAK1F,OAAO+J,cAAckY,eAAe/S,GAAa49D,EAAa1kE,KAGhH1C,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAA+B,iBACzEqrD,EAAa1kE,GAAOjD,MAAQiD,EACxB0kE,EAAa1kE,GAAO8G,YAAcxJ,KAAK1F,OAAOoP,cAAc09D,EAAa1kE,GAAO8G,cAChF49D,EAAa1kE,GAAO8G,WAAW/J,MAAQO,KAAK1F,OAAOoP,cAAc09D,EAAa1kE,GAAO8G,YAAY/J,SAIzGuV,EADcoyD,EAAa1kE,GACUlE,gBAAgBsd,cAEjD9b,KAAKwnE,0BAA0BxyD,EAAwBgwD,EAAoB5jD,KAWvF4/C,EAAWvgE,UAAU+mE,0BAA4B,SAAUxyD,EAAwBgwD,EAAoB5jD,OACxE,KAAvB4jD,IAAiCA,EAAqB,UACxC,KAAd5jD,IAAwBA,EAAY,EACxC,IAAIqmD,GACAC,EACA5rD,EACAmqD,EACA74C,CACJ,IAAIpY,EAEA,IADAyyD,EAAqBzyD,EAAuBrZ,OACvC+rE,EAAmB,EAAGA,EAAmBD,EAAoBC,IAAoB,CAIlF,IAHA5rD,EAAc9G,EAAuB0yD,IAGjB,OAAM5rD,EAAc,GACpC,KAEyB,iBAAzB9b,KAAK1F,OAAOyd,UAA+Bld,oBAAkBmqE,IAK7DiB,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAgB,MAClFsR,EAAmBptB,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAc,MAL/EmqD,EAAoBjB,EAAmBh5C,IAAIlQ,EAAgB,MAC3DsR,EAAmB43C,EAAmBh5C,IAAIlQ,EAAc,IAM5D,IAAIgG,IAAU,GACRmkD,GAAqBA,EAAkBxpD,kBAAoBwpD,EAAkB/mD,UAC9EkO,GAAoBA,EAAiB3Q,kBAAoB2Q,EAAiBlO,YAC1Elf,KAAK1F,OAAOk6B,qBAAgD,gBAAzBx0B,KAAK1F,OAAOyd,WAChD+J,GAAU,GAEVA,GAAW9hB,KAAK1F,OAAOm5B,oBAAoBuK,kBACqC,IAAhFh+B,KAAK1F,OAAOm5B,oBAAoBuK,gBAAgBlxB,QAAQm5D,KACuB,IAA/EjmE,KAAK1F,OAAOm5B,oBAAoBuK,gBAAgBlxB,QAAQsgB,IACxDptB,KAAK2nE,0BAA0B1B,EAAmB74C,EAAkBtR,EAAasF,KAejG4/C,EAAWvgE,UAAUknE,0BAA4B,SAAU1B,EAAmB74C,EAAkBtR,EAAasF,OACvF,KAAdA,IAAwBA,EAAY,EACxC,IAAIwmD,GAAe5nE,KAAK1F,OAAOm5B,oBAAoBo0C,0BAA0B5B,EAAmB74C,EAAkBtR,EAAasF,EAC/H,IAAIwmD,EAAc,CAId,GAHIx6C,EAAiB06C,YAAc7B,EAAkB6B,aACjDF,EAAaE,YAAa,GAEzB9nE,KAAK1F,OAAOy/B,iBAAiBp+B,OAAS,IAA6E,IAAxEqE,KAAK1F,OAAOy/B,iBAAiBjtB,QAAQ86D,EAAaG,kBACtD,IAAxC/nE,KAAK1F,OAAOy/B,iBAAiBp+B,OAC7BqE,KAAK1F,OAAO0/B,+BAA+B17B,KAAKspE,GAChD5nE,KAAK1F,OAAOy/B,iBAAiBz7B,KAAKspE,EAAaG,qBAE9C,KAA4E,IAAxE/nE,KAAK1F,OAAOy/B,iBAAiBjtB,QAAQ86D,EAAaG,iBAAyB,CAChF,GAAItoE,GAAQO,KAAK1F,OAAOy/B,iBAAiBjtB,QAAQ86D,EAAaG,gBAC9D/nE,MAAK1F,OAAO0/B,+BAA+Bv6B,GAASmoE,EAExD9rD,EAAYsoD,SAAU,EAE1B,MAAOwD,IAUX5G,EAAWvgE,UAAUunE,oBAAsB,SAAU56C,EAAkB66C,EAAeC,GAClF,GAAKloE,KAAK1F,OAAOs3D,2BAGbxkC,EAAiB5uB,gBAAgBsd,YAAa,CAC9C,GAAIqsD,GAAgBnoE,KAAK1F,OAAO0I,WAAWC,kBACvCrI,MAAY,EACZutE,KACAvtE,EAAYutE,EAAcjlE,kBA0B9B,KAAK,GAxBD8R,GAAyBoY,EAAiB5uB,gBAAgBsd,YAC1DmqD,MAAoB,GACpB1nE,EAAS,KACTud,MAAc,GACdssD,MAAY,GACZC,EAA2C,iBAAzBroE,KAAK1F,OAAOyd,SAA8BqV,EAAiB5uB,gBAAgBkX,OAAOzX,WAClGmvB,EAAiB5uB,gBAAgBqb,YAAY5b,WAC/Cyd,EAAe1G,EAAuB2E,OAAO,SAAU5b,GACvD,MAAIA,GAAK+D,KAAOumE,EACLtqE,EAGA,OAGXuqE,EAAatzD,EAAuB2E,OAAO,SAAU5b,GACrD,MAAIA,GAAKgE,OAASsmE,EACPtqE,EAGA,OAGXwjB,MAAY,GACP7e,EAAQ,EAAGA,EAAQgZ,EAAa/f,OAAQ+G,IAAS,CACtDoZ,EAAcJ,EAAahZ,GAC3BujE,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,OAC9ExD,EAASyB,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYha,KACxD0H,aACP+X,EAAYvhB,KAAK1F,OAAO+O,kBAAkB9K,EAAOiL,WAAWF,WACc,IAAtEtJ,KAAK1F,OAAO0I,WAAgC,oBAAE8J,QAAQyU,IACtDvhB,KAAK1F,OAAO0I,WAAgC,oBAAE1E,KAAKijB,IAGvD0kD,EAAkBz8D,aAClB+X,EAAYvhB,KAAK1F,OAAO+O,kBAAkB48D,EAAkBz8D,WAAWF,WACG,IAAtEtJ,KAAK1F,OAAO0I,WAAgC,oBAAE8J,QAAQyU,IACtDvhB,KAAK1F,OAAO0I,WAAgC,oBAAE1E,KAAKijB,IAG9B,gBAAzBvhB,KAAK1F,OAAOyd,WAA8B/X,KAAK1F,OAAO2kC,yBAA6BpkC,oBAAkB0D,IAAW1D,oBAAkBorE,KAClI1nE,EAAS1D,oBAAkB0D,GAAUyB,KAAK6mE,UAAUZ,EAAmB1nE,EAAQud,GAAevd,EAC9F0nE,EAAoBprE,oBAAkBorE,GAClCjmE,KAAK6mE,UAAUZ,EAAmB1nE,EAAQud,GAAemqD,GAE7DjmE,KAAK1F,OAAOs3D,2BAA6BrzD,EAAOC,gBAAgBmC,eAChEX,KAAK1F,OAAOiuE,qBAAsB,EAGlCvoE,KAAK1F,OAAOiuE,qBAAsB,CAEtC,IAAIhuE,GAA8B,iBAAzByF,KAAK1F,OAAOyd,SAA8BqV,EAAiB5uB,gBAAgBkX,OAC9E0X,EAAiB5uB,gBAAgBqb,WAClCtf,GAAG0D,aAAe6d,EAAYha,IAC5BvH,EAAG0D,aAAe6d,EAAY/Z,MAC5BmmE,GAAiC,gBAAjBA,IACrBloE,KAAKqmE,yBAAyBJ,EAAmB1nE,GAC7CyB,KAAK1F,OAAO0I,WAAyB,cAAKhD,KAAK1F,OAAO0I,WAAyB,aAAEyZ,kBAAoBzc,KAAK1F,OAAO0I,WAAyB,aAAEwG,aAC5IxJ,KAAKwoE,wBAA0BjqE,EAAOC,gBAAgBkX,SAIlE,IAAShT,EAAQ,EAAGA,EAAQ4lE,EAAW3sE,OAAQ+G,IAAS,CA2BpD,GA1BA0lE,EAAYE,EAAW5lE,GACvBujE,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcktC,EAAUrmE,OAC5ExD,EAASyB,KAAK1F,OAAOm5B,oBAAoByH,cAAcktC,EAAUtmE,KACtD0H,aACP+X,EAAYvhB,KAAK1F,OAAO+O,kBAAkB9K,EAAOiL,WAAWF,WACc,IAAtEtJ,KAAK1F,OAAO0I,WAAgC,oBAAE8J,QAAQyU,IACtDvhB,KAAK1F,OAAO0I,WAAgC,oBAAE1E,KAAKijB,IAGvD0kD,EAAkBz8D,aAClB+X,EAAYvhB,KAAK1F,OAAO+O,kBAAkB48D,EAAkBz8D,WAAWF,WACG,IAAtEtJ,KAAK1F,OAAO0I,WAAgC,oBAAE8J,QAAQyU,IACtDvhB,KAAK1F,OAAO0I,WAAgC,oBAAE1E,KAAKijB,IAG9B,gBAAzBvhB,KAAK1F,OAAOyd,WAA8B/X,KAAK1F,OAAO2kC,yBAA6BpkC,oBAAkB0D,IAAW1D,oBAAkBorE,KAClI1nE,EAAS1D,oBAAkB0D,GAAUyB,KAAK6mE,UAAUZ,EAAmB1nE,EAAQ6pE,GAAa7pE,EAC5F0nE,EAAoBprE,oBAAkBorE,GAClCjmE,KAAK6mE,UAAUZ,EAAmB1nE,EAAQ6pE,GAAanC,GAE3DjmE,KAAK1F,OAAOs3D,2BAA6BrzD,EAAOC,gBAAgBmC,eAChEX,KAAK1F,OAAOiuE,qBAAsB,EAGlCvoE,KAAK1F,OAAOiuE,qBAAsB,EAEjB,gBAAjBL,GAAkCloE,KAAK1F,OAAOiuE,qBAE9C,GADAvoE,KAAKqmE,yBAAyBJ,EAAmB1nE,GAC7CyB,KAAK1F,OAAO0I,WAAyB,cAAKzE,EAAQ,CAClD,GAAIkqE,GAAaxC,EAAkBz8D,WAC/BxJ,KAAKq8B,cAAc4pC,GAAqB,IAC5C,IAAI1nE,EAAOke,mBAAqBzc,KAAK1F,OAAO0I,WAAyB,aAAEyZ,kBAAqBle,EAAOiL,cAC7Fi/D,GAAeA,GAAcA,EAAWjqE,gBAAgBkX,SAAW1V,KAAK1F,OAAO0I,WAAyB,aAAExE,gBAAgBkX,UAC5H1V,KAAKwoE,0BAA4BjqE,EAAOC,gBAAgBkX,OAAQ,CAChE1V,KAAK6lE,iBAAiBtnE,EACtB,KAAST,EAAI,EAAGA,EAAIS,EAAO2e,aAAavhB,OAAQmC,IAAK,CACjD,GAAI4qE,GAAcnqE,EAAO2e,aAAapf,GAAGU,eACzC,KAAiE,IAA7DwB,KAAKshE,uBAAuBx0D,QAAQ47D,EAAYhzD,QAChD,MAGJ,IADA1V,KAAKshE,uBAAuBhjE,KAAKoqE,EAAYhzD,QACzCgzD,EAAY5sD,aAAe4sD,EAAY5sD,YAAYngB,OAAS,EAC5D,IAAK,GAAI8P,GAAI,EAAGA,EAAIi9D,EAAY5sD,YAAYngB,OAAQ8P,IAAK,CACrD,GAAIk9D,OAAW,IAEXA,EADAD,EAAY5sD,YAAYrQ,GAAG3J,KAAOvD,EAAOC,gBAAgBkX,OAAOzX,WACrD+B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ47D,EAAY5sD,YAAYrQ,GAAG3J,KAGxE9B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ47D,EAAY5sD,YAAYrQ,GAAG1J,UAGnF/B,KAAKgoE,oBAAoBW,KAAc,IACnCA,EAASlsD,iBAAmBzc,KAAK1F,OAAO0I,WAAyB,aAAEyZ,iBACnEzc,KAAK6lE,iBAAiB8C,GAE1B3oE,KAAKwoE,wBAA0BG,EAASnqE,gBAAgBkX,SAKxE1V,KAAKwoE,wBAA0BjqE,EAAOC,gBAAgBkX,OAEtD1V,KAAK1F,OAAO0I,WAAyB,aAAEyZ,kBAAoBzc,KAAK1F,OAAO0I,WAAyB,aAAEwG,aAClGxJ,KAAKwoE,wBAA0BjqE,EAAOC,gBAAgBkX,cAIxDnX,EAAOC,gBAAgBmC,gBAAkBX,KAAK1F,OAAOsuE,4BAC3D5oE,KAAK1F,OAAO8nC,wBAA4C,sBACxDpiC,KAAK1F,OAAO8nC,wBAAyC,gBAAE7jC,GAE3D,KAAmC,IAA/B0nE,EAAkB/mD,WAA0C,IAApB3gB,EAAO2gB,UAMnD,GAAI3gB,EAAQ,CACR,GAAIyB,KAAK1F,OAAO0I,WAAW6lE,YAAa,CACpC,GAAIC,GAA0C,iBAAzB9oE,KAAK1F,OAAOyd,SAA8B/X,KAAK1F,OAAOkf,aAAexZ,KAAK1F,OAAOya,GACtG/U,MAAKqhE,QAAU9pD,KAAKC,MAAMD,KAAKE,UAAUqxD,IACzC9oE,KAAK1F,OAAO0I,WAAW6lE,aAAc,EAEzC,GAAI7oE,KAAKqhE,QAAS,CACd,GAAI5hE,OAAQ,GACRspE,EAAaxqE,EAAOyB,KAAK1F,OAAOmE,WAAWlE,IAAI0D,UACnD,IAA6B,iBAAzB+B,KAAK1F,OAAOyd,SAA6B,CACzC,GAAIrC,GAAS,IAAMqzD,CACnBtpE,GAAQO,KAAKqhE,QAAQ35C,SAAShS,GAAU1V,KAAKqhE,QAAQv0D,QAAQ4I,IAAW,MAGxEjW,GAAQO,KAAKqhE,QAAQv0D,QAAQi8D,IAElB,IAAXtpE,IACAO,KAAKqhE,QAAUrhE,KAAKqhE,QAAQhzD,MAAM,EAAG5O,GAAOupE,OAAOhpE,KAAKqhE,QAAQhzD,MAAM5O,EAAQ,IAC9EO,KAAKgoE,oBAAoBzpE,MAAQoJ,GAAW,kBAIhD3H,MAAKgoE,oBAAoBzpE,MAAQoJ,GAAW,kBA3B5CpJ,IACAyB,KAAKgoE,oBAAoBzpE,MAAQoJ,GAAW,aA8BpDpJ,IAAWA,EAAOke,iBAAmBle,EAAOiL,aACmB,IAA/DxJ,KAAKohE,mBAAmBt0D,QAAQvO,EAAOiL,WAAWkM,SAClD1V,KAAKohE,mBAAmB9iE,KAAKC,EAAOiL,WAAWkM,OAEnD,IAAIuzD,IAAc,CAIlB,IAHI1qE,GAAUA,EAAOke,kBAAkG,IAA/Ezc,KAAKohE,mBAAmBt0D,QAAQvO,EAAOC,gBAAgBkX,OAAOzX,cAClGgrE,GAAc,GAEdA,EACA,GAAI1qE,GAAUA,EAAOC,gBAAgBkX,SAAW1V,KAAKwoE,yBAA2B5tE,GAO5E,GANyC,eAApCutE,EAAczrB,mBAA0E,cAApCyrB,EAAczrB,oBAC9D9hD,EAAU6hB,iBAAmBle,EAAOke,kBACrCzc,KAAK6lE,iBAAiBtnE,GACtByB,KAAKwoE,wBAA0BjqE,EAAOC,gBAAgBkX,QAG1DnX,EAAOiL,WAAY,CACnBxJ,KAAK1F,OAAO+J,cAAc6nB,kBAAkB3tB,GAAQ,EACpD,IAAI0W,GAAajV,KAAK1F,OAAOoP,cAAcnL,EAAOiL,YAC9C/J,EAASO,KAAKqhE,UAAuF,IAA5ErhE,KAAKqhE,QAAQv0D,QAAQmI,EAAWjV,KAAK1F,OAAOmE,WAAWlE,IAAI0D,YACpF+B,KAAKqhE,QAAQv0D,QAAQmI,EAAWjV,KAAK1F,OAAOmE,WAAWlE,IAAI0D,aAAe,CAC9E,IAAIgX,EAAWzW,gBAAgBsd,aAAe7G,EAAWzW,gBAAgBsd,YAAYngB,OAAS,IAAgB,IAAX8D,EAC/F,IAAK,GAAI3B,GAAI,EAAGA,EAAImX,EAAWzW,gBAAgBsd,YAAYngB,OAAQmC,IAC3DmX,EAAWzW,gBAAgBsd,YAAYhe,GAAGgE,KAC1CmT,EAAWzW,gBAAgBkX,OAAOzX,aAC9B0qE,EAAW3oE,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQmI,EAAWzW,gBAAgBsd,YAAYhe,GAAGgE,OACtF6mE,EAASn/D,YACrBxJ,KAAKqmE,yBAAyB9nE,EAAQoqE,QAOrDpqE,IAAUA,EAAOke,iBAAmBzc,KAAKwoE,0BAA4BjqE,EAAOC,gBAAgBkX,SAAW9a,IAC5GoF,KAAK6lE,iBAAiBtnE,GACtByB,KAAKwoE,wBAA0BjqE,EAAOC,gBAAgBkX,UAUtEsrD,EAAWvgE,UAAUolE,iBAAmB,SAAU7qD,GAC9C,GAAI/J,GAAQjR,IACZ,IAAIgb,EAAYkC,aAAavhB,OAAS,GAAKqE,KAAKkpE,qBAAuBlpE,KAAKkpE,oBAAoBvtE,OAAS,EAAG,CAKxG,KAHaqf,EAAYkC,aAAauR,KAAK,SAAUlwB,GACjD,MAAO0S,GAAMi4D,oBAA8B,SAAE3qE,KAG7C,OAGR,GACI2vB,GADAi7C,EAAenpE,KAAK1F,OAAO8uE,gBAAgBpuD,EAAY1R,SAEvDzO,qBAAkBsuE,IACjBtuE,oBAAkBsuE,KAAkBtuE,oBAAkBsuE,EAAa3qE,iBACpE0vB,EAAoB,GAAIpxB,MAAKke,EAAYxc,gBAAgB1D,UAAUoG,WAG9DrG,oBAAkBsuE,EAAa3qE,gBAAgB1D,aAChDozB,EAAoB,GAAIpxB,MAAKqsE,EAAa3qE,gBAAgB1D,UAAUoG,WAG5E,IAEIg7C,GACAC,EACAktB,EACAC,EACAC,EANAC,EAAmBxuD,EAAYxc,gBAAgB1D,UAC/CoiB,IAOJ,IADAld,KAAKypE,yBAAyBzuD,EAAakC,GACf,IAAxBA,EAAavhB,OAAjB,EAGKd,oBAAkBqzB,KAAuBrzB,oBAAkB2uE,IAC5Dt7C,EAAkBhtB,UAAYsoE,EAAiBtoE,WAC/Cg7C,EAAiBl8C,KAAK1F,OAAOoE,qBAAqBoC,eAAe0oE,GACjErtB,EAAen8C,KAAK1F,OAAOoE,qBAAqBqE,aAAamrB,EAAmBlT,EAAYxc,iBAC5F8qE,GAAc,IAGdptB,EAAiBl8C,KAAK1F,OAAOoE,qBAAqBoC,eAAeotB,GACjEiuB,EAAen8C,KAAK1F,OAAOoE,qBAAqBqE,aAAaymE,EAAkBxuD,EAAYxc,iBAC3F8qE,GAAc,GAIdC,GADC1uE,oBAAkBqhD,KAAoBrhD,oBAAkBshD,IAAiBD,EAAeh7C,WAAai7C,EAAaj7C,UACpG,EAGAlB,KAAK1F,OAAOoE,qBAAqBwG,YAAYg3C,EAAgBC,EAAc,UAAU,GAAM,EAE9G,KAAK,GAAIr+C,GAAI,EAAGA,EAAIof,EAAavhB,OAAQmC,IACrC,GAAIof,EAAapf,GAAGU,gBAAgBmC,eAChC,GAAI4oE,EAAe,EAAG,CAClB,GAAIzuE,GAAYH,EAAgBuiB,EAAapf,GAAGU,iBAC5C0e,EAAapf,GAAGU,gBAAgB1D,UAAYoiB,EAAapf,GAAGU,gBAAgB1D,UAC5EoiB,EAAapf,GAAGU,gBAAgB1D,UAAYoiB,EAAapf,GAAGU,gBAAgBzD,QAC5EmiB,EAAapf,GAAGU,gBAAgBzD,QAAU,GAAI+B,MAAKoxB,EAAkBjwB,WAErEorE,GADAC,EACctpE,KAAK1F,OAAOoE,qBAAqBmG,WAAW7E,KAAK1F,OAAOoE,qBAAqBoC,eAAehG,EAAWoiB,EAAapf,GAAGU,gBAAiB0e,EAAapf,GAAGU,gBAAgBgD,aAAc+nE,EAAc,SAAUrsD,EAAapf,GAAGU,iBAAiB,GAG/OwB,KAAK1F,OAAOoE,qBAAqBwF,aAAalE,KAAK1F,OAAOoE,qBAAqBqE,aAAajI,EAAWoiB,EAAapf,GAAGU,iBAAkB+qE,EAAc,SAAUrsD,EAAapf,GAAGU,iBAEnMwB,KAAK0pE,gCAAgCxsD,EAAapf,GAAIurE,GAClDrpE,KAAK1F,OAAOwkB,WAAmE,IAAvD9e,KAAKkpE,oBAAoBp8D,QAAQoQ,EAAapf,KACtEkC,KAAKkpE,oBAAoB5qE,KAAK4e,EAAapf,QAG1CjD,qBAAkBsuE,KACvBE,EAAcn7C,EACVhR,EAAapf,GAAGU,gBAAgB1D,UAAUoG,WAAamoE,EAAYnoE,WACnElB,KAAK0pE,gCAAgCxsD,EAAapf,GAAIurE,GAEtDrpE,KAAK1F,OAAOwkB,WAAmE,IAAvD9e,KAAKkpE,oBAAoBp8D,QAAQoQ,EAAapf,KACtEkC,KAAKkpE,oBAAoB5qE,KAAK4e,EAAapf,IAKvDof,GAAavhB,QACbqE,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlR,GAAa,KAUjEgmD,EAAWvgE,UAAUgpE,yBAA2B,SAAUrtC,EAAcutC,GAEpE,IAAK,GADDzsD,GAAekf,EAAalf,aACvBpf,EAAI,EAAGA,EAAIof,EAAavhB,OAAQmC,IACjCof,EAAapf,GAAGU,gBAAgBmC,iBAChCgpE,EAAWrrE,KAAK4e,EAAapf,IACzBof,EAAapf,GAAG2e,iBAChBzc,KAAKypE,yBAAyBvsD,EAAapf,GAAI6rE,KAW/D3I,EAAWvgE,UAAUipE,gCAAkC,SAAU3rE,EAAMmJ,GACnE,GAAI8T,GAAcjd,EACdI,EAAW6c,EAAYxc,gBACvBsK,EAAmB,GAAIhM,MAAKoK,EAAahG,UAC7C,KAAKrG,oBAAkBsD,EAASpD,UAAYF,oBAAkBsD,EAASrD,WAAY,CAC/E,GAAIC,GAAUiF,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB3K,EAAU,KAC1F6B,MAAK1F,OAAO8J,eAAe,UAAWpE,KAAK1F,OAAOoE,qBAAqBqE,aAAahI,EAASigB,EAAYxc,iBAAkBL,GAAU,OAGrI6B,MAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB3K,GAAU,GAAQA,GAAU,GACjItD,oBAAkBsD,EAASnD,WAC5BgF,KAAK1F,OAAOoE,qBAAqB6F,iBAAiByW,EAG1Dhb,MAAK1F,OAAO+J,cAAcwW,gBAAgB9c,GAC1CiC,KAAK1F,OAAO+J,cAAcyW,eAAeE,IAE7CgmD,EAAWvgE,UAAUomE,UAAY,SAAUZ,EAAmB1nE,EAAQud,GAClE,GAAIrc,GACA1B,CASJ,OARIlD,qBAAkB0D,IAClBkB,EAAQO,KAAK1F,OAAO0I,WAAWC,kBAAkBkjE,YAAYr5D,QAAQgP,EAAYha,IACjF/D,EAAOiC,KAAK1F,OAAO0I,WAAWC,kBAAkB2tD,iBAAiBnxD,IAE5D5E,oBAAkBorE,KACvBxmE,EAAQO,KAAK1F,OAAO0I,WAAWC,kBAAkBkjE,YAAYr5D,QAAQgP,EAAY/Z,MACjFhE,EAAOiC,KAAK1F,OAAO0I,WAAWC,kBAAkB2tD,iBAAiBnxD,IAE9D1B,GASXijE,EAAWvgE,UAAUmpE,oBAAsB,SAAUrrE,GACjD,GAAI0S,GAAQjR,KACR6pE,IACJ,KAAKhvE,oBAAkB0D,GAAS,CAC5B,GAAIurE,GAAiBvrE,EAAOC,gBAAgBsd,WACxCguD,IAAkBA,EAAenuE,OAAS,IAC1CkuE,EAAmBC,EAAenwD,OAAO,SAAUta,GAC/C,GAAI9E,GAA+B,iBAA1B0W,EAAM3W,OAAOyd,SAA8BxZ,EAAOC,gBAAgBkX,OACrEnX,EAAOC,gBAAgBqb,WAC7B,OAAOxa,GAAM0C,OAASxH,EAAG0D,cAIrC,MAAO4rE,IAEJ7I,KCp5CP+I,GAA+B,WAC/B,QAASA,GAAc/+B,GACnBhrC,KAAKi4B,UAAY,GACjBj4B,KAAKgqE,kBAAoB,GACzBhqE,KAAKiqE,UAAY,GACjBjqE,KAAKkqE,cAAgB,EACrBlqE,KAAKg+B,mBACLh+B,KAAK1F,OAAS0wC,EACdhrC,KAAKwwB,wBACD+G,gBAAc,OACVC,UAAW2yC,IAEnB1uE,OAAO2iB,OAAOpe,KAAKwwB,wBAAwBmD,OACvC5W,MAAO,OACPkY,OAAQ,OACRkrC,OAAQ,EACR5tB,SAAU,WACV63B,cAAe,SAEnBpqE,KAAKqqE,SAAW,GAAIC,eAAYtqE,KAAK1F,OAAOwL,QAAQvL,IACpDyF,KAAK6sD,iBACL7sD,KAAKq2B,UAAYr2B,KAAKqqE,SAASE,WAC3BhwE,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,SAEjCyF,KAAKq2B,UAAUC,aAAa,SAAU,QACtCt2B,KAAKq2B,UAAUC,aAAa,QAAS,QA4iCzC,MAniCAyzC,GAActpE,UAAU+pE,oBAAsB,SAAUzsE,GAKpD,MAHSA,GAAK0sE,eACRzqE,KAAK1F,OAAOkb,gBAAgBk+C,mBAAqB,EAAM1zD,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,EACrG/rD,KAAK1F,OAAOkb,gBAAgB6+C,iBAAmB,EAAMr0D,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,GAS3G0oD,EAActpE,UAAUosD,eAAiB,WACrC7sD,KAAK0qE,UAAY1qE,KAAK1F,OAAOqwE,wBAC7B3qE,KAAK4qE,WAAc5qE,KAAK1F,0BAA6B,EAAI,EAAI0F,KAAK1F,OAAOuwE,mBACzE7qE,KAAK8qE,mCAETf,EAActpE,UAAUsqE,mBAAqB,SAAUvpE,GACnD,MAAO0R,MAAKsH,MAAMhZ,EACbxB,KAAK1F,OAAOkb,gBAAgBk+C,mBAAsB1zD,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,EAChG/rD,KAAK1F,OAAOkb,gBAAgB6+C,iBAAoBr0D,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,GAAO,GAY5G0oD,EAActpE,UAAUonE,0BAA4B,SAAUmD,EAAiBC,EAAgBnvD,EAAasF,OACtF,KAAdA,IAAwBA,EAAY,EACxC,IACIvM,GADA+yD,IAKA/yD,GAHA7U,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aACjDzsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,cAGzE1sB,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,YACxErsB,KAAK1F,OAAOyO,SAAW/I,KAAKg+B,eAEpC,IAAI0hC,GACAwL,CACJ,IAAIlrE,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aAAc,CAChF,GAAIxX,GAAajV,KAAK1F,OAAOyO,SAAS4Q,OAAO,SAAU5b,GACnD,MAAOA,GAAKS,gBAAgBkX,OAAOzX,aAAe+sE,EAAgBxsE,gBAAgBkX,OAAOzX,aAC1F,GACCmc,EAAYpa,KAAK1F,OAAOyO,SAAS4Q,OAAO,SAAU5b,GAClD,MAAOA,GAAKS,gBAAgBkX,OAAOzX,aAAegtE,EAAezsE,gBAAgBkX,OAAOzX,aACzF,EACHyhE,GAAczqD,EAAWxV,MACzByrE,EAAa9wD,EAAU3a,UAGvBigE,GAAc7qD,EAAe/H,QAAQk+D,GACrCE,EAAar2D,EAAe/H,QAAQm+D,EAExC,IAEIjN,GAFAiI,EAAoB+E,EAAgBxsE,gBACpC4uB,EAAmB69C,EAAezsE,eAetC,IAVIw/D,EAHAh+D,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aACpDzsB,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACzDtX,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,cAAI1sB,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,eAG3K1sB,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACzDtX,KAAK1F,OAAOwX,gBAAkB9R,KAAK1F,OAAO0jC,gBAElD4pC,EAAauD,yBAA2BnN,EAAYlxD,QAAQk+D,GAC5DpD,EAAawD,wBAA0BpN,EAAYlxD,QAAQm+D,KACrCjrE,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,yBACA,IAA3CswD,EAAauD,2BAA6E,IAA1CvD,EAAawD,2BACxC,IAA3CxD,EAAauD,2BAA6E,IAA1CvD,EAAawD,wBAC7D,MAAO,KAaP,IAVAxD,EAAayD,WAAapF,EAAkBzkE,YACxCykE,EAAkBnoD,KAAQ9d,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,EAAKka,EAAkBnoD,KACnG8pD,EAAa0D,UAAYl+C,EAAiB5rB,YACtC4rB,EAAiBtP,KAAQ9d,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,EAAK3+B,EAAiBtP,KACjG8pD,EAAa5mD,YAA0C,IAA5BilD,EAAkBlpD,OAAekpD,EAAkBzkE,YACzE0R,KAAKsH,MAAMxa,KAAK1F,OAAOkb,gBAAgBu2C,iBAAoBka,EAAkBlpD,MAClF6qD,EAAa2D,WAAwC,IAA3Bn+C,EAAiBrQ,OAAeqQ,EAAiB5rB,YACtE0R,KAAKsH,MAAMxa,KAAK1F,OAAOkb,gBAAgBu2C,iBAAoB3+B,EAAiBrQ,MACjF6qD,EAAalI,YAAcA,EAC3BkI,EAAasD,WAAaA,EACR,IAAd9pD,EAAiB,CACjB,GAAI8jB,GAAYllC,KAAK1F,OAAOmqB,iBAAiBif,cAC7CkkC,GAAaxmD,WAAavmB,oBAAkBqqC,IAAcA,EAAU,IAAMA,EAAU,GAAG/H,iBAGvFyqC,GAAaxmD,UAAYA,CAE7BwmD,GAAax3D,KAAO0L,EAAY1L,IAChC,IAAI8W,GAAoC,iBAAzBlnB,KAAK1F,OAAOyd,SAA8BkuD,EAAkBvwD,OAASuwD,EAAkBpsD,YAClG2xD,EAAmC,iBAAzBxrE,KAAK1F,OAAOyd,SAA8BqV,EAAiB1X,OAAS0X,EAAiBvT,WAMnG,OALA+tD,GAAaG,gBAAkB,SAAW7gD,EAAW,QAAUskD,EAC/D5D,EAAa6D,kBAAkBxF,EAAkBzkE,YACjDomE,EAAa6C,iBAAiBr9C,EAAiB5rB,YAC/ComE,EAAa8D,eAAiB9D,EAAayD,WAAazD,EAAa5mD,YACrE4mD,EAAa+D,cAAgB/D,EAAa0D,UAAY1D,EAAa2D,WAC/D1wE,oBAAkBF,EAAgBsrE,KAAuBprE,oBAAkBF,EAAgByyB,IACpF,KAGAw6C,GAWnBmC,EAActpE,UAAUy5B,qBAAuB,SAAU0xC,GACrD,GAAIC,GACAC,IACJ9rE,MAAKq2B,UAAUhD,UAAY,EAC3B,KAAK,GAAI5zB,GAAQ,EAAGA,EAAQmsE,EAAyBjwE,OAAQ8D,IACzDosE,EAAgB7rE,KAAK+rE,yBAAyBH,EAAyBnsE,IACvEO,KAAKq2B,UAAUqB,YAAYm0C,GAC3BC,EAAcxtE,KAAKstE,EAAyBnsE,GAGhD,KAAK,GADDm1B,GAAa50B,KAAK1F,OAAOm5B,oBAAoB4C,UAAUzB,WAClD92B,EAAI,EAAGA,EAAI82B,EAAWj5B,OAAQmC,IAEnC,IAAK,GADDkuE,GAAap3C,EAAW92B,GAAG82B,WACtBnpB,EAAI,EAAGA,EAAIugE,EAAWrwE,OAAQ8P,IAAK,CACxC,GAAIwgE,GAAa,kBAAoBjsE,KAAK1F,OAAOm5B,oBAAoBmnC,kBAAkBkR,EAAchuE,GACrGkuE,GAAWvgE,GAAG6qB,aAAa,aAAc21C,GACzCD,EAAWvgE,GAAG6qB,aAAa,OAAQ,OAG3Ct2B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBs0C,aAAalsE,KAAKwwB,wBAAyBxwB,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBu0C,WACvInsE,KAAKwwB,wBAAwBkH,YAAY13B,KAAKq2B,UAC9C,KAASv4B,EAAI,EAAGA,EAAIkC,KAAKq2B,UAAUjB,SAASz5B,OAAQmC,IAChDkC,KAAKq2B,UAAUjB,SAASt3B,GAAGs3B,SAAS,GAAGkB,aAAa,WAAY,OAUxEyzC,EAActpE,UAAU2rE,kBAAoB,SAAUruE,GAClD,GAAIA,EAAK2hE,YAAc3hE,EAAKmtE,WAAY,CACpC,GAAkB,OAAdntE,EAAKqS,KACL,MAAKrS,GAAKutE,UAAYvtE,EAAKwtE,YAAgBxtE,EAAKstE,WAAattE,EAAKijB,YACvD,UAGA,SAGV,IAAKjjB,EAAKstE,WAAattE,EAAKutE,WAAevtE,EAAKutE,UAAavtE,EAAKstE,WAAattE,EAAKijB,YAAc,GAAM,CACzG,GAAkB,OAAdjjB,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEN,IAAkB,OAAdrS,EAAKqS,KACV,MAAO,cAGV,IAAKrS,EAAKstE,WAAattE,EAAKutE,WAAcvtE,EAAKutE,UAAavtE,EAAKstE,WAAattE,EAAKijB,aAChFjjB,EAAKstE,aAAettE,EAAKutE,WAAavtE,EAAKstE,WAAattE,EAAKutE,UAAY,CAC7E,GAAIvtE,EAAKstE,WAActtE,EAAKutE,UAAYvtE,EAAKwtE,WAAa,IACpC,OAAdxtE,EAAKqS,KACL,MAAO,SAGf,IAAIrS,EAAKstE,WAAattE,EAAKutE,UAAW,CAClC,GAAkB,OAAdvtE,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,UAGf,GAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEN,IAAkB,OAAdrS,EAAKqS,KACV,MAAO,SAEN,IAAkB,OAAdrS,EAAKqS,KACV,MAAO,cAGV,IAAKrS,aAAmBA,EAAKutE,UAAW,CACzC,GAAkB,OAAdvtE,EAAKqS,KACL,MAAO,SAEN,IAAkB,OAAdrS,EAAKqS,KACV,MAAO,SAEN,IAAkB,OAAdrS,EAAKqS,KACV,MAAO,eAId,IAAIrS,EAAK2hE,YAAc3hE,EAAKmtE,WAC7B,GAAKntE,EAAKstE,WAAattE,EAAKutE,WAAevtE,EAAKutE,UAAavtE,EAAKstE,WAAattE,EAAKijB,YAAe,CAC/F,GAAkB,OAAdjjB,EAAKqS,KACL,MAAI,KAAOrS,EAAKutE,WAAavtE,EAAK0tE,gBAC7B1tE,EAAKstE,WAAattE,EAAKijB,YAAc,EAAMjjB,EAAKstE,WAAattE,EAAKijB,aAC5D,UAGA,SAGf,IAAMjjB,EAAKutE,UAAYvtE,EAAKwtE,WAAextE,EAAKstE,WAAattE,EAAKijB,YAAe,CAC7E,GAAkB,OAAdjjB,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,eAId,IAAKrS,EAAKstE,WAAattE,EAAKutE,WAAcvtE,EAAKutE,UAAavtE,EAAKstE,WAAattE,EAAKijB,aAChFjjB,EAAKstE,aAAettE,EAAKutE,WAAavtE,EAAKstE,WAAattE,EAAKutE,UAAY,CAC7E,GAAKvtE,EAAKutE,UAAYvtE,EAAKwtE,YAAgBxtE,EAAKstE,WAAattE,EAAKijB,YAAc,CAC5E,GAAkB,OAAdjjB,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAKrS,GAAKutE,UAAYvtE,EAAKwtE,WAAa,GAAOxtE,EAAgB,WACpD,UAGA,SAGf,IAAkB,OAAdA,EAAKqS,KACL,MAAIrS,GAAKutE,WAAavtE,EAAKstE,WAChB,UAGA,cAId,IAAKttE,EAAKutE,UAAYvtE,EAAKwtE,WAAextE,EAAKstE,WAAattE,EAAKijB,YAAc,CAChF,GAAkB,OAAdjjB,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAIrS,GAAKutE,WAAavtE,EAAKstE,WAChB,UAGA,UAInB,GAAkB,OAAdttE,EAAKqS,KACL,MAAO,cAGV,IAAIrS,EAAKstE,WAAattE,EAAKutE,UAAW,CACvC,GAAkB,OAAdvtE,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,SAEX,IAAkB,OAAdrS,EAAKqS,KACL,MAAO,UAInB,MAAO,OASX25D,EAActpE,UAAU4rE,eAAiB,WACrC,MAAIrsE,MAAK1F,OAAOm6B,oBAAuBz0B,KAAK1F,OAAOk6B,oBACvCx0B,0BAA8BA,yBAChCA,0BAA8BA,KAAyB,oBACvDA,yBAA6BA,KAA0B,sBAerE+pE,EAActpE,UAAU6rE,4BAA8B,SAAUvuE,GAC5D,MAAIA,GAAKstE,aAAettE,EAAKutE,UAClB,GAEHvtE,EAAKutE,UAAYvtE,EAAKstE,YASlCtB,EAActpE,UAAU8rE,2BAA6B,SAAUxuE,GAC3D,MAAIA,GAAKstE,aAAettE,EAAKutE,UACjBvtE,EAAKstE,WAAa,GAEtBttE,EAAKstE,WAAa,IAS9BtB,EAActpE,UAAU+rE,0BAA4B,SAAUzuE,GAC1D,MAAKA,GAAKstE,WAAattE,EAAKijB,YAAejjB,EAAKutE,UACrC,GAEPvtE,EAAKstE,aAAettE,EAAKutE,UAClB,GAENvtE,EAAKstE,WAAattE,EAAKijB,aAAgBjjB,EAAKutE,UACtC,GAEHvtE,EAAKutE,UAAYvtE,EAAKstE,YAQlCtB,EAActpE,UAAUgsE,qBAAuB,SAAUrrD,EAAW5f,EAAa4O,GAC7E,GAAI0iD,GAAqB9yD,KAAK1F,OAAOkY,eAAiB,KAAU3X,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAM,IAChKqrC,EAAuB7/C,KAAKsH,MAAMxa,KAAK1F,OAAO8mB,UAAY0xC,EAC9D,IAAMj4D,oBAAkBmF,KAAK1F,OAAOgnB,gBAAkBF,GAAa,KAASvmB,oBAAkBmF,KAAK1F,OAAOgnB,gBACtGthB,KAAK1F,OAAOgnB,eAAiByxC,IAA2BvxD,EACxD,OACIkrE,SAAU,EACVC,QAAS,EACTC,SAAU,EACVC,QAAS,EAKb,IACIH,IAAYtrD,EAAY,KADD,YAAThR,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,EAAuB,GAAK,IAE9Ku8D,IAAYvrD,EAAY,IAAM,EAC9ByrD,GAAW,GAAKzrD,EAAY,IAAM,EACtC,OAAIA,IAAa,IAETsrD,SAAU,EACVC,QAAS,EACTC,SAAU,EACVC,QAAS,IAIbH,SAAUA,EACVC,QAASA,EACTE,QAASA,IAIrB9C,EAActpE,UAAUqsE,wBAA0B,SAAU/uE,EAAMqS,GAC9D,IAAKpQ,KAAK1F,OAAOkY,iBAAoBzU,EAAK0tE,kBAAmB1tE,EAAK0sE,gBAC7D1sE,EAAK0tE,iBAAmB1tE,EAAK0sE,eAC9B,MAAO,EAEX,QAAQr6D,GACJ,IAAK,UACL,IAAK,UACD,MAAIrS,GAAK0tE,iBACGzrE,KAAK1F,OAAOkb,gBAAgBk+C,mBAAqB,EAGlD1zD,KAAK1F,OAAOkb,gBAAgB6+C,gBAE3C,KAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACD,MAAIt2D,GAAK0tE,gBACEzrE,KAAK1F,OAAOkb,gBAAgBk+C,mBAAqB,GAGhD1zD,KAAK1F,OAAOkb,gBAAgB6+C,gBAE5C,KAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACD,MAAIt2D,GAAK0tE,iBACGzrE,KAAK1F,OAAOkb,gBAAgBk+C,mBAAqB,EAGlD1zD,KAAK1F,OAAOkb,gBAAgB6+C,gBAE3C,KAAK,UACD,MAAIt2D,GAAK0tE,iBACGzrE,KAAK1F,OAAOkb,gBAAgB6+C,iBAG7Br0D,KAAK1F,OAAOkb,gBAAgB6+C,gBAE3C,KAAK,UACL,IAAK,UACD,MAAIt2D,GAAK0tE,gBACEzrE,KAAK1F,OAAOkb,gBAAgB6+C,kBAG3Br0D,KAAK1F,OAAOkb,gBAAgBk+C,mBAAqB,CAEjE,SACI,MAAO,KAInBqW,EAActpE,UAAUssE,4BAA8B,SAAUhvE,GAC5D,GAAIivE,GAAehtE,KAAK1F,OAAOwX,gBAAgBnW,OAAS,EACpDsxE,EAAcjtE,KAAK1F,OAAOmqB,iBAAiBif,cAC/C1jC,MAAKktE,qBAAuBnvE,EAAKotE,yBAA2BptE,EAAKqjB,UACjEphB,KAAKmtE,oBAAsBpvE,EAAKqtE,wBAA0BrtE,EAAKqjB,UAC/DphB,KAAKotE,mBAAqBJ,EAAejvE,EAAKqjB,SAC9C,IAAIisD,GAAqB,CACzB,KAAKrtE,KAAK1F,OAAOk6B,qBAAuBx0B,KAAK1F,OAAO6hC,mBAAoB,CACpEn8B,KAAKktE,qBAAuBltE,KAAKmtE,oBAAsBntE,KAAKotE,mBAAqB,CACjF,KAAK,GAAItvE,GAAI,EAAGA,EAAIkvE,EAAclvE,IAAK,CACnC,GAAIglC,GAAamqC,EAAYnvE,EACzBglC,IAA2C,SAA7BA,EAAWnP,MAAMkB,UAC3Bw4C,EAAqBtvE,EAAKotE,2BAC1BnrE,KAAKktE,sBAAwBD,EAAYnvE,GAAiB,cAE1DuvE,EAAqBtvE,EAAKqtE,0BAC1BprE,KAAKmtE,qBAAuBF,EAAYnvE,GAAiB,cAE7DkC,KAAKotE,oBAAsBH,EAAYnvE,GAAiB,aACxDuvE,QAYhBtD,EAActpE,UAAUsrE,yBAA2B,SAAUhuE,GACzD,GAAIuvE,GAA4BttE,KAAKwsE,0BAA0BzuE,GAC3DwvE,EAA8BvtE,KAAKssE,4BAA4BvuE,GAC/DyvE,EAA6BxtE,KAAKusE,2BAA2BxuE,EACjEiC,MAAK+sE,4BAA4BhvE,EACjC,IAAIk3B,GAASj1B,KAAKqsE,iBACd7qE,IAAczD,EAAK0sE,eACnBoB,EAAgB7rE,KAAKytE,YAAY1vE,EAAMiC,KAAKosE,kBAAkBruE,GAAOk3B,GAErEy4C,EADc1tE,KAAKytE,YAAY1vE,EAAMiC,KAAKosE,kBAAkBruE,GAAOk3B,GACnCjE,GAEpC,IAAIhxB,KAAK1F,OAAOkY,eAAgB,CAC5B,GAAIm7D,GAAiB3tE,KAAK1F,OAAO8mB,UAAY,GAAM,CAC/BrjB,GAAK0tE,iBAAmB1tE,EAAK0sE,eAAkB,EAAI1sE,EAAK0tE,iBAAmBkC,EAC3F5vE,EAAK0sE,eAAiBkD,EAAgB,EAE9C,GAAIC,GAAc/B,EAAc52C,OAC5B44C,EAAiB,EACjBC,EAAS,EACTC,EAAwB,EACxBC,EAAuB,EACvBtrE,EAAQ,CACZ,IAAI1C,KAAK1F,OAAOm6B,qBAAuBz0B,KAAK1F,OAAOk6B,oBAAqB,CACpE,IAAK,GAAI12B,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOwX,gBAAgBnW,OAAQmC,IACD,SAA/CkC,KAAK1F,OAAO06B,cAAcl3B,GAAG61B,MAAMkB,SAC/BnyB,EAAQ3E,EAAK2hE,cACbh9D,IACAqrE,GAAgD/tE,KAAK1F,OAAO06B,cAAcl3B,GAAGq/B,aAIzFz6B,GAAQ,CACR,KAAK,GAAI+I,GAAI,EAAGA,EAAIzL,KAAK1F,OAAOwX,gBAAgBnW,OAAQ8P,IACD,SAA/CzL,KAAK1F,OAAO06B,cAAcvpB,GAAGkoB,MAAMkB,SAC/BnyB,EAAQ3E,EAAKmtE,aACbxoE,IACAsrE,GAA8ChuE,KAAK1F,OAAO06B,cAAcvpB,GAAG0xB,cAK3F,GAAIn9B,KAAK1F,OAAOwX,gBAAgB/T,EAAK2hE,cAAgB1/D,KAAK1F,OAAOwX,gBAAgB/T,EAAKmtE,aAClFlrE,KAAK1F,OAAOqgB,sBAAuB,CACnC,GAAIszD,GAAqBjuE,KAAK1F,OAAOwX,gBAAgB/T,EAAK2hE,aAAajjD,gBACnEyxD,EAAmBluE,KAAK1F,OAAOwX,gBAAgB/T,EAAKmtE,YAAYzuD,gBAChE0xD,EAAqBnuE,KAAK1F,OAAOwX,gBAAgB/T,EAAK2hE,aAAalhE,gBAAgBmC,eACnFytE,EAAmBpuE,KAAK1F,OAAOwX,gBAAgB/T,EAAKmtE,YAAY1sE,gBAAgBmC,eAChFmhB,GAAU,GACRmsD,GAAsBE,IAAwBD,GAAuBA,GAAoBE,IAC1FH,GAAwBA,GAAsBE,GAAsBC,GAAoBF,IACpFD,IAAuBC,KAC5BpsD,GAAU,GAEVA,IACMmsD,IAAuBE,GAAwBD,IAAqBE,EACtEN,GAAU,GAEFG,IAAuBE,GAAwBD,IAAqBE,IACxErwE,EAAKmtE,WAAantE,EAAK2hE,aAClBuO,GAAsBC,EACvBL,GAAkB,IAGlBA,EAAiB,GACjBC,GAAU,IAITG,IAAuBC,EACxBL,GAAkB,IAGlBA,EAAiB,GACjBC,GAAU,KAIlB9tE,KAAK1F,OAAOwX,gBAAgB/T,EAAK2hE,aAAalhE,gBAAgBgD,YAC1DzD,EAAK2hE,YAAc3hE,EAAKmtE,YACxB4C,GAAU,GACVD,EAAiB,IAEE,OAAd9vE,EAAKqS,MAA+B,OAAdrS,EAAKqS,OAChC09D,GAAU,GAGT9tE,KAAK1F,OAAOwX,gBAAgB/T,EAAKmtE,YAAY1sE,gBAAgBgD,YAC9DzD,EAAK2hE,YAAc3hE,EAAKmtE,YACxB4C,EAAS,EACTD,GAAkB,IAEb9vE,EAAK2hE,YAAc3hE,EAAKmtE,aACX,OAAdntE,EAAKqS,MAA+B,OAAdrS,EAAKqS,OAC3B09D,GAAU,KAKd/vE,EAAK2hE,YAAc3hE,EAAKmtE,YAAciD,IAAuBC,GAC7DN,EAAS,EACTD,GAAkB,IAEb9vE,EAAKmtE,WAAantE,EAAK2hE,cAAgByO,GAAsBC,IAClEN,EAAS,EACTD,GAAkB,IAG1BH,GAAqBI,GAG7B,GAAIO,GAAWruE,KAAKosE,kBAAkBruE,EACtC,IAAIswE,EAAU,CAEV,GAAIj+D,GAAOpQ,KAAKosE,kBAAkBruE,GAC9BuwE,EAAatuE,KAAK1F,OAAO8mB,UACzBmtD,EAAcvuE,KAAKysE,qBAAqB6B,EAAY9sE,EAAa4O,EACrEpQ,MAAKi4B,UAAYj4B,KAAK1F,OAAO24B,UAAY,cAAgBjzB,KAAK1F,OAAOkqB,6BAA+BxkB,KAAK1F,OAAOsX,eAAeohB,mBAAqBhzB,KAAK1F,OAAOsX,eAAeukB,oBAAsB,oBAAsB,GAC3Nn2B,KAAKwuE,YAAc,gBAAkBzwE,EAAKgqE,gBAC1C/nE,KAAKyuE,YAAczuE,KAAKqqE,SAASqE,aAC7Bn0E,GAAIyF,KAAKwuE,YACTv2C,UAAWj4B,KAAKi4B,UAChBtE,MAAO,yBACPg7C,M3BliBoB,+B2BqiBxB3uE,KAAK4uE,cAAgB5uE,KAAKqqE,SAASwE,UAC/BF,M3BpiBc,mB2BqiBdr7D,EAAGtT,KAAKgqE,kBACR8E,KAAM,cACNC,eAAgB/uE,KAAK4qE,aAGzB5qE,KAAKgvE,cAAgBhvE,KAAKqqE,SAASwE,UAC/Bv7D,EAAGtT,KAAKiqE,UACR0E,M3BziBgB,0B2B2iBpB,IAAIpR,GAAgBv9D,iBAAqBA,KAAK1F,0BAA6B0F,KAAK0qE,UAAY,EAC5F1qE,MAAK4uE,cAAcj7C,MAAMs7C,OAAS1R,EAClCv9D,KAAKgvE,cAAcr7C,MAAMm7C,KAAOvR,EAEhCv9D,KAAKyuE,YAAY/2C,YAAY13B,KAAK4uE,eAClC5uE,KAAKyuE,YAAY/2C,YAAY13B,KAAKgvE,cAClC,IAAIE,GAAgBlvE,KAAK8sE,wBAAwB/uE,EAAMswE,EA4DvD,IA3DiB,YAAbA,IACAruE,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EAC/CzqE,KAAKmvE,GAAKpxE,EAAK2tE,gBAAkB3tE,EAAK0tE,iBAAmB,EAAK1tE,EAAK0sE,gBAAkB,EAAI,GACzFzqE,KAAKovE,GAAKrxE,EAAK0tE,gBACP1tE,EAAKutE,WAAavtE,EAAKstE,WAAattE,EAAKijB,YAAc,IAAOhhB,KAAK4qE,WAAc,GAAM,EACxF7sE,EAAKutE,WAAavtE,EAAKstE,WAAattE,EAAKijB,YAAc,IAAOhhB,KAAK4qE,WAAc,GACxF5qE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WACnE5qE,KAAKgqE,kBAAoB,KAAOhqE,KAAKmvE,GAAK,KAAOnvE,KAAKqvE,GAAKH,GAAiB,OAAUlvE,KAAKmvE,GAAKnvE,KAAKovE,GAAMb,EAAqB,SAAK,KAAOvuE,KAAKqvE,GAAKH,GAAiB,OAAUlvE,KAAKmvE,GAAKnvE,KAAKovE,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,UAC/Q,OAAUvuE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,UACrHvuE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,UAC7H,OAAUvuE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,UACzI,OAAUvuE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAK,EAAKf,EAAsB,UAAK,MAEjH,YAAbF,IACAruE,KAAKmvE,GAAKpxE,EAAKstE,WACfrrE,KAAKovE,GAAKrxE,EAAKijB,aAAejjB,EAAK0tE,iBAAmB,EAAI,GAC1DzrE,KAAKuvE,GAAKvvE,KAAKovE,IAAMrxE,EAAK0tE,gBAAkB,GAAK,IACjDzrE,KAAKwvE,GAAKzxE,EAAKijB,aAAgBjjB,EAAK2tE,eAAiB3tE,EAAKutE,UAAa,IACvEtrE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAcC,EAAiB7tE,KAAKwqE,oBAAoBzsE,GAAQiC,KAAK4qE,WAC/E5qE,KAAKyvE,GAAKzvE,KAAKwqE,oBAAoBzsE,GACnCiC,KAAK0vE,GAAO1vE,KAAK1F,OAAOk6B,oBACnBx0B,KAAKqvE,GAAKrvE,KAAKsvE,IAAOtvE,KAAKqvE,GAAKrvE,KAAKsvE,IAAMvxE,EAAKqjB,UADP4sD,EAE9ChuE,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAOpvE,KAAKqvE,GAAKH,GAAiB,QAAelvE,KAAKmvE,GAAKnvE,KAAKuvE,IAAM,KAAOvvE,KAAKqvE,GAAKH,GAAiB,OAASlvE,KAAKmvE,GAAKnvE,KAAKuvE,IAAM,IAAMvvE,KAAK0vE,GACnM,OAAU1vE,KAAKmvE,GAAKnvE,KAAKwvE,GAAMjB,EAAqB,SAAK,IAAMvuE,KAAK0vE,GAAK,OAAU1vE,KAAKmvE,GAAKnvE,KAAKwvE,GAAMjB,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAMlB,EAAsB,UAAK,OAAUvuE,KAAKmvE,GAAKnvE,KAAKwvE,GAAK,GAAMjB,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAMlB,EAAsB,UACnUvuE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAKnvE,KAAKwvE,GAAK,GAAMjB,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAMlB,EAAsB,UACvI,OAAUvuE,KAAKmvE,GAAKnvE,KAAKwvE,GAAK,GAAMjB,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKtvE,KAAKyvE,IAAM,EAAIzvE,KAAK4qE,YAAe2D,EAAsB,UACnJ,OAAUvuE,KAAKmvE,GAAKnvE,KAAKwvE,GAAK,GAAMjB,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAK,EAAIzvE,KAAK4qE,WAAc2D,EAAsB,UAAK,MAE7I,YAAbF,IACAruE,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EAC/CzqE,KAAK2vE,OAASjC,EACd1tE,KAAKmvE,GAAMpxE,EAAKutE,WAAavtE,EAAK0sE,gBAAkB,EAAI,IAAM1sE,EAAK0tE,gBAAkB,EAAI,GAAM,GAC/FzrE,KAAKovE,GAAMrxE,EAAK2tE,eAAiB3tE,EAAKutE,UAAa,GACnDtrE,KAAKqvE,GAAKrvE,KAAK2vE,OACf3vE,KAAKsvE,GAAKtvE,KAAK2vE,OAAS/B,EAAcC,EAAiB7tE,KAAKwqE,oBAAoBzsE,GAAQiC,KAAK4qE,WACzF5qE,KAAKkqE,cACTlqE,KAAKyvE,GAAKzvE,KAAKwqE,oBAAoBzsE,GACnCiC,KAAK0vE,GAAK1vE,KAAKsvE,GAAMtvE,KAAKsvE,GAAKvxE,EAAKqjB,UACpCphB,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAK,IAAM,KAAQnvE,KAAKqvE,GAAKH,EAAiBX,EAAsB,UAAK,MAAQvuE,KAAKmvE,GAAK,KAAQnvE,KAAKqvE,GAAKH,EAAiBX,EAAsB,UAAK,MAAQvuE,KAAKmvE,GAAK,IAAMnvE,KAAK0vE,GACxN,OAAS1vE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,IAAMpvE,KAAK0vE,GAAK,OAAS1vE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAOpvE,KAAKsvE,GAAKtvE,KAAKyvE,IAAM,OAASzvE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,IAAM,KAAOpvE,KAAKsvE,GAAKtvE,KAAKyvE,IACrKzvE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAKH,EAAiBX,EAAsB,UACzH,OAAUvuE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,YAAcsE,EAAiBX,EAAsB,UACrI,OAAUvuE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,WAAasE,EAAiBX,EAAsB,UAAK,MAE/H,YAAbF,IACAruE,KAAK2vE,OAASjC,EACd1tE,KAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAKmvE,GAAKpxE,EAAK2tE,gBAAkB3tE,EAAK0sE,gBAAkB,EAAI,IAAM1sE,EAAK0tE,gBAAkB,EAAI,GAC7FzrE,KAAKovE,GAAKrxE,EAAKutE,UAAYvtE,EAAK2tE,eAAiB,GACjD1rE,KAAKqvE,GAAKrvE,KAAK2vE,QAAU5xE,EAAK0sE,gBAAkB,EAAI,GACpDzqE,KAAKsvE,GAAKtvE,KAAK2vE,OAAS/B,EAAcC,EAAiB7tE,KAAK4qE,WAAa,EAAI5qE,KAAKkqE,cAClFlqE,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,IAAM,KAAQpvE,QAAWuuE,EAAsB,UAAK,OAASvuE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAQpvE,QAAWuuE,EAAsB,UAAK,OAASvuE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAOpvE,KAAKsvE,GAAKJ,GAChO,MAAQlvE,KAAKmvE,GAAK,KAAOnvE,KAAKsvE,GAAKJ,GACvClvE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,QAAWuuE,EAAsB,UACnH,OAAUvuE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,YAAe2D,EAAsB,UAC/H,OAAUvuE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAMb,EAAqB,SAAK,KAAQvuE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,WAAc2D,EAAsB,UAAK,MAEzH,YAAbF,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,EAAIA,EAAqB,OACjGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAK2vE,OAAS/B,EAAc5tE,KAAKkqE,cAAgB2D,EACjD7tE,KAAK6vE,OAASnC,EACd1tE,KAAKmvE,GAAKpxE,EAAKstE,WAAa,GAC5BrrE,KAAKovE,GAAKrxE,EAAKutE,UAAYvtE,EAAKstE,WAChCrrE,KAAKqvE,GAAKrvE,KAAK6vE,QAAU9xE,EAAK0sE,eAAiB,EAAI,GACnDzqE,KAAKsvE,IAAOvxE,EAAK0sE,eAEZzqE,KAAK1F,OAAOkb,gBAAgB6+C,iBAAoBr0D,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,EAF9DrhB,KAAK1F,OAAOkb,gBAAgBk+C,mBAC1D1zD,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,GACqD/rD,KAAK2vE,OAC7G3vE,KAAKgqE,kBAAoB,MAAShqE,KAAKmvE,GAAKnvE,KAAKovE,GAAMQ,GAAa,IAAO5vE,QAAW,MAAQA,KAAKmvE,GAAK,IAAOnvE,QAC3G,MAAQA,KAAKmvE,GAAK,IAAOnvE,QAAW,OAASA,KAAKmvE,GAAK,IAAM,IAAOnvE,KAAQ,GAChFA,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,EAAKQ,GAAa,IAAO5vE,QACnE,OAAUA,KAAKmvE,GAAKnvE,KAAKovE,GAAMQ,GAAa,KAAO5vE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,aACvE,OAAU5qE,KAAKmvE,GAAKnvE,KAAKovE,GAAMQ,GAAa,KAAO5vE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,YAAc,KAe5F,GAbiB,YAAbyD,IACAruE,KAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EACjGzqE,KAAK2vE,OAAS/B,EAAc5tE,KAAKkqE,cAAgB2D,GAAkB7tE,KAAK4qE,WAAa,GACrF5qE,KAAKmvE,GAAKpxE,EAAKutE,UAAY,GAC3BtrE,KAAKqvE,GAAK3B,EACV1tE,KAAKovE,GAAKrxE,EAAKstE,WAAattE,EAAKutE,UAAY,GAC7CtrE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKrvE,KAAK2vE,OACzB3vE,KAAKgqE,kBAAoB,MAAShqE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,IAAOvuE,QAAW,MAAQA,KAAKmvE,GAAK,IAAOnvE,QACnH,MAAQA,KAAKmvE,GAAK,KAAOnvE,KAAKsvE,GAAKJ,GAAiB,OAASlvE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAOpvE,KAAKsvE,GAAKJ,GACvGlvE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,IAAOvuE,QACvE,OAAUA,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAOvuE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,aAC/E,OAAU5qE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAOvuE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,YAAc,MAEnF,YAAbyD,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,EAAIA,EAAqB,OACjGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EACjGzqE,KAAK2vE,OAAS/B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WACvE5qE,KAAKmvE,GAAK3B,EACVxtE,KAAKovE,GAAK9B,EAA4B,EACtCttE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKrvE,KAAK2vE,OACzB3vE,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,IAAOpvE,QAAW,MAAQA,KAAKmvE,GAAK,IAAOnvE,QAAW,MAAQA,KAAKmvE,GAAK,KAAOnvE,KAAKsvE,GAAKf,EAAsB,SAAIW,GACrK,OAAUlvE,KAAKmvE,GAAK5B,EAA+BqC,GAAa,KAAO5vE,KAAKsvE,GAAKf,EAAsB,SAAIW,GAC/GlvE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAK5B,EAA8B,EAAKqC,GAAa,KAAQ5vE,QAAWuuE,EAAsB,SAAIW,GAC7H,OAAUlvE,KAAKmvE,GAAK5B,EAA+BqC,GAAa,KAAQ5vE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,SAAIW,GACrI,OAAUlvE,KAAKmvE,GAAK5B,EAA+BqC,GAAa,KAAQ5vE,KAAKsvE,GAAK,EAAItvE,KAAK4qE,WAAc2D,EAAsB,SAAIW,GAAiB,KAe5J,GAbiB,YAAbb,IACAruE,KAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EACjGzqE,KAAK2vE,OAAS/B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WACvE5qE,KAAKmvE,GAAKpxE,EAAKutE,UAAY,GAC3BtrE,KAAKovE,GAAKrxE,EAAKstE,WAAattE,EAAKutE,UAAY,GAC7CtrE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKrvE,KAAK2vE,OACzB3vE,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,IAAOpvE,QAAW,MAAQA,KAAKmvE,GAAK,IAAOnvE,QAAW,MAAQA,KAAKmvE,GAAK,KAAOnvE,KAAKsvE,GAAKf,EAAsB,SAAIW,GACrK,OAAUlvE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAOvuE,KAAKsvE,GAAKf,EAAsB,SAAIW,GACnGlvE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,QAAWuuE,EAAsB,SAAIW,GAC7G,OAAUlvE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,SAAIW,GACzH,OAAUlvE,KAAKmvE,GAAK,GAAMZ,EAAqB,SAAK,KAAQvuE,KAAKsvE,GAAK,EAAItvE,KAAK4qE,WAAc2D,EAAsB,SAAIW,GAAiB,MAE/H,YAAbb,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAiBnsE,EAAK0sE,eAAiB,EAAI,EAClGzqE,KAAKmvE,GAAKpxE,EAAK4tE,cACf3rE,KAAKovE,GAAKrxE,EAAK2tE,gBAAkB3tE,EAAK0tE,iBAAmB,EAAI,GAC7DzrE,KAAKuvE,GAAKxxE,EAAK0tE,gBAAkB,GAAK,GACtCzrE,KAAKwvE,GAAKzxE,EAAK0sE,eAAiB,EAAI,EACpCzqE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WAAa,EAChF5qE,KAAKgqE,kBAAoB,KAAOhqE,KAAKovE,GAAK,IAAOpvE,QAAW,OAASA,KAAKovE,GAAKpvE,KAAKuvE,IAAM,IAAOvvE,QAAW,OAASA,KAAKovE,GAAKpvE,KAAKuvE,IAAM,KAAQvvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GAC7L,OAASlvE,KAAKmvE,GAAKnvE,KAAKwvE,IAAM,KAAQxvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GACzFlvE,KAAKiqE,UAAY,MAASjqE,QAAW4vE,GAAa,KAAQ5vE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GACrG,OAAUlvE,KAAKmvE,GAAK,EAAKS,GAAa,KAAQ5vE,KAAKqvE,GAAKrvE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,SAAIW,GACrH,OAAUlvE,KAAKmvE,GAAK,EAAKS,GAAa,KAAQ5vE,KAAKqvE,GAAKrvE,KAAKsvE,GAAK,EAAItvE,KAAK4qE,WAAc2D,EAAsB,SAAIW,GAAiB,KAE5I,GAAiB,YAAbb,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAiBnsE,EAAK0sE,eAAiB,EAAI,EAClGzqE,KAAKmvE,GAAKpxE,EAAK2tE,eACf1rE,KAAKovE,GAAKrxE,EAAK4tE,eAAiB5tE,EAAK0tE,gBAAkB,GAAK,IAC5DzrE,KAAKuvE,GAAKxxE,EAAK4tE,eAAiB5tE,EAAK0sE,eAAiB,EAAI,GAC1DzqE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WAAa,CAC5EkF,GAAS9vE,KAAK1F,OAAOkY,eAAiB,EAAIo9D,CAC9C5vE,MAAKgqE,kBAAoB,KAAOhqE,KAAKmvE,GAAK,IAAOnvE,QAAW,MAAQA,KAAKovE,GAAK,IAAOpvE,QAAW,MAAQA,KAAKovE,GAAK,KAAQpvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GACrK,MAAQlvE,KAAKuvE,GAAK,KAAQvvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GAC7ElvE,KAAKiqE,UAAY,MAASjqE,KAAKuvE,GAAK,EAAKO,GAAU,KAAQ9vE,KAAKqvE,GAAKrvE,KAAKsvE,GAAMf,EAAsB,SAAIW,GACtG,OAASlvE,KAAKuvE,GAAKO,GAAU,KAAQ9vE,KAAKqvE,GAAKrvE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,SAAIW,GAC5G,OAASlvE,KAAKuvE,GAAKO,GAAU,KAAQ9vE,KAAKqvE,GAAKrvE,KAAKsvE,GAAK,EAAItvE,KAAK4qE,WAAc2D,EAAsB,SAAIW,GAAiB,KAEnI,GAAiB,YAAbb,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAKmvE,GAAKpxE,EAAK4tE,cACf3rE,KAAKovE,GAAKpvE,KAAKmvE,IAAMpxE,EAAK0sE,eAAiB,EAAI,GAC/CzqE,KAAKuvE,GAAKxxE,EAAK2tE,eAAiB3tE,EAAK4tE,eAAiB5tE,EAAK0sE,eAAiB,GAAK,IACjFzqE,KAAKwvE,GAAKzxE,EAAK2tE,gBAAkB3tE,EAAK0tE,iBAAmB,EAAI,GAC7DzrE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WAAa,EAChF5qE,KAAKgqE,kBAAoB,KAAOhqE,KAAKovE,GAAK,IAAOpvE,QAAW,OAASA,KAAKovE,GAAKpvE,KAAKuvE,IAAM,IAAOvvE,QAAW,OAASA,KAAKovE,GAAKpvE,KAAKuvE,IAAM,KAAOvvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKJ,GACjK,MAAQlvE,KAAKwvE,GAAK,KAAOxvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKJ,GACjDlvE,KAAKiqE,UAAY,MAAQjqE,KAAKmvE,GAAKS,GAAa,IAAO5vE,QACnD,OAAUA,KAAKmvE,GAAK,EAAKS,GAAa,KAAO5vE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,aACjE,OAAU5qE,KAAKmvE,GAAK,EAAKS,GAAa,KAAO5vE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,YAAc,KAEtF,GAAiB,YAAbyD,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAKmvE,GAAKpxE,EAAK2tE,eACf1rE,KAAKovE,GAAKrxE,EAAK4tE,eAAiB5tE,EAAK0sE,eAAiB,EAAI,GAC1DzqE,KAAKuvE,GAAKvvE,KAAKovE,IAAMrxE,EAAK0sE,eAAiB,GAAK,IAChDzqE,KAAKqvE,GAAK3B,EACV1tE,KAAKsvE,GAAK1B,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WAAa,CAC5EkF,GAAS9vE,KAAK1F,OAAOkY,eAAiB,EAAIo9D,CAC9C5vE,MAAKgqE,kBAAoB,KAAOhqE,KAAKovE,GAAK,IAAOpvE,QAAW,MAAQA,KAAKuvE,GAAK,IAAOvvE,QAAW,MAAQA,KAAKuvE,GAAK,KAAOvvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKJ,GACzI,MAAQlvE,KAAKmvE,GAAK,KAAOnvE,KAAKqvE,GAAKrvE,KAAKsvE,GAAKJ,GACjDlvE,KAAKiqE,UAAY,MAASjqE,KAAKovE,GAAK,EAAKU,GAAU,IAAO9vE,QACtD,OAASA,KAAKovE,GAAKU,GAAU,KAAO9vE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,aACxD,OAAS5qE,KAAKovE,GAAKU,GAAU,KAAO9vE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,YAAc,KAE7E,GAAiB,YAAbyD,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAiBnsE,EAAK0sE,gBAAkB,EAAI,EACnGzqE,KAAK2vE,OAAU3vE,KAAKkqE,cAAgB0D,EAAcC,EAAiB7tE,KAAKwqE,oBAAoBzsE,IAASiC,KAAK4qE,WAAa,GACvH5qE,KAAK6vE,OAASnC,EACd1tE,KAAKmvE,GAAKpxE,EAAKstE,WAAa,GAC5BrrE,KAAKovE,GAAKpvE,KAAKmvE,IAAOpxE,EAAK4tE,cAAgB5tE,EAAKstE,WAAc,IAC9DrrE,KAAKuvE,GAAKvvE,KAAKovE,IAAMrxE,EAAK0sE,eAAiB,GAAK,IAChDzqE,KAAKqvE,GAAKrvE,KAAK6vE,OACf7vE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKrvE,KAAK2vE,OACzB3vE,KAAKyvE,GAAKzvE,KAAKwqE,oBAAoBzsE,GACnCiC,KAAK0vE,GAAK1vE,KAAKsvE,GAAMtvE,KAAKsvE,GAAKvxE,EAAKqjB,SAChC0uD,GAAS9vE,KAAK1F,OAAOkY,eAAiB,EAAIo9D,CAC9C5vE,MAAKgqE,kBAAoB,KAAOhqE,KAAKovE,GAAK,KAAQpvE,QAAWuuE,EAAsB,UAAK,MAAQvuE,KAAKuvE,GAAK,KAAQvvE,QAAWuuE,EAAsB,UAAK,MAAQvuE,KAAKuvE,GAAK,IAAMvvE,KAAK0vE,GAAK,MAAQ1vE,KAAKmvE,GAAK,IAAMnvE,KAAK0vE,GACnN,MAAQ1vE,KAAKmvE,GAAK,KAAQnvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAMP,GAAiB,OAASlvE,KAAKmvE,GAAK,IAAM,KAAQnvE,KAAKsvE,GAAKtvE,KAAKyvE,GAAMP,GAC1HlvE,KAAKiqE,UAAY,MAASjqE,KAAKovE,GAAK,EAAKU,GAAU,KAAQ9vE,QAAWuuE,EAAsB,UACxF,OAASvuE,KAAKovE,GAAKU,GAAU,KAAQ9vE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,YAAe2D,EAAsB,UAC9F,OAASvuE,KAAKovE,GAAKU,GAAU,KAAQ9vE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,WAAc2D,EAAsB,UAAK,KAEzG,GAAiB,YAAbF,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAK2vE,OAAU5xE,EAAKstE,YAActtE,EAAK4tE,eAAiB5tE,EAAK0tE,gBAAkB,GAAK,KAAQ,EAC5FzrE,KAAK6vE,OAASnC,EACd1tE,KAAKmvE,GAAKpxE,EAAK4tE,cACf3rE,KAAKovE,GAAKpvE,KAAKmvE,IAAMpxE,EAAK0sE,eAAiB,EAAI,GAC/CzqE,KAAKuvE,GAAKvvE,KAAKovE,IAAMrxE,EAAK0sE,eAAiB,GAAK,IAChDzqE,KAAKqvE,GAAKrvE,KAAK6vE,OACf7vE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKzB,EAAcC,GAAkB7tE,KAAK4qE,WAAa,GAAK5qE,KAAKkqE,cAChFlqE,KAAKgqE,kBAAoB,KAAOhqE,KAAKovE,GAAK,IAAOpvE,QAAW,MAAQA,KAAKuvE,GAAK,IAAOvvE,QACjF,MAAQA,KAAKuvE,GAAK,KAAOvvE,KAAKsvE,GAAKJ,GAAiB,OAASlvE,KAAKuvE,GAAKvvE,KAAK2vE,QAAU,KAAO3vE,KAAKsvE,GAAKJ,GAC3GlvE,KAAKiqE,UAAY,MAASjqE,KAAKovE,GAAK,EAAKQ,GAAa,IAAO5vE,QACzD,OAASA,KAAKovE,GAAKQ,GAAa,KAAO5vE,KAAKqvE,IAAM,EAAIrvE,KAAK4qE,aAC3D,OAAS5qE,KAAKovE,GAAKQ,GAAa,KAAO5vE,KAAKqvE,GAAK,EAAIrvE,KAAK4qE,YAAc,KAEhF,GAAiB,YAAbyD,EAAwB,CACpBuB,EAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgBnsE,EAAK0sE,eAAiB,EAAI,EACjGzqE,KAAK2vE,OAAS/B,EAAcC,EAAiB7tE,KAAKwqE,oBAAoBzsE,GAAQiC,KAAKkqE,cAAgBlqE,KAAK4qE,WACxG5qE,KAAK6vE,OAAS7vE,KAAKwqE,oBAAoBzsE,GACvCiC,KAAKmvE,GAAKpxE,EAAKstE,WAAa,GAC5BrrE,KAAKqvE,GAAK3B,EACV1tE,KAAKovE,GAAMrxE,EAAK4tE,cAAgB5tE,EAAKstE,WAAc,GACnDrrE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKrvE,KAAK2vE,OACzB3vE,KAAKuvE,GAAMxxE,EAAK4tE,cAAgB5tE,EAAKstE,WAAc,GACnDrrE,KAAKyvE,GAAKzvE,KAAKsvE,GAAMtvE,KAAKsvE,GAAKvxE,EAAKqjB,SACpC,IAAI0uD,GAAS9vE,KAAK1F,OAAOkY,eAAiB,EAAIo9D,CAC9C5vE,MAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAK,IAAM,KAAOnvE,KAAKqvE,GAAKH,GAAiB,MAAQlvE,KAAKmvE,GAAK,KAAOnvE,KAAKqvE,GAAKH,GAAiB,MAAQlvE,KAAKmvE,GAAK,IAAMnvE,KAAKyvE,GAChK,OAASzvE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,IAAMpvE,KAAKyvE,GAAK,OAASzvE,KAAKmvE,GAAKnvE,KAAKovE,IAAM,KAAQpvE,KAAKsvE,GAAKtvE,KAAK6vE,OAAUtB,EAAsB,UAAK,OAASvuE,KAAKmvE,GAAKnvE,KAAKuvE,IAAM,KAAQvvE,KAAKsvE,GAAKtvE,KAAK6vE,OAAUtB,EAAsB,UACjOvuE,KAAKiqE,UAAY,MAASjqE,KAAKmvE,GAAKnvE,KAAKuvE,GAAK,EAAKO,GAAU,KAAQ9vE,KAAKsvE,GAAKtvE,KAAK6vE,OAAUtB,EAAsB,UAChH,OAAUvuE,KAAKmvE,GAAKnvE,KAAKuvE,GAAMO,GAAU,KAAQ9vE,KAAKsvE,GAAKtvE,KAAK6vE,QAAU,EAAI7vE,KAAK4qE,YAAe2D,EAAsB,UACxH,OAAUvuE,KAAKmvE,GAAKnvE,KAAKuvE,GAAMO,GAAU,KAAQ9vE,KAAKsvE,GAAKtvE,KAAK6vE,OAAS,EAAI7vE,KAAK4qE,WAAc2D,EAAsB,UAAK,KAEnI,GAAiB,YAAbF,EAAwB,CACxB,GAAIuB,GAAuC,IAA3BrB,EAAqB,QAAUA,EAAqB,QAAI,GAAKA,EAAqB,OAClGvuE,MAAKkqE,cAAgBlqE,KAAK1F,OAAOkY,eAAiBxS,KAAKkqE,cAAgB,EACvElqE,KAAKmvE,GAAKpxE,EAAK4tE,cACf3rE,KAAKqvE,GAAK3B,EACV1tE,KAAKovE,GAAMrxE,EAAKstE,WAAattE,EAAK4tE,cAClC3rE,KAAKsvE,GAAKtvE,KAAKqvE,GAAKzB,EAAc5tE,KAAKkqE,cAAgB2D,EAAiB7tE,KAAK4qE,WAC7E5qE,KAAKgqE,kBAAoB,MAAQhqE,KAAKmvE,GAAKnvE,KAAKovE,GAAK,GAAK,IAAOpvE,QAAW,OAASA,KAAKmvE,GAAKnvE,KAAKovE,GAAK,IAAM,IAAOpvE,QAClH,OAASA,KAAKmvE,GAAKnvE,KAAKovE,GAAK,IAAM,KAAOpvE,KAAKsvE,GAAKf,EAAsB,SAAIW,GAAiB,OAASlvE,KAAKmvE,GAAK,GAAK,KAAOnvE,KAAKsvE,GAAKf,EAAsB,SAAIW,GACtKlvE,KAAKiqE,UAAY,MAAQjqE,KAAKmvE,GAAKS,GAAa,KAAQ5vE,QAAWuuE,EAAsB,SAAIW,GACzF,OAAUlvE,KAAKmvE,GAAK,EAAKS,GAAa,KAAQ5vE,KAAKsvE,IAAM,EAAItvE,KAAK4qE,YAAe2D,EAAsB,SAAIW,GAC3G,OAAUlvE,KAAKmvE,GAAK,EAAKS,GAAa,KAAQ5vE,KAAKsvE,GAAK,EAAItvE,KAAK4qE,WAAc2D,EAAsB,SAAIW,GAAiB,KAElIlvE,KAAK4uE,cAAct4C,aAAa,IAAKt2B,KAAKgqE,mBAC1ChqE,KAAKgvE,cAAc14C,aAAa,IAAKt2B,KAAKiqE,WAE9C,MAAOjqE,MAAKyuE,aAShB1E,EAActpE,UAAUgtE,YAAc,SAAU1vE,EAAMqS,EAAMw9D,GACxD,GAAImC,GAAc,EACdC,EAAa,EACbC,IAAoBlyE,EAAK0tE,gBACzBjqE,IAAczD,EAAK0sE,eACnByF,EAAiBlwE,KAAK+qE,mBAAmBkF,IAAsBjwE,KAAK4qE,WAAa,GACjFuF,EAAWnwE,KAAK+qE,mBAAmBvpE,IAAgBxB,KAAK4qE,WAAa,GACrEwF,GAAmD,IAAnCryE,EAAKotE,yBACrBkF,GAAiD,IAAlCtyE,EAAKqtE,uBAyBxB,OAxBa,YAATh7D,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GACxF2/D,EAAcK,EAAiBpwE,0BAA6BkwE,EAAiB,EAC7EF,EAAcI,GAAiBC,EAAgBzC,EAAcyC,EACxDrwE,yBAA4BkwE,EAAkBlwE,wBAA2BkwE,GAEhE,YAAT9/D,GAA+B,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAC9D,YAATA,GAA+B,YAATA,GAA+B,YAATA,GAC5C2/D,EAAcM,EAAgBrwE,yBAA4BmwE,EAAW,EACrEH,EAAcI,GAAiBC,EAAgBzC,EAAcwC,EACxDpwE,0BAA6BmwE,EAC7BnwE,wBAA2BmwE,GAElB,YAAT//D,GACL2/D,EAAcM,EAAgBrwE,yBAA4BkwE,EAAiB,EAC3EF,EAAcI,GAAiBC,EAAgBzC,EAAcwC,EACxDpwE,0BAA6BmwE,EAC7BnwE,wBAA2BkwE,GAElB,YAAT9/D,GAA+B,YAATA,GAA+B,YAATA,IACjD2/D,EAAcK,EAAiBpwE,0BAA6BmwE,EAAW,EACvEH,EAAcI,GAAiBC,EAAgBzC,EAAcyC,EACxDrwE,yBAA4BmwE,EAC5BnwE,wBAA2BmwE,IAE3Bn/C,IAAK++C,EAAa96C,OAAQ+6C,IAMvCjG,EAActpE,UAAUqqE,gCAAkC,WACtD9qE,KAAKswE,aAAe/4C,gBAAc,SAAWC,UAAW,kBAAmBC,OAAQ,iBAAkB21B,OAASC,YAAe,MAAOkjB,YAAe,QACnJ,IAAIC,GAAcj5C,gBAAc,QAChCi5C,GAAYn9C,UAAY,GACxBrzB,KAAKswE,aAAa54C,YAAY84C,IAUlCzG,EAActpE,UAAUgwE,+BAAiC,SAAUC,EAAcC,EAAqBC,EAAYC,GAC9G,GAAI5/D,GAAQjR,KACR81D,EAAQ99B,SAAST,cAAc,SAC/Bu5C,EAAY,SAAUv2E,EAAI+1B,EAAOrJ,EAAUi8C,GAC3C,GAAIxuC,GAAKsD,SAAST,cAAc,KAChC7C,GAAGn6B,GAAKA,CACR,IAAIw2E,GAAM/4C,SAAST,cAAc,KACjCw5C,GAAIp9C,MAAMq9C,QAAU,MACpBD,EAAIp2B,YAAc1pC,EAAM3W,OAAOoW,UAAUC,YAAY2f,EACrD,IAAI2gD,GAAMj5C,SAAST,cAAc,KACjC05C,GAAIt2B,YAAc1zB,CAClB,IAAIiqD,GAAMl5C,SAAST,cAAc,KAIjC,OAHA25C,GAAIv9C,MAAMq9C,QAAU,MACpBE,EAAIv2B,YAAc1pC,EAAM3W,OAAOoW,UAAUC,YAAYuyD,GACrDxuC,EAAGkmB,OAAOm2B,EAAKE,EAAKC,GACbx8C,EAIX,OAFAohC,GAAMp+B,YAAYo5C,EAAU,kBAAmB,OAAQJ,EAAcC,IACrE7a,EAAMp+B,YAAYo5C,EAAU,gBAAiB,KAAMF,GAAc,GAAIC,GAAqB,KACnF/a,GASXiU,EAActpE,UAAUm6D,kBAAoB,SAAU78D,GAClD,GAAIqS,GAAOrS,EAAKqS,KACZyE,EAAiB7U,KAAKg+B,gBACtBmzC,EAAWt8D,EAAe9W,EAAK2hE,aAAalhE,gBAAgByoB,SAC5DmqD,EAASv8D,EAAe9W,EAAKmtE,YAAY1sE,gBAAgByoB,SACzDxE,EAAQziB,KAAK1F,OAAOoW,UAAUC,YAAY,SAC1C0gE,EAASrxE,KAAK1F,OAAOoW,UAAUC,YAAY,SAc/C,OAZa,OAATP,EACQ+gE,EAAW,IAAME,EAAS,OAASD,EAAS,IAAM3uD,EAE5C,OAATrS,EACG+gE,EAAW,IAAME,EAAS,OAASD,EAAS,IAAMC,EAE5C,OAATjhE,EACG+gE,EAAW,IAAM1uD,EAAQ,OAAS2uD,EAAS,IAAM3uD,EAGjD0uD,EAAW,IAAM1uD,EAAQ,OAAS2uD,EAAS,IAAMC,GAWjEtH,EAActpE,UAAUy6B,cAAgB,SAAU3gC,GAC9C,MAAIM,qBAAkBN,GACX,KAEPyF,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBC,aAAersB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aAC7GvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aAC1DzsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOI,uBAAsC,cAAE/S,OAAO,SAAU5b,GAChG,MAAOA,GAAKS,gBAAgBkX,OAAOzX,aAAe1D,EAAG0D,aACtD,GAG2B,iBAAzB+B,KAAK1F,OAAOyd,SACV/X,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMvS,EAAG0D,aAG/D+B,KAAK1F,OAAO4gC,cAAc3gC,IAUzCwvE,EAActpE,UAAUixD,6BAA+B,SAAUh0D,GAU7D,IAAK,GATD4zE,GAOA31E,GALA21E,GADsB,IAAtBC,WAAS7zE,IAMejC,OAAOC,KAAKgC,GAAS/B,OAAS+B,EAAQ/B,OAC9DD,EAAOD,OAAOC,KAAKgC,GACdI,EAAI,EAAGA,EAAInC,EAAQmC,IAAK,CAC7B,GAAIC,OAAO,GAQP2d,GALA3d,EAFAuzE,EAEO5zE,EADQhC,EAAKoC,IAIbJ,EAAQI,IAEKU,iBAAmBT,EAAKS,gBAAgBsd,WAChE,IAAIJ,GAAgBA,EAAa/f,OAAS,EACtC,IAAK,GAAI61E,GAAM,EAAGA,EAAM91D,EAAa/f,OAAQ61E,IAAO,CAChD,GAAIC,GAAS,SAAW/1D,EAAa81D,GAAKzvE,KAAO,QAAU2Z,EAAa81D,GAAK1vE,EAC7E9B,MAAK0xE,wBAAwBD,MAU7C1H,EAActpE,UAAUixE,wBAA0B,SAAUn3E,GACxD,GAAIuL,GAAU9F,KAAK1F,OAAOm5B,oBAAoBjD,wBAAwB3qB,cAAc,iBAAmBtL,EAAG4E,QAAQ,SAAU,QACvHtE,qBAAkBiL,IACnBnH,SAAOmH,IAGRikE,KCrkCP4H,GAA0B,WAC1B,QAASA,GAAS3mC,GACdhrC,KAAK4xE,mBAAoB,EACzB5xE,KAAK1F,OAAS0wC,EACdhrC,KAAK1F,OAAOma,GAAG,UAAWzU,KAAKm3B,QAASn3B,MAyN5C,MAnNA2xE,GAASlxE,UAAUoxE,eAAiB,WAChC,GAAI5gE,GAAQjR,KACR8xE,EAAmB9xE,KAAK+xE,0BAA0B/xE,KAAK1F,OAAO48C,iBAClEl3C,MAAK1F,OAAO03E,gBAAkBz6C,gBAAc,OAASC,U5BbvC,qB4Bcdx3B,KAAK1F,OAAOglD,aAAe/nB,gBAAc,OAASC,U5BfhC,2B4BgBlBx3B,KAAK1F,OAAO++B,UAAY9B,gBAAc,OAASC,U5BjB3B,uB4BkBpBgH,YAAUx+B,KAAK1F,OAAO++B,WAAY,eAC9Br5B,KAAK1F,OAAO24B,WACZjzB,KAAK1F,OAAO03E,gBAAgBt6C,YAAY13B,KAAK1F,OAAO++B,WACpDr5B,KAAK1F,OAAO03E,gBAAgBt6C,YAAY13B,KAAK1F,OAAOglD,gBAGpDt/C,KAAK1F,OAAO03E,gBAAgBt6C,YAAY13B,KAAK1F,OAAOglD,cACpDt/C,KAAK1F,OAAO03E,gBAAgBt6C,YAAY13B,KAAK1F,OAAO++B,YAExDr5B,KAAKi3C,eAAiB,GAAIg7B,aACtBh9C,OAAQ,KACRlY,MAAO/c,KAAK1F,OAAO43E,WAAWj0E,WAC9Bg1B,UAAWjzB,KAAK1F,OAAO24B,UACvBk/C,cAAenyE,KAAK1F,OAAO48C,iBAAiBi7B,cAC5CC,eAEQC,WAAW,EACXC,KAAMR,EACNxjE,IAAKtO,KAAKuyE,+BAA+BvyE,KAAK1F,OAAO48C,iBAAiBs7B,WAGtEH,WAAW,IAGnBI,YAAa,aACbC,YAAa,SAAU1zE,GACfiS,EAAM3W,OAAOisB,mBAAqBtV,EAAM3W,OAAOisB,kBAAkB++B,QACjEr0C,EAAM3W,OAAOisB,kBAAkBg/B,YAAYC,OAE/C,IAAImtB,GAAW3zE,EAAK4zE,KAAK,GACrBC,EAAY7zE,EAAK4zE,KAAK,EAC1B3hE,GAAM6hE,6BAA+BH,EAASvxC,YAAc,EAAI,KAChEnwB,EAAM8hE,8BAAgCF,EAAUzxC,YAAc,EAAI,IAClE,IAAI4xC,GAAkB,GAAIC,WAI1B,OAHAhiE,GAAM3W,OAAOgc,QAAQ,sBAAuBtX,EAAM,SAAUk0E,GACxDF,EAAgBG,QAAQD,KAErBF,GAEXI,SAAU,SAAUp0E,GAChBiS,EAAM3W,OAAOgc,QAAQ,mBAAoBtX,GACrCiS,EAAM3W,OAAOsX,eAAeO,aAC5BlB,EAAM3W,OAAOsX,eAAeglC,2BAA2B3lC,EAAM3W,OAAOsX,eAAem6B,iBAAiB,IAG5GsnC,WAAY,SAAUr0E,GAClBiS,EAAM3W,OAA4B,sBAClC2W,EAAM2gE,mBAAoB,CAC1B,IAAIe,GAAW3zE,EAAK4zE,KAAK,EACzB3hE,GAAM6hE,6BAA+BH,EAASvxC,YAAc,EAAI,KAChEnwB,EAAMgmC,eAAem7B,aAAa,GAAGE,KAAOrhE,EAAMshE,+BAA+BthE,EAAM6hE,8BACvF7hE,EAAM3W,OAAO48C,iBAAiB3E,SAAWthC,EAAMgmC,eAAem7B,aAAa,GAAGE,IAC9E,IAAIU,GAAkB,GAAIC,WAc1B,OAbAhiE,GAAM3W,OAAOgc,QAAQ,kBAAmBtX,EAAM,SAAUs0E,IACjB,IAA/BA,EAAoB10C,SACpB3tB,EAAMgmC,eAAem7B,aAAa,GAAGE,KAAO,KAC5CrhE,EAAMgmC,eAAem7B,aAAa,GAAGE,KAAOrhE,EAAMshE,+BAA+BthE,EAAM6hE,8BACvF7hE,EAAM3W,OAAO48C,iBAAiB3E,SAAWthC,EAAMgmC,eAAem7B,aAAa,GAAGE,KAC9ErhE,EAAMgmC,eAAem7B,aAAa,GAAGE,KAAO,KAC5CrhE,EAAMgmC,eAAem7B,aAAa,GAAGE,KAAOrhE,EAAMshE,+BAA+BthE,EAAM8hE,gCAEvFl4E,oBAAkBoW,EAAM3W,OAAO4W,iBAC/BD,EAAM3W,OAAOsX,eAAeglC,2BAA2B3lC,EAAM3W,OAAOsX,eAAem6B,iBAAiB,GAExGinC,EAAgBG,QAAQG,KAErBN,KAGfhzE,KAAK1F,OAAOwL,QAAQ4xB,YAAY13B,KAAK1F,OAAO03E,iBAC5ChyE,KAAKi3C,eAAe0I,SAAS3/C,KAAK1F,OAAO03E,gBACzC,IAAIuB,GAAmBvzE,KAAKi3C,eAAenxC,QAAQD,cAAc,eACjE,IAAI0tE,EAAkB,CAClB,GAAIhkD,GAAe1nB,WAAWiqE,EAAiB3yE,QAAQ,IAAK,KACxDq0E,EAAetgE,KAAK5E,IAAI,IAAK4E,KAAK+oC,IAAI,EAAG1sB,GAC7CgkD,GAAiBj9C,aAAa,gBAAiBk9C,EAAav1E,cAQpE0zE,EAASlxE,UAAUsxE,0BAA4B,SAAU0B,GACrD,IAAK54E,oBAAkBmF,KAAKi3C,iBAAmBj3C,KAAK1F,OAAOqX,kBACvD,MAAO3R,MAAKi3C,eAAem7B,aAAa,GAAGE,IAE/C,IAAsB,SAAlBmB,EAASt8B,KACT,MAAOn3C,MAAK1F,OAAO24B,UAAY,KAAO,MAErC,IAAsB,UAAlBwgD,EAASt8B,KACd,MAAOn3C,MAAK1F,OAAO24B,UAAY,OAAS,IAGxC,IAAKp4B,oBAAkB44E,EAASlhC,WAAmC,KAAtBkhC,EAASlhC,SAGjD,CAAA,IAAK13C,oBAAkB44E,EAASC,cAAgBD,EAASC,aAAe,EACzE,MAA4B,KAAvBD,EAASC,YAAqB1zE,KAAK1F,OAAO43E,aAAelyE,KAAK1F,OAAOwL,QAAQtL,UAAUC,SAAS,YAC1FuF,KAAKuyE,+BAA+BvyE,KAAK2zE,2BAA2BF,EAASC,aAAaz1E,WAAa,MAGvG+B,KAAKuyE,+BAAuD,IAAvBkB,EAASC,YAAqB,KAI9E,IAEIE,GAFa5zE,KAAK1F,OAAO43E,WACJ,IACG,IAC5B,OAAQlyE,MAAK1F,iBAAoB0F,KAAKuyE,+BAA+BqB,GAAiB5zE,KAAKuyE,+BAA+B,SAd1H,MAAOvyE,MAAKuyE,+BAA+BkB,EAASlhC,WAsBhEo/B,EAASlxE,UAAU8xE,+BAAiC,SAAUhgC,GAC1D,GAAIlzC,GAASxE,oBAAkB03C,IAA0B,KAAbA,EAA6B,KAAXA,CAC9D,KAAK13C,oBAAkBwE,GACnB,IAAgC,IAA5BkzC,EAASzlC,QAAQ,MAAc,CAC/B,GAAI+mE,GAAW71E,SAASu0C,EAAU,GAClClzC,GAAWw0E,EAAW7zE,KAAK1F,OAAO43E,WAAc,KAAQ,IAAQ2B,EAAW7zE,KAAK1F,OAAO43E,WAAc,IAAO,IACxG,UAKA7yE,GAFAW,KAAK1F,OAAO24B,UACM,IAAMprB,WAAW0qC,GACb,KAGa,IAA3BA,EAASzlC,QAAQ,KACrBylC,EAAW,IAAMA,CAIjC,OAAOlzC,IAMXsyE,EAASlxE,UAAUkzE,2BAA6B,SAAUl0E,GACtD,GAAIsd,GAAQ,EACRm1D,EAAalyE,KAAK1F,OAAO43E,WAIzBx9C,EAHgB10B,KAAK1F,OAAO4gB,aACHvB,OAAO,SAAUte,GAAO,WAAuBsM,KAAhBtM,EAAI8tD,UAAyC,IAAhB9tD,EAAI8tD,UAC9D5zC,IAAI,SAAUla,GAAO,MAAOI,QAAO2iB,UAAW/iB,IAG7E,IADAoE,EAAQi1B,EAAG/4B,OAAS8D,EAAQA,EAAQi1B,EAAG/4B,OACnCqE,KAAK1F,OAAO24B,UAAW,CACvB,IAASgQ,EAAS,EAAGA,EAASxjC,EAAOwjC,IACjClmB,GAAS/e,SAAS02B,EAAGuO,GAAQlmB,MAAO,GAExCA,GAAQm1D,EAAan1D,MAGrB,KAAK,GAAIkmB,GAAS,EAAGA,EAASxjC,EAAOwjC,IACjClmB,GAAS/e,SAAS02B,EAAGuO,GAAQlmB,MAAO,GAG5C,OAAOA,IAMX40D,EAASlxE,UAAUqzE,uBAAyB,WACxC9zE,KAAKi3C,eAAek7B,cAAgBnyE,KAAK1F,OAAO48C,iBAAiBi7B,aACjE,IAAIL,GAAmB9xE,KAAK+xE,0BAA0B/xE,KAAK1F,OAAO48C,iBAClEl3C,MAAKi3C,eAAem7B,aAAa,GAAG9jE,IAAMtO,KAAKuyE,+BAA+BvyE,KAAK1F,OAAO48C,iBAAiBs7B,SAC3GxyE,KAAKi3C,eAAejxC,WACfhG,KAAK4xE,oBACN5xE,KAAKi3C,eAAem7B,aAAa,GAAGE,KAAOR,GAE/C9xE,KAAK4xE,mBAAoB,EACrB/2E,oBAAkBmF,KAAK1F,OAAO4W,iBAC9BlR,KAAK1F,OAAOsX,eAAeglC,2BAA2B52C,KAAK1F,OAAOsX,eAAem6B,iBAAiB,IAO1G4lC,EAASlxE,UAAUszE,0BAA4B,WAC3C,GAAIC,GAAQh0E,KAAKi3C,eAAenxC,QAAQu4B,iBAAiB,WAAW,GAChE41C,EAAQj0E,KAAKi3C,eAAenxC,QAAQu4B,iBAAiB,WAAW,GAChEzgC,GACAwoC,MAAO,KACPtgC,QAAS9F,KAAKi3C,eAAenxC,QAC7B8sE,MAAOoB,EAAOC,GACdx0E,OAAQ,EAAG,GACXy0E,UAAWl0E,KAAKi3C,eAAenxC,QAAQD,cAAc,gBACrDsuE,UAAWH,EAAM9hD,YAAa+hD,EAAM/hD,aAExClyB,MAAK1F,OAAOgc,QAAQ,kBAAmB1Y,IACd,IAArBA,EAAUghC,SACV5+B,KAAKi3C,eAAem7B,aAAa,GAAGE,KAAOtyE,KAAKuyE,+BAA+BvyE,KAAK8yE,8BACpF9yE,KAAKi3C,eAAem7B,aAAa,GAAGE,KAAOtyE,KAAKuyE,+BAA+BvyE,KAAK+yE,iCAG5FpB,EAASlxE,UAAU02B,QAAU,WACzBn3B,KAAKi3C,eAAe9f,UACpBn3B,KAAK1F,OAAOs3B,IAAI,UAAW5xB,KAAKm3B,UAE7Bw6C,KC5NPyC,GAAyB,WACzB,QAASA,GAAQnT,GACbjhE,KAAK1F,OAAS2mE,EACdjhE,KAAKq0E,gBACLr0E,KAAK1F,OAAOma,GAAG,UAAWzU,KAAKm3B,QAASn3B,MAyiB5C,MAjiBAo0E,GAAQ3zE,UAAU4zE,cAAgB,WAC9Br0E,KAAKs0E,WAAa,GAAIC,WACtBv0E,KAAKs0E,WAAWh1C,OAAS,kYAKzBt/B,KAAKs0E,WAAW/hC,SAAW,eAC3BvyC,KAAKs0E,WAAWE,UAAY,IAC5Bx0E,KAAKs0E,WAAWrhD,UAAYjzB,KAAK1F,OAAO24B,UACxCjzB,KAAKs0E,WAAW91B,oBAAsBx+C,KAAK1F,OAAOkkD,oBAClDx+C,KAAKs0E,WAAWh4D,S7BwGE,kB6BvGlBtc,KAAKs0E,WAAWG,WAAcC,MAAQC,OAAQ,OAAQC,MAAO,GAAKpvB,OAASmvB,OAAQ,OAAQC,MAAO,IAClG50E,KAAKs0E,WAAWO,UAAY70E,KAAK80E,sBAAsBngE,KAAK3U,MAC5DA,KAAKs0E,WAAWS,gBAAiB,EACjC/0E,KAAKs0E,WAAWU,aAAeh1E,KAAKi1E,oBAAoBtgE,KAAK3U,MAC7DA,KAAKs0E,WAAWY,WAAal1E,KAAKm1E,oBAAoBxgE,KAAK3U,MAC3DA,KAAKs0E,WAAWc,kBAAmB,EACnCp1E,KAAKs0E,WAAW30B,SAAS3/C,KAAK1F,OAAOwL,UAEzCsuE,EAAQ3zE,UAAUw0E,oBAAsB,SAAUj2E,GAC9C,GAAI1E,GAAS0F,KAAK1F,MAClB,IAAIA,EAAOwkB,SAEP,YADA9f,EAAK4/B,QAAS,EAGlB,IAAI94B,GACAm7B,EAAM1B,UAAQvgC,EAAKsgC,OAAQ,OAASwB,EAKpCh7B,GAJCjL,oBAAkBomC,GAIT/mC,EAAa8E,EAAKsgC,O7BHd,oB6BAJtgC,EAAKsgC,MAKnB,IAAIvhC,GACAs3E,GACAt3E,QACAiB,KAAMA,EACN4/B,QAAQ,EACRlO,QAAS,GAEb,IAAI1xB,EAAKsgC,OAAO9kC,UAAUC,SAAS,uBAC/B,GAAIH,EAAO0jB,iBAAiB08B,YAAa,CACrC,GAAI46B,GAAYt2E,EAAKsgC,OAAOmE,aAAa,aAIrC8xC,GACAx5E,KAJQiD,EAAKsgC,OAAOmb,MAKpBp7C,MAJgBxE,oBAAkBP,EAAOk/C,kBACzCx6C,EAAKsgC,OAAOqb,YADiD37C,EAAKsgC,OAAOmE,aAAa,SAKtFuK,KAAMsnC,GAENE,EAAuBl7E,EAAOm7E,gBAAgBloC,SAAWjzC,EAAO6oC,cAAcsW,iBAAiBn/C,EAAOm7E,gBAAgBloC,SAAUjzC,EAAQ4D,YAAWq3E,GAAkB,0BAA4B,KACjMG,EAAkB19C,SAAST,cAAc,MACzCi+C,IACA56B,SAAO46B,EAAsBE,GAC7BL,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUglD,GAG7CL,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUp2B,EAAO6oC,cAAcwyC,kBAAkB,WAAY53E,EAAMzD,EAAQ0E,OAIlHA,GAAK4/B,QAAS,MAIlB,IAAItkC,EAAOm7E,gBAAgB/6B,YAKvB,GAJI50C,IACAuvE,EAASt3E,KAAOzD,EAAOmqB,iBAAiB4a,mBAAmBv5B,GAC3D/H,EAAOs3E,EAASt3E,MAEhBiB,EAAKsgC,OAAO9kC,UAAUC,SAAS,0BAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,2BAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,sBAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,gCAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,2BAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,4BAC9BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,gCAAkCH,EAAOm7E,gBAAgBG,QAAU,CACnG,GAAIC,OAAsB,EACtBv7E,GAAOm7E,gBAAgBG,UACvBC,EAAsBv7E,EAAO6oC,cAAcsW,iBAAiBn/C,EAAOm7E,gBAAgBG,QAASt7E,EAAQyD,EAAM,0BAE1G23E,GAAkB19C,SAAST,cAAc,MACzCs+C,IACAj7B,SAAOi7B,EAAqBH,GAEhCL,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUmlD,EAAsBH,EAAkB33E,EACjFzD,EAAO6oC,cAAcwyC,kBAAmB53E,EAAKS,gBAAgBgD,YAAc,YAAc,UAAYzD,EAAMzD,EAAQ0E,GAAQ,OAE9H,IAAIA,EAAKsgC,OAAO9kC,UAAUC,SAAS,mBACpCuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,wCAAyC,CACxE,GAAIq7E,OAAuB,EACtBx7E,GAAOm7E,2BACRK,EAAuBx7E,EAAO6oC,cAAcsW,iBAAiBn/C,EAAOm7E,gBAAgBM,SAAUz7E,EAAQyD,EAAM,2BAEhH,IAAIi4E,GAAmBh+C,SAAST,cAAc,MAC1Cu+C,IACAl7B,SAAOk7B,EAAsBE,GAEjCX,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUolD,EAAuBE,EAAmBj4E,EACnFzD,EAAO6oC,cAAcwyC,kBAAmB53E,EAAKS,gBAAgBgD,YAAc,YAAc,WAAazD,EAAMzD,EAAQ0E,GAAQ,OAE/H,IAAIA,EAAKsgC,OAAO9kC,UAAUC,SAAS,mBACpC46E,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUp2B,EAAO6oC,cAAcwyC,kBAAkB,SAAU53E,EAAMzD,EAAQ0E,OAE3G,IAAIA,EAAKsgC,OAAO9kC,UAAUC,SAAS,8BAA+B,CACnE,GAAIw7E,OAA6B,EACjC37E,GAAO6oC,cAAc+yC,uBAAyB57E,EAAO6oC,cAAcC,0BAA0BpkC,GAC7Fq2E,EAASt3E,KAAOiC,KAAKk2E,uBAChB57E,EAAOm7E,gCACRQ,EAA6B37E,EAAO6oC,cAAcsW,iBAAiBn/C,EAAOm7E,gBAAgB5J,cAAevxE,EAAQA,EAAO6oC,cAAc+yC,uBAAwB,iCAElKb,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUulD,EACzCA,EAA2B,GAC3B37E,EAAO6oC,cAAcwyC,kBAAkB,gBAAiB53E,EAAMzD,EAAQ0E,OAEzE,IAAIA,EAAKsgC,OAAO9kC,UAAUC,SAAS,oBACpC46E,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAC/Bp2B,EAAO6oC,cAAcwyC,kBAAkB,YAAa53E,EAAMzD,EAAQ0E,GAClEnE,oBAAkBw6E,EAAS3kD,WAC3B1xB,EAAK4/B,QAAS,OAGjB,IAAI5/B,EAAKsgC,OAAO9kC,UAAUC,SAAS,gBAAiB,CACrD,GAAIuJ,GAAYhE,KAAK1F,OAAOmqB,iBAAiBod,kBAAkB7iC,EAAKonC,MACpEivC,GAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAU1sB,EAAUxF,gBAAgBgd,MACnE3gB,oBAAkBw6E,EAAS3kD,WAC3B1xB,EAAK4/B,QAAS,OAGb5/B,GAAKsgC,OAAO9kC,UAAUC,SAAS,gCACpC46E,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUp2B,EAAO6oC,cAAcwyC,kBAAkB,gBAAiB53E,EAAMzD,EAAQ0E,GAC/GnE,oBAAkBw6E,EAAS3kD,WAC3B1xB,EAAK4/B,QAAS,IAGb5/B,EAAKsgC,OAAO9kC,UAAUC,SAAS,oCACpC46E,EAAS3kD,QAAU1wB,KAAKs0E,WAAW5jD,QAAUp2B,EAAO6oC,cAAcwyC,kBAAkB,kBAAmB53E,EAAMzD,EAAQ0E,GACjHnE,oBAAkBw6E,EAAS3kD,WAC3B1xB,EAAK4/B,QAAS,QAKtB5/B,GAAK4/B,QAAS,CAGtB,KAAoB,IAAhB5/B,EAAK4/B,OAAkB,CACvB,GAAIu3C,GAAoB,GAAIlD,WAa5B,OAZA34E,GAAOgc,QAAQ,sBAAuB++D,EAAU,SAAUe,GACtDD,EAAkBhD,QAAQiD,GACtBA,EAAQx3C,SACR5/B,EAAK4/B,QAAS,KAGtB5+B,KAAKs0E,WAAW5jD,QAAU2kD,EAAS3kD,QAC9B1wB,KAAK1F,OAAOymC,YAAkC,cAApB/hC,EAAKonC,MAAMh2B,OACtCpQ,KAAKq2E,cAAgBr3E,EAAKsgC,OAC1BlO,eAAaC,IAAIrxB,KAAKq2E,cAAe,YAAar2E,KAAK0iC,iBAAiB/tB,KAAK3U,QAEjFA,KAAK1F,OAAO6kD,kBACLg3B,IAIf/B,EAAQ3zE,UAAU00E,oBAAsB,SAAUn2E,GAC9CgB,KAAKs2E,kBAAoB,KACpBt2E,KAAK1F,OAAOymC,YAAelmC,oBAAkBmF,KAAKq2E,gBACnDjlD,eAAazyB,OAAOqB,KAAKq2E,cAAe,YAAar2E,KAAK0iC,kBAE9D1iC,KAAKq2E,cAAgB,MAEzBjC,EAAQ3zE,UAAUiiC,iBAAmB,SAAUtsB,GAC3CpW,KAAKs2E,kBAAoBlgE,GAQ7Bg+D,EAAQ3zE,UAAUq0E,sBAAwB,SAAU91E,GAChDA,EAAK8G,QAAQ6tB,MAAM+sB,WAAa,SAChC,IAAI61B,GAAsBv2E,KAAK1F,OAAOwL,QAAQy5B,QAAQ,kBACtD,IAAI1kC,oBAAkB07E,GAAsB,CACxC,GAAI17E,oBAAkBmF,KAAKs2E,oBAAsBt3E,EAAKsgC,OAAO9kC,UAAUC,SAAS,gBAC5E,MAEJ,IAAI+7E,GAAUx2E,KAAKy2E,mBAAmBz2E,KAAKs2E,mBACvCI,EAAoB12E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAO++B,WAC1Ds9C,EAASD,EAAkB1lD,IAAMhxB,KAAK1F,OAAO++B,UAAU8D,aACvDy5C,EAAUF,EAAkB54D,KAAO9d,KAAK1F,OAAO++B,UAAUnH,YACzD2kD,EAAmBL,EAAQx8D,EAC3B88D,EAAmBN,EAAQO,CAC/B,IAAIH,EAAWC,EAAmB73E,EAAK8G,QAAQosB,YAAc,GACzD,KAAO0kD,EAAWC,EAAmB73E,EAAK8G,QAAQosB,YAAc,IAC5D2kD,EAAmBD,EAAU53E,EAAK8G,QAAQosB,YAAc,GACxDlzB,EAAK8G,QAAQ6tB,MAAM7V,KAAO+4D,EAAmB,SAIjDA,IAAsC,GACtC73E,EAAK8G,QAAQ6tB,MAAM7V,KAAO+4D,EAAmB,IAE7C73E,GAAKonC,MAAMjG,QAAUnhC,EAAK8G,QAAQq3B,cAC9BzH,OAAOshD,YAAch4E,EAAK8G,QAAQq3B,aAAe25C,IACjDA,EAAmBA,EAAmB93E,EAAK8G,QAAQq3B,aAAe,IAEjEw5C,EAAUG,EAAmB93E,EAAK8G,QAAQq3B,aAAe,GAC1D25C,EAAmBA,EAAmB93E,EAAK8G,QAAQq3B,aAAe,GAGlE25C,GAAsC,IAI1CA,GAAsC,GAE1C93E,EAAK8G,QAAQ6tB,MAAM3C,IAAM8lD,EAAmB,OASpD1C,EAAQ3zE,UAAUg2E,mBAAqB,SAAUrgE,GAC7C,GAAI6gE,GACAC,CASJ,OARKr8E,qBAAkB6E,WAAS,QAAS0W,KAAQvb,oBAAkB6E,WAAS,QAAS0W,IAI3Evb,oBAAkB6E,WAAS,UAAW0W,KAAQvb,oBAAkB6E,WAAS,UAAW0W,MAC1F6gE,EAAOv3E,WAAS,UAAW0W,GAAK4hB,SAASsO,KAAK3hB,WAAaqT,SAASm/C,gBAAgBxyD,WACpFuyD,EAAOx3E,WAAS,UAAW0W,GAAK4hB,SAASsO,KAAKzU,UAAYmG,SAASm/C,gBAAgBtlD,YALnFolD,EAAOv3E,WAAS,QAAS0W,GACzB8gE,EAAOx3E,WAAS,QAAS0W,KAMpB4D,EAAGi9D,EAAMF,EAAGG,IAWzB9C,EAAQ3zE,UAAUk1E,kBAAoB,SAAUyB,EAAapzE,EAAW1J,EAAQ0E,GAC5E,GAAI0xB,GACA3yB,EACAkpB,CACJ,IAAIjjB,EAAW,CAEX,GAAIqzE,IADJt5E,EAAOiG,EAAUxF,iBACQyoB,QACrBjnB,MAAK1F,OAAOkkD,qBAAkD,qBAC9D64B,EAAgBtoB,qBAAmBC,SAASqoB,IAEhDpwD,EAAYpsB,oBAAkBw8E,GACmG,GADlF,0DAC1Cr3E,KAAK1F,OAAO6rD,kBAAoBkxB,EAAcl4E,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAUk4E,GAAiB,aAEtH,OAAQD,GACJ,IAAK,YAEG,GAAIE,OAAqB,EACrBt4E,GAAKsgC,OAAO9H,UAAU9P,SAAS,0CAA4C7sB,oBAAkBkD,EAAKc,mBAClGy4E,EAAqBv5E,EAAKc,kBAEpBhE,oBAAkBkD,EAAKjD,aAC7Bw8E,EAAqBv5E,EAAKjD,UAE9B,IAAIy8E,GAAav3E,KAAK1F,OAAOsN,gBAAgB0vE,EAAoBt3E,KAAK1F,OAAO6V,gBACzEnQ,MAAK1F,OAAOkkD,qBAA+C,qBAC3D+4B,EAAaxoB,qBAAmBC,SAASuoB,GAE7C,IAAIC,GAAW38E,oBAAkBy8E,GAED,GAFuB,mGAEnDC,EAAa,aACb1vB,EAAc,WACd,MAAO,gDACH5gC,EAAWuwD,EAAU,mBAE7B9mD,GAAUo3B,wBAAsBD,EAChC,MAER,KAAK,UAEG,GAAIqU,KAAiBl4D,EAAUyY,kBAAmB1e,EAAK4C,gBACnD82E,EAAiBz3E,KAAK1F,OAAOsN,gBAAgBs0D,EAAgBn+D,EAAKjD,UAAYiD,EAAK+F,cAAe9D,KAAK1F,OAAO6V,iBAC9GunE,EAAe13E,KAAK1F,OAAOsN,gBAAgBs0D,EAAgBn+D,EAAKhD,QAAUgD,EAAKuE,YAAatC,KAAK1F,OAAO6V,iBACxG3I,EAAgBxH,KAAK1F,OAAOiW,kBAAmB2rD,EAAgBn+D,EAAK/C,SAAW+C,EAAKoL,aAAepL,EAAKoG,cACxGwzE,EAAgB55E,EAAKwd,QACrBvb,MAAK1F,OAAOkkD,sBACZi5B,EAA6C,mBAAW1oB,qBAAmBC,SAASyoB,GAAkBA,EACtGC,EAAyC,mBAAW3oB,qBAAmBC,SAAS0oB,GAAgBA,EAChGlwE,EAAgBunD,qBAAmBC,SAASxnD,GAEhD,IAAI+Y,GAAcxiB,EAAKjD,UAAY,2CAC/BkF,KAAK1F,OAAOoW,UAAUC,YAAYurD,EAAgB,YAAc,qBAChE,kBAAoB0b,EAAsB,+CAAsDH,EAAiB,aAAe,GAChII,EAAY95E,EAAKhD,QAAU,2CAC3BiF,KAAK1F,OAAOoW,UAAUC,YAAYurD,EAAgB,UAAY,mBAC9D,kBAAoB0b,EAAsB,8CAAqDF,EAAe,aAAe,GAC7HI,EAAcj9E,oBAAkBkD,EAAK/C,UAGtB,GAHkC,2CACjDgF,KAAK1F,OAAOoW,UAAUC,YAAY,YAAc,kBAAoBinE,EAAsB,+CAChDpwE,EAC1C,aACAuwE,EAAa,2CACb/3E,KAAK1F,OAAOoW,UAAUC,YAAY,YAAc,kBAAoBinE,EAAsB,cAAgBD,EAC1G,aACA9vB,EAAc,WACd,MAAO,gDACH5gC,EAAW1G,EAAcs3D,EAAYC,EAAaC,EAAa,mBAEvErnD,GAAUo3B,wBAAsBD,EAChC,MAER,KAAK,WAEG,GAAImwB,GAA2Bh4E,KAAK1F,OAAOsN,gBAAgB7J,EAAKc,kBAAmBmB,KAAK1F,OAAO6V,iBAC3F8nE,EAAyBj4E,KAAK1F,OAAOsN,gBAAgB7J,EAAKa,gBAAiBoB,KAAK1F,OAAO6V,gBACvFnQ,MAAK1F,OAAOkkD,sBACZw5B,EAA2BjpB,qBAAmBC,SAASgpB,GACvDC,EAAyBlpB,qBAAmBC,SAASipB,GAErDpwB,GAAc,WACd,MAAO,gDACH5gC,EAAW,2CACXjnB,KAAK1F,OAAOoW,UAAUC,YAAY,qBAAuB,sDACzDqnE,EAA2B,qDACch4E,KAAK1F,OAAOoW,UAAUC,YAAY,mBAC3E,sDACAsnE,EAAyB,6BAEjCvnD,GAAUo3B,wBAAsBD,EAAa7nD,KAC7C,MAER,KAAK,SAEG,GAAIk4E,GAAuB59E,EAAO6oC,cAAcE,qBAAqBrkC,GACjEm5E,EAA8Bn4E,KAAK1F,OAAOsN,gBAAgB5H,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBs1E,EAAqB97E,KAAM4D,KAAK1F,OAAO6V,iBACpJioE,EAAgBF,EAAqB5nD,MAAQ4nD,EAAqB5nD,MAAQ,EAC1EtwB,MAAK1F,OAAOkkD,sBACZ45B,EAAgBrpB,qBAAmBC,SAASopB,GAC5CD,EAA8BppB,qBAAmBC,SAASmpB,GAE1DtwB,GAAc,WACd,MAAO,wDACHswB,EAA8B,sBAAwBn4E,KAAK1F,OAAO6rD,kBAAoBiyB,EAAcj5E,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAUi5E,GAAiB,6BAE3K1nD,GAAUo3B,wBAAsBD,EAAa7nD,KAC7C,MAER,KAAK,gBAEG,GAAIq4E,GAAkB/9E,EAAO6oC,cAAc+yC,uBAAuB/E,SAC9DmH,EAAgBh+E,EAAO6oC,cAAc+yC,uBAAuBxT,OAC5D6V,EAAgBj+E,EAAO6oC,cAAc+yC,uBAAuB9E,OAC5DoH,EAAcl+E,EAAO6oC,cAAc+yC,uBAAuBuC,KAC1DC,EAAkBp+E,EAAO6oC,cAAc+yC,uBAAuByC,SAC9DC,EAAsBt+E,EAAO6oC,cAAc+yC,uBAAuB2C,YAClE74E,MAAK1F,OAAOkkD,sBACZ65B,EAAkBtpB,qBAAmBC,SAASqpB,GAC9CC,EAAgBvpB,qBAAmBC,SAASspB,GAC5CC,EAAgBxpB,qBAAmBC,SAASupB,GAC5CC,EAAczpB,qBAAmBC,SAASwpB,GAC1CE,EAAkB3pB,qBAAmBC,SAAS0pB,GAC9CE,EAAsB7pB,qBAAmBC,SAAS4pB,GAElD/wB,GAAc,WACd,MAAO,wFACH7nD,KAAK1F,OAAOoW,UAAUC,YAAY,QAAU,uDACF3Q,KAAK1F,OAAO6rD,kBAAoBkyB,EAAgBl5E,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAUk5E,GAAmB,MAC1Jr4E,KAAK1F,OAAO6rD,mBAAgD,mBAAWmyB,EAAcn5E,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAA2Bm5E,GAAiB,sDACtKt4E,KAAK1F,OAAOoW,UAAUC,YAAY,MAAQ,uDACzC3Q,KAAK1F,OAAO6rD,kBAAoBoyB,EAAcp5E,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAUo5E,GAAiB,KAAOC,EAAc,sDAA6Dx4E,KAAK1F,OAAOoW,UAAUC,YAAY,YAClO,uDAAyD+nE,EACzD,qDAAuD14E,KAAK1F,OAAOoW,UAAUC,YAAY,OACzF,sDACAioE,EAAsB,6BAE9BloD,GAAUo3B,wBAAsBD,EAAa7nD,KAC7C,MAER,KAAK,YACD,GAAIhB,EAAKsgC,OAAOmb,MAAM9+C,OAAQ,CAC1B,GAAIm9E,GAAe95E,EAAKsgC,OAAOmb,KAC3Bz6C,MAAK1F,OAAOkkD,qBAAiD,qBAC7Ds6B,EAAe/pB,qBAAmBC,SAAS8pB,GAE3CjxB,GAAc,WACd,MAAO,oDAAsDixB,EAAe,wBAEhFpoD,GAAUo3B,wBAAsBD,GAEpC,KACJ,KAAK,WAEG,GAAIkxB,GAAsB/5E,EAAKsgC,OAAOmb,KAClCz6C,MAAK1F,OAAOkkD,qBAAwD,qBACpEu6B,EAAsBhqB,qBAAmBC,SAAS+pB,GAElDlxB,GAAc,WACd,MAAO,oDAAsDkxB,EAAsB,wBAEvFroD,GAAUo3B,wBAAsBD,EAChC,MAER,KAAK,gBAEG,GAAImxB,GAAqBh5E,KAAK1F,OAAOsN,gBAAgB7J,EAAK+F,cAAe9D,KAAK1F,OAAO6V,iBACjF8oE,EAAmBj5E,KAAK1F,OAAOsN,gBAAgB7J,EAAKuE,YAAatC,KAAK1F,OAAO6V,iBAC7E+oE,EAAoBl5E,KAAK1F,OAAOiW,kBAAkBxS,EAAK/C,SAAU+C,EAAKoG,cACtEg1E,EAAuBn5E,KAAK1F,OAAOsN,gBAAgB7J,EAAKjD,UAAWkF,KAAK1F,OAAO6V,iBAC/EipE,EAAqBp5E,KAAK1F,OAAOsN,gBAAgB7J,EAAKhD,QAASiF,KAAK1F,OAAO6V,gBAC3EnQ,MAAK1F,OAAOkkD,sBACZw6B,EAAqBjqB,qBAAmBC,SAASgqB,GACjDC,EAAmBlqB,qBAAmBC,SAASiqB,GAC/CC,EAAoBnqB,qBAAmBC,SAASkqB,GAChDC,EAAuBpqB,qBAAmBC,SAASmqB,GACnDC,EAAqBrqB,qBAAmBC,SAASoqB,GAErD,IAAIC,GAAkB,2CAClBr5E,KAAK1F,OAAOoW,UAAUC,YAAY,qBAAuB,uDACzDqoE,EAAqB,aACrBM,EAAgB,2CAChBt5E,KAAK1F,OAAOoW,UAAUC,YAAY,mBAAqB,sDACvDsoE,EAAmB,aACnBM,EAAkB,2CAClBv5E,KAAK1F,OAAOoW,UAAUC,YAAY,YAAc,uDACNuoE,EAC1C,aACAM,EAAoB,2CACpBx5E,KAAK1F,OAAOoW,UAAUC,YAAY,aAAe,uDACjDwoE,EAAuB,aACvBM,EAAkB,2CAClBz5E,KAAK1F,OAAOoW,UAAUC,YAAY,WAAa,sDAC/CyoE,EAAqB,aACrBvxB,EAAc,WACd,MAAO,gDACH5gC,EAAWuyD,EAAoBH,EAAkBI,EAAkBH,EAAgBC,EAAkB,mBAE7G7oD,GAAUo3B,wBAAsBD,EAChC,MAER,KAAK,kBAEG,GAAI6xB,GAAiB15E,KAAK1F,OAAOsN,gBAAgB7J,EAAK+F,cAAe9D,KAAK1F,OAAO6V,iBAC7EwpE,EAAe35E,KAAK1F,OAAOsN,gBAAgB7J,EAAKuE,YAAatC,KAAK1F,OAAO6V,iBACzEypE,EAAY55E,KAAK1F,OAAOsN,gBAAgB7J,EAAKjD,UAAWkF,KAAK1F,OAAO6V,gBACpEnQ,MAAK1F,OAAOkkD,sBACZk7B,EAAiB3qB,qBAAmBC,SAAS0qB,GAC7CC,EAAe5qB,qBAAmBC,SAAS2qB,GAC3CC,EAAY7qB,qBAAmBC,SAAS4qB,GAE5C,IAAIC,GAAc,2CACd75E,KAAK1F,OAAOoW,UAAUC,YAAY,qBAAuB,uDACzD+oE,EAAiB,aACjBI,EAAY,2CACZ95E,KAAK1F,OAAOoW,UAAUC,YAAY,mBAAqB,sDACvDgpE,EAAe,aACfI,EAAS,mGAETH,EAAY,QACZ/xB,EAAc,WACd,MAAO,gDACH5gC,EAAW8yD,EAASF,EAAcC,EAAY,mBAEtDppD,GAAUo3B,wBAAsBD,GAI5C,MAAOn3B,IASX0jD,EAAQ3zE,UAAU4iC,qBAAuB,SAAUrkC,GAC/C,GAAIg7E,GAAmBh7E,EAAKsgC,UAAW5yB,MAAM,OAE7C,OAD2B1M,MAAK1F,OAAOqY,aAAanK,OAAOwxE,KAU/D5F,EAAQ3zE,UAAU2iC,0BAA4B,SAAUpkC,GACpD,GAAIi7E,GAAoBj7E,EAAKsgC,OAAO/kC,EAChCyF,MAAK1F,OAAOkkD,qBAAsD,qBAClEy7B,EAAoBlrB,qBAAmBC,SAASirB,GAEpD,IAAI3lE,GAAU2lE,EAAkBvtE,MAAM,mCACtC4H,GAAQ8T,OACR,IAAI8xD,GACAC,CACyB,kBAAzBn6E,KAAK1F,OAAOyd,UACZmiE,EAAWl6E,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMwH,EAAQ,KAC/E6lE,EAASn6E,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMwH,EAAQ,OAG7E4lE,EAAWl6E,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQwH,EAAQ,KAChE6lE,EAASn6E,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQwH,EAAQ,KAElE,IAAIwH,GAAeo+D,EAAS17E,4BAA6Bmb,OAAO,SAAUiiC,GAAO,MAAOA,GAAI95C,KAAOwS,EAAQ,IAY3G,QAVIouD,OAAiC,iBAAzB1iE,KAAK1F,OAAOyd,SAA8BmiE,EAAS17E,gBAAgBkX,OAASwkE,EAAS17E,gBAAgBqb,YAC7G4+D,KAA+B,iBAAzBz4E,KAAK1F,OAAOyd,SAA8BoiE,EAAO37E,gBAAgBkX,OAASykE,EAAO37E,gBAAgBqb,YACvGs3D,SAAU+I,EAAS17E,gBAAgByoB,SACnCmqD,OAAQ+I,EAAO37E,gBAAgByoB,SAC/BmzD,SAAUt+D,EAAY,GAAG1L,KACzBuoE,SAAU34E,KAAK1F,OAAO+/E,wBAAwBv+D,EAAY,GAAG1L,MAC7DpB,OAAQ8M,EAAY,GAAG9M,OACvB+yD,WAAYjmD,EAAY,GAAGimD,WAC3B8W,aAAc74E,KAAK1F,OAAOiW,kBAAkBuL,EAAY,GAAG9M,OAAQ8M,EAAY,GAAGimD,cAc1FqS,EAAQ3zE,UAAUg5C,iBAAmB,SAAUF,EAAUj/C,EAAQyD,EAAMu8E,GACnE,GAAIC,GAAkBjgF,EAAOkb,gBAAgBikC,iBAAiBF,GAC1DihC,EAAalgF,EAAOkb,gBAAgB4kC,cAAckgC,EAEtD,OADmBC,GAAgBr8E,UAASuB,MAAO,GAAK1B,GAAOzD,EAAQggF,EAAUE,GAAY,IAGjGpG,EAAQ3zE,UAAU02B,QAAU,WACxBn3B,KAAKs0E,WAAWn9C,WAEbi9C,KCjjBPqG,GAA6B,WAC7B,QAASA,GAAYngF,GACjB0F,KAAK06E,sBAAuB,EAC5B16E,KAAK1F,OAASA,EACd0F,KAAK26E,cAAgB,KACrB36E,KAAK46E,sBAAwB,KA6XjC,MA3XAH,GAAYh6E,UAAUo6E,iBAAmB,SAAUC,GAC/C,MAAOA,GAA0B96E,KAAK46E,sBAAwB56E,KAAK26E,eAEvEF,EAAYh6E,UAAUmnC,iBAAmB,SAAU9hC,GAC/C9F,KAAK46E,sBAAwB56E,KAAK26E,cAClC36E,KAAK26E,cAAgB70E,GASzB20E,EAAYh6E,UAAUs6E,WAAa,SAAU3kE,GACzC,GAAI40B,GAAWhrC,KAAK1F,OAChB0gF,EAAM5kE,EAAEkpB,OACRtB,EAAkBgN,EAAShQ,mBAAmBgQ,EAASl5B,kBACvDjX,oBAAkBmF,KAAK1F,OAAOqtC,YAAYkzC,qBAAqC,cAAbzkE,EAAEuZ,QAAuC,gBAAbvZ,EAAEuZ,SAC5FsrD,EAAkBj7E,KAAK1F,OAAOwL,QAAQD,cAAc,gBACxCqkC,SAEflqC,KAAK1F,OAAOgsB,SAAWzrB,oBAAkBmgF,IAAQA,EAAIz7C,QAAQ,kBAA+B,UAAVnpB,EAAExa,KAAoBoE,KAAK1F,OAAO4gF,YAClHl7E,KAAK1F,OAAO8iD,eACfhnC,EAAEuZ,OAAS,QACX3vB,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,cAAe3f,GAEpD,IAAI4uB,GAAgBhlC,KAAK1F,OAAOqtC,YAAYkzC,kBAC5C,IAAiB,SAAbzkE,EAAEuZ,QAAkC,QAAbvZ,EAAEuZ,QAAiC,cAAbvZ,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,QAAqC,WAAbvZ,EAAEuZ,QACxF,eAAbvZ,EAAEuZ,QAAwC,cAAbvZ,EAAEuZ,QAAuC,cAAbvZ,EAAEuZ,QAAuC,gBAAbvZ,EAAEuZ,QAC1E,cAAbvZ,EAAEuZ,QAAuC,gBAAbvZ,EAAEuZ,QAAyC,SAAbvZ,EAAEuZ,QAAkC,SAAbvZ,EAAEuZ,QAAkC,cAAbvZ,EAAEuZ,QACrG90B,oBAAkBmwC,EAAShoC,aAAgBnI,oBAAkBmwC,EAAShoC,WAAWsC,kBAChC,IAAlD0lC,EAAShoC,WAAWsC,eAAeC,WAa3C,OATIylC,EAASjK,aACQ,iBAAb3qB,EAAEuZ,QAA0C,kBAAbvZ,EAAEuZ,QAA2C,WAAbvZ,EAAEuZ,QACjD,WAAbvZ,EAAEuZ,QACDqb,EAASgX,iBAAuD,aAApChX,EAASiX,kBAAkB7xC,OACvD46B,EAASgX,gBAAgBm5B,YACzBnjD,SAAS5E,uBAAuB,eAAe,GAAGO,MAAMkB,QAAU,SAItEze,EAAEuZ,QACN,IAAK,OACD,GAAIqb,EAASgX,iBAAuD,SAApChX,EAASiX,kBAAkBlT,KAAiB,CACxE,GAAkC,IAA9B/D,EAASuY,iBACT,MAEAvY,GAASgX,iBAAgF,IAA7DhX,EAASgX,gBAAgBo5B,yBAAyBz/E,QAC9EqvC,EAASgX,gBAAgB2B,UAAU,GAAG,GAAO,GAGrD,KACJ,KAAK,MACD,GAAI3Y,EAASgX,iBAAuD,SAApChX,EAASiX,kBAAkBlT,KAAiB,CACxE,GAAIssC,GAAyBr9C,EAAgBA,EAAgBriC,OAAS,EACtE,IAAIqvC,EAASuY,mBAAqBvY,EAASjiC,SAAS+D,QAAQuuE,GACxD,MAEArwC,GAASgX,iBAAgF,IAA7DhX,EAASgX,gBAAgBo5B,yBAAyBz/E,QAC9EqvC,EAASgX,gBAAgB2B,UAAU3Y,EAASjiC,SAAS+D,QAAQuuE,IAAyB,GAAO,GAGrG,KACJ,KAAK,YACL,IAAK,WAEOC,EAAgBtwC,EAASllC,QAAQD,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAK,gBAC1D+gF,EAAc5gF,cAAcF,UAAUC,SAAS,kBAChEuwC,EAASgX,gBAAgBgQ,iBAExBhnB,EAASllC,QAAQtL,UAAUC,SAAS,uBACrCuF,KAAKu7E,kBAAkBnlE,GAClBvb,oBAAkBmqC,IAAmBnqC,oBAAkBmqC,EAAczF,QAAQ,kBAC9EyL,EAASvmB,iBAAiB8jB,YAAYvoC,KAAK66E,mBAAoB,UAAU,EAAMzkE,EAAEuZ,QAEjFqb,EAASiX,mBAAyD,SAApCjX,EAASiX,kBAAkBlT,MAAmB34B,EAAEkpB,iBAAkB+a,cAAejkC,EAAEkpB,OAAO9kC,UAAUC,SAAS,8BAC3I2b,EAAEkpB,OAAO9kC,UAAUmE,OAAO,6BAGlC,MAER,KAAK,YACDqsC,EAASvmB,iBAAiB2gB,kBAAkB,SAC5C,MACJ,KAAK,cACD4F,EAASvmB,iBAAiB2gB,kBAAkB,WAC5C,MACJ,KAAK,YACL,IAAK,cACDplC,KAAKw7E,kBAAkBplE,EACvB,MACJ,KAAK,cACD,IAAKvb,oBAAkBmwC,EAAShoC,cAAgBnI,oBAAkBmwC,EAAShoC,WAAWsC,iBAClF0lC,EAAShoC,WAAWsC,eAAeC,WAAY,CAC/C,GAAIJ,GAAM6lC,EAAShoC,WAAWsC,eAAesjC,YAC7C,IAAIzjC,EAAIgW,QAAU6vB,EAAS3lC,cAAcrK,WAAaH,oBAAkBsK,EAAIK,QACvE3K,oBAAkBsK,EAAIK,KAAKC,MAAO,CACnC,GAAIG,GAAUwQ,EAAEkpB,OAAOv5B,cAAc,GACjC01E,EAAYrlE,EAAEkpB,OAAOjgC,MAErBq8E,MAAY,EACZv2E,GAAIgW,QAAU6vB,EAAS3lC,cAAcrK,WAKhCH,oBAAkBsK,EAAIK,OAAU3K,oBAAkBsK,EAAIK,KAAKC,QAC5Di2E,EAAYv2E,EAAIK,KAAKC,QAErBg2E,IAAcC,EAAUz9E,aACxB2H,EAAQvG,MAAQo8E,EAChB71E,EAAQI,aAIpB,GAAIglC,EAAShoC,WAAW2C,aAAag2E,WAAaj8E,WAAS,aAAcsrC,EAAShoC,WAAW2C,aAAag2E,WACtG,MAEJ3wC,GAAS9oC,SAASqvB,KAAK8V,YACnB4zC,EAAkBjwC,EAASllC,QAAQD,cAAc,gBACrCqkC,QAWpB,IAAKrvC,oBAAkBmqC,KACfnqC,oBAAkBmqC,EAAczF,QAAQ,iBAAkB,CAC9D,GAAID,GAASlpB,EAAEkpB,OACXsC,EAAiBoD,EAAcn/B,cAAc,oEAE7C+7B,IACA5hC,KAAK1F,OAAOmqB,iBAAiBkd,eAAevrB,EAAGkpB,EAAQsC,GAG/D,KACJ,KAAK,SACI/mC,oBAAkBmwC,EAAShoC,aAAgBnI,oBAAkBmwC,EAAShoC,WAAWsC,kBAClF0lC,EAAShoC,WAAWsC,eAAeC,YAAa,EAC3C1K,oBAAkBmwC,EAAS9N,gBAC5B8N,EAAS9N,cAAcmlB,sBAG/B,MACJ,KAAK,SAEG,GAAIrX,EAAShoC,YAAcgoC,EAAShoC,WAAWsC,gBAAkB0lC,EAAShoC,WAAWsC,eAAeC,WAChG6Q,EAAEwlE,sBAED,IAAI/gF,oBAAkBm9B,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,YAAa,CACrF6b,EAAEqwB,iBACFuE,EAAS6wC,cAAUl0E,GAAW3H,KAAK1F,OAAO4kC,aAAa48C,eAAgB97E,KAAK1F,OAAOipD,iBACnF,IAAI03B,GAAkBjwC,EAASllC,OAC/Bm1E,GAAgB/wC,QAEpB,KAER,KAAK,eAED,GADA9zB,EAAEqwB,iBACEuE,EAAShoC,YAAcgoC,EAAShoC,WAAW2C,cAAgBqlC,EAAS9L,aAAa68C,YAAa,CAC9F,GAAI/wC,EAAShoC,WAAW2C,aAAag2E,WAAaj8E,WAAS,aAAcsrC,EAAShoC,WAAW2C,aAAag2E,WACtG,MAEJ3wC,GAAShoC,WAAW2C,aAAaq2E,gBAErC,KACJ,KAAK,gBAKG,GAHA5lE,EAAEqwB,iBACwBuE,EAASllC,QAAQD,cAAc,eACrCqkC,QAChBc,EAAShoC,YAAcgoC,EAAShoC,WAAW2C,cAAgBqlC,EAAS9L,aAAaU,aAAc,CAC/F,GAAIoL,EAAShoC,WAAW2C,aAAag2E,WAAaj8E,WAAS,aAAcsrC,EAAShoC,WAAW2C,aAAag2E,WACtG,MAEJ3wC,GAAShoC,WAAW2C,aAAas2E,wBAErC,KAER,KAAK,SACGjxC,EAASgX,iBAAmBhX,EAAShoC,YAAcgoC,EAAShoC,WAAW2C,gBACrEqlC,EAAShoC,WAAW2C,aAAag2E,WAAc3wC,EAAShoC,WAAW2C,aAAag2E,YAC7E3wC,EAAShoC,WAAW2C,aAAag2E,UAAUxyB,YAAene,EAAS9L,aAAaC,qBACjF6L,EAAS9L,aAAaC,sBAAwB6L,EAAShoC,WAAWC,kBAAkBi5E,aAC/C,SAApClxC,EAASiX,kBAAkBlT,MAAmB/D,EAASgX,gBAAgByB,mBAAmB9nD,QACnD,SAApCqvC,EAASiX,kBAAkBlT,MAAmB/D,EAASgX,gBAAgBm6B,4BAA4BxgF,UAClGd,oBAAkBub,EAAEkpB,QAMrB0L,EAAShoC,WAAWo5E,oBALQ,UAAxBhmE,EAAEkpB,OAAgB,SAClB0L,EAAShoC,WAAWo5E,oBAQpC,MACJ,KAAK,YAEGhmE,EAAEqwB,gBACF,IAAI41C,OAAa,EACjB,IAAIrxC,EAASgX,gBAAiB,CAC1B,GAAIlwC,GAAkBk5B,EAASl5B,eAC/B,IAAwC,SAApCk5B,EAASiX,kBAAkBlT,MAC1Bl0C,oBAAkBiX,EAAgBk5B,EAASuY,oBAG3C,GAAwC,SAApCvY,EAASiX,kBAAkBlT,MAChC/D,EAASgX,gBAAgBm6B,4BAA4BxgF,OAAS,EAAG,CACjE,GAAI2gF,GAAkBtxC,EAASgX,gBAAgBm6B,2BAC/CE,GAAavqE,EAAgBwqE,EAAgBA,EAAgB3gF,OAAS,GAAGugC,UAAU19B,gBAAgBqb,iBALnGwiE,GAAarxC,EAASl5B,gBAAgBk5B,EAASuY,kBAAkB/kD,gBAAgBqb,YAQrFwiE,GACArxC,EAASuxC,aAAaF,EAAWp+E,WAErC,MAER,KAAK,cAEG,GAAI+sC,EAASllC,QAAQD,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAK,cAAe,CAC1E,GAAI+gF,GAAgBtwC,EAASllC,QAAQD,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAK,aAC/E+gF,GAAchlD,aAAa,WAAY,MACvCglD,EAAcpxC,QAElB,KAER,KAAK,MACL,IAAK,WACIc,EAASllC,QAAQtL,UAAUC,SAAS,sBACrCuwC,EAASvmB,iBAAiB8iB,YAAYnxB,EAE1C,MACJ,KAAK,cAEG,GAAImvC,GAAcvtB,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAC1D,gBAAgBwL,cAAc,GAC9B2wE,EAAoB12E,KAAK1F,OAAO6nC,cAAc/rB,EAAEkpB,QAChDk9C,EAAQ9F,EAAkB1lD,IAAO0lD,EAAkBzhD,OAAS,EAC5DnX,EAAO44D,EAAkB54D,KAAQ44D,EAAkB35D,MAAQ,CAC/D/c,MAAK4nC,iBAAiBxxB,EAAEkpB,QACxBimB,EAAYmvB,KAAK8H,EAAO1+D,GACxB1H,EAAEqwB,gBACF,MAER,KAAK,OAEOzmC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GACvFqE,KAAK1F,OAAOmiF,MAEhB,MAER,KAAK,OAEOz8E,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GACvFqE,KAAK1F,OAAOoiF,MAEhB,MAER,KAAK,YAEGtmE,EAAEqwB,gBACF,IAAIk2C,MAActuE,MAAM4F,KAAKjU,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiB/xB,cAAc,SAASuvB,SAClG,IAAIunD,EAAShhF,OAAS,EAAG,CACrB,GAAIihF,GAAgB5+E,SAAS2+E,EAAS,GAAGl5C,aAAa,iBAAkB,IAAM,EAC1EupC,EAAehvE,SAAS2+E,EAASA,EAAShhF,OAAS,GAAG8nC,aAAa,iBAAkB,IAAM,CAC1F5oC,qBAAkB+hF,KACnBA,EAAgBp0E,OAAOo0E,IAEtB/hF,oBAAkBmyE,KACnBA,EAAexkE,OAAOwkE,IAErBnyE,oBAAkB+hF,IAAmB/hF,oBAAkBmyE,IACxDhtE,KAAK1F,OAAO0nD,gBAAgB66B,kBAAkBD,EAAe5P,GAGrE,KAER,SAEQ,GAAIpvE,IACAi5B,YAAa,aACblH,OAAQvZ,EAAEuZ,OACVmtD,SAAU1mE,EAEd40B,GAAS10B,QAAQ,iBAAkB1Y,KAKnD68E,EAAYh6E,UAAU86E,kBAAoB,SAAUnlE,GAChDA,EAAEqwB,gBACF,IACIzI,GADAgN,EAAWhrC,KAAK1F,MAQpB,IALI0jC,GADc,cAAb5nB,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,SAAyB3vB,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,gBAAkBt+C,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAClJ0zB,EAAShQ,mBAAmBgQ,EAASjiC,UAGrCiiC,EAAShQ,mBAAmBgQ,EAASl5B,iBAEvDk5B,EAASgX,gBAAiB,CAC1B,GAAwC,SAApChX,EAASiX,kBAAkBlT,OAAkD,IAA/B/D,EAASuY,iBAAyB,CAC5E8b,MAAe,EAEfA,IADc,cAAbjpD,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,SAAyB3vB,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,gBAAkBt+C,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACrJ0zB,EAASjiC,SAASiiC,EAASuY,kBAG3BvY,EAASl5B,gBAAgBk5B,EAASuY,iBAErD,IAAI03B,GAAkBjwC,EAASllC,QAAQD,cAAc,aACjDo1E,IACA38C,eAAa28C,GAAkB,YAEnC,IAAI8B,GAAoB/+C,EAAgBlxB,QAAQuyD,GAC5Cgc,EAAsC,cAAbjlE,EAAEuZ,OAAyBqO,EAAgB++C,EAAoB,GACxF/+C,EAAgB++C,EAAoB,GACpCpC,EAAgB36E,KAAK1F,OAAa,IAClC09B,UAAS2iD,gBAAkBA,KACT,cAAbvkE,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,SAAyB3vB,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,gBAAkBt+C,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBACpK0zB,EAASgX,gBAAgB2B,UAAU3Y,EAASjiC,SAAS+D,QAAQuuE,IAAyB,GAAO,GAG7FrwC,EAASgX,gBAAgB2B,UAAU3Y,EAASl5B,gBAAgBhF,QAAQuuE,IAAyB,GAAO,QAI3G,IAAwC,SAApCrwC,EAASiX,kBAAkBlT,MAAmB/D,EAASgX,gBAAgBm6B,4BAA4BxgF,OAAS,EAAG,CACpH,GAAI2gF,GAAkBtxC,EAASgX,gBAAgBm6B,4BAC3Ca,EAAmBV,EAAgBA,EAAgB3gF,OAAS,GAC5DshF,EAAmBD,EAAiBE,YAAYF,EAAiBE,YAAYvhF,OAAS,GACtF0jE,EAAer0B,EAASl5B,gBAAgBkrE,EAAiB9gD,UACzD6gD,EAAoB/+C,EAAgBlxB,QAAQuyD,GAC5Cgc,EAAsC,cAAbjlE,EAAEuZ,OAAyBqO,EAAgB++C,EAAoB,GACxF/+C,EAAgB++C,EAAoB,GACpCI,GACAjhD,SAAU8O,EAASl5B,gBAAgBhF,QAAQuuE,GAC3Cr4C,UAAWi6C,EAEfjyC,GAASgX,gBAAgBo7B,WAAWD,GAExCn9E,KAAK1F,OAAOmqB,iBAAiBojB,gBAAkB7nC,KAAK1F,OAAOipD,mBAGnEk3B,EAAYh6E,UAAU+6E,kBAAoB,SAAUplE,GAChD,GAAI40B,GAAWhrC,KAAK1F,MACpB,IAAI0wC,EAASgX,kBAAkD,IAA/BhX,EAASuY,iBAAyB,CAC9D,GAAI85B,EACJ,IAAwC,SAApCryC,EAASiX,kBAAkBlT,KAC3BsuC,EAAqBryC,EAASuY,qBAE7B,IAAwC,SAApCvY,EAASiX,kBAAkBlT,MAAmB/D,EAASgX,gBAAgBm6B,4BAA4BxgF,OAAS,EAAG,CACpH,GAAI2gF,GAAkBtxC,EAASgX,gBAAgBm6B,2BAC/CkB,GAAqBf,EAAgBA,EAAgB3gF,OAAS,GAAGugC,SAEjEl8B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,uBAC/C+lE,EAAqBr9E,KAAK1F,OAAOwX,gBAAgBs7B,UAAU,SAAU/xC,GAAO,MAAOA,GAAImD,gBAAgBqb,cACnGwjE,EAAmBp/E,aAAiB,GAE3B,cAAbmY,EAAEuZ,QACF3vB,KAAK06E,sBAAuB,EAC5B1vC,EAASsyC,cAAcD,GACvBr9E,KAAK06E,sBAAuB,IAG5B16E,KAAK06E,sBAAuB,EAC5B1vC,EAASuyC,gBAAgBF,GACzBr9E,KAAK06E,sBAAuB,KAIjCD,KCtYPrnE,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnFg2C,GAA0C,SAAUC,EAAYvqB,EAAQ1jC,EAAKkuD,GAC7E,GAA2Hx2C,GAAvHy2C,EAAIjf,UAAUnvC,OAAQquD,EAAID,EAAI,EAAIzqB,EAAkB,OAATwqB,EAAgBA,EAAOruD,OAAOwuD,yBAAyB3qB,EAAQ1jC,GAAOkuD,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYvqB,EAAQ1jC,EAAKkuD,OACpH,KAAK,GAAIhsD,GAAI+rD,EAAWluD,OAAS,EAAGmC,GAAK,EAAGA,KAASwV,EAAIu2C,EAAW/rD,MAAIksD,GAAKD,EAAI,EAAIz2C,EAAE02C,GAAKD,EAAI,EAAIz2C,EAAEgsB,EAAQ1jC,EAAKouD,GAAK12C,EAAEgsB,EAAQ1jC,KAASouD,EAChJ,OAAOD,GAAI,GAAKC,GAAKvuD,OAAO2uD,eAAe9qB,EAAQ1jC,EAAKouD,GAAIA,GA0C5DwzB,GAAuB,SAAUxpE,GAEjC,QAASwpE,GAAMvgC,EAASn3C,GACpB,GAAImL,GAAQ+C,EAAOC,KAAKjU,KAAMi9C,EAASn3C,IAAY9F,IA4EnD,OA3EAiR,GAAMwsE,eAAgB,EACtBxsE,EAAMwlB,eAAgB,EACtBxlB,EAAMysE,WAAa,EACnBzsE,EAAM+sB,mBACN/sB,EAAM0tC,iBAAkB,EACxB1tC,EAAM0sE,oBAAsB,GAC5B1sE,EAAM2sE,gBAAkB,EACxB3sE,EAAM2/C,oBACN3/C,EAAM4sE,mBAAoB,EAC1B5sE,EAAM6sE,cACN7sE,EAAM8sE,gBAAiB,EACvB9sE,EAAM+sE,sBAAuB,EAE7B/sE,EAAMoyC,aAAc,EAEpBpyC,EAAM8jB,eAAgB,EAEtB9jB,EAAMm4D,mBAENn4D,EAAM4gD,iBAEN5gD,EAAMmtC,mBAENntC,EAAM6N,UAAW,EAEjB7N,EAAM8d,YAAa,EAEnB9d,EAAMgtE,WAAY,EAElBhtE,EAAM2zB,6BAA8B,EAEpC3zB,EAAMitE,mBAAoB,EAE1BjtE,EAAM2V,eAAgB,EAEtB3V,EAAMktE,uBAAwB,EAE9BltE,EAAMmtE,wBAA0B,EAChCntE,EAAMotE,SAAU,EAEhBptE,EAAMwwB,mBAAoB,EAE1BxwB,EAAMqyC,iBAAkB,EAExBryC,EAAMu2B,mBAAoB,EAE1Bv2B,EAAM0E,kBAAmB,EAIzB1E,EAAM8P,oBAAqB,EAI3B9P,EAAM0oB,wBAAyB,EAI/B1oB,EAAM8oD,sBAAuB,EAI7B9oD,EAAMy8C,sBAAuB,EAI7Bz8C,EAAMqV,QAAS,EAOfrV,EAAMqtE,yBACNxrE,WAAS,mBAAoB7B,EAAMstE,sBAAuBttE,GACnDA,EAy3IX,MAv8IAmC,IAAUoqE,EAAOxpE,GAgFjBwpE,EAAM/8E,UAAU+9E,cAAgB,WAC5B,MAAO,SAQXhB,EAAM/8E,UAAUg+E,UAAY,WACxBz+E,KAAK8rC,kBAET0xC,EAAM/8E,UAAUi+E,uBAAyB,SAAU3iF,GAQ/C,MANIiE,MAAK6B,gBAAgBlG,OAAS,EACfqE,KAAmB,aAAEjE,GAGrBiE,KAAKmD,kBAI5Bq6E,EAAM/8E,UAAUk+E,qBAAuB,SAAU5iF,GAQ7C,MANIiE,MAAK6B,gBAAgBlG,OAAS,EACjBqE,KAAiB,WAAEjE,GAGnBiE,KAAKoD,gBAI1Bo6E,EAAM/8E,UAAUm+E,aAAe,SAAU7iF,GACrC,GACIwG,EACJ,QAFUxG,EAAKiR,UAGX,IAAK,GACDzK,EAAYvC,KAAKgL,sBACjB,MACJ,KAAK,GACDzI,EAAYvC,KAAK0K,sBACjB,MACJ,KAAK,GACDnI,EAAYvC,KAAK2K,uBACjB,MACJ,KAAK,GACDpI,EAAYvC,KAAK4K,yBACjB,MACJ,KAAK,GACDrI,EAAYvC,KAAK6K,wBACjB,MACJ,KAAK,GACDtI,EAAYvC,KAAK8K,sBACjB,MACJ,SACIvI,EAAYvC,KAAK+K,yBAGzB,MAAOxI,IAEXi7E,EAAM/8E,UAAUo+E,WAAa,SAAU9iF,GACnC,GACI+iF,EACJ,QAFU/iF,EAAKiR,UAGX,IAAK,GACD8xE,EAAU9+E,KAAKuL,oBACf,MACJ,KAAK,GACDuzE,EAAU9+E,KAAKiL,oBACf,MACJ,KAAK,GACD6zE,EAAU9+E,KAAKkL,qBACf,MACJ,KAAK,GACD4zE,EAAU9+E,KAAKmL,uBACf,MACJ,KAAK,GACD2zE,EAAU9+E,KAAKoL,sBACf,MACJ,KAAK,GACD0zE,EAAU9+E,KAAKqL,oBACf,MACJ,SACIyzE,EAAU9+E,KAAKsL,uBAGvB,MAAOwzE,IAEXtB,EAAM/8E,UAAUs+E,mBAAqB,SAAUhjF,GAC3C,GACIijF,EACJ,QAFUjjF,EAAKiR,UAGX,IAAK,GACDgyE,EAAsBh/E,KAAKi/E,0BAC3B,MACJ,KAAK,GACDD,EAAsBh/E,KAAKk/E,0BAC3B,MACJ,KAAK,GACDF,EAAsBh/E,KAAKm/E,2BAC3B,MACJ,KAAK,GACDH,EAAsBh/E,KAAKo/E,6BAC3B,MACJ,KAAK,GACDJ,EAAsBh/E,KAAKq/E,4BAC3B,MACJ,KAAK,GACDL,EAAsBh/E,KAAKs/E,0BAC3B,MACJ,SACIN,EAAsBh/E,KAAKu/E,6BAGnC,MAAOP,IAEXxB,EAAM/8E,UAAU++E,gBAAkB,SAAUzjF,GACxC,GACI6F,EACJ,QAFU7F,EAAKiR,UAGX,IAAK,GACDpL,EAAoB5B,KAAKy/E,uBACzB,MACJ,KAAK,GACD79E,EAAoB5B,KAAK0/E,uBACzB,MACJ,KAAK,GACD99E,EAAoB5B,KAAK2/E,wBACzB,MACJ,KAAK,GACD/9E,EAAoB5B,KAAK4/E,0BACzB,MACJ,KAAK,GACDh+E,EAAoB5B,KAAK6/E,yBACzB,MACJ,KAAK,GACDj+E,EAAoB5B,KAAK8/E,uBACzB,MACJ,SACIl+E,EAAoB5B,KAAK+/E,0BAGjC,MAAOn+E,IAEX47E,EAAM/8E,UAAUiL,iBAAmB,SAAU3P,GACzC,GACI+N,EACJ,QAFU/N,EAAKiR,UAGX,IAAK,GACDlD,EAAe9J,KAAKggF,aACpB,MACJ,KAAK,GACDl2E,EAAe9J,KAAKigF,aACpB,MACJ,KAAK,GACDn2E,EAAe9J,KAAKkgF,cACpB,MACJ,KAAK,GACDp2E,EAAe9J,KAAKmgF,gBACpB,MACJ,KAAK,GACDr2E,EAAe9J,KAAKogF,eACpB,MACJ,KAAK,GACDt2E,EAAe9J,KAAKqgF,aACpB,MACJ,KAAK,GACDv2E,EAAe9J,KAAKsgF,eACpB,MACJ,SACIx2E,EAAe9J,KAAK+G,cAG5B,MAAO+C,IAEX0zE,EAAM/8E,UAAUqrC,eAAiB,WAC7B9rC,KAAKgQ,UAAY,GAAIuwE,wBAAqBvgF,KAAK0zC,QAC/C1zC,KAAK+gC,WAAa4E,UAAQ66C,SAC1BxgF,KAAK+I,YACL/I,KAAK8R,mBACL9R,KAAK6U,kBACL7U,KAAK+U,OACL/U,KAAKkb,gBACLlb,KAAK4oE,2BAA+D,IAAnC5oE,KAAKygF,0BAClCzgF,KAAKygF,0BAA4BzgF,KAAK4oE,0BAC1C5oE,KAAK0Q,UAAY,GAAIgwE,QAAK1gF,KAAKw+E,gBAAiBx+E,KAAK2gF,mBAAoB3gF,KAAK0zC,QAC9E1zC,KAAKqE,cAAgB,GAAI0P,GAAc/T,MACvCA,KAAK+J,mBACL/J,KAAK4gF,yBACL5gF,KAAK6gF,0BACL7gF,KAAK8gF,4BACL9gF,KAAK+gF,2BACL/gF,KAAKghF,yBACLhhF,KAAKihF,2BACLjhF,KAAKkhF,yBACLlhF,KAAKgK,wBACLhK,KAAKk/E,8BACLl/E,KAAKm/E,+BACLn/E,KAAKo/E,iCACLp/E,KAAKq/E,gCACLr/E,KAAKs/E,8BACLt/E,KAAKu/E,gCACLv/E,KAAKi/E,8BACLj/E,KAAK4B,qBACL5B,KAAK0/E,2BACL1/E,KAAK2/E,4BACL3/E,KAAK4/E,8BACL5/E,KAAK6/E,6BACL7/E,KAAK8/E,2BACL9/E,KAAK+/E,6BACL//E,KAAKy/E,2BACLz/E,KAAKoD,eAAiB,KACtBpD,KAAKmD,iBAAmB,KACxBnD,KAAK0K,uBAAyB,KAC9B1K,KAAKiL,qBAAuB,KAC5BjL,KAAK2K,wBAA0B,KAC/B3K,KAAKkL,sBAAwB,KAC7BlL,KAAK4K,0BAA4B,KACjC5K,KAAKmL,wBAA0B,KAC/BnL,KAAK6K,yBAA2B,KAChC7K,KAAKoL,uBAAyB,KAC9BpL,KAAK8K,uBAAyB,KAC9B9K,KAAKqL,qBAAuB,KAC5BrL,KAAK+K,yBAA2B,KAChC/K,KAAKsL,uBAAyB,KAC9BtL,KAAKgL,uBAAyB,KAC9BhL,KAAKuL,qBAAuB,KAC5BvL,KAAKmhF,mBACDC,KAAM,OACN9kF,MAAO,QACPE,QAAS,UACTJ,IAAK,MACLkF,KAAM,OACNqiB,OAAQ,UAEZ3jB,KAAK6M,sBACD8W,QAAS,IAAK,MAAO,SAAU,WAC/BriB,MAAO,IAAK,KAAM,OAAQ,SAC1BlF,KAAM,IAAK,KAAM,MAAO,SAE5B4D,KAAKgiB,YAAc,KACnBhiB,KAAKqhF,mBAAoB,EACzBrhF,KAAKq0B,2BAA6B,KAClCr0B,KAAKg6B,kCACLh6B,KAAK+5B,oBACL/5B,KAAKgV,0BACLhV,KAAK4xD,0BAA4B5xD,KAAKgmE,4BACtChmE,KAAKuoE,qBAAsB,EAC3BvoE,KAAKgB,QAAS,EACdhB,KAAKsmE,kBAAoB,KACzBtmE,KAAKshF,wBAA0B,KAC/BthF,KAAKuhF,qBACLvhF,KAAKwhF,oBACDC,aAAa,EACbC,YAAY,EACZC,yBAAyB,GAE7B3hF,KAAK+G,cAAgB/G,KAAKqE,cAAcqH,mBACxC1L,KAAKiN,sBACLjN,KAAKqE,cAAc6J,wBACnBlO,KAAKqF,iBACLrF,KAAK6tC,UAAY7tC,KAAK8F,QAAQvL,GAC9ByF,KAAK6I,sBAAwB7I,KAAK2R,mBAAqB3R,KAAK6I,sBACxD7I,KAAK6I,sBAAwB,KACjC7I,KAAKyR,oBAAsBzR,KAAK2R,mBAAqB3R,KAAKyR,oBACtDzR,KAAKyR,oBAAsB,KAC/BzR,KAAKa,kBAAoBb,KAAKqE,cAAc+I,kBAC5CpN,KAAKykB,iBAAmB,GAAI2T,GAAWp4B,MACvCA,KAAK4R,eAAiB,GAAIm5B,GAAS/qC,MACnCA,KAAKwV,gBAAkB,GAAIs2C,IAAU9rD,MACrCA,KAAK41D,eAAiB,GAAItY,IAAct9C,MACxCA,KAAKtB,qBAAuB,GAAIqB,GAAcC,MAC9CA,KAAKqZ,kBAAoB,GAAI2nD,IAAWhhE,MACxCA,KAAKyzB,oBAAsB,GAAIs2C,IAAc/pE,MAC7CA,KAAKg3C,eAAiB,GAAI26B,IAAS3xE,MACnCA,KAAKmjC,cAAgB,GAAIixC,IAAQp0E,MACjCA,KAAK4hF,WACDC,KAAM,OACNn/D,IAAK,MACLgiC,UAAW,YACXD,QAAS,UACTnf,YAAa,eACbD,UAAW,iBACXf,YAAa,qBACbK,UAAW,uBACXm9C,YAAa,KACbC,OAAQ,KACRC,OAAQ,SACRC,aAAc,cACdC,cAAe,UACf39B,OAAQ,SACRO,IAAK,MACLC,SAAU,YACVo9B,UAAW,WACXC,YAAa,kBACbC,aAAc,mBACdC,YAAa,gBACb/8B,YAAa,YACbk3B,KAAM,SACNC,KAAM,SACN6F,UAAW,UAEfviF,KAAK2nC,YAAc,GAAI8yC,IAAYz6E,MACD,IAA9BA,KAAKmtC,cAAcxxC,QACnBqE,KAAK2X,eAAgBw1B,cAAentC,KAAKswC,qBAAsB,GAEnEtwC,KAAKwiF,wBACD3nF,oBAAkBmF,KAAKoY,eAAexL,OACtC5M,KAAK2X,eAAgBS,gBAAkBxL,KAAM,UAAY,GAE7D5M,KAAKsU,YAETkpE,EAAM/8E,UAAUgiF,sBAAwB,SAAU9yD,GAC9C,SAAI3vB,KAAK+b,iBAAkB/b,KAAK0iF,kBAA6D,IAA1C1iF,KAAK0iF,gBAAgB51E,QAAQ6iB,KAWpF6tD,EAAM/8E,UAAU0P,cAAgB,WAC5B,MAAKtV,qBAAkBmF,KAAK2iF,YAIF3iF,KAAKgQ,UAAU4yE,gBAAiBC,SAAU,QAHzD7iF,KAAK2iF,YAapBnF,EAAM/8E,UAAUqiF,mBAAqB,WACjC,GAAIC,GAAW,GAAIjmF,OAAK,GAAIA,OAAOb,cAAe,EAAG,GACjD+mF,EAAW,GAAIlmF,OAAK,GAAIA,OAAOb,cAAe,EAAG,EACrD,OAAOiX,MAAK+oC,IAAI8mC,EAASn0E,oBAAqBo0E,EAASp0E,sBAS3D4uE,EAAM/8E,UAAU6wC,QAAU,SAAUv1C,GAChC,MAAOA,GAAK6S,oBAAsB5O,KAAK8iF,sBAO3CtF,EAAM/8E,UAAU+hF,sBAAwB,WACpC,GAAI38D,GAAmB7lB,KAAKoY,cAC5ByN,GAAiBtrB,GAAMM,oBAAkBgrB,EAAiBtrB,IAA4ByF,KAAKqnB,kBAA3BxB,EAAiBtrB,GACjFsrB,EAAiBxN,KAAQxd,oBAAkBgrB,EAAiBxN,MAAgCrY,KAAKijF,oBAA7Bp9D,EAAiBxN,MAQzFmlE,EAAM/8E,UAAUyiF,uBAAyB,SAAU7jF,GAC/C,MAAKxE,qBAAkBwE,GAYZ,KAXgB,oBAAsB,SAAVA,IAA4C,IAAxBA,EAAMyN,QAAQ,MACjC,IAAzBzN,EAAMyN,QAAQ,MAAezN,EAAQ,KAAOA,EAE3B,mBACjBA,EAAQ,KAGRA,EAAMpB,YAYzBu/E,EAAM/8E,UAAU0iF,oBAAsB,WAClC,GAAIC,GAAiBpjF,KAAKkjF,uBAAuBljF,KAAKi1B,QAClDouD,EAAgBrjF,KAAKkjF,uBAAuBljF,KAAK+c,MAChDliB,qBAAkBmF,KAAK+c,QAAkC,gBAAhB/c,cAAyD,IAA7BA,KAAK+c,MAAMjQ,QAAQ,OACzFu2E,EAAgBrjF,KAAK+c,MAEzB,IAAIumE,GAAqBtjF,KAAK8F,QAAQ6tB,MAAMsB,OACxCsuD,EAAoBvjF,KAAK8F,QAAQ6tB,MAAM5W,KACvCsmE,KACArjF,KAAK8F,QAAQ6tB,MAAM5W,MAAQsmE,GAE3BD,IACApjF,KAAK8F,QAAQ6tB,MAAMsB,OAASmuD,GAE3BA,GAAmBE,IACpBtjF,KAAK8F,QAAQ6tB,MAAMsB,OAAS,QAE3BouD,GAAkBE,IACnBvjF,KAAK8F,QAAQ6tB,MAAM5W,MAAQ,QAE/B/c,KAAKo9B,YAAcp9B,KAAK8F,QAAQq3B,aAChCn9B,KAAKkyE,WAAalyE,KAAK8F,QAAQosB,aAMnCsrD,EAAM/8E,UAAU+iF,OAAS,WACjBxjF,KAAK2sC,UACL3sC,KAAKkC,SAASyqC,SAAU,EACxB3sC,KAAKkC,SAASqvB,KAAKob,SAAU,GAE7B3sC,KAAKyjF,QACLzjF,KAAKkC,SAASuhF,OAAQ,EACtBzjF,KAAKkC,SAASqvB,KAAKkyD,OAAQ,EAE3BzjF,KAAKkC,SAASwhF,YAAc1jF,KAAK0jF,YAEjC1jF,KAAKkC,SAASqvB,KAAKmyD,YAAc1jF,KAAK0jF,aAE1C1jF,KAAK8F,QAAQwwB,aAAa,OAAQ,eAClCqtD,iBAAgBrkD,OAAQt/B,KAAK8F,SAAW9F,KAAKu3B,eAC7Cv3B,KAAKsW,QAAQ,WACbtW,KAAK8F,QAAQtL,UAAU62B,I/B1jBb,W+B2jBNrxB,KAAK+gC,WACL/gC,KAAK8F,QAAQtL,UAAU62B,I/BjjBb,Y+BojBVrxB,KAAK8F,QAAQtL,UAAUmE,O/BpjBb,Y+BsjBdqB,KAAKmjF,sBACAtoF,oBAAkBmF,KAAKk9B,gBACxBl9B,KAAK4jF,gBAET5jF,KAAKg3C,eAAe66B,iBACpB7xE,KAAK+1B,OAAO,eAAgB,MAC5B/1B,KAAK6jF,iBACAhpF,oBAAkBmF,KAAK22B,mBAA6D,YAAxC32B,KAAK22B,iBAAiBC,cAInE52B,KAAKy1B,cAHLz1B,KAAKu1B,cAKLv1B,KAAK+Y,SACL/Y,KAAK+Y,QAAQ+qE,QAEjB9jF,KAAKqE,cAAcqQ,oBAEvB8oE,EAAM/8E,UAAUojF,eAAiB,WA+C7B,QAASE,GAAYC,EAAYC,EAAUC,EAAiBC,GAExD,GAAIC,EACCvpF,qBAAkBqpF,KACnBE,EAAUF,EAAgBvqE,OAAO,SAAUvD,GAAK,MAAOA,GAAE3V,UAAU+9E,kBAAoBwF,KAEvFC,IAAappF,oBAAkBupF,IAA+B,IAAnBA,EAAQzoF,QACnDwoF,EAAa7lF,KAAK,UAAY0lF,EAAa,qGArDnD,GAAIG,MACAE,EAAe,iBACfC,GAAoB,EACpBjkC,EAASrgD,KAAKvB,WAAuB,UAEzChD,QAAOC,KAAK2kD,GAAQ/tC,QAAQ,SAAU1W,GACd,OAAhBykD,EAAOzkD,KACP0oF,GAAoB,IAK5B,KAAK,GADDC,IAAY,EACPzmF,EAAI,EAAGA,EAAIkC,KAAKib,QAAQtf,OAAQmC,IACrC,GAAIkC,KAAKib,QAAQnd,GAAiB,aAAG,CACjCymF,GAAY,CACZ,OAGJD,GACAH,EAAa7lF,KAAK,8MAEA,iBAAlB0B,KAAK+X,WACA/X,KAAKoY,eAAe7d,IACrB4pF,EAAa7lF,KAAK,gKAGtB0B,KAAK9E,qBAAsBC,gBAAeN,oBAAkBmF,KAAKvB,WAAW2D,kBAC5E+hF,EAAa7lF,KAAK,kIAEjBzD,oBAAkBmF,KAAKge,iBAAiB6D,QAAQ3R,SAAoD,KAAzClQ,KAAKge,iBAAiB6D,QAAQ3R,QAAkBm0E,EAAajiE,KAAKpiB,KAAKge,iBAAiB6D,QAAQ3R,SAC5Ji0E,EAAa7lF,KAAK,iLAEjBzD,oBAAkBmF,KAAKge,iBAAiB/K,WAAW/C,SAAuD,KAA5ClQ,KAAKge,iBAAiB/K,WAAW/C,QAAkBm0E,EAAajiE,KAAKpiB,KAAKge,iBAAiB/K,WAAW/C,SACrKi0E,EAAa7lF,KAAK,qLAElBimF,GAA+B,iBAAlBvkF,KAAK+X,UAClBosE,EAAa7lF,KAAK,sIAElB0B,KAAK2S,aAAahX,OAAS,GAC3BqE,KAAK2S,aAAaL,QAAQ,SAAUkyE,GAC3BA,EAAQpoF,KACT+nF,EAAa7lF,KAAK,yHAe9BylF,EAAY,OAAQ/jF,KAAKo9C,aAAcp9C,KAAKkkF,gBAAiBC,EAC7D,IAAIjlD,IACAl/B,KAAKk/B,aAAa68C,aAAe/7E,KAAKk/B,aAAaulD,eAAiBzkF,KAAKk/B,aAAaU,cACtF5/B,KAAKk/B,aAAasJ,kBAAoBxoC,KAAKk/B,aAAaC,qBAAuBn/B,KAAKk/B,aAAa6P,MACjG/uC,KAAKk/B,aAAa48C,gBAAkB97E,KAAKk/B,aAAawlD,2BACtDxlD,GAAe,GAEnB6kD,EAAY,OAAQ7kD,EAAcl/B,KAAKkkF,gBAAiBC,GACxDJ,EAAY,UAAW/jF,KAAKk9C,gBAAiBl9C,KAAKkkF,gBAAiBC,GACnEJ,EAAY,cAAe/jF,KAAK2kF,iBAAkB3kF,KAAKkkF,gBAAiBC,EACxE,IAAIS,IACA5kF,KAAKshC,qBAAuBthC,KAAKi/B,2BACjC2lD,GAAc,GAElBb,EAAY,iBAAkBa,EAAa5kF,KAAKkkF,gBAAiBC,GACjEJ,EAAY,eAAgB/jF,KAAKs6B,mBAAoBt6B,KAAKkkF,gBAAiBC,GAC3EJ,EAAY,WAAY/jF,KAAK6kF,eAAgB7kF,KAAKkkF,gBAAiBC,GACnEJ,EAAY,SAAU/jF,KAAKm9C,cAAen9C,KAAKkkF,gBAAiBC,EAChE,IAAIn8C,EACAhoC,MAAKgoC,SAAWhoC,KAAKgoC,QAAQrsC,OAAS,IACtCqsC,GAAU,GAEd+7C,EAAY,UAAW/7C,EAAShoC,KAAKkkF,gBAAiBC,EACtD,IAAIxqE,IACA3Z,KAAKuiC,gBAAmBviC,KAAKgoC,UAA+C,IAApChoC,KAAKgoC,QAAQl7B,QAAQ,aAC7D6M,GAAS,GAEboqE,EAAY,SAAUpqE,EAAQ3Z,KAAKkkF,gBAAiBC,GACpDJ,EAAY,YAAa/jF,KAAKs+C,eAAgBt+C,KAAKkkF,gBAAiBC,EACpE,IAAIW,EAUJ,KATI9kF,KAAK+kF,mBAAsB/kF,KAAKkN,UAAYlN,KAAKkN,SAASvR,OAAS,GAC/DqE,KAAK2S,cAAgB3S,KAAK2S,aAAahX,OAAS,KACpDmpF,GAAa,GAEjBf,EAAY,aAAce,EAAY9kF,KAAKkkF,gBAAiBC,GAC5DJ,EAAY,cAAe/jF,KAAKglF,kBAAmBhlF,KAAKkkF,gBAAiBC,GACzEJ,EAAY,aAAc/jF,KAAK+/C,eAAgB//C,KAAKkkF,gBAAiBC,GACrEJ,EAAY,YAAa/jF,KAAKilF,eAAgBjlF,KAAKkkF,gBAAiBC,GACpEJ,EAAY,gBAAiB/jF,KAAKsX,qBAAsBtX,KAAKkkF,gBAAiBC,GAC1EA,EAAaxoF,OAAS,EAAG,CAEzB,GAAIupF,IACA51E,SAGJ60E,GAAa7xE,QAAQ,SAAU6yE,EAAK1lF,GAChCylF,EAAmB51E,MAAMtR,SAASyB,EAAO,KAAO0lF,IAEpDnlF,KAAKsW,QAAQ,gBAAiB4uE,KAGtC1H,EAAM/8E,UAAU8zB,YAAc,WAC1B,GAAI6wD,GAAiBplF,KAAK8F,QAAQu4B,iBAAiB,mBAAmB1iC,MACtE,KAAKd,oBAAkBmF,KAAKqlF,oBAAyC,IAAnBD,GAAwBplF,KAAKqlF,kBAAmB,CAC1FC,EAAYtlF,KAAKqlF,gBACrB1mF,UAAO2mF,GACPtlF,KAAKqlF,iBAAmB,KAG5B,GADAD,EAAiBplF,KAAK8F,QAAQu4B,iBAAiB,mBAAmB1iC,QAC7Dd,oBAAkBmF,KAAKulF,mBAAwC,IAAnBH,GAAwBplF,KAAKulF,iBAAkB,CAC5F,GAAID,GAAYtlF,KAAKulF,eACrB5mF,UAAO2mF,GACPtlF,KAAKulF,gBAAkB,KAE3B,KAAyE,IAAjEvlF,KAAK8F,QAAQu4B,iBAAiB,uBAAwB1iC,QAC1DqE,KAAK8F,QAAQu4B,iBAAiB,uBAAuB,GAAG1/B,QAE5D,MAAsE,IAA9DqB,KAAK8F,QAAQu4B,iBAAiB,oBAAqB1iC,QACvDqE,KAAK8F,QAAQu4B,iBAAiB,oBAAoB,GAAG1/B,QAEzD,IAAqF,IAAjFqB,KAAK8F,QAAQu4B,iBAAiB,sCAAwC1iC,OACtE,IAAK,GAAImC,GAAI,EAAGA,EAAIkC,KAAK09E,WAAY5/E,IAC5BjD,oBAAkBmF,KAAK8F,QAAQu4B,iBAAiB,sCAAwCrgC,SAASF,EAAEG,WAAY,QAChH+B,KAAK8F,QAAQu4B,iBAAiB,sCAAwCrgC,SAASF,EAAEG,WAAY,KAAY,MAAEyiD,WAAa,UAI/H7lD,qBAAkBmF,KAAK8F,QAAQD,cAAc,mCAC9C7F,KAAK8F,QAAQD,cAAc,gCAA0C,MAAE0sC,SAAW,YAEjF13C,oBAAkBmF,KAAK8F,QAAQstB,uB/BntBd,0B+BmtB2D,MAC7EpzB,KAAK8F,QAAQstB,uB/BptBK,0B+BotBwC,GAAU,MAAEstB,WAAa,YAG3F88B,EAAM/8E,UAAU80B,YAAc,WAC1B,GAAIiwD,GAAcxlF,KAAKq5B,UAAUzE,WAAW,GAAGA,WAAW,EAC1D50B,MAAKylF,gBAAkBzlF,KAAKq5B,UAAUzE,WAAW,GAAGA,WAAW,GAAe,UAC9E,IAAI8wD,GAAe1lF,KAAKq5B,UAAUzE,WAAW,GAAGA,WAAW,EAI3D,IAHI50B,KAAKkC,SAAS4D,SACd9F,KAAKykB,iBAAmC,oBAEvCzkB,KAAKqlF,iBAAkB,CACxB,GAAIK,EAAc,CACVh1D,EAAUg1D,CAEd,IADA1lF,KAAK2lF,iBAAiBj1D,GAClB1wB,KAAKykB,iBAAiBC,aAA8B,gBAAG,CACvD,GAAqF,IAAjF1kB,KAAK8F,QAAQu4B,iBAAiB,sCAAwC1iC,OAAc,CACpFqE,KAAK09E,WAAa19E,KAAK4R,eAAe4Y,aAAe,EAAI,CACzD,KAAK,GAAI1sB,GAAI,EAAGA,EAAIkC,KAAK09E,WAAY5/E,IACjCkC,KAAK8F,QAAQu4B,iBAAiB,sCAAwCrgC,SAASF,EAAEG,WAAY,KAAY,MAAEyiD,WAAa,SAGxG,IAApB1gD,KAAK09E,aACL19E,KAAK09E,WAAa,GAG1B19E,KAAK8F,QAAQstB,uB/B7uBC,0B+B6uB4C,GAAU,MAAEstB,WAAa,SACnF1gD,KAAKqlF,iBAAmBrlF,KAAKqlF,iBAAmBrlF,KAAK4lF,gBAAgBl1D,GAEzE,GAAI80D,GAAexlF,KAAKykB,iBAAiBC,aAA8B,gBAAG,CACtE1kB,KAAK8F,QAAQD,cAAc,gCAA0C,MAAE0sC,SAAW,QAClF,IAAI7hB,GAAU80D,CACdxlF,MAAK6lF,uBAAuBn1D,GAC5B1wB,KAAKulF,gBAAkBvlF,KAAKulF,gBAAkBvlF,KAAK4lF,gBAAgBl1D,MAI/E8sD,EAAM/8E,UAAUolF,uBAAyB,SAAU//E,GAC/C,GAAIpL,GAAgBoL,CAGpB,MADay5B,UAAQ7kC,EAAe,gCACxB,CASR,IAAK,GARDm3C,GAAM7xC,KAAKu3B,cAAc,OAASC,UAAW,uBAM7CsuD,EAAkB,EAClBC,EAAiB7yE,KAAKgY,MAAMplB,EAAQkgF,wBAAwBjpE,OACvDjf,EAAI,EAAGA,EAAI,EAAGA,IACfkC,KAAKizB,UACL4e,EAAIna,YAAY13B,KAAKu3B,cAAc,OAASC,UAAW,mBAAoB41B,OACnEz5B,MAAO,UAAYoyD,QAA6B,mBAIxDl0C,EAAIna,YAAY13B,KAAKu3B,cAAc,OAASC,UAAW,mBAAoB41B,OACnEz5B,MAAO,UAAYmyD,QAA8B,kBAIjEprF,GAAcwxE,aAAar6B,EAAKn3C,EAAcurF,cAGtDzI,EAAM/8E,UAAUklF,iBAAmB,SAAU7/E,GACzC,GAAIpL,GAAgBoL,CAGpB,MADcy5B,UAAQ7kC,EAAe,2BACxB,CAST,IAAK,GARDm3C,GAAM7xC,KAAKu3B,cAAc,OAASC,UAAW,uBAM7CsuD,EAAkB,EAClBC,EAAiB7yE,KAAKgY,MAAMplB,EAAQkgF,wBAAwBjpE,OACvDjf,EAAI,EAAGA,EAAI,EAAGA,IACfkC,KAAKizB,UACL4e,EAAIna,YAAY13B,KAAKu3B,cAAc,OAASC,UAAW,mBAAoB41B,OACnEz5B,MAAO,UAAYoyD,QAA2B,oBAItDl0C,EAAIna,YAAY13B,KAAKu3B,cAAc,OAASC,UAAW,mBAAoB41B,OACnEz5B,MAAO,UAAYmyD,QAA4B,mBAI/DprF,GAAcwxE,aAAar6B,EAAKn3C,EAAcurF,cAItDzI,EAAM/8E,UAAUmlF,gBAAkB,SAAU9/E,GACxC,GAIIw/E,GAJA5qF,EAAgBoL,EAChBogF,EAAyBpgF,EAAQkgF,wBAAwB/wD,OACzDkxD,IAAS5mD,UAAQ7kC,EAAe,+BAgBpC,IAbIyrF,IACAb,EAAYtlF,KAAKomF,yBAAyBF,IAChCvyD,MAAM4e,SAAW,SAC3B+yC,EAAU3xD,MAAM7V,KAAO,MACnB9d,KAAKizB,WACLqyD,EAAU3xD,MAAM0yD,eAAe,WAInCf,EAAYtlF,KAAKsmF,qBAAqBJ,IAC5BvyD,MAAM4e,SAAW,WAC3B+yC,EAAU3xD,MAAMwsC,OAAS,GAExBgmB,EAIA,CACDb,EAAU3xD,MAAMsB,OAASnvB,EAAQkgF,wBAAwB/wD,OAAS,IAClE,IAAI4c,GAAM7xC,KAAKu3B,cAAc,OAASC,UAAW,mBACjDqa,GAAIle,MAAM5W,MAAQ/c,KAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAgB,YAAI,KACzGye,EAAIle,MAAM4e,SAAW,SACjBvyC,KAAKizB,UACL4e,EAAIle,MAAM,gBAAkBzgB,KAAK6P,IAAI/iB,KAAKylF,iBAAmB,KAG7D5zC,EAAIle,MAAM,eAAiB3zB,KAAKylF,gBAAkB,KAEtD5zC,EAAIna,YAAY4tD,GAChB5qF,EAAcwxE,aAAar6B,EAAKn3C,EAAcurF,gBAf9CX,GAAU3xD,MAAMsB,OAASnvB,EAAQkgF,wBAAwB/wD,OAAS,KAClEv6B,EAAcwxE,aAAaoZ,EAAW5qF,EAAcurF,WAgBxD,OAAOX,IAEX9H,EAAM/8E,UAAU2lF,yBAA2B,SAAUG,GAUjD,IAAK,GATDnoD,GAAQp+B,KAAKu3B,cAAc,SAAWC,UAAW,2BACjDs+B,EAAQ91D,KAAKu3B,cAAc,SAAWC,UAAW,mBAEjDyJ,KACAulD,EAAexmF,KAAKu3B,cAAc,MAClCC,UAAW,qBAAsB41B,OAC7Bz5B,MAAO,WAAa4yD,EAAiB,EAAI,SAGxCzoF,EAAI,EAAGA,EAAIkC,KAAK09E,WAAY5/E,IACjCmjC,EAAI3iC,KAAKkoF,EAAanmB,WAAU,GAEpCrgE,MAAKymF,gBAAkB,CACvB,KAAS3oF,EAAI,EAAGA,EAAImjC,EAAItlC,OAAQmC,IAC5Bg4D,EAAMp+B,YAAY13B,KAAK0mF,qBAAqBzlD,EAAIjjC,SAASF,EAAEG,WAAY,OACvE+B,KAAKymF,gBAAkBzmF,KAAKymF,gBAAkB,CAIlD,OAFAroD,GAAM1G,YAAYo+B,GAClB13B,EAAMzK,MAAM5W,MAAQ,OACbqhB,GAEXo/C,EAAM/8E,UAAUimF,qBAAuB,SAAUzlD,GAC7C,GAAI0lD,GAAU1lD,EACV14B,EAAM,CACNvI,MAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAgB,YAAI,IAAM,IAC7F7qB,EAAMvI,KAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAgB,YAAI,IAEjG,KAASt1B,EAAI,EAAGA,EAAIyK,EAAKzK,IACrB6oF,EAAQjvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,sCAE9D,KAAS15B,EAAI,EAAGA,EAAI6oF,EAAQ/xD,WAAWj5B,OAAS,EAAGmC,IAC/C6oF,EAAQ/xD,WAAW52B,SAASF,EAAEG,WAAY,KAAY,MAAS,MAAI,OAGvE,KAAK,GADD2oF,MAAev4E,MAAM4F,KAAK0yE,EAAQ/xD,YAC7B92B,EAAI,EAAGA,EAAI8oF,EAAUjrF,OAAQmC,IAAK,CACvC,GAAI+oF,GAAWD,EAAU5oF,SAASF,EAAEG,WAAY,IAChD,QAAQ+B,KAAKymF,iBACT,IAAK,GAEOzmF,KAAKizB,WACL4zD,EAASxzD,UAAY,0FACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,SAGrC+oE,EAASxzD,UAAY,yFAEzB,MAER,KAAK,GAEGwzD,EAASnvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,uCAC3DqvD,EAASnvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,uCAC3DqvD,EAASnvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,sCAE3D,KAAK,GADDsvD,MAAoBz4E,MAAM4F,KAAK4yE,EAASjyD,YACnC6nC,EAAM,EAAGA,EAAMqqB,EAAenrF,OAAQ8gE,IAAO,CAClD,GAAIsqB,GAAYD,EAAe9oF,SAASy+D,EAAIx+D,WAAY,IAC5C,KAARw+D,EACIz8D,KAAKizB,WACL8zD,EAAU1zD,UAAY,qFACtB0zD,EAAU3xD,SAAS,GAAU,MAAEtX,KAAO,SAGtCipE,EAAU1zD,UAAY,qFAGb,IAARopC,EACDz8D,KAAKizB,WACL8zD,EAAU1zD,UAAY,sFACtB0zD,EAAU3xD,SAAS,GAAU,MAAEtX,KAAO,SAGtCipE,EAAU1zD,UAAY,sFAItBrzB,KAAKizB,WACL8zD,EAAU1zD,UAAY,sFACtB0zD,EAAU3xD,SAAS,GAAU,MAAEtX,KAAO,SAGtCipE,EAAU1zD,UAAY,wFAQlD,MAAOszD,IAEXnJ,EAAM/8E,UAAU6lF,qBAAuB,SAAUC,GAC7C,GAAInoD,GAAQp+B,KAAKu3B,cAAc,SAAWC,UAAW,2BACjDs+B,EAAQ91D,KAAKu3B,cAAc,SAAWC,UAAW,mBAEjDyJ,KACAulD,EAAexmF,KAAKu3B,cAAc,MAAQC,UAAW,qBAAsB41B,OACvEz5B,MAAO,WAAa4yD,EAAiB,EAAI,QAEjDvmF,MAAKgnF,WAAa,CAClB,KAAK,GAAIlpF,GAAI,EAAGA,EAAI,EAAGA,IACnBmjC,EAAI3iC,KAAKkoF,EAAanmB,WAAU,GAEpC,KAAK,GAAI50D,GAAI,EAAGA,EAAIw1B,EAAItlC,OAAQ8P,IACxBzL,KAAKgnF,WAAa,EAClBhnF,KAAKgnF,WAAahnF,KAAKgnF,WAAa,EAEX,IAApBhnF,KAAKgnF,aACVhnF,KAAKgnF,WAAa,GAEtBlxB,EAAMp+B,YAAY13B,KAAKinF,aAAahmD,EAAIjjC,SAASyN,EAAExN,WAAY,MAEnEmgC,GAAM1G,YAAYo+B,GAClB13B,EAAMzK,MAAM5W,MAAQ,MACpB,IAAI80B,GAAM7xC,KAAKu3B,cAAc,OAASC,UAAW,oBAIjD,OAHAqa,GAAIle,MAAM5W,MAAQ,oBAClB80B,EAAIle,MAAMgtB,SAAW,SACrB9O,EAAIna,YAAY0G,GACTyT,GAEX2rC,EAAM/8E,UAAUwmF,aAAe,SAAUhmD,GACrC,GAAI0lD,GAAU1lD,CACd,IAAIjhC,KAAKgnF,WAAa,EAAG,CACrB,GAAIz+E,GAAM,CACNvI,MAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAgB,YAAI,IAAM,IAC7F7qB,EAAMvI,KAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAgB,YAAI,IAEjG,KAASt1B,EAAI,EAAGA,EAAIyK,EAAKzK,IACrB6oF,EAAQjvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,iCAI9DmvD,GAAQjvD,YAAY13B,KAAKu3B,cAAc,MAAQC,UAAW,4BAG9D,KAAK,GADDovD,MAAev4E,MAAM4F,KAAK0yE,EAAQ/xD,YAC7B92B,EAAI,EAAGA,EAAI8oF,EAAUjrF,OAAQmC,IAAK,CACvC,GAAI+oF,GAAWD,EAAU5oF,SAASF,EAAEG,WAAY,IAChD,QAAQ+B,KAAKgnF,YACT,IAAK,GACS,IAANlpF,EACIkC,KAAKizB,WACL4zD,EAASxzD,UAAY,sFACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,SAGrC+oE,EAASxzD,UAAY,sFAIzBwzD,EAASxzD,UAAY,qFAEzB,MACJ,KAAK,GACS,IAANv1B,EACIkC,KAAKizB,WACL4zD,EAASxzD,UAAY,sFACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,SAGrC+oE,EAASxzD,UAAY,sFAIzBwzD,EAASxzD,UAAY,qFAEzB,MACJ,KAAK,GACS,IAANv1B,EACIkC,KAAKizB,WACL4zD,EAASxzD,UAAY,sFACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,SAGrC+oE,EAASxzD,UAAY,sFAIrBrzB,KAAKizB,WACL4zD,EAASxzD,UAAY,sFACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,UAGrC+oE,EAASxzD,UAAY,qFAG7B,MACJ,KAAK,GACGrzB,KAAKizB,WACL4zD,EAASxzD,UAAY,sFACrBwzD,EAASzxD,SAAS,GAAU,MAAEtX,KAAO,UAGrC+oE,EAASxzD,UAAY,uFAKrC,MAAOszD,IAOXnJ,EAAM/8E,UAAUg1B,YAAc,WAC1BA,cAAYz1B,KAAK8F,UAOrB03E,EAAM/8E,UAAUo1B,YAAc,WAC1BA,cAAY71B,KAAK8F,UAMrB03E,EAAM/8E,UAAUyU,gBAAkB,WAC9BlV,KAAK4R,eAAey6B,sBACpBrsC,KAAK4R,eAAeo+B,qCAOxBwtC,EAAM/8E,UAAU0U,YAAc,SAAUP,GAChCA,IACA5U,KAAK25B,uBAAyB/kB,GAE9B5U,KAAK2V,mBACL3V,KAAKqE,cAAcqN,wBACnB1R,KAAK4R,eAAegE,uBAExB,IAAI7M,GAAW/I,KAAK+I,SAChBi8D,EAAqB,GAAI9rD,IAC7B,IAAgB,MAAZnQ,EACA,IAAK,GAAIxN,GAAK,EAAGowB,EAAa5iB,EAAUxN,EAAKowB,EAAWhwB,OAAQJ,IAAM,CAClE,GAAIgD,GAASotB,EAAWpwB,EACxBypE,GAAmB/rD,IAAI1a,EAAOC,gBAAgBqb,YAAY5b,WAAYM,GAoB9E,GAjBIyB,KAAK2a,uBACL3a,KAAKqZ,kBAAkB0sD,wBAAwBf,GAE/ChlE,KAAKqZ,mBAAqBrZ,KAAKvB,WAAW2a,aAC1CpZ,KAAKqZ,kBAA6B,aAClCrZ,KAAKqZ,kBAAgC,gBACrCrZ,KAAKqZ,kBAAkB0rD,mBAAmBC,GACtChlE,KAAK4xD,2BAA6B5xD,KAAK2V,kBAAoB3V,KAAKiC,+BAC9DjC,KAAKgB,QAAWhB,KAAKkC,SAASC,oBAAqBnC,KAAKvB,WAAW2D,kBACrEpC,KAAKqZ,kBAAkBo4C,gCAAgCuT,IAG3DhlE,KAAK2V,mBACL3V,KAAKqE,cAAcqN,wBACnB1R,KAAK4R,eAAegE,uBACpB5V,KAAKqE,cAAcmkB,mBAEnB5T,EAAU,CACV,GAAI5U,KAAK9E,qBAAsBO,SAAUR,EAAgB+E,MAAO,CAC5D,GAAI0C,GAAQhD,WAAS,QAASM,KAAK9E,WACnC8E,MAAKkC,SAAShH,YAAe2C,OAAQmC,KAAK+I,SAAUrG,MAAOA,OAG3D1C,MAAKkC,SAASyV,eAAgBzc,WAAY8E,KAAK+I,WAAY,EAE1DlO,qBAAkBmF,KAAKgiD,kBACxBhiD,KAAKkC,SAASyV,eAAgB4rC,iBAAkBvjD,KAAKujD,mBAAoB,OAG5E,CACDvjD,KAAKs/C,aAAa9kD,UAAUmE,OAAO,kBAC9B9D,oBAAkBmF,KAAKs/C,aAAaz5C,cAAc,0BACnDlH,SAAOqB,KAAKs/C,aAAaz5C,cAAc,yBAE3C7F,KAAK+1B,OAAO,gBACR/1B,KAAKglF,mBACLhlF,KAAK+1B,OAAO,0BAEhB,IAAId,IAAWp6B,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,aAAmC,KAAnB1nB,KAAKohB,UAAoB,GAAsBphB,KAAKohB,SAClKphB,MAAKohB,UAAYvmB,oBAAkBmF,KAAKohB,WAAa,GAAK6T,EAC1Dj1B,KAAKu/C,iBACLv/C,KAAKm5B,aACLn5B,KAAK+1B,OAAO,0BAEX/1B,KAAK25B,wBACN35B,KAAKg3C,eAAe88B,yBAEA,aAAnB9zE,KAAKsyB,WAA+C,SAAnBtyB,KAAKsyB,WAA2BtyB,KAAKuyB,kBACvEvyB,KAAKknF,4BAGb1J,EAAM/8E,UAAU0mF,yBAA2B,WACvC,GAAIC,GAAoBpnF,KAAKykB,iBAAiB2U,YAC9CkF,eAAY8oD,EAAkB/oD,iBAAiB,oC/BnmCb,4C+BomClCC,cAAY8oD,EAAkB/oD,iBAAiB,wC/BnmCT,gD+BomCtCC,cAAY8oD,EAAkB/oD,iBAAiB,yB/BnmCxB,wB+BomCvBC,cAAYt+B,KAAK8F,QAAQu4B,iBAAiB,qB/BtiCZ,mB+BuiC9BC,cAAYt+B,KAAK8F,QAAQu4B,iBAAiB,2B/BtiCX,0B+BwiCnCm/C,EAAM/8E,UAAU04B,WAAa,WACrBn5B,KAAKu+C,gBACLv+C,KAAKqkD,eAAiB,GAAIgjC,kBAAernF,KAAK8F,SAC1CskC,UAAWpqC,KAAKsnF,iBAAiB3yE,KAAK3U,MACtCskD,WAAYtkD,KAAK4hF,UACjB2F,UAAW,aAInBn2D,eAAaC,IAAIqE,OAAQ,SAAU11B,KAAKwnF,aAAcxnF,MACtDoxB,eAAaC,IAAI2G,SAASsO,KAAM,UAAWtmC,KAAKynF,eAAgBznF,OAEpEw9E,EAAM/8E,UAAUinF,aAAe,WACvB1nF,KAAKqkD,iBACLrkD,KAAKqkD,eAAeltB,UACpBn3B,KAAKqkD,eAAiB,MAG1BjzB,eAAazyB,OAAO+2B,OAAQ,SAAU11B,KAAKwnF,cAC3Cp2D,eAAazyB,OAAOq5B,SAASsO,KAAM,UAAWtmC,KAAKynF,iBAEvDjK,EAAM/8E,UAAUgnF,eAAiB,SAAUrxE,GACnCA,EAAEuxE,QACgB,KAAdvxE,EAAEwxE,UACF5nF,KAAKykB,iBAAiB8jB,YAAYvoC,KAAKkC,SAAS4D,QAAQ8uB,WAAW,GAAI,UAAU,GACjF50B,KAAKykB,iBAAiB8jB,YAAYvoC,KAAK8F,QAAS,OAAO,KAUnE03E,EAAM/8E,UAAU+mF,aAAe,WAC3B,GAAIv2E,GAAQjR,IACZ,KAAKnF,oBAAkBmF,KAAK8F,SAAU,CAClC9F,KAAKwkC,sBACLxkC,KAAKykB,iBAAiB2R,uBACtBp2B,KAAK41D,eAAe3U,kBAChBjhD,KAAKqZ,mBAAqBrZ,KAAKvB,WAAW2a,aAC1CpZ,KAAK6nF,+BAA+B7nF,KAAKg6B,gCACzCh6B,KAAKyzB,oBAAoByG,qBAAqBl6B,KAAKg6B,gCAEvD,IAAII,GAAiBp6B,KAAKq6B,kBACtBr6B,MAAKs6B,oBAAsBF,GAAkBA,EAAeG,wBAC5Dv6B,KAAKq6B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,8BAE1J16B,KAAKmjF,qBACL,IAAInP,GAAQh0E,KAAKg3C,eAAeC,eAAenxC,QAAQu4B,iBAAiB,WAAW,GAC/E41C,EAAQj0E,KAAKg3C,eAAeC,eAAenxC,QAAQu4B,iBAAiB,WAAW,EACnFr+B,MAAKg3C,eAAe87B,6BAA+BkB,EAAM5yC,YAAc,EAAI,KAC3EphC,KAAKg3C,eAAe+7B,8BAAgCkB,EAAM7yC,YAAc,EAAI,KACxEphC,KAAK4R,eAAe4rB,eACpBlJ,WAAW,WACPrjB,EAAMW,eAAe+oB,oBACtB,GAGP36B,KAAKuyB,kBAAoBvyB,KAAKuyB,iBAAoC,mBAClEvyB,KAAKuyB,iBAAoC,kBAAEu1D,wBAE3C9nF,KAAKwkB,8BACLxkB,KAAK4R,eAAew6B,mBAG5BoxC,EAAM/8E,UAAU6mF,iBAAmB,SAAUlxE,GACzC,GAAIpW,KAAKglF,mBAAqBhlF,KAAKumB,oBAAmC,cAAbnQ,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,SAAyBqI,SAAS2L,eAAe3jC,KAAK8F,QAAQvL,GAAK,iBAAmByF,KAAW,KAAG,CACvL,GAAI+nF,GAAgB/nF,KAAW,IAC1BnF,qBAAkBktF,IACnB,EAAgB79C,QAGnB9zB,EAAEkpB,SAAwB,cAAblpB,EAAEuZ,QAAuC,YAAbvZ,EAAEuZ,SAAyBvZ,EAAEkpB,SAAWt/B,KAAK8F,QAAQD,cAAc,eAC5GuQ,EAAEkpB,QAAuB,WAAblpB,EAAEuZ,QAAuB3vB,KAAKkC,SAASqvB,KAAKy2D,kBACuB,UAA5EhoF,KAAKkC,SAASqvB,KAAKy2D,iBAA6B,WAAEliF,QAAQ6tB,MAAMkB,QACpE70B,KAAKkC,SAASqvB,KAAKwE,OAAO,cAAe3f,GAGzCpW,KAAK2nC,YAAYozC,WAAW3kE,IAUpConE,EAAM/8E,UAAUonF,+BAAiC,SAAUtoF,GACvD,GAAIA,GAAcA,EAAW5D,OAAQ,CACjC,GAAIylB,IAAavmB,oBAAkBmF,KAAKykB,mBAAqBzkB,KAAKykB,iBAAiBif,eAAe,IAC3F1jC,KAAKykB,iBAAiBif,eAAe,GAAGsiD,wBAAwB/wD,MACvE,IAAI7T,IAAc/R,MAAM+R,GACpB,IAAK,GAAI1e,GAAQ,EAAGA,EAAQnD,EAAW5D,OAAQ+G,IAC3CnD,EAAWmD,GAAO0e,UAAYA,IAS9Co8D,EAAM/8E,UAAUmjF,cAAgB,WACvB/oF,oBAAkBmF,KAAKk9B,iBACxBl9B,KAAKk9B,cAAc0mD,gBACnB5jF,KAAKk9B,cAAcmlB,wBAO3Bm7B,EAAM/8E,UAAU8+C,eAAiB,WAC7Bv/C,KAAK41D,eAAerW,kBAExBi+B,EAAM/8E,UAAUwnF,sBAAwB,WACpC,GAAIh3E,GAAQjR,IAEZ,IADAA,KAAK8R,gBAAkB9R,KAAKkC,SAASmiC,wBAAwBh2B,QACzDrO,KAAK8R,gBAAgBnW,OAAS,GAAKqE,KAAKmC,mBAAqBnC,KAAKvB,WAAW2D,gBAAiB,CAC9FpC,KAAKgB,QAAS,EACdhB,KAAK+I,YACL/I,KAAKqE,cAAciQ,WACnBtU,KAAK+U,OACL/U,KAAKqE,cAAcgQ,YAAc,EACjCrU,KAAKqE,cAAcyQ,UAAY9U,KAAK8R,gBACpC9R,KAAKqE,cAAciR,kBACftV,KAAKqZ,mBAAqBrZ,KAAKvB,WAAW2a,aAC1CpZ,KAAKqZ,kBAA6B,aAClCrZ,KAAKqZ,kBAAgC,gBACrCrZ,KAAKqZ,kBAAkB0rD,qBAW3B,KAAK,GADDtlE,GAPWO,KAAKkC,SAASqvB,KAAK07B,cAAoB,KAElCtzC,OAAO,SAAUK,GACjC,GAAIA,EAAQ,KAAE/I,EAAMxS,WAAWlE,MAAQ0W,EAAMlI,SAAS,GAAGvK,gBAAgBkX,OACrE,MAAOsE,KAEZ,GACqB,MACflc,EAAI,EAAGA,EAAIkC,KAAK+I,SAASpN,OAAQmC,IACtCkC,KAAK+I,SAASjL,GAAG2B,MAAQA,EACzBA,GAEJO,MAAK8R,gBAAkB9R,KAAK+I,SAC5B/I,KAAKkC,SAASqvB,KAAKzf,gBAAkB9R,KAAK+I,SACrClO,oBAAkBmF,KAAKkC,SAA8B,uBACtDlC,KAAKkC,SAA8B,oBAAEs5D,WAAax7D,KAAK+I,SACvD/I,KAAK6U,eAAiB7U,KAAK+I,YASvCy0E,EAAM/8E,UAAUynF,sBAAwB,SAAUxqF,GAE9C,IAAK,GADDyqF,MACKrqF,EAAI,EAAGA,EAAIJ,EAAQ/B,OAAQmC,IAChCqqF,EAAc7pF,KAAK0B,KAAKqJ,kBAAkB3L,EAAQI,GAAGwL,UAEzD,OAAO6+E,IAOX3K,EAAM/8E,UAAU+jC,oBAAsB,SAAUxlC,GAC5C,GAAMgB,KAAKw0B,qBAAwBx0B,KAAKykB,iBAAiBsQ,eAAkB/0B,KAAKykB,iBAAiBqQ,aAAiB90B,KAAKgB,OAInH,GAAIhB,KAAK+zB,qBAAuB/zB,KAAKsX,uBAAyBzc,oBAAkBmE,GAAO,CACnF,GAAI6oB,GAAWnoB,WAAS,gBAAiBV,EACzCgB,MAAKm1B,cAAgBtN,EAAW7nB,KAAKohB,cAEpC,CACD,GAAI4c,GAAkBh+B,KAAK+zB,qBAAuB/zB,KAAKsX,qBACnDtX,KAAK8R,gBAAkB9R,KAAKg7B,mBAAmBh7B,KAAK8R,gBACxD9R,MAAKg+B,gBAAkBA,CACvB,IAAI/I,OAAS,GACT/E,EAAar1B,oBAAkBmF,KAAKykB,mBACnC5pB,oBAAkBmF,KAAKykB,iBAAiBif,gBAA6D,KAA1C1jC,KAAKykB,iBAAiBif,eAAe,EAEjGzO,IADCp6B,oBAAkBq1B,IAAaA,EAASiN,aAAe,EAC/CjN,EAASiN,aAGTn9B,KAAKohB,UAElBphB,KAAKm1B,cAAgB6I,EAAgBriC,OAASs5B,IAW1DuoD,EAAM/8E,UAAU04D,gBAAkB,SAAUp7D,GACxC,GAAIq+B,GAAep8B,KAAK0J,cAAc3L,EAAKyL,WAC3C,SAAK3O,oBAAkBuhC,KACW,IAA1BA,EAAald,YAGRkd,EAAa5yB,aAEU,IADXxJ,KAAK0J,cAAc0yB,EAAa5yB,YAClC0V,UAIJlf,KAAKm5D,gBAAgBn5D,KAAK0J,cAAc0yB,EAAa5yB,eAiB5Eg0E,EAAM/8E,UAAUu6B,mBAAqB,SAAUt9B,GAC3C,GAAIuT,GAAQjR,IACZ,IAAInF,oBAAkB6C,GAClB,QAEJ,IAAIsgC,GAAkBtgC,EAAQic,OAAO,SAAUpb,GAC3C,OAAyC,IAAlC0S,EAAMkoD,gBAAgB56D,IAGjC,OADAyB,MAAKg+B,gBAAkBA,EAChBA,GAQXw/C,EAAM/8E,UAAU6vC,iBAAmB,WAC/B,GAAI83C,GAAgBpoF,KAAKge,iBAAiB+xB,YAwI1C,SArIQluB,SAAWjV,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,IAChDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,IAAMmsC,iBAAkB,GAAIj1B,MAAO,EACtF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,IAChDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,EACrF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAChDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,EACrF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,UAAWxN,MAAO,GACnDuQ,YACIrG,KAAM,QAASsoC,UAAWl1C,KAAKsoF,iBAAkB5lF,MAAO,GACzDmsC,iBAAkB,GAAIj1B,MAAO,EAChC+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,UAAWxN,MAAO,GACnDuQ,YACIrG,KAAM,QAASsoC,UAAWl1C,KAAKsoF,iBAAkB5lF,MAAO,GACzDmsC,iBAAkB,GAAIj1B,MAAO,EAChC+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,UAAWxN,MAAO,GACnDuQ,YACIrG,KAAM,QAASsoC,UAAWl1C,KAAKuoF,oBAAqB7lF,MAAO,GAC5DmsC,iBAAkB,GAAIj1B,MAAO,EAChC+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAChDuQ,YACIrG,KAAM,QAASsoC,UAAWl1C,KAAKuoF,oBAAqB7lF,MAAO,GAC5DmsC,iBAAkB,GAAIj1B,MAAO,EAChC+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAChDuQ,YAAcrG,KAAM,QAASsD,OAAQ,WAAYxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,EAC1F+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,QAASsD,OAAQ,UAAWxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,KAAMxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,EACnF+1B,iBAAkB,QAASI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGzH74B,SAAWjV,KAAM,QAASsD,OAAQ,YAAaxN,MAAO,GACtDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,SAAUxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,EACvF+1B,iBAAkB,QAASI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGzH74B,SAAWjV,KAAM,QAASsD,OAAQ,YAAaxN,MAAO,GACtDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,SAAUxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACvF+1B,iBAAkB,QAASI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGzH74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,MAAOsD,OAAQ,IAAKxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACjF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,MAAOsD,OAAQ,IAAKxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACjF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,MAAOsD,OAAQ,IAAKxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACjF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,IAAMmsC,iBAAkB,GAAIj1B,MAAO,GACtF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,IAAMmsC,iBAAkB,GAAIj1B,MAAO,GACtF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,MAAOsD,OAAQ,YAAaxN,MAAO,GACpDuQ,YAAcrG,KAAM,OAAQsD,OAAQ,OAAQxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACrF+1B,iBAAkB,MAAOI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGvH74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,UAAWsD,OAAQ,KAAMxN,MAAO,IAAMmsC,iBAAkB,GAAIj1B,MAAO,GACvF+1B,iBAAkB,OAAQI,aAAc,EAAGs4C,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAG5G74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,UAAWsD,OAAQ,KAAMxN,MAAO,IAAMmsC,iBAAkB,GAAIj1B,MAAO,GACvF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,IAGxH74B,SAAWjV,KAAM,OAAQsD,OAAQ,eAAgBxN,MAAO,GACxDuQ,YAAcrG,KAAM,UAAWsD,OAAQ,KAAMxN,MAAO,GAAKmsC,iBAAkB,GAAIj1B,MAAO,GACtF+1B,iBAAkB,OAAQI,aAAcq4C,EAAeC,qBAAqB,EAAM7tC,kBAAmB,KAAME,aAAa,KAKpI8iC,EAAM/8E,UAAU8nF,oBAAsB,SAAUxsF,GAC5C,GAAIG,GAAQH,EAAKI,UACjB,OAAID,IAAS,GAAKA,GAAS,EAChB,KAEFA,GAAS,GAAKA,GAAS,EACrB,KAEFA,GAAS,GAAKA,GAAS,EACrB,KAGA,MAGfshF,EAAM/8E,UAAU6nF,iBAAmB,SAAUvsF,GACzC,GAAIG,GAAQH,EAAKI,UACjB,OAAID,IAAS,GAAKA,GAAS,EAChB,KAGA,MASfshF,EAAM/8E,UAAUmH,gBAAkB,SAAU7L,EAAMmU,GAC9C,MAAIrV,qBAAkBkB,GACX,MAEPlB,oBAAkBqV,KAClBA,EAASlQ,KAAKmQ,iBAEXnQ,KAAKgQ,UAAUyjC,WAAW13C,GAAQmU,OAAQA,MASrDstE,EAAM/8E,UAAU8P,kBAAoB,SAAUvV,EAAUmJ,GAEpD,MADYnE,MAAKtB,qBAAqB6R,kBAAkBvV,EAAUmJ,IAUtEq5E,EAAM/8E,UAAUmQ,cAAgB,SAAUC,EAAMC,GAE5C,MADY9Q,MAAKtB,qBAAqBkS,cAAcC,EAAMC,IAG9D0sE,EAAM/8E,UAAU+nF,kBAAoB,WAChC,GAAIltF,GAEAmtF,EAAczoF,KAAKkC,SAASqvB,KAAKm3D,cACP,IAA1B1oF,KAAKmgD,iBAA0BngD,KAAKib,QAAQjb,KAAKmgD,mBAChDtlD,oBAAkBmF,KAAKib,QAAQjb,KAAKmgD,iBAA2B,YAChE7kD,EAAO0E,KAAKib,QAAQjb,KAAKmgD,iBAA2B,SAIxD,KAAK,GADDwoC,GACK7qF,EAAI,EAAGA,EAAI2qF,EAAY9sF,OAAQmC,IAAK,CACzC6qF,IACA,KAAK,GAAIl9E,GAAI,EAAGA,EAAIzL,KAAKib,QAAQtf,OAAQ8P,IACrC,GAAIzL,KAAKib,QAAQxP,GAAU,QAAMg9E,EAAY3qF,GAAGqd,MAAO,CACnD,IAAK,GAAI5f,GAAK,EAAGC,EAAKC,OAAOC,KAAKsE,KAAKib,QAAQxP,IAAKlQ,EAAKC,EAAGG,OAAQJ,IAAM,CACtE,GAAIqyB,GAAOpyB,EAAGD,EACTqtF,eAAY5oF,KAAKib,QAAQxP,GAAGmiB,MAC7B+6D,EAAW/6D,GAAQ66D,EAAY3qF,GAAG8vB,IAEtC+6D,EAAWx/B,QAAUs/B,EAAY3qF,GAAGqrD,QACpCw/B,EAAW5rE,MAAQ0rE,EAAY3qF,GAAGif,MAEtC/c,KAAKib,QAAQxP,KACmB,aAA5BzL,KAAKib,QAAQxP,GAAS,MAAsB5Q,oBAAkBS,IAAkB,KAATA,IACvE0E,KAAKib,QAAQxP,GAAa,SAAInQ,IAK1C0E,KAAKib,QAAQtf,OAAS,GACtBqE,KAAKkC,SAASyV,eAAgBsD,QAASjb,KAAKib,UAAW,IAS/DuiE,EAAM/8E,UAAU2hD,cAAgB,SAAUpjD,GACtC,GAAIiS,GAAQjR,IACRA,MAAKgB,QAAUhB,KAAK+b,iBAChB/b,KAAKijD,aAAahoC,QAAQtf,OAAS,EACnCqE,KAAK+b,eAAsC,sBAAI/b,KAAKijD,aAAahoC,QAEhC,KAA5Bjb,KAAKogD,eAAexkD,MACzBoE,KAAK+b,eAA6B,aAAI/b,KAAKogD,eAAexkD,MAGlEoE,KAAK8F,QAAQstB,uBAAuB,0BAA0B,GAAU,MAAE6B,OAAS,OAEjEj1B,KAAK8F,QAAQstB,uBAAuB,iBAAiB,GAAGwB,WAAW,GACzE0B,aAAa,WAAY,KAClBt2B,KAAK8F,QAAQstB,uBAAuB,iBAAiB,GAAGwB,WAAW,GAAGA,WAAW,GACvF0B,aAAa,OAAQ,WAClC,IAAIgW,GAAoBtsC,KAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAiB,aAGxGy1D,EAAkB7oF,KAAK8F,QAAQstB,uBAAuB,sCAAsC,EAyBhG,IAxBAy1D,EAAuB,MAAE5zD,OAAS,eAAiBqX,EAAoB,MACvEu8C,EAAgBvyD,aAAa,WAAY,KACpCz7B,oBAAkBmF,KAAKk9B,gBAAmBriC,oBAAkBmF,KAAKk9B,cAAcp3B,SAIhF9F,KAAKgyE,gBAAgBr+C,MAAMsB,OAAS,OAHpCj1B,KAAKgyE,gBAAgBr+C,MAAMsB,OAAS,eAAiBj1B,KAAKk9B,cAAcp3B,QAAQq3B,aAAe,MAK/Fn9B,KAAKy5B,gBAAkBz5B,KAAKy5B,eAA2B,YAAKz5B,KAAKy5B,eAA2B,WAAExe,SAC9Fjb,KAAKy5B,eAA2B,WAAExe,QAAQ3I,QAAQ,SAAU2wB,GAGxD,IAAK,GAFD6lD,GAAe7lD,EAAOwiC,WAAWtqD,MACjC4tE,EAAgB,KACXjrF,EAAI,EAAGA,EAAImT,EAAM/O,SAAS+Y,QAAQtf,OAAQmC,IAAK,CACpD,GAAIkrF,GAAa/3E,EAAM/O,SAAS+Y,QAAQnd,EACxC,IAAIkrF,EAAkB,QAAMF,EAAc,CACtCC,EAAgBC,CAChB,QAGJD,GAAiB9lD,EAAOwiC,WAAW3lE,MAAQipF,EAAmB,MAC9D9lD,EAAOwiC,WAAW3lE,IAAMipF,EAAmB,OAInD/oF,KAAKgB,QAYL,GAXIhB,KAAK2R,mBACL3R,KAAKwoF,oBAETxoF,KAAKioF,wBACAjoF,KAAKsX,qBAGDtX,KAAK+zB,qBAAuB/zB,KAAKsX,uBACtCtX,KAAKykB,iBAAiB4Q,cAAcC,cACpCt1B,KAAKykB,iBAAiBC,aAAamP,qBAJnC7zB,KAAKwkC,uBAMJxkC,KAAK+gB,mBAAoB,CAC1B/gB,KAAK+gB,oBAAqB,EAKtB/gB,KAAK4R,eAAe4Y,aACpBxqB,KAAK8F,QAAQtL,UAAU62B,I/BprDV,2B+BurDbrxB,KAAK8F,QAAQtL,UAAUmE,O/BvrDV,0B+ByrDjB,IAAIsqF,GAAsBjpF,KAAK8F,QAAQstB,uBAAuB,+BAA+B,GAAiB,YAC9Gy1D,GAAuB,MAAE5zD,OAAS,eAAiBg0D,EAAsB,MACzEjpF,KAAKkC,SAASyV,eAAgBsd,OAAQ,SAAU,GAChDj1B,KAAK+1B,OAAO,wBACZ/1B,KAAKkpF,0BACAruF,oBAAkBmF,KAAK22B,mBAA6D,YAAxC32B,KAAK22B,iBAAiBC,cAInE52B,KAAK61B,cAHL71B,KAAKu0B,cAKTzhB,WAAS,kBAAkB,EAAM9T,GACjCgB,KAAKmpF,sBAITnpF,MAAKopF,kBAAkBpqF,EAEvBgB,MAAKmC,mBAAqBnC,KAAKvB,WAAW2D,iBAC1CpC,KAAKwkC,sBAELxkC,KAAKs6B,oBAAsBt6B,KAAKq6B,oBAChCr6B,KAAKq6B,mBAAmBgvD,iBAAiBrpF,KAAKs6B,oBAElDt6B,KAAK+1B,OAAO,oBACZ,KAAK,GAAIj4B,GAAI,EAAGA,EAAIk6B,SAAS5E,uBAAuB,qCAAqCz3B,OAAQmC,IAC7F,IAAK,GAAI2N,GAAI,EAAGA,EAAIusB,SAAS5E,uBAAuB,qCAAqCt1B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAASz5B,OAAQ8P,IAAK,CACtI,GAAIw+B,GAAejS,SAAS5E,uBAAuB,qCAAqCt1B,GAAGs3B,SAAS,GAAGA,SAAS,GAAGA,SAAS3pB,GAAG2pB,SAAS,EACpI6U,IACAA,EAAa3T,aAAa,WAAY,MAIlD,GAAI8D,GAAiBp6B,KAAKq6B,kBACtBr6B,MAAKs6B,oBAAsBF,GAAkBA,EAAeG,wBAC5Dv6B,KAAKq6B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,8BAE1J16B,KAAKu6D,wBAA0Bv6D,KAAKykB,iBAAiBif,eACrD1jC,KAAKgB,QAAS,EACdhB,KAAK69E,oBAAqB79E,KAAKsX,sBAA+BtX,KAAK69E,kBAC9D79E,KAAK69E,oBACN79E,KAAK4wD,iBAAmB1yD,YAAW8B,KAAK+I,aAAc,IAE1D/I,KAAKsW,QAAQ,YAAatX,IAQ9Bw+E,EAAM/8E,UAAU2oF,kBAAoB,SAAUpqF,GACtCgB,KAAKqZ,mBAAqBrZ,KAAKvB,WAAW2a,YAC1CpZ,KAAKyzB,oBAAoBi+B,6BAA6B1xD,KAAK8R,iBAE/D9R,KAAKioF,wBACAjoF,KAAKsX,sBACNtX,KAAKwkC,sBAGLxkC,KAAK+zB,qBAAuB/zB,KAAKsX,uBACjCtX,KAAKykB,iBAAiB4Q,cAAcC,cACpCt1B,KAAKykB,iBAAiBC,aAAamP,sBAY3C2pD,EAAM/8E,UAAU6oF,kBAAoB,SAAUC,EAASC,GAGnD,IAAK,GAFDC,IAAY,EAEPluF,EAAK,EAAGC,EAAKC,OAAOC,KAAK6tF,GAAUhuF,EAAKC,EAAGG,OAAQJ,IAAM,CAC9D,GAAIqyB,GAAOpyB,EAAGD,EACd,QAAQqyB,GACJ,IAAK,iBACL,IAAK,sBACL,IAAK,iBACL,IAAK,iBACL,IAAK,gBACL,IAAK,kBACL,IAAK,eACL,IAAK,sBACD5tB,KAAKkC,SAAS0rB,GAAQ5tB,KAAK4tB,GAC3B5tB,KAAKkC,SAAS8D,UACd,MACJ,KAAK,WACDhG,KAAKqE,cAAc6J,wBACnBlO,KAAKqE,cAAckkB,oBACnBvoB,KAAKwV,gBAAgBu3C,oBACjB/sD,KAAKvB,WAAW2a,YAChBpZ,KAAKqZ,kBAAkBo4C,kCAE3BzxD,KAAKwV,gBAAgB03C,mBACrBltD,KAAKkC,SAASwnF,iBACd1pF,KAAK4R,eAAew6B,iBACpB,MACJ,KAAK,UACDpsC,KAAK+1B,OAAO,oBAAsB4zD,OAAQ,UAAWlkB,WAAY8jB,GACjE,MACJ,KAAK,kBACDvpF,KAAKkC,SAASqvB,KAAK0uB,gBACf2pC,sBAAoB5pF,KAAKigD,gBAC7B,MACJ,KAAK,eACL,IAAK,oBACDjgD,KAAK+1B,OAAO,aAAe4zD,OAAQ,cAAelkB,WAAY8jB,GAC9D,MACJ,KAAK,eACDvpF,KAAKkC,SAAS+gD,aAAe2mC,sBAAoB5pF,KAAKijD,cACtDjjD,KAAKkC,SAAS8D,UACd,MACJ,KAAK,mBACDhG,KAAK4R,eAAew6B,iBACpB,MACJ,KAAK,YACL,IAAK,gBACDpsC,KAAKkC,SAASkf,UAAYphB,KAAKohB,UAC/BphB,KAAKkC,SAAS8D,WACdhG,KAAKwV,gBAAgBu3C,oBACrB/sD,KAAK4R,eAAe46B,2BAChBxsC,KAAKvB,WAAW2a,YAChBpZ,KAAKykB,iBAAiBsf,wBAE1B,MACJ,KAAK,WACD/jC,KAAKqE,cAAcqQ,kBAAiB,EACpC,MACJ,KAAK,qBAOD,GANK7Z,oBAAkBmF,KAAK22B,mBAA6D,YAAxC32B,KAAK22B,iBAAiBC,cAInE52B,KAAK61B,cAHL71B,KAAKu0B,cAKLv0B,KAAKs6B,oBAAsBt6B,KAAKq6B,mBAAoB,CACpDr6B,KAAKq6B,mBAAmBgvD,iBAAiBrpF,KAAKs6B,mBAC9C,IAAIF,GAAiBp6B,KAAKq6B,kBACtBD,GAAeG,wBACfv6B,KAAKq6B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,kCAI1J16B,MAAKmnF,0BAET,MACJ,KAAK,iBACGtsF,oBAAkB0uF,EAAQ9vD,kBAC1Bz5B,KAAKy5B,eAAexe,YAExBjb,KAAKkC,SAASu3B,eAAiBmwD,sBAAoB5pF,KAAKy5B,gBACxDz5B,KAAKkC,SAAS8D,UACd,MACJ,KAAK,YACDhG,KAAKkC,SAASowB,UAAYtyB,KAAKsyB,UAC/BtyB,KAAKkC,SAAS8D,WACdhG,KAAK6pF,sBACL,MACJ,KAAK,kBACG7pF,KAAKmjC,cAAcmxC,YACnBt0E,KAAKmjC,cAAcmxC,WAAWn9C,UAElCn3B,KAAKmjC,cAAckxC,eACnB,MACJ,KAAK,mBACDr0E,KAAKg3C,eAAe88B,wBACpB,MACJ,KAAK,oBACD9zE,KAAKkC,SAAS+/C,kBAAoB2nC,sBAAoB5pF,KAAKiiD,mBAC3DjiD,KAAKkC,SAASqvB,KAAK0wB,kBAAkB6nC,aAAe9pF,KAAKiiD,kBAAkB6nC,aAC3E9pF,KAAKkC,SAAS8D,UACd,MACJ,KAAK,0BACGujF,EAAQnpC,eAAexkD,MACvBoE,KAAKkC,SAASqvB,KAAK6uB,eAAiBwpC,sBAAoB5pF,KAAKogD,gBAC7DpgD,KAAKkC,SAASqvB,KAAKvrB,YAEvBhG,KAAKkC,SAASk+C,eAAiBwpC,sBAAoB5pF,KAAKogD,gBACxDpgD,KAAKkC,SAAS8D,WACVhG,KAAKk9B,eACLl9B,KAAKk9B,cAAc6sD,qBAEvB,MACJ,KAAK,gBACL,IAAK,iBACL,IAAK,gBACD/pF,KAAK+5D,sBAAuB,EAC5B/5D,KAAKwV,gBAAgBu3C,oBACrB/sD,KAAKwV,gBAAgB03C,mBACrBltD,KAAK+5D,sBAAuB,CAC5B,MACJ,KAAK,oBACL,IAAK,sBACL,IAAK,YACD/5D,KAAKqE,cAAc8a,oBACnBnf,KAAKkC,SAASwnF,iBACd1pF,KAAKwV,gBAAgBu3C,oBACrB/sD,KAAKwV,gBAAgB03C,kBACrB,MACJ,KAAK,iBACL,IAAK,wBACL,IAAK,WACDltD,KAAKgB,QAAS,EACD,aAAT4sB,IACA5tB,KAAKa,kBAAoBb,KAAKqE,cAAc+I,kBAC5CpN,KAAK+1B,OAAO,aAAe4zD,OAAQ,cAAelkB,WAAY8jB,KAElEvpF,KAAKqE,cAAckkB,oBACnBvoB,KAAKkC,SAASwnF,iBACd1pF,KAAKwV,gBAAgBu3C,oBACrB/sD,KAAKwV,gBAAgB03C,mBACrBltD,KAAKgB,QAAS,EACVhB,KAAKvB,WAAW2a,aAChBpZ,KAAKqZ,kBAAkBo4C,kCACvBzxD,KAAKkC,SAASwnF,iBACd1pF,KAAKwV,gBAAgB03C,mBAEzB,MACJ,KAAK,iBACL,IAAK,kBACDu8B,GAAY,CACZ,MACJ,KAAK,kBACL,IAAK,mBACGzpF,KAAKgD,YAAchD,KAAKgD,WAAW2C,cACnC3F,KAAKgD,WAAW2C,aAAaqkF,qBAEjC,MACJ,KAAK,UACDhqF,KAAK41D,eAAelX,mBACpB1+C,KAAK41D,eAAe/W,uBACpB7+C,KAAKkC,SAAS+Y,QAAUjb,KAAK41D,eAAelX,gBAC5C1+C,KAAKkC,SAASwnF,iBACd1pF,KAAKwV,gBAAgBu3C,oBACrB/sD,KAAK4R,eAAe46B,0BACpB,MACJ,KAAK,QACL,IAAK,SACDxsC,KAAKiqF,kBAAkBr8D,EACvB,MACJ,KAAK,eACD5tB,KAAKkC,SAASg9B,aAAa68C,YAAc/7E,KAAKk/B,aAAa68C,YAC3D/7E,KAAKkC,SAASg9B,aAAaulD,cAAgBzkF,KAAKk/B,aAAaulD,cAC7DzkF,KAAKkC,SAASg9B,aAAawlD,wBAA0B1kF,KAAKk/B,aAAawlD,wBACvE1kF,KAAKkC,SAASg9B,aAAaU,aAAe5/B,KAAKk/B,aAAaU,aAC5D5/B,KAAKkC,SAASg9B,aAAasJ,iBAAmBxoC,KAAKk/B,aAAasJ,iBAC3D3tC,oBAAkBmF,KAAKgD,aACxBhD,KAAKgD,WAAWknF,sBAEfrvF,oBAAkBmF,KAAKk9B,gBACxBl9B,KAAKk9B,cAAcmlB,qBAEvB,MACJ,KAAK,0BACL,IAAK,qBACGriD,KAAKvB,WAAW2a,aAChBpZ,KAAKyzB,oBAAoBo5B,iBACzB7sD,KAAKykB,iBAAiBsf,yBAE1B,MACJ,KAAK,kBACD/jC,KAAKkC,SAASi+C,gBAAkBngD,KAAKmgD,eACrC,MACJ,KAAK,mBACL,IAAK,iBACDngD,KAAK4R,eAAeO,aAAc,EAClCnS,KAAKqE,cAAcqN,wBACnB1R,KAAK45B,mBAAmB55B,KAAK6I,sBAAuB7I,KAAKyR,oBAAqBzR,KAAK65B,mBACnF,MACJ,KAAK,mBACIh/B,oBAAkBmF,KAAKgiD,kBACxBhiD,KAAKgiD,gBAAgBmoC,kBAEzB,MACJ,KAAK,aAMD,GALAnqF,KAAKgB,QAAS,EACVhB,KAAK2sC,SACL3sC,KAAoB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAEvIA,KAAKoqF,oBACDpqF,KAAK9E,qBAAsBO,SAAUR,EAAgB+E,MAAO,CAE5DA,KAAKkC,SAASE,gBAAkB,UAChC,IAAIM,GAAQhD,WAAS,QAASM,KAAK9E,WACnC8E,MAAKkC,SAAShH,YAAe2C,OAAQmC,KAAK+I,SAAUrG,MAAOA,OAG3D1C,MAAKkC,SAASE,gBAAkB,IAEpCpC,MAAKqE,cAAcqQ,kBAAiB,GACpC1U,KAAKgB,QAAS,CACd,MACJ,KAAK,oBACL,IAAK,mBACGhB,KAAKglF,mBAA8B,qBAATp3D,EAC1B5tB,KAAK+1B,OAAO,wBAA0B4zD,OAAQ,cAAeU,QAAQ,IAGrErqF,KAAKkC,SAASooF,oBAElBtqF,KAAKkC,SAAS8D,UACd,MACJ,KAAK,eACL,IAAK,SACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,aACL,IAAK,0BACL,IAAK,sBACL,IAAK,wBACL,IAAK,qBAID,GAHa,WAAT4nB,IACA5tB,KAAK2+C,iBAAkB,GAEd,eAAT/wB,IACK/yB,oBAAkB0uF,EAAQ9qF,WAAWqY,OACtC,MAGK,6BAAT8W,IACA67D,GAAY,EAEhB,MACJ,KAAK,+BACDzpF,KAAKomE,6BAA+BmjB,EAAQnjB,4BAC5C,MACJ,KAAK,qBACDpmE,KAAKuqF,gCAIbd,IACIzpF,KAAKgB,QAAUhB,KAAKqlF,mBACpBrlF,KAAKqlF,iBAAmB,MAE5BrlF,KAAKwqF,YAGbhN,EAAM/8E,UAAU8pF,6BAA+B,WAC3C,GAAIvqF,KAAKy0B,mBACLz0B,KAAKykB,iBAAiB+U,oCAErB,CACD,GAAI7I,GAAiB3wB,KAAK8F,QAAQD,cAAc,IAAMizB,EAClDnI,KACAA,EAAe0C,UAAY,MAUvCmqD,EAAM/8E,UAAUgqF,eAAiB,WAU7B,IAAK,GATDC,IAAa,eACb,iBAAkB,UAAW,iBAAkB,mBAAoB,kBAAmB,sBAAuB,wBAAyB,sBAAuB,oBAC7JC,GACAlxD,gBAAiB,OAAQ,OAAQ,sBAAuB,qBAAsB,eAAgB,iBAC9F2mB,gBAAiB,SAAU,WAAY,cACvC6C,gBAAkBhoC,WAAasoC,qBAE/BqnC,GAAkB,SAAU,OAAQ,oBAAqB,iBAAkB,WAC3E,kBAAmB,WAAY,cAC1B9sF,EAAI,EAAGA,EAAI4sF,EAAU/uF,OAAQmC,IAElC,IAAK,GADD+sF,GAAgB7qF,KAAK0qF,EAAU5sF,IAC1BokB,EAAI,EAAGlU,EAAM28E,EAAgBD,EAAU5sF,KAAOjD,oBAAkBmT,IAAQkU,EAAIlU,EAAIrS,OAASumB,UAEvF2oE,GADM78E,EAAIkU,GAKzB,OADAliB,MAAK8qF,eAAeF,EAAgB5qF,KAAKib,SAClCjb,KAAK+qF,aAAaL,IAE7BlN,EAAM/8E,UAAUqqF,eAAiB,SAAUF,EAAgB3vE,GACvD,IAAK,GAAInd,GAAI,EAAGA,EAAImd,EAAQtf,OAAQmC,IAChCkC,KAAKgrF,eAAeJ,EAAgB3vE,EAAQnd,KAGpD0/E,EAAM/8E,UAAUuqF,eAAiB,SAAUJ,EAAgB3nD,GACvD,IAAK,GAAInlC,GAAI,EAAGA,EAAI8sF,EAAejvF,OAAQmC,UAChCmlC,GAAO2nD,EAAe9sF,IAC7BmlC,EAAOtpB,WAOf6jE,EAAM/8E,UAAU02B,QAAU,WACtBn3B,KAAK+1B,OAAO,cACZ/1B,KAAK0nF,eACA7sF,oBAAkBmF,KAAKshF,0BAA6BthF,KAAKshF,wBAAwB5iD,aAClF1+B,KAAKshF,wBAAwBnqD,SAIjC,KAAK,GAFDitD,IAAW,mBAAoB,iBAAkB,kBACjD,iBAAkB,yBAA0B,uBAAwB,iBAC/DtmF,EAAI,EAAGA,EAAIsmF,EAAQzoF,OAAQmC,IAC5BkC,KAAKokF,EAAQtmF,MACbkC,KAAKokF,EAAQtmF,IAAM,KAGvBkC,MAAKqkD,gBACLrkD,KAAKqkD,eAAeltB,UAEpBn3B,KAAKgD,YAAchD,KAAKgD,WAAW2C,cACnC3F,KAAKgD,WAAW2C,aAAawxB,UAE7Bn3B,KAAKg3C,gBACLh3C,KAAKg3C,eAAwB,UAE7Bh3C,KAAKk9B,eAAiBl9B,KAAKk9B,cAAc8K,SACzChoC,KAAKk9B,cAAc8K,QAAQ7Q,UAE1Bt8B,oBAAkBmF,KAAKuyB,oBACnB13B,oBAAkBmF,KAAKuyB,iBAAoC,oBAAO13B,oBAAkBmF,KAAKuyB,iBAAoC,kBAAE4B,yBAChIn0B,KAAKuyB,iBAAoC,kBAAE4B,sBAAwB,MAElEt5B,oBAAkBmF,KAAKuyB,iBAAiBE,uBACpC53B,oBAAkBmF,KAAKuyB,iBAAiBE,oBAAoBw4D,uBAC7DjrF,KAAKuyB,iBAAiBE,oBAAoBw4D,oBAAsB,MAE/DpwF,oBAAkBmF,KAAKuyB,iBAAiBE,oBAAsC,oBAC/EzyB,KAAKuyB,iBAAiBE,oBAAsC,iBAAI,MAE/D53B,oBAAkBmF,KAAKuyB,iBAAiBE,oBAAsC,oBAC/EzyB,KAAKuyB,iBAAiBE,oBAAsC,iBAAI,QAIxEzyB,KAAKyzB,sBACLzzB,KAAKyzB,oBAAoBjD,wBAA0B,KACnDxwB,KAAKyzB,oBAAoB4C,UAAY,KACrCr2B,KAAKyzB,oBAAoB42C,SAAW,KACpCrqE,KAAKyzB,oBAAoB68C,aAAe,MAE5CtwE,KAAKs/C,aAAe,KACpBt/C,KAAKq5B,UAAY,KACjBr5B,KAAKu6D,wBAA0B,KAC/BvmD,EAAOvT,UAAU02B,QAAQljB,KAAKjU,MAC9BA,KAAKq0B,2BAA6B,KAClCr0B,KAAK8F,QAAQutB,UAAY,GACzBiL,eAAat+B,KAAK8F,S/B/nER,W+BgoEV9F,KAAK8F,QAAQutB,UAAY,GACzBrzB,KAAK+gB,oBAAqB,EAC1B/gB,KAAKkrF,iBACLlrF,KAAKqE,cAAmB,IAAI,MAQhCm5E,EAAM/8E,UAAU0gB,iBAAmB,WAC/B,MAAOnhB,MAAKwV,gBAAgB6L,eAQhCm8D,EAAM/8E,UAAU0qF,gBAAkB,WAC9B,GAAI/G,KACJ,OAAIpkF,MAAK0+B,YACE0lD,GAEPpkF,KAAKo9C,cACLgnC,EAAQ9lF,MACJ8sF,OAAQ,OACRpsF,MAAOgB,SAGXA,KAAKuiC,gBAAmBviC,KAAKgoC,UAA+C,IAApChoC,KAAKgoC,QAAQl7B,QAAQ,YAC7Ds3E,EAAQ9lF,MACJ8sF,OAAQ,SACRpsF,MAAOgB,QAGXA,KAAKk9C,iBACLknC,EAAQ9lF,MACJ8sF,OAAQ,UACRpsF,MAAOgB,QAGXA,KAAK2kF,kBACLP,EAAQ9lF,MACJ8sF,OAAQ,cACRpsF,MAAOgB,SAGXA,KAAKshC,qBAAuBthC,KAAKi/B,0BACjCmlD,EAAQ9lF,MACJ8sF,OAAQ,iBACRpsF,MAAOgB,QAGXA,KAAKs6B,oBACL8pD,EAAQ9lF,MACJ8sF,OAAQ,eACRpsF,MAAOgB,QAGXA,KAAK6kF,gBACLT,EAAQ9lF,MACJ8sF,OAAQ,WACRpsF,MAAOgB,QAGXA,KAAKm9C,eACLinC,EAAQ9lF,MACJ8sF,OAAQ,SACRpsF,MAAOgB,QAGXA,KAAKgoC,SAAWhoC,KAAKgoC,QAAQrsC,OAAS,GACtCyoF,EAAQ9lF,MACJ8sF,OAAQ,UACRpsF,MAAOgB,SAGXA,KAAKk/B,aAAa68C,aAAe/7E,KAAKk/B,aAAaU,cAAgB5/B,KAAKk/B,aAAaulD,eAClFzkF,KAAKk/B,aAAaC,qBAAuBn/B,KAAKshC,sBACjD8iD,EAAQ9lF,MACJ8sF,OAAQ,OACRpsF,MAAOgB,QAGXA,KAAKs+C,gBACL8lC,EAAQ9lF,MACJ8sF,OAAQ,YACRpsF,MAAOgB,QAGXA,KAAKy1E,gBAAgB/6B,aACrB0pC,EAAQ9lF,MACJ8sF,OAAQ,UACRpsF,MAAOgB,SAGXA,KAAK+kF,mBAAsB/kF,KAAKkN,UAAYlN,KAAKkN,SAASvR,OAAS,GAC/DqE,KAAK2S,cAAgB3S,KAAK2S,aAAahX,OAAS,IACpDyoF,EAAQ9lF,MACJ8sF,OAAQ,aACRpsF,MAAOgB,QAGXA,KAAKglF,mBACLZ,EAAQ9lF,MACJ8sF,OAAQ,cACRpsF,MAAOgB,QAGXA,KAAK+/C,gBACLqkC,EAAQ9lF,MACJ8sF,OAAQ,aACRpsF,MAAOgB,QAGXA,KAAKilF,gBACLb,EAAQ9lF,MACJ8sF,OAAQ,YACRpsF,MAAOgB,QAGXA,KAAKsX,sBACL8sE,EAAQ9lF,MACJ8sF,OAAQ,gBACRpsF,MAAOgB,QAGRokF,IAUX5G,EAAM/8E,UAAU4qF,WAAa,SAAU5iD,EAAYylB,EAAWo9B,GACtDtrF,KAAKk7E,YAAcl7E,KAAKo9C,cACxBp9C,KAAKk7E,WAAWmQ,WAAW5iD,EAAYylB,EAAWo9B,IAG1D9N,EAAM/8E,UAAU89E,sBAAwB,WAC/Bv+E,KAAKkC,WACNlC,KAAKkC,SAAW,GAAIm8C,YAGxBr+C,MAAKkC,SAASqvB,KAAa,qBAAEva,MAAMhX,OAEvCw9E,EAAM/8E,UAAU8qF,aAAe,SAAUC,EAAcvwE,GAEnDjb,KAAKkC,SAASqvB,KAAa,aAAEva,MAAMhX,MAAOwrF,EAAcvwE,KAE5DuiE,EAAM/8E,UAAUgrF,eAAiB,WAE7BzrF,KAAKkC,SAASqvB,KAAkB,eAAEva,MAAMhX,OAE5Cw9E,EAAM/8E,UAAUirF,iBAAmB,SAAUzwE,GAEzCjb,KAAKkC,SAASqvB,KAAkB,iBAAEva,MAAMhX,MAAOib,KAEnDuiE,EAAM/8E,UAAUkrF,aAAe,WAC3B,MAAO3rF,MAAKkC,SAASqvB,KAAKo6D,gBAO9BnO,EAAM/8E,UAAUmrF,aAAe,WAC3B5rF,KAAKk7E,WAAW0Q,gBAQpBpO,EAAM/8E,UAAUopF,qBAAuB,WACnC,GAAIryD,GAAY,qBACZq0D,EAAgB7rF,KAAKq0B,2BACrBy3D,EAAc9zD,SAAS2L,eAAe3jC,KAAK8F,QAAQvL,GAAK,sBAAsB8jC,iBAAiB,KACnG,IAAuB,aAAnBr+B,KAAKsyB,WASL,GARIz3B,oBAAkBgxF,GAClB7rF,KAAKknF,2BAGkD,SAAnDxxD,OAAOsnC,iBAAiB6uB,GAAeh3D,UACvCg3D,EAAcl4D,MAAMkB,QAAU,SAGlCi3D,GAAeA,EAAYnwF,OAAS,GAAKmwF,EAAY,GAAGtxF,UAAUC,SAAS+8B,GAC3E,IAASuyB,EAAI,EAAGA,EAAI+hC,EAAYnwF,OAAQouD,IACpCzrB,eAAawtD,EAAY/hC,IAAKvyB,OAIrC,IAAuB,eAAnBx3B,KAAKsyB,WAIV,GAHKz3B,oBAAkBgxF,KACnBA,EAAcl4D,MAAMkB,QAAU,QAE9Bi3D,GAAeA,EAAYnwF,OAAS,IAAMmwF,EAAY,GAAGtxF,UAAUC,SAAS+8B,GAC5E,IAASuyB,EAAI,EAAGA,EAAI+hC,EAAYnwF,OAAQouD,IACpCvrB,YAAUstD,EAAY/hC,IAAKvyB,OAIlC,IAAuB,SAAnBx3B,KAAKsyB,WASV,GARIz3B,oBAAkBgxF,GAClB7rF,KAAKknF,2BAGkD,SAAnDxxD,OAAOsnC,iBAAiB6uB,GAAeh3D,UACvCg3D,EAAcl4D,MAAMkB,QAAU,SAGlCi3D,GAAeA,EAAYnwF,OAAS,IAAMmwF,EAAY,GAAGtxF,UAAUC,SAAS+8B,GAC5E,IAASuyB,EAAI,EAAGA,EAAI+hC,EAAYnwF,OAAQouD,IACpCvrB,YAAUstD,EAAY/hC,IAAKvyB,OAIlC,IAAuB,SAAnBx3B,KAAKsyB,YACLz3B,oBAAkBgxF,IAAqE,SAAnDn2D,OAAOsnC,iBAAiB6uB,GAAeh3D,UAC5Eg3D,EAAcl4D,MAAMkB,QAAU,QAE9Bi3D,GAAeA,EAAYnwF,OAAS,GAAKmwF,EAAY,GAAGtxF,UAAUC,SAAS+8B,IAC3E,IAAK,GAAIuyB,GAAI,EAAGA,EAAI+hC,EAAYnwF,OAAQouD,IACpCzrB,eAAawtD,EAAY/hC,IAAKvyB,IAW9CgmD,EAAM/8E,UAAUk9B,8BAAgC,WACxC39B,KAAKq0B,6BACLr0B,KAAKq0B,2BAA2BV,MAAMsB,OAASb,aAAWp0B,KAAK+rF,sBASvEvO,EAAM/8E,UAAUsrF,iBAAmB,WAC/B,GAAIxuD,GAAev9B,KAAKykB,iBAAiBwM,cAAckM,aAAe,GAClEhI,EAAgBn1B,KAAKykB,iBAAiBmT,iBAAiBuF,YAE3D,OADahI,GAAgBoI,EAAepI,EAAgBoI,GAUhEigD,EAAM/8E,UAAUwpF,kBAAoB,SAAU+B,GAC1C,GAAI/uD,GAAgB,CAapB,IAZAj9B,KAAKmjF,sBACAtoF,oBAAkBmF,KAAKk9B,gBAAmBriC,oBAAkBmF,KAAKk9B,cAAcp3B,WAChF9F,KAAKk9B,cAAc8K,QAAQwiD,UAC3BxqF,KAAKk9B,cAAcmlB,sBACnBplB,EAAgBj9B,KAAKk9B,cAAcp3B,QAAQq3B,cAE/Cn9B,KAAKkC,SAAS+yB,OAASj1B,KAAKo9B,YAAcH,EACtCj9B,KAAKkC,SAASqvB,KAAK06D,mBAAmB9uD,aAC1Cn9B,KAAKg3C,eAAeC,eAAehiB,QAAUj1B,KAAKo9B,YAAcH,GAAeh/B,WAC1EpD,oBAAkBmF,KAAKq0B,8BACxBr0B,KAAKq0B,2BAA2BV,MAAMsB,OAASj1B,KAAKo9B,YAAc,OAEjEviC,oBAAkBmF,KAAKuyB,kBAAmB,CAC3C,GAAI0B,GAAmBv0B,WAAS,uCAAwCM,KAAKuyB,kBACzE2B,EAAmBx0B,WAAS,uCAAwCM,KAAKuyB,kBACzE4B,EAAwBz0B,WAAS,0CAA2CM,KAAKuyB,iBACjF0B,KACAA,EAAiBN,MAAMsB,OAASj1B,KAAKo9B,YAAc,MAEnDlJ,IACAA,EAAiBP,MAAMsB,OAASj1B,KAAKo9B,YAAc,MAEnDjJ,IACAA,EAAsBR,MAAMsB,OAASj1B,KAAKo9B,YAAc,MAG5C,UAAhB4uD,IACAhsF,KAAKg3C,eAAeC,eAAel6B,MAAQ/c,KAAKkyE,WAAWj0E,YAE/D+B,KAAKykB,iBAAiBC,aAClBoS,UAAU92B,KAAKo9B,YAAcp9B,KAAKykB,iBAAiBoO,uBAAuBsK,aAAeF,IAOjGugD,EAAM/8E,UAAUymF,yBAA2B,WAClClnF,KAAK8F,QAAQrL,SAASuF,KAAKq0B,8BAC5Br0B,KAAKq0B,2BAA6BkD,gBAAc,OAC5Ch9B,GAAIyF,KAAK8F,QAAQvL,GAAK,iBACtBk9B,OAAQ,mCAEZz3B,KAAKykB,iBAAiBmT,iBAAiBs0C,aAAalsE,KAAKq0B,2BAA4Br0B,KAAKykB,iBAAiBmT,iBAAiBu0C,YAEhInsE,KAAKq0B,2BAA2BhB,UAAY,EAC5C,IAAI64D,GAAclsF,KAAK8F,QAAQstB,uBAAuB,qCAAqC,EACvFv4B,qBAAkBqxF,KAClBA,EAAclsF,KAAK8F,QAAQstB,uBAAuB,qCAAqC,GAO3F,KAAK,GAHDsmB,GAFAyyC,EAAaD,EAAY7hD,qBAAqB,MAC9C+hD,EAAWD,EAAWxwF,OAEtB0wF,EAAU,EACVC,EAAe/0D,gBAAc,OACxBsT,EAAI,EAAGA,EAAIuhD,EAAUvhD,IAAK,CAC/BwhD,EAAgB,IAANxhD,GAAW,EAAKwhD,EAAUxkF,WAAW6xC,GAC/CA,EAAUyyC,EAAWthD,GAAGlX,MAAM5W,KAC9B,IAAIwvE,GAAah1D,gBAAc,OAC3BC,UAAW,wBACXC,QAASz3B,KAAKizB,UAAY,UAAYo5D,EAAU,GAAK,UAAwB,IAAbA,EAAkBA,EAAU,GAAOA,IAAY,MAEnHC,GAAa50D,YAAY60D,GAE7B,KAAOD,EAAarG,YAChBjmF,KAAKq0B,2BAA2BqD,YAAY40D,EAAarG,aASjEzI,EAAM/8E,UAAUkgF,iBAAmB,WAoH/B,OAlHI6L,YAAa,wBACbjyF,GAAI,KACJ8d,KAAM,OACNvd,UAAW,aACXC,QAAS,WACTC,SAAU,WACVugB,SAAU,WACVnC,WAAY,aACZoC,MAAO,QACPixE,aAAc,gBACdhQ,KAAM,OACNC,KAAM,OACN79E,kBAAmB,sBACnBD,gBAAiB,oBACjBgd,SAAU,YACV8wE,mBAAoB,uBACpBC,kBAAmB,sBACnBC,gBAAiB,oBACjBC,kBAAmB,sBACnBC,gBAAiB,oBACjBC,KAAM,OACNlxE,OAAQ,SACRzL,KAAM,OACNpB,OAAQ,SACRmJ,aAAc,YACd60E,WAAY,cACZ5wF,IAAK,MACLkF,KAAM,OACNqiB,OAAQ,SACRy9D,KAAM,OACN9kF,MAAO,QACPE,QAAS,UACTywF,WAAY,UACZC,UAAW,iBACXC,WAAY,cACZC,eAAgB,WAChBC,gBAAiB,mBACjBh8D,IAAK,MACL7rB,KAAM,OACN8nF,OAAQ,SACR/oC,OAAQ,SACR3lB,OAAQ,SACR2uD,OAAQ,SACRh7E,KAAM,QACNwW,MAAO,SACPykE,OAAQ,UACRC,QAAS,WACTC,UAAW,cACXC,YAAa,eACbC,UAAW,aACXC,UAAW,aACXxoD,UAAW,aACXC,YAAa,eACbwoD,aAAc,gBACdC,aAAc,oBACdC,WAAY,OACZC,wBAAyB,6JAEzBC,uBAAwB,8IAExBC,wBAAyB,2JAEzBC,uBAAwB,0JAExBC,wBAAyB,8JAEzBC,uBAAwB,6JAExBC,wBAAyB,wJAEzBC,uBAAwB,2JAExBC,OAAQ,KACRC,cAAe,0CACf3sF,KAAM,OACND,GAAI,KACJ6sF,SAAU,YACVC,IAAK,MACLnsE,MAAO,QACP4uD,OAAQ,SACRwd,WAAY,kBACZC,gBAAiB,mBACjBC,WAAY,cACZC,iBAAkB,oBAClBp/E,QAAS,UACTq/E,KAAM,OACNC,MAAO,QACPC,MAAO,QACPr4E,MAAO,QACP7R,UAAW,YACXk1E,OAAQ,UACRiV,YAAa,eACbz8E,aAAc,gBACd08E,cAAe,kBACfC,eAAgB,mBAChBv5C,aAAc,gBACdw5C,yBAA0B,mDAC1B3iF,KAAM,OACNiE,KAAM,OACNmO,SAAU,YACVwwE,eAAgB,kBAChB94E,MAAO,QACP+4E,OAAQ,SACRC,QAAS,UACT/qF,SAAU,WACVstD,UAAW,aACX3B,UAAW,aACXxyC,KAAM,OACN8V,MAAO,QACP00B,GAAI,KACJC,GAAI,KACJE,GAAI,KACJD,GAAI,OAUZg1B,EAAM/8E,UAAUkvF,iBAAmB,SAAUlnD,GACzCzoC,KAAKk7E,WAAWyU,iBAAiBlnD,IAQrC+0C,EAAM/8E,UAAUmvF,gBAAkB,SAAU5wF,GACxCgB,KAAKsW,QAAQ,cAAetX,GACvBU,WAAS,SAAUV,KACfnE,oBAAkBmF,KAAK22B,mBAA6D,YAAxC32B,KAAK22B,iBAAiBC,cAInE52B,KAAKy1B,cAHLz1B,KAAKu1B,gBAajBioD,EAAM/8E,UAAUovF,aAAe,SAAU9zF,GACrC,GAAIyG,GAAWxC,KAAKtB,qBAAqBkE,kBAAkB7G,GACvD+hB,EAAO9d,KAAKqE,cAAcmd,YAAYhf,GAAU,EACpDxC,MAAKykB,iBAAiB0c,iBAAiBrjB,IAQ3C0/D,EAAM/8E,UAAU87E,aAAe,SAAU7mE,GACrC,IAAkC,IAA9B1V,KAAK+U,IAAIjI,QAAQ4I,GAAgB,CACjC,GAAIoI,GAAO9d,KAAK+I,SAAS/I,KAAK+U,IAAIjI,QAAQ4I,IAASlX,gBAAgBsf,IACnE9d,MAAKykB,iBAAiB0c,iBAAiBrjB,KAU/C0/D,EAAM/8E,UAAUqvF,wBAA0B,SAAUhyE,EAAMkT,GACjDn2B,oBAAkBijB,KACnBA,EAAO9d,KAAKykB,iBAAiBwM,cAAcmQ,aAAetjB,EACtD9d,KAAKykB,iBAAiBwM,cAAcmQ,YAActjB,EACtD9d,KAAKykB,iBAAiBC,aAAauS,cAAcnZ,EAAM9d,KAAKizB,WAAa,EAAI,IAE5Ep4B,oBAAkBm2B,KACnBA,EAAMhxB,KAAKykB,iBAAiBwM,cAAcsM,cAAgBvM,EAAMhxB,KAAKykB,iBAAiBwM,cAAcsM,aAAevM,EACnHhxB,KAAKykB,iBAAiBC,aAAasS,aAAahG,KAUxDwsD,EAAM/8E,UAAUiJ,cAAgB,SAAUuV,GACtC,GAAIpkB,oBAAkBokB,GAClB,MAAO,KAEX,KAAKjf,KAAKiC,6BAA+BjC,KAAK+Y,SAAW/Y,KAAK+Y,QAAQu5D,KAAO,IAAMtyE,KAAKvB,WAAW2D,iBAC/FpC,KAAKgB,OAAQ,CACb,GAAI+uF,GAAW/vF,KAAK+Y,QAAQiT,IAAI/M,EAAY3V,SAC5C,IAAIymF,EACA,MAAOA,OAGV,CACD,GAAIC,GAAWhwF,KAAK+I,SAAS4kC,KAAK,SAAU3/B,GAAO,MAAOiR,GAAY3V,WAAa0E,EAAI1E,UACvF,IAAI0mF,EACA,MAAOA,GAGf,MAAO,OAUXxS,EAAM/8E,UAAU47B,cAAgB,SAAUrhB,EAAapB,GACnD,MAAIoB,GAAYpB,QAAUA,EACfoB,EAEJhb,KAAKq8B,cAAcr8B,KAAK0J,cAAcsR,EAAYxR,YAAaoQ,IAgB1E4jE,EAAM/8E,UAAU+mD,eAAiB,SAAU5hC,EAAWqqE,EAAgBC,EAAaC,EAAWC,EAAWC,GACrGrwF,KAAKkC,SAASslD,eAAe5hC,EAAWqqE,EAAgBC,EAAaC,EAAWC,EAAWC,IAW/F7S,EAAM/8E,UAAUktF,YAAc,SAAU2C,EAAuBC,EAE/DC,EAAUC,GACN,MAAOzwF,MAAK0wF,kBAAoB1wF,KAAKkC,SAASyrF,YAAY2C,EAAuBC,EAAkBC,EAAUC,GAAU,MAW3HjT,EAAM/8E,UAAUmtF,UAAY,SAAU0C,EAEtCC,EAAkBC,EAAUC,GACxB,MAAOzwF,MAAK0wF,kBAAoB1wF,KAAKkC,SAAS0rF,UAAU0C,EAAuBC,EAAkBC,EAAUC,GAAU,MAWzHjT,EAAM/8E,UAAUotF,UAAY,SAAU8C,EAAqBJ,EAAkBK,EAAQH,GACjF,MAAOzwF,MAAKosB,gBAAkBpsB,KAAKosB,gBAAgBykE,OAAOF,EAAqBJ,EAAkBK,EAAQH,GACnG,MAUVjT,EAAM/8E,UAAUqwF,eAAiB,SAAUzwC,GACvCrgD,KAAKkC,SAASqvB,KAAKu/D,eAAezwC,IAStCm9B,EAAM/8E,UAAUswF,0BAA4B,SAAU51E,GAClDnb,KAAKkC,SAAS6uF,0BAA0B51E,GAAO,IASnDqiE,EAAM/8E,UAAU8lD,qBAAuB,SAAUvnD,GAC7C,GAAI4B,IAAiB,EACjBowF,GAAiB,CAErB,IADApwF,EAAoC,SAAlBZ,KAAK4b,UAAyC,WAAlB5b,KAAK4b,aAAiC5b,KAAKY,gBAAmBZ,KAAKiC,6BAC3F,WAAlBjC,KAAK4b,UAAyB5b,KAAKvB,WAAWod,OAAQ,CACtD,GAAI7Y,GAAahD,KAAKgD,UAClBA,IAAcA,EAAWsC,gBAAkBtC,EAAWsC,eAAeC,WACrEyrF,EAAiBhuF,EAAWsC,eAAe2rF,qBAAqBjxF,KAAKvB,WAAWod,QAE3E7Y,GAAcA,EAAW2C,cAAgB3C,EAAW2C,aAAqB,SAC9EqrF,EAAiBhuF,EAAW2C,aAA2B,aAAE3F,KAAKvB,WAAWod,SAE7Ejb,EAAiBowF,GAAkBhxF,KAAKY,iBAAmBZ,KAAKiC,4BAEpE,GAAIksC,GAAkBvtC,KAAiBZ,KAAKiN,mBACxCC,EAAWlN,KAAKa,iBACpB,IAAIstC,EAAexyC,OAAS,IAAqD,IAAhDwyC,EAAerhC,QAAQ9N,EAAKjD,KAAKiR,UAC9DhO,EAAKkyF,YAAa,MAEjB,IAAIhkF,EAASvR,OAAS,EAAG,CAC1B,GAAI6G,GAAW,GAAI1F,MAAKkC,EAAKjD,KAAKmF,UAClCsB,GAASM,SAAS,EAAG,EAAG,IACsB,IAA1CoK,EAASJ,QAAQtK,EAAStB,cACrBlB,KAAKiC,6BAAgCjC,KAAKgB,SAAWhB,KAAKkC,SAASC,mBACpEnC,KAAKvB,WAAW2D,gBAChBpD,EAAKkyF,YAAa,EAGlBlyF,EAAKkyF,YAAa,KAYlC1T,EAAM/8E,UAAU0wF,iBAAmB,SAAUpiD,GAIzC,GAHI/uC,KAAK2sC,SACL3sC,KAAoB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAEnIA,KAAK+b,gBAAkB/b,KAA4B,sBAAE,oBAAqB,CACtEA,KAAK+b,eAA4B,aACjC/b,KAAK+b,eAA4B,cAErC/b,KAAK+b,eAAqC,sBAC1C,IAAIq1E,KACJA,GAAiB,OAAI,mBACrBA,EAAoC,0BAAIlzF,gBAAgB8B,KAAK4R,eAAeiT,oBAAoB,GAAM,GACtGusE,EAAkC,wBAAIlzF,gBAAgB8B,KAAK4R,eAAem6B,kBAAkB,GAAM,GAClG/rC,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAKy1F,EAEpGpxF,KAAK4R,eAAe+qC,sBAAsB,eAAgB,eAAgB,GAAI7/C,MAAKkD,KAAK4R,eAAeiT,kBAAkB3jB,WAAY,GAAIpE,MAAKkD,KAAK4R,eAAem6B,gBAAgB7qC,WAAY6tC,IASlMyuC,EAAM/8E,UAAUqtF,aAAe,SAAU/+C,GAIrC,GAHI/uC,KAAK2sC,SACL3sC,KAAoB,eAAG,kBAAmB,wBAAyB,oBAAqB,oBAAqB,qBAAsB,sBAEnIA,KAAK+b,gBAAkB/b,KAA4B,sBAAE,gBAAiB,CAClEA,KAAK+b,eAA4B,aACjC/b,KAAK+b,eAA4B,cAErC/b,KAAK+b,eAAqC,sBAC1C,IAAIq1E,KACJA,GAAiB,OAAI,eACrBA,EAAoC,0BAAIlzF,gBAAgB8B,KAAK4R,eAAeiT,oBAAoB,GAAM,GACtGusE,EAAkC,wBAAIlzF,gBAAgB8B,KAAK4R,eAAem6B,kBAAkB,GAAM,GAClG/rC,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAKy1F,EAEpGpxF,KAAK4R,eAAe+qC,sBAAsB,eAAgB,eAAgB,GAAI7/C,MAAKkD,KAAK4R,eAAeiT,kBAAkB3jB,WAAY,GAAIpE,MAAKkD,KAAK4R,eAAem6B,gBAAgB7qC,WAAY6tC,IAYlMyuC,EAAM/8E,UAAUm5B,mBAAqB,SAAU9+B,EAAWC,EAAS8+B,EAAoB+iB,GAOnF,GANA58C,KAAK4R,eAAeukB,mBAAqB,EACzCn2B,KAAK6I,sBAAwB/N,EAC7BkF,KAAKyR,oBAAsB1W,EAC3BiF,KAAK65B,mBAAqBA,EAC1B75B,KAAK4R,eAAe26B,4BACpBvsC,KAAKqE,cAAc8nB,6BACdnsB,KAAKosB,iBAAoBpsB,KAAKosB,kBAAoBpsB,KAAKosB,gBAAgBC,aACvErsB,KAAKosB,iBAAmBpsB,KAAKosB,gBAAgBC,aAAersB,KAAKosB,gBAAgBE,OAAOC,aACrFvsB,KAAKosB,gBAAgBE,OAAOC,YAAYC,qBACvCxsB,KAAKosB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,aAAe,CAC/EzsB,KAAK4R,eAAe46B,0BACpB,IAAI6kD,GAAoB37D,OAAO47D,WAAa57D,OAAO67D,UAEnD,IAAIvxF,KAAK4R,eAAeO,cAAgBnS,KAAKwkB,8BAAgC6sE,EAAmB,EAAG,CAC/F,GAAInjD,OAAwB,EAExBA,GADAluC,KAAKsX,qBACmBpE,KAAK6P,IAAI/iB,KAAK4R,eAAeukB,mBAAqBn2B,KAAK8F,QAAQstB,uBAAuB,sCAAsC,GAAGqK,aAAe,EAG9IvqB,KAAK6P,IAAI/iB,KAAK4R,eAAeukB,mBACjDn2B,KAAKykB,iBAAiBmT,iBAAiBl9B,cAAc+iC,aAE7Dz9B,KAAKykB,iBAAiBmT,iBAAiBjE,MAAM5W,MACzCqX,aAAWp0B,KAAK4R,eAAeukB,mBAAqB+X,OAGxDluC,MAAKykB,iBAAiBmT,iBAAiBjE,MAAM5W,MAAQqX,aAAWp0B,KAAK4R,eAAeukB,mBAExFn2B,MAAKykB,iBAAiBmZ,2BAClB59B,KAAKvB,WAAW2a,YAChBpZ,KAAKykB,iBAAiBsf,yBAEX,cAAX6Y,GACA58C,KAAK+1B,OAAO,yBAYxBynD,EAAM/8E,UAAUwxD,UAAY,SAAUv8C,EAAQy8C,GAC1CnyD,KAAKsmB,QAAS,EACdtmB,KAAKwV,gBAAgBy8C,UAAUv8C,EAAQy8C,IAU3CqrB,EAAM/8E,UAAU6vD,UAAY,SAAU56C,EAAQ66C,GAC1CvwD,KAAKwV,gBAAgB86C,UAAU56C,EAAQ66C,IAU3CitB,EAAM/8E,UAAU+wF,eAAiB,SAAUC,EAAWC,GAClD1xF,KAAKkC,SAASsvF,eAAeC,EAAWC,IAS5ClU,EAAM/8E,UAAU0jD,mBAAqB,SAAUwtC,GAC3C3xF,KAAK8e,SAAW6yE,EAChB3xF,KAAKopE,mBACLppE,KAAK6xD,kBAWT2rB,EAAM/8E,UAAU2D,eAAiB,SAAU+W,EAAO9b,EAAOd,EAAQqzF,GAG7D,GAFAvyF,EAAQupF,cAAYvpF,GAAS,KAAOA,KACpBW,KAAK8e,WAAY9e,KAAK+uB,YACxB,CACV/uB,KAAK6xF,cAAc12E,EAAO5c,EAAQqzF,EAClC,IAAI5tF,GAAY4tF,EAAarzF,EAASA,EAAOC,gBACzCjE,EAAKyJ,EAAU6V,YACfi4E,EAAS9xF,KAAKk7B,cAAc3gC,GAC5BunB,GAAU,CAKd,IAJAA,KAAWjnB,oBAAkBwE,KACvBxE,oBAAkBwE,IAAWxE,oBAAkB0D,EAAO,GAAK4c,MACxD9b,YAAiBvC,MAAOuC,EAAM6B,YAAc3C,EAAO,GAAK4c,GAAOja,UAC5D3C,EAAO,GAAK4c,KAAW9b,MAAkByiB,EACjDgwE,KAAoD,IAAxC9xF,KAAK6xD,cAAc/kD,QAAQglF,IAAkBhwE,GAA0C,IAA9B9hB,KAAK6xD,cAAcl2D,QAAe,CAOvG,GANIqE,KAAKgD,WAA0B,eAAKhD,KAAKgD,WAA0B,cAAExE,gBAAgBkX,SAAW1R,EAAU0R,OAC1G1V,KAAK6xD,cAAcxpC,OAAO,EAAG,EAAGypE,GAGhC9xF,KAAK6xD,cAAcvzD,KAAKwzF,GAExB9xF,KAAK+b,eAAgB,EAC0C,IAA3D/b,KAAK+b,eAA+B,eAAEjP,QAAQglF,IAC9C9xF,KAAK+b,eAA+B,eAAEzd,KAAKJ,eAAe4zF,GAAQ,GAEtE,IAAIC,GAAgB/xF,KAAK+b,eAAkC,kBAAEpgB,OAAS,EAAIqE,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAW,OAAI,IACpL,IAAIqE,KAAKgD,YAAchD,KAAKk/B,aAAaU,eAAiB5/B,KAAK+b,eAAoC,sBAAM/b,KAAK+uB,aAAe/uB,KAAKi+E,WAA+B,YAAlB8T,GAAiD,WAAlBA,GACxJ,mBAAlBA,GAAwD,uBAAlBA,EAAwC,CAC9E,GAAIC,GAAYhyF,KAAK4wD,iBAAiBj3C,OAAO,SAAU5b,GACnD,MAAOA,GAAKS,gBAAgBkX,SAAWo8E,EAAOtzF,gBAAgBkX,SAC/D,EACCs8E,IAAahyF,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,IAAMqE,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAoB,iBAC7NqE,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAoB,gBAAE2C,KAAK0zF,IAI9HhyF,KAAKy+C,qBACLz+C,KAAKo+C,gBAAgB9/C,KAAKwzF,IAItCh/E,WAASqI,EAAO9b,EAAOd,IAE3Bi/E,EAAM/8E,UAAUoxF,cAAgB,SAAU12E,EAAO5c,EAAQqzF,GACrD,GAAIK,GAIAC,EAEAC,EAJA9yF,EAAQK,WAASyb,EAAO5c,EAQ5B,IAHIqzF,IACAz2E,EAAQ,mBAAqBA,GAE7BtgB,oBAAkBmF,KAAKopE,gBAAgB7qE,EAAO+K,WAAY,CAC1D,GAAIoO,KACJ1X,MAAKopE,gBAAgB7qE,EAAO+K,UAAYoO,EAG5Cu6E,EAAYjyF,KAAKopE,gBAAgB7qE,EAAO+K,UAExC4oF,EAAYxyF,WAASyb,EAAO82E,GACxBrJ,cAAYsJ,KAERC,EADA9yF,YAAiBvC,MACH,GAAIA,MAAKuC,EAAM6B,WAExBkxF,gBAAc/yF,GACLnB,YAAWmB,MAAW,GAE/BkyE,WAASlyE,GACAnB,eAAemB,GAAO,GAGtBA,EAEbupF,cAAYuJ,GAIbr/E,WAASqI,EAAO,KAAM82E,GAHtBn/E,WAASqI,EAAOg3E,EAAaF,KAOzCzU,EAAM/8E,UAAU2pF,kBAAoB,WAC5BpqF,KAAKgD,aACDhD,KAAKgD,WAAWsC,gBAAkBtF,KAAKgD,WAAWsC,eAAeC,YACjEvF,KAAKkC,SAASmwF,YACdryF,KAAKgD,WAAWsC,eAAeC,YAAa,EACvC1K,oBAAkBmF,KAAKk9B,gBACxBl9B,KAAKk9B,cAAcmlB,uBAGlBriD,KAAKgD,WAAW2C,cAAgB3F,KAAKgD,WAAW2C,aAAag2E,WAClE37E,KAAKgD,WAAW2C,aAAag2E,UAAUxyB,UACvCnpD,KAAKgD,WAAW2C,aAAag2E,UAAU2W,OACvCtyF,KAAKgD,WAAW2C,aAAa4sF,iBAWzC/U,EAAM/8E,UAAU4I,kBAAoB,SAAU9O,GAC1C,GAAI8E,GAAQW,KAAK+I,SAAS4Q,OAAO,SAAU3L,GACvC,MAAOA,GAAI1E,WAAa/O,GAE5B,OAAI8E,GAAM1D,OAAS,EACR0D,EAAM,GAGN,MAUfm+E,EAAM/8E,UAAUy6B,cAAgB,SAAU3gC,GACtC,MAAIM,qBAAkBN,GACX,KAEJyF,KAAK+I,SAAS/I,KAAK+U,IAAIjI,QAAQvS,EAAG0D,cAS7Cu/E,EAAM/8E,UAAU+xF,oBAAsB,SAAUnzF,EAAO+Q,GACnD,GAAIqiF,KACJA,GAAqBriF,GAAQ/Q,CAC7B,IAAIyyE,GAAmB9xE,KAAKg3C,eAAe+6B,0BAA0B0gB,EACrE,QAAQriF,GACJ,IAAK,OACDpQ,KAAKk3C,iBAAiBC,KAAOs7C,EAAqBriF,EAClD,MACJ,KAAK,cACDpQ,KAAKg3C,eAAkC,mBAAI,EAC3Ch3C,KAAKk3C,iBAAiBw8B,YAAc+e,EAAqBriF,EACzD,MACJ,KAAK,WACDpQ,KAAKg3C,eAAkC,mBAAI,EAC3Ch3C,KAAKk3C,iBAAiB3E,SAAWkgD,EAAqBriF,GAK9D,GAAI4jE,GAAQh0E,KAAKg3C,eAAeC,eAAenxC,QAAQu4B,iBAAiB,WAAW,GAC/E41C,EAAQj0E,KAAKg3C,eAAeC,eAAenxC,QAAQu4B,iBAAiB,WAAW,EACnFr+B,MAAKg3C,eAAe87B,6BAA+BkB,EAAM5yC,YAAc,EAAI,KAC3EphC,KAAKg3C,eAAe+7B,8BAAgCkB,EAAM7yC,YAAc,EAAI,KAC5EphC,KAAKg3C,eAAeC,eAAem7B,aAAa,GAAGE,KAAOR,EAC1D9xE,KAAKg3C,eAAeC,eAAem7B,aAAa,GAAGE,KAAQzqE,WAAW,UAAYA,WAAWiqE,GAAqB,IAClH9xE,KAAKg3C,eAAe+8B,6BASxByJ,EAAM/8E,UAAU68E,cAAgB,SAAU79E,GACtC,GAAqB,gBAAVA,GAAoB,CACvBT,EAAOgB,KAAK0yF,2BAA2B,KAAMjzF,EACjDO,MAAKykB,iBAAiB4T,2BAA4B,EAClDr4B,KAAKykB,iBAAiBqf,eAAe9kC,OAGrC,KAAK,GAAIlB,GAAI,EAAGA,EAAI2B,EAAM9D,OAAQmC,IAC9B,GAAwB,gBAAb2B,GAAM3B,GAAiB,CAC9B,GAAI60F,GAAMlzF,EAAM3B,GACZkB,EAAOgB,KAAK0yF,2BAA2B,KAAMC,EACjD3yF,MAAKykB,iBAAiB4T,2BAA4B,EAClDr4B,KAAKykB,iBAAiBqf,eAAe9kC,KAYrDw+E,EAAM/8E,UAAUmyF,WAAa,SAAUr4F,GAC/ByF,KAAKsX,uBACLtX,KAAK69E,mBAAoB,EAE7B,IAAI7+E,GAAOgB,KAAK0yF,2BAA2Bn4F,EAC3CyF,MAAKykB,iBAAiB4T,2BAA4B,EAClDr4B,KAAKykB,iBAAiBqf,eAAe9kC,IASzCw+E,EAAM/8E,UAAU88E,gBAAkB,SAAU99E,GACxC,GAAIT,GAAOgB,KAAK0yF,2BAA2B,KAAMjzF,EACjDO,MAAKykB,iBAAiB4T,2BAA4B,EAClDr4B,KAAKykB,iBAAiBof,iBAAiB7kC,IAS3Cw+E,EAAM/8E,UAAUoyF,aAAe,SAAUt4F,GACrC,GAAIyE,GAAOgB,KAAK0yF,2BAA2Bn4F,EAC3CyF,MAAKykB,iBAAiB4T,2BAA4B,EAClDr4B,KAAKykB,iBAAiBof,iBAAiB7kC,IAW3Cw+E,EAAM/8E,UAAUo7E,UAAY,SAAU99E,EAAM+0F,EAAa52D,GACrD,GAAIl8B,KAAKgD,YAAchD,KAAKk/B,aAAa68C,YAAa,CAClD,GAAsB,iBAAlB/7E,KAAK+X,SAA6B,CAClC/X,KAAKgD,WAAW+vF,eAAiBD,EACjC9yF,KAAKgD,WAAWgwF,YAAc92D,CAC9B,IAAIlkB,OAAY,EACXnd,qBAAkBkD,KAEfia,EADAhY,KAAK+b,gBAAkB/b,KAAK+b,eAAoC,oBACpDhe,EAAKS,gBAAgBia,aAGrB1a,EAAKiC,KAAKvB,WAAWga,cAGzC,IAAIle,OAAK,GACLkP,MAAa,EACjB,KAAK5O,oBAAkBmd,IAAcA,EAAUrc,OAAQ,CACnD,IAAK,GAAImC,GAAI,EAAGA,EAAIka,EAAUrc,SAC1BpB,EAA8B,gBAAjByd,GAAUla,GAAmBka,EAAUla,GAAGkC,KAAKoY,eAAe7d,IACvEyd,EAAU,KACdvO,EAAazJ,KAAK+I,SAAS/I,KAAKwZ,aAAa1M,QAAQ,IAAMvS,MAHzBuD,KAQtC,GAAI2L,IAAoC,IAArBA,EAAWmQ,OAAenQ,EAAWyT,aAAavhB,QAAS,CAC1E,GAAIs3F,GAAkBxpF,EAAWyT,aAAagf,EAC9C,IAAsB,iBAAlBl8B,KAAK+X,UAA+B/X,KAAK+b,gBAAkB/b,KAAK+b,eAAoC,oBACpG/b,KAAKgD,WAAW64E,UAAU99E,EAAM+0F,EAAa52D,OAE5C,IAAI+2D,EAAiB,CACtB,GAAI1gD,GAA2B,UAAhBugD,GAA2C,UAAhBA,EAA0BA,EAChE,OACa,WAAbvgD,EACAvyC,KAAKgD,WAAW64E,UAAU99E,EAAMw0C,EAAUvyC,KAAKwZ,aAAa1M,QAAQ,IAAMvS,IAG1EyF,KAAKgD,WAAW64E,UAAU99E,EAAMw0C,EAAUvyC,KAAK+I,SAAS+D,QAAQmmF,QAIpEjzF,MAAKgD,WAAW64E,UAAU99E,EAAM,QAASiC,KAAKwZ,aAAa1M,QAAQ,IAAMvS,QAI7EyF,MAAKgD,WAAW64E,UAAU99E,EAAM,cAIhCiC,MAAK+b,gBAAkB/b,KAAK+b,eAAoC,oBAChE/b,KAAKgD,WAAW64E,UAAU99E,EAAM+0F,EAAa52D,GAG7Cl8B,KAAKgD,WAAW64E,UAAU99E,EAAM,SAGxCiC,MAAKgD,WAAW+vF,eAAiB,KACjC/yF,KAAKgD,WAAWgwF,YAAc,SAG9BhzF,MAAKgD,WAAW64E,UAAU99E,EAAM+0F,EAAa52D,GACzB,WAAhB42D,IACA9yF,KAAKujD,iBAAmBrnB,EAGZ,WAAhB42D,GAA2C,UAAhBA,GAA2C,UAAhBA,IACtD9yF,KAAKikD,iBAAoBppD,oBAAkBkD,GAAeiC,KAAKikD,iBAAZlmD,KAW/Dy/E,EAAM/8E,UAAUgiE,iBAAmB,SAAU1kE,GACrCiC,KAAKgD,YAAchD,KAAKk/B,aAAaU,eACrC5/B,KAAK+9E,gBAAiB,EACtB/9E,KAAKgD,WAAWy/D,iBAAiB1kE,GACjCiC,KAAK+9E,gBAAiB,IAU9BP,EAAM/8E,UAAUyyF,aAAe,SAAUC,EAAWC,GAC5CpzF,KAAKgD,YAAchD,KAAKk/B,aAAaU,cACrC5/B,KAAKgD,WAAWkwF,aAAaC,EAAWC,IAUhD5V,EAAM/8E,UAAU+kC,cAAgB,SAAU5rB,GAClC5Z,KAAKsX,uBACLtX,KAAK4kC,6BAA8B,GAEvC5kC,KAAKykB,iBAAiB+gB,cAAc5rB,IAQxC4jE,EAAM/8E,UAAUgvF,OAAS,WACjBzvF,KAAKgD,YAAchD,KAAKk/B,aAAaU,cACrC5/B,KAAKgD,WAAWysF,UASxBjS,EAAM/8E,UAAUivF,QAAU,WAClB1vF,KAAKgD,YAAchD,KAAKk/B,aAAaU,cACrC5/B,KAAKgD,WAAW0sF,WAWxBlS,EAAM/8E,UAAUkwD,eAAiB,WAC7B,MAAI3wD,MAAK+b,eACE/b,KAAK+b,eAAkC,sBAetDyhE,EAAM/8E,UAAU4yF,eAAiB,WAC7B,MAAIrzF,MAAK+b,eACE/b,KAAK+b,eAAkC,sBAYtDyhE,EAAM/8E,UAAU6yF,oBAAsB,WAC9BtzF,KAAK+b,iBACL/b,KAAK+b,eAAkC,qBACnC/b,KAAKk9B,eACLl9B,KAAKk9B,cAAc0Q,aAAa5tC,KAAK6tC,UAAY,UAAU,KAUvE2vC,EAAM/8E,UAAU8yF,oBAAsB,WAC9BvzF,KAAK+b,iBACL/b,KAAK+b,eAAkC,qBACnC/b,KAAKk9B,eACLl9B,KAAKk9B,cAAc0Q,aAAa5tC,KAAK6tC,UAAY,UAAU,KAUvE2vC,EAAM/8E,UAAUg8E,KAAO,WACfz8E,KAAK+b,gBACL/b,KAAK+b,eAA2B,cASxCyhE,EAAM/8E,UAAUi8E,KAAO,WACf18E,KAAK+b,gBACL/b,KAAK+b,eAA2B,cAUxCyhE,EAAM/8E,UAAU4oF,iBAAmB,SAAUvhB,GACzC,GAAI9nE,KAAKq6B,mBAAoB,CACzBr6B,KAAKq6B,mBAAmBgvD,iBAAiBvhB,EACzC,IAAI1tC,GAAiBp6B,KAAKq6B,kBAC1Br6B,MAAKq6B,mBAAmBG,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,gCAS9J8iD,EAAM/8E,UAAU+yF,iBAAmB,WAC/B,OAAK34F,oBAAkBmF,KAAKq6B,qBAAuBr6B,KAAKs6B,mBAC7Ct6B,KAAKq6B,mBAAmBm5D,mBAGxB,MASfhW,EAAM/8E,UAAU+sF,OAAS,WACrBxtF,KAAK4R,eAAeqwB,gBAAe,IAQvCu7C,EAAM/8E,UAAUgtF,QAAU,WACtBztF,KAAK4R,eAAeqwB,gBAAe,IAQvCu7C,EAAM/8E,UAAUgzF,aAAe,WAC3BzzF,KAAK4R,eAAe+oB,mBACpB36B,KAAKykB,iBAAiB0c,iBAAiB,IAU3Cq8C,EAAM/8E,UAAUizF,YAAc,SAAUC,EAAaC,EAASrhD,GAC1DvyC,KAAKg/D,qBAAqB00B,YAAYC,EAAaC,EAASrhD,IAUhEirC,EAAM/8E,UAAUozF,oBAAsB,SAAUp0F,EAAO1B,GACnD,GAAIiC,KAAKgD,YAAchD,KAAKk/B,aAAaU,aAAc,CACnD,GAAI7W,GAAQ/oB,KAAKvB,WACbF,EAASyB,KAAK6U,eAAelZ,OAAS,EACrCd,oBAAkBmF,KAAK6U,eAAepV,IAAuC,KAA7BO,KAAK6U,eAAepV,GAAgB,IACpF5E,qBAAkB0D,KACnBR,EAAKgrB,EAAMxuB,IAAMgE,EAAOwqB,EAAMxuB,IAC9ByF,KAAKgD,WAAWy/D,iBAAiB1kE,MAY7Cy/E,EAAM/8E,UAAUqzF,eAAiB,SAAUv5F,EAAIw5F,GAC3C,GAAI/zF,KAAKyzB,oBAAqB,CAC1B,GAAIzY,GAAchb,KAAKyzB,oBAAoByH,cAAc3gC,EAAG0D,WACxD+B,MAAKgD,aAAenI,oBAAkBmgB,IAAgBhb,KAAKk/B,aAAaC,qBACxEn/B,KAAKoiC,wBAAwB0xD,eAAe94E,EAAa+4E,KAWrEvW,EAAM/8E,UAAUuzF,kBAAoB,SAAUz5F,GAC1C,GAAIyF,KAAKyzB,oBAAqB,CAC1B,GAAIzY,GAAchb,KAAKyzB,oBAAoByH,cAAc3gC,EAAG0D,WACxD+B,MAAKgD,aAAenI,oBAAkBmgB,IAAgBhb,KAAKk/B,aAAaC,qBACxEn/B,KAAKoiC,wBAAwB4xD,kBAAkBh5E,KAY3DwiE,EAAM/8E,UAAUwzF,kBAAoB,SAAU15F,EAAIw5F,GAC9C,GAAI/zF,KAAKyzB,oBAAqB,CAC1B,GAAIzY,GAAchb,KAAKyzB,oBAAoByH,cAAc3gC,EAAG0D,WACxD+B,MAAKgD,aAAenI,oBAAkBmgB,IAAgBhb,KAAKk/B,aAAaC,qBACxEn/B,KAAKoiC,wBAAwB6xD,kBAAkBj5E,EAAa+4E,KAUxEvW,EAAM/8E,UAAUu7E,cAAgB,WACxBh8E,KAAKgD,YAAchD,KAAKgD,WAAW2C,cAAgB3F,KAAKk/B,aAAa68C,aACrE/7E,KAAKgD,WAAW2C,aAAaq2E,iBAUrCwB,EAAM/8E,UAAUyzF,eAAiB,SAAUx+E,GACnC1V,KAAKgD,YAAchD,KAAKgD,WAAW2C,cAAgB3F,KAAKk/B,aAAaU,cACrE5/B,KAAKgD,WAAW2C,aAAauuF,eAAex+E,IAWpD8nE,EAAM/8E,UAAUiyF,2BAA6B,SAAUn4F,EAAIkF,GACvD,GAAIywB,GACA3xB,EACA29B,CACJ,IAAIrhC,oBAAkB4E,IAAUlF,EAC5BgE,EAASyB,KAAKk7B,cAAc3gC,EAAG0D,YAC/BiyB,EAAWlwB,KAAKk+D,WAAW3jE,GACtBM,oBAAkBq1B,KACnBgM,EAAWx8B,WAAS,WAAYwwB,QAGnC,KAAKr1B,oBAAkB4E,GAAQ,CAChCywB,EAAWlwB,KAAKg1B,cAAcv1B,EAC9B,IAAIi7E,GAAuB16E,KAAK2nC,YAAkC,oBAClEzL,GAAWw+C,EAAuBh7E,WAAS,WAAYwwB,GAAYzwB,EACnElB,EAASm8E,EAAuB16E,KAAK8R,gBAAgBoqB,GAAYl8B,KAAK+I,SAASmzB,GAGnF,OAASn+B,KAAMQ,EAAQqlC,QADT5jC,KAAKkC,SAASgzB,UAAUgH,GACGhM,SAAUA,EAAU0O,QAAQ,IAQzE4+C,EAAM/8E,UAAUu0B,cAAgB,SAAUv1B,GACtC,IACI,GAAI00F,GAAWn0F,KAAK8F,QAAQu4B,iBAAiB,eAC7C,OAAKxjC,qBAAkB4E,GAIZ,KAHA00F,EAAS10F,GAMxB,MAAO2W,GACH,MAAO,QASfonE,EAAM/8E,UAAUy9D,WAAa,SAAU3jE,GACnC,GAEIkF,GAFAwR,EAAQjR,KACRzB,EAASyB,KAAKk7B,cAAc3gC,EAAG0D,WAQnC,OALIwB,GADAO,KAAKmC,mBAAqBnC,KAAKvB,WAAW2D,gBAClCpC,KAAK6U,eAAeU,IAAI,SAAU7C,GAAQ,MAAOA,GAAKzB,EAAMxS,WAAWlE,MAAQuS,QAAQvO,EAAOC,gBAAgBkX,QAG9G1V,KAAKsX,qBAAuBtX,KAAK8R,gBAAgBhF,QAAQvO,GAAUyB,KAAK6U,eAAe/H,QAAQvO,IAE5F,IAAXkB,EACOO,KAAKg1B,cAAcv1B,GAGnB,MAUf+9E,EAAM/8E,UAAUq3D,wBAA0B,SAAUl9D,GAChD,MAAIC,qBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUG,UACtEF,oBAAkBD,EAAUI,UACrB,4BAEFH,oBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUG,UAC3EF,oBAAkBD,EAAUI,UACrB,4BAGA,IAUfwiF,EAAM/8E,UAAU+sB,kBAAoB,SAAU5yB,GAC1C,SAAIC,oBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUG,UACtEF,oBAAkBD,EAAUI,YAOpCwiF,EAAM/8E,UAAUyoF,wBAA0B,WACtC,GAAIkL,GAAQp0F,KAAKu3B,cAAc,OAASC,UAAW,eAAgBC,OAAQ,kBACvE/G,EAAU1wB,KAAKu3B,cAAc,OAASC,UAAW,YAAa41B,OAAS3tB,SAAU,OACrFmb,WAAQlqB,EAAS1wB,KAAKu3B,cAAc,OAASC,UAAW,qBAAuB48D,GAC/E1jE,EAAQgH,YAAY13B,KAAKu3B,cAAc,SACvCqjB,UAAQlqB,EAAS1wB,KAAKu3B,cAAc,OAASC,UAAW,uBAAyB48D,GACjFp8D,SAAS2L,eAAe3jC,KAAK8F,QAAQvL,GAAK,cAAcm9B,YAAY08D,IASxE5W,EAAM/8E,UAAU45E,wBAA0B,SAAUjqE,GAChD,GAAIqrE,EACJ,QAAQrrE,GACJ,IAAK,KACDqrE,EAAYz7E,KAAK0Q,UAAUC,YAAY,SAAW,IAAM3Q,KAAK0Q,UAAUC,YAAY,QACnF,MACJ,KAAK,KACD8qE,EAAYz7E,KAAK0Q,UAAUC,YAAY,UAAY,IAAM3Q,KAAK0Q,UAAUC,YAAY,SACpF,MACJ,KAAK,KACD8qE,EAAYz7E,KAAK0Q,UAAUC,YAAY,SAAW,IAAM3Q,KAAK0Q,UAAUC,YAAY,SACnF,MACJ,KAAK,KACD8qE,EAAYz7E,KAAK0Q,UAAUC,YAAY,UAAY,IAAM3Q,KAAK0Q,UAAUC,YAAY,SAG5F,MAAO8qE,IAQX+B,EAAM/8E,UAAU8sF,OAAS,SAAU8G,GAC3Br0F,KAAKoS,eACLpS,KAAKogD,eAAexkD,IAAMy4F,EAC1Br0F,KAAKgG,aAUbw3E,EAAM/8E,UAAU0hC,cAAgB,SAAUr8B,GACtC,GAAIwuF,GAAMxuF,EAAQkgF,wBACdn0D,EAAY6D,OAAO6+D,aAAev8D,SAASm/C,gBAAgBtlD,WACxDmG,SAASsO,KAAKzU,UACjBlN,EAAa+Q,OAAO8+D,aAAex8D,SAASm/C,gBAAgBxyD,YAC5DqT,SAASsO,KAAK3hB,WACd8vE,EAAYz8D,SAASm/C,gBAAgBsd,WAAaz8D,SAASsO,KAAKmuD,WAAa,EAC7EC,EAAa18D,SAASm/C,gBAAgBud,YAAc18D,SAASsO,KAAKouD,YAAc,EAChF1jE,EAAMsjE,EAAItjE,IAAMa,EAAY4iE,EAC5B32E,EAAO9d,KAAKizB,UAAYqhE,EAAI1gE,MAAQjP,EAAa+vE,EAAaJ,EAAIx2E,KAAO6G,EAAa+vE,CAC1F,QAAS1jE,IAAK9d,KAAKgY,MAAM8F,GAAMlT,KAAM5K,KAAKgY,MAAMpN,GAAOf,MAAOu3E,EAAIv3E,MAAOkY,OAAQq/D,EAAIr/D,SAQzFuoD,EAAM/8E,UAAU4kC,UAAY,WACxBrlC,KAAKykB,iBAAiB2gB,kBAAkB,WAU5Co4C,EAAM/8E,UAAUk0F,iBAAmB,SAAUz5F,EAAY8D,GAErD,GADAgB,KAAK4mB,eAAgB,GAChB/rB,oBAAkBmE,GACnB,IAAK,GAAIzD,GAAK,EAAGC,EAAKC,OAAOC,KAAKsD,GAAOzD,EAAKC,EAAGG,OAAQJ,IAAM,CAC3D,GAAIqyB,GAAOpyB,EAAGD,EACd,QAAQqyB,GACJ,IAAK,mBACD5tB,KAAK2X,eAAgB7O,iBAAkB9J,EAAK4uB,KAAS,EACrD,MACJ,KAAK,iBACD5tB,KAAK2X,eAAgBzG,eAAgBlS,EAAK4uB,KAAS,IAKnE5tB,KAAK9E,WAAaA,GAQtBsiF,EAAM/8E,UAAU6kC,YAAc,WAC1BtlC,KAAKykB,iBAAiB2gB,kBAAkB,aAQ5Co4C,EAAM/8E,UAAUm0F,eAAiB,WAC7B,MAAO50F,MAAKkC,SAASwmF,cAUzBlL,EAAM/8E,UAAUo0F,iBAAmB,SAAU15E,EAAOF,GAChD,GAAIgoB,GAAShoB,EAAQtB,OAAO,SAAUta,GAClC,MAAOA,GAAM8b,QAAUA,GAE3B,OAAO8nB,GAAOtnC,OAAS,EAAIsnC,EAAO,GAAK,MAQ3Cu6C,EAAM/8E,UAAUq0F,gBAAkB,WAC9B,MAAO90F,MAAKkb,cAUhBsiE,EAAM/8E,UAAUs0F,WAAa,SAAUr5F,EAAMs5F,GACzCh1F,KAAKkC,SAAS+yF,YAAYv5F,EAAMs5F,GAChCh1F,KAAKwoF,qBAUThL,EAAM/8E,UAAUy0F,WAAa,SAAUx5F,EAAMy5F,GACzCn1F,KAAKkC,SAASkzF,YAAY15F,EAAMy5F,GAChCn1F,KAAKwoF,qBASThL,EAAM/8E,UAAUu2B,aAAe,SAAUnF,GACrC7xB,KAAKykB,iBAAiBC,aAAasS,aAAanF,IAQpD2rD,EAAM/8E,UAAU40F,WAAa,WACzBr1F,KAAKqjD,aAAc,EACnBrjD,KAAKoqF,qBAST5M,EAAM/8E,UAAU28E,WAAa,SAAUp6C,EAAWsyD,GAC1Ct1F,KAAKgiD,iBACLhiD,KAAKgiD,gBAAgBo7B,WAAWp6C,EAAWsyD,IASnD9X,EAAM/8E,UAAU80F,YAAc,SAAUC,GAChCx1F,KAAKgiD,iBACLhiD,KAAKgiD,gBAAgBuzC,YAAYC,IAUzChY,EAAM/8E,UAAUkjD,UAAY,SAAUlkD,EAAO61F,GACrCt1F,KAAKgiD,iBACLhiD,KAAKgiD,gBAAgB2B,UAAUlkD,EAAO61F,IAS9C9X,EAAM/8E,UAAUijD,WAAa,SAAUhmD,GAC/BsC,KAAKgiD,iBACLhiD,KAAKgiD,gBAAgB0B,WAAWhmD,IAUxC8/E,EAAM/8E,UAAUg1F,aAAe,SAAUC,GACjC11F,KAAKgD,YACLhD,KAAKgD,WAAWyyF,aAAaC,IAUrClY,EAAM/8E,UAAUmtC,YAAc,SAAU72B,EAAO4+E,GACvC31F,KAAKk9B,eACLl9B,KAAKk9B,cAAc0Q,YAAY72B,EAAO4+E,IAQ9CnY,EAAM/8E,UAAUuxD,eAAiB,WACzBhyD,KAAKgiD,iBACLhiD,KAAKgiD,gBAAgBgQ,kBAQ7BwrB,EAAM/8E,UAAUm1F,eAAiB,SAAU52F,GACvC,IAAKyU,MAAMsT,QAAQ/nB,EAAKjB,MAAO,CAC3B,GAAI83F,KACJA,GAAWv3F,KAAKU,EAAKjB,MACrB+U,WAAS,OAAQ+iF,EAAY72F,GAEjC,MAAOA,IASXw+E,EAAM/8E,UAAUq1F,mBAAqB,SAAUv7F,GAC3C,GAAIsoC,GAAU7iC,KAAKk7B,cAAc3gC,EACjC,KAAKM,oBAAkBgoC,GAAU,CAC7B,GAAI9kC,GAAOG,eAAe2kC,EAAQ1kC,UAAU,GACxCmF,EAAatD,KAAKvB,UAsCtB,IArCIV,EAAKuF,EAAWxI,YAChBkF,KAAKoE,eAAed,EAAWxI,UAAW+nC,EAAQrkC,gBAAgB1D,UAAWiD,GAAM,GAElFlD,oBAAkByI,EAAWtI,WAI9B+C,EAAKuF,EAAWxI,WAAa,GAAIgC,MAAK+lC,EAAQrkC,gBAAgB1D,WAC9DiD,EAAKuF,EAAWvI,SAAW,GAAI+B,MAAK+lC,EAAQrkC,gBAAgBzD,UAJ5DgD,EAAKuF,EAAWtI,UAAY,EAM3BH,oBAAkByI,EAAW2B,aACK,IAA/BlH,EAAKuF,EAAW2B,aAChBlH,EAAKuF,EAAW2B,YAAa,GAGhCpK,oBAAkByI,EAAWiY,YAC9Bxd,EAAKuF,EAAWiY,UAAY,IAE3B1gB,oBAAkByI,EAAWwT,QAAU/Y,EAAKuF,EAAWwT,SACxD/Y,EAAKuF,EAAWwT,YAEfjc,oBAAkByI,EAAWqT,WAAa5Y,EAAKuF,EAAWqT,YAC3D5Y,EAAKuF,EAAWqT,UAAY,MAE3B9b,oBAAkByI,EAAWqB,YAC9B5G,EAAKuF,EAAWqB,UAAY,MAIf,eAFD9J,oBAAkBgoC,EAAQrkC,gBAAgBwgB,UACpDhf,KAAKgf,SAD2D6jB,EAAQrkC,gBAAgBwgB,YAGrFnkB,oBAAkBkD,EAAKuF,EAAWuN,OAInCgyB,EAAQrkC,gBAAgBqS,KAAO,EAH/B9S,EAAKuF,EAAWuN,MAAQ,IAM3BhW,oBAAkBmF,KAAKumB,oBACxBvmB,KAAKumB,kBAAkB++B,QACS,cAAhCtlD,KAAKumB,kBAAkB7T,KAAsB,CACxC7X,oBAAkByI,EAAW8V,cAC9Brb,EAAKuF,EAAW8V,YAAc,KAElC,IAAIm5B,GAAWvyC,KAAKk/B,aAAa48C,cACjC97E,MAAK67E,UAAU99E,EAAMw0C,EAAUvyC,KAAKujD,sBAG/B1gB,GAAQpmB,iBAAoBomB,EAAQrkC,gBAAgBgD,cACrDxB,KAAKg+E,sBAAuB,EAC5Bh+E,KAAKyiE,iBAAiB1kE,GACtBiC,KAAKg+E,sBAAuB,KAW5CR,EAAM/8E,UAAUs1F,eAAiB,SAAUh4F,GACvC,GAAIiC,KAAK+b,iBAAmB/b,KAAK+b,eAAoC,oBAAG,CAChE/b,KAAK+b,eAA4B,aACjC/b,KAAK+b,eAA4B,cAErC/b,KAAK+b,eAAqC,sBAC1C,IAAI20C,KACJA,GAAgB,OAAI,WACpBA,EAAyB,gBAAIxyD,aAAYH,OAAW,GACpDiC,KAAK+b,eAAkC,kBAAE/b,KAAK+b,eAAkC,kBAAEpgB,OAAS,GAAK+0D,EAEpG,GAAI3nC,GAAQ/oB,KAAKvB,WACbuF,EAAYhE,KAAKk7B,cAAcn9B,EAAKgrB,EAAMxuB,KAC1CK,EAAYoJ,EAAUxF,eAC1BwB,MAAK8e,UAAW,EAChB9e,KAAKoE,eAAe,kBAAmBxJ,EAAU+F,eAAgB/F,GAAW,GACvEC,oBAAkBmF,KAAKvB,WAAWod,UACnC7b,KAAKoE,eAAe,YAAc2kB,EAAMlN,QAASjhB,EAAU+F,eAAgBqD,GAC3EhE,KAAKoE,eAAe2kB,EAAMlN,QAASjhB,EAAU+F,eAAgBqD,IAEjEhE,KAAKgD,WAAWgzF,wBAAwBhyF,EACxC,IAAIhF,IACAjB,KAAMiG,EAEVhE,MAAKgD,WAAWizF,qBAAqBj3F,IAMzCw+E,EAAM/8E,UAAU+Y,WAAa,WACzB,MAAOxZ,MAAKsU,SAOhBkpE,EAAM/8E,UAAU0Z,WAAa,SAAUpc,GACnC,GAAsB,gBAAlBiC,KAAK+X,SAA4B,CACjC,GAAIxd,GAAKwD,EAAKS,gBAAgBkX,MAC9Bnb,GAAoB,IAAfwD,EAAK6b,MAAc,IAAMrf,EAAK,IAAMA,EACzCyF,KAAKsU,QAAQhW,KAAK/D,KAS1BijF,EAAM/8E,UAAU0+C,gBAAkB,WAE1Bn/C,KAAK2sC,SACL3sC,KAAKk2F,wBASb1Y,EAAM/8E,UAAUyqF,eAAiB,WAEzBlrF,KAAK2sC,SACL3sC,KAAKm2F,iBAGbvsC,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,4BAAyB,IAC7CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACI2B,aAAYK,KACb4xB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,2BAAwB,IAC5CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,gCAA6B,IACjDmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,gCAA6B,IACjDmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,kCAA+B,IACnDmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,kCAA+B,IACnDmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,cACDkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,YAAU,UAAW,MAAO,gBAAiB,eAAgB,cAAe,SAAU,OAAQ,YAAa,SAAU,UAAW,eAAgB,mBAAoB,iBAAkB,qBAAsB,SAAU,SAAU,UAAW,eAC5OkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,cACDkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,6BAA0B,IAC9CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,WAAS,IACVkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIU,WAAS,QACVkzB,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,YAAS,IAC7BmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIU,WAAS,SACVkzB,EAAM/8E,UAAW,aAAU,IAC9BmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,8BAA2B,IAC/CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIU,WAAS,eACVkzB,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACI2B,aAAYN,KACbuyB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,4BAAyB,IAC7CmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,cACDkzB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIU,WAAS,SACVkzB,EAAM/8E,UAAW,YAAS,IAC7BmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,2BAAwB,IAC5CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,mCAAgC,IACpDmpD,IACIU,cACDkzB,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIU,YAAU,SAAU,UAAW,YAAa,WAAY,YACzDkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,4BAAyB,IAC7CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,WAAS,KACVkzB,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,kBAAe,IACnCmpD,IACIU,WAAS,OACVkzB,EAAM/8E,UAAW,8BAA2B,IAC/CmpD,IACIU,WAAS,IACVkzB,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,YAAU,IACXkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,WAAS,SACVkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIU,WAAS,cACVkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIU,WAAS,gBACVkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIiB,eAAc9oD,KAAM,EAAGD,GAAI,KAAQC,KAAM,GAAID,GAAI,KAAOuoD,KACzDmzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIiB,gBAAegB,KAChB2xB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIiB,gBAAeG,KAChBwyB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIiB,gBAAeF,KAChB6yB,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACI2B,aAAYH,KACboyB,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACI2B,aAAYI,KACb6xB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACI2B,aAAYD,KACbkyB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,gBACDkzB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACI2B,aAAYG,KACb8xB,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACI2B,aAAYb,KACb8yB,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACI2B,aAAYC,KACbgyB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACI2B,aAAYL,KACbsyB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,WAAS,KACVkzB,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIU,cACDkzB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,mCAAgC,IACpDmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIU,YAAS,IACVkzB,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIU,WAAS,SACVkzB,EAAM/8E,UAAW,eAAY,IAChCmpD,IACI2B,aAAYX,KACb4yB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACI2B,aAAYR,KACbyyB,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACI2B,aAAYJ,KACbqyB,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,+BAA4B,IAChDmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,yBAAsB,IAC1CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,kBAAe,IACnCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,WAAQ,IAC5BmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,cAAW,IAC/BmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,gBAAa,IACjCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,kBAAe,IACnCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,eAAY,IAChCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,iBAAc,IAClCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,kBAAe,IACnCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,oBAAiB,IACrCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mBAAgB,IACpCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,qBAAkB,IACtCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,kBAAe,IACnCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,sBAAmB,IACvCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,wBAAqB,IACzCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,uBAAoB,IACxCmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,0BAAuB,IAC3CmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,+BAA4B,IAChDmpD,IACIwsC,WACD5Y,EAAM/8E,UAAW,mCAAgC,IACpD+8E,EAAQ5zB,IACJysC,yBACD7Y,IAEL8Y,cC9/IF,SAAWC,GAMPA,EAA0BA,EAAoC,SAAI,GAAK,WAMvEA,EAA0BA,EAAoC,SAAI,GAAK,YACxEA,8BAA8BA,oCCb7BC,IAA0B,WAC1B,QAASA,GAASxrD,GAIdhrC,KAAKuF,YAAa,EAClBvF,KAAKy2F,sBAAuB,EAC5Bz2F,KAAK1F,OAAS0wC,EACdhrC,KAAK02F,yBAipBT,MA1oBAF,GAAS/1F,UAAUi2F,uBAAyB,WACxC12F,KAAK1F,OAAO4H,SAASg9B,aAAaU,aAAe5/B,KAAK1F,OAAO4kC,aAAaU,aAC1E5/B,KAAK1F,OAAO4H,SAASg9B,aAAasJ,iBAAmBxoC,KAAK1F,OAAO4kC,aAAasJ,iBAC9ExoC,KAAK1F,OAAO4H,SAASg9B,aAAa6P,KAAO,OACzC/uC,KAAK1F,OAAO4H,SAASy0F,SAAW32F,KAAK42F,eAAejiF,KAAK3U,MACrDA,KAAK1F,OAAO4kC,aAAaU,cACzBye,WAASw4C,OAAOC,SASxBN,EAAS/1F,UAAUm2F,eAAiB,SAAU53F,GAC1C,GAAIiS,GAAQjR,KACRjC,EAAOiB,EAAK6jC,QACZ1nB,EAAQnc,EAAKypC,UACjBzoC,MAAK4oC,aAAe5oC,KAAK1F,OAAOu6F,iBAAiB15E,EAAOnb,KAAK1F,OAAO4gB,aACpE,IAAII,GAAetb,KAAK1F,OAAOmE,UAC/B,IAAIuB,KAAK1F,OAAOy8F,SAEZ,YADA/3F,EAAK4/B,QAAS,EAGlB,IAAsC,WAAlC5+B,KAAK1F,OAAO4kC,aAAa6P,KAEzB,YADA/vC,EAAK4/B,QAAS,EAGlB,KAAI7gC,EAAK0e,iBAAoBzc,KAAK1F,OAAOqgB,wBAA2BQ,IAAUG,EAAavgB,UACpFF,oBAAkBkD,EAAKud,EAAaO,WAA0C,IAA9B9d,EAAKud,EAAaO,UACxC,SAAzB7b,KAAK1F,OAAOshB,WAAyBT,IAAUG,EAAatgB,UAAYmgB,IAAUG,EAAalC,YACnG+B,IAAUG,EAAaC,UAAYJ,IAAUG,EAAazK,MAAQsK,IAAUG,EAAalL,MAAkB,aAAV+K,EAKhG,CACD,GAAIg7D,GAAoB,GAAIlD,YACxB+jB,EAAoBh3F,KAAK1F,MAsB7B,OArBA0F,MAAKixF,qBAAuBjyF,EAAK6jC,QACjC7iC,KAAK1F,OAAOgc,QAAQ,WAAYtX,EAAM,SAAUglC,GACxCA,EAAIyE,aAAeuuD,EAAkBv4F,WAAW8c,UAAYyoB,EAAInB,QAAQpmB,kBACxEunB,EAAIpF,QAAS,GAEE,IAAf7gC,EAAK6b,OAAyC,iBAA1B3I,EAAM3W,OAAOyd,WACjCisB,EAAIpF,QAAS,GAEjBu3C,EAAkBhD,QAAQnvC,GACrBA,EAAIpF,SACDoF,EAAIyE,aAAex3B,EAAM3W,OAAOmE,WAAW+c,MAC3CvK,EAAMgmF,gBAAgBjzD,IAGtB/yB,EAAM1L,YAAa,EACd2xF,oBAAMjmF,EAAM3W,OAAO4iC,gBACpBjsB,EAAM3W,OAAO4iC,cAAcmlB,0BAKpC8zB,GA5BFh7D,IAAUG,EAAalC,aAAepZ,KAAK1F,OAAOqgB,uBAA0BQ,IAAUG,EAAalC,cACpGpa,EAAK4/B,QAAS,IAoC1B43D,EAAS/1F,UAAUw2F,gBAAkB,SAAUj4F,GAC3C,GAAIsc,GAAetb,KAAK1F,OAAOmE,WAC3BV,EAAOiB,EAAK6jC,QACZ1nB,EAAQnc,EAAKypC,UACjB,IAAKttB,IAAUG,EAAaE,QAAUxb,KAAK1F,OAAOstD,gBAAkB,CAChE5oD,EAAK4/B,QAAS,CACd,IACIn/B,GADcO,KAAK1F,OAAO0I,WAAW2C,aAAawxF,kBAAkB5hF,IAAI,SAAUyE,GAAK,MAAOA,GAAE5J,OAC5EtD,QAAQ,UACjB,IAAXrN,IACAO,KAAK1F,OAAO0I,WAAW2C,aAAauuF,eAAen2F,EAAKS,gBAAgBqb,aAC3Dme,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,QAAQwL,cAAc,GAC7Es5D,aAAe5/D,GAG1B0b,IAAUG,EAAaE,QAAyC,IAAhCxb,KAAK1F,OAAOstD,kBAC5C5nD,KAAKuF,YAAa,IA4B1BixF,EAAS/1F,UAAU2iD,iBAAmB,SAAUpkD,EAAMo4F,GAClD,GAAIt1E,IAAU,CAId,IAHqB,mBAAjB9iB,EAAW,MAA0BA,EAAmB,eAAMA,EAAW,KAAEA,EAAa,OAAEmc,SAC1F2G,GAAU,GAEV9hB,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAA8B,sBAAE,SAC/DwnB,EAAS,CACL9hB,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAI4T,KACJA,GAAe,OAAI,cACnBA,EAAqB,aAAI3wB,EAAa,OAAEmc,MACxCwU,EAAwB,mBACxB3vB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAKg0B,EAGtH,GAAIsT,GAASvjC,WAAS,SAAUV,GAC5BjB,EAAO2B,WAAS,OAAQV,GACxBq4F,IACJA,GAAW1nE,OAAS,cACpB0nE,EAAWt5F,KAAOiC,KAAK1F,OAAO+O,kBAAkBtL,EAAKuL,SACrD,IAAI2+D,GAAgBvoE,WAAS,eAAgBV,GACzCs4F,EAAct3F,KAAK1F,OAAOiP,sBAAwBxL,EAAKklC,EAAO9nB,QAAWtgB,oBAAkBkD,EAAKklC,EAAO9nB,SAC7E,KAAvBpd,EAAKklC,EAAO9nB,QAAmBnb,KAAK1F,OAAOmE,WAAWzD,WAAaioC,EAAO9nB,OAC7Enb,KAAK1F,OAAOmE,WAAW3D,YAAcmoC,EAAO9nB,OAASnb,KAAK1F,OAAOmE,WAAW1D,UAAYkoC,EAAO9nB,MAC7Fpd,EAAKklC,EAAO9nB,OAD2F8sD,CAE7G,IAAKivB,oBAAMn5F,GAiEPiC,KAAK1F,OAAO0I,WAAWu0F,cAAcv4F,OAjEvB,CAId,GAHAjB,EAAKklC,EAAO9nB,OAAS8sD,EACrBovB,EAAWt5F,KAAKklC,EAAO9nB,OAAS8sD,EAChCjoE,KAAK1F,OAAO6pD,oBAAmB,GAC3BnkD,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GAAK27F,IAAgBr0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW3D,WAClGmoC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWI,mBAAoB,CAC5D,GAAIqH,GAAQ+8B,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW3D,UAAYiD,EAAKS,gBAAgB1D,UACjFiD,EAAKS,gBAAgBK,iBAEzB,IADcmB,KAAK1F,OAAqB,aAAE4L,GAC5B,OAASA,EAAM3J,WAAY,CACrC,GAAI4E,GAAenB,KAAK1F,OAAqB,aAAEg9F,EAC/Ct3F,MAAK1F,OAAO+J,cAAc5C,QAAQN,EAAcm2F,GAChDt3F,KAAK1F,OAAO8J,eAAe6+B,EAAO9nB,MAAOm8E,EAAaD,EAAWt5F,UAGjEiC,MAAK1F,OAAO8J,eAAe6+B,EAAO9nB,MAAOm8E,EAAaD,EAAWt5F,UAIrEiC,MAAK1F,OAAO8J,eAAe6+B,EAAO9nB,MAAOm8E,EAAaD,EAAWt5F,KAEjEklC,GAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW4Z,KACxCrY,KAAKw3F,eAAeH,GAEfp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW3D,UAC7CkF,KAAKy3F,gBAAgBJ,GAEhBp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW1D,QAC7CiF,KAAK03F,cAAcL,EAAYr4F,EAAmB,cAE7CikC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWzD,SAC7CgF,KAAK23F,eAAeN,GAEfp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWga,aAC7CzY,KAAK43F,eAAeP,EAAYD,EAAWr5F,GAEtCklC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,SAC7Cvb,KAAK63F,eAAeR,GAEfp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWI,mBAC1CokC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWG,gBAC3CoB,KAAK83F,eAAeT,GAEfp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW2a,WAC7CpZ,KAAK+3F,iBAAiBV,EAAYpvB,GAE7BhlC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW+c,MAC7Cxb,KAAKg4F,YAAYX,GAEZp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWoS,KAC7C7Q,KAAKi4F,WAAWZ,GAEVp0D,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW2R,MAAyB,aAAjB6yB,EAAO9nB,OAC5D+7E,oBAAMl3F,KAAK1F,OAAOmE,WAAWoS,MAGzBoyB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWod,OAC7C7b,KAAKk4F,eAAeb,IAGpBr3F,KAAK1F,OAAO8J,eAAe,YAAc6+B,EAAO9nB,MAAOk8E,EAAWt5F,KAAKklC,EAAO9nB,OAAQk8E,EAAWt5F,MACjGiC,KAAK1F,OAAO0I,WAAWm1F,mBAAmBd,IAP1Cr3F,KAAKo4F,WAAWf,EAAYD,GAapCp3F,KAAKuF,YAAa,EACb1K,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,eAAesjC,gBACzD5oC,KAAK1F,OAAO0I,WAAWsC,eAAesjC,aAAe,MAEpDsuD,oBAAMl3F,KAAK1F,OAAO4iC,gBACnBl9B,KAAK1F,OAAO4iC,cAAcmlB,uBASlCm0C,EAAS/1F,UAAU+2F,eAAiB,SAAUx4F,GAC1CgB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW4Z,KAAMrZ,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW4Z,MAAOrZ,EAAKjB,MACnHiC,KAAK1F,OAAO8J,eAAe,WAAYpF,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW4Z,MAAOrZ,EAAKjB,KAAKS,iBAAiB,GAC1GwB,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUu3F,YAAc,SAAUh5F,GACvCgB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW+c,MAAOxc,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW+c,OAAQxc,EAAKjB,MACrHiC,KAAK1F,OAAO8J,eAAe,QAASpF,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW+c,OAAQxc,EAAKjB,KAAKS,iBAAiB,GACxGwB,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUy3F,eAAiB,SAAUl5F,GAC1CgB,KAAK1F,OAAO8J,eAAe,kBAAmBpF,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWod,QAAS7c,EAAKjB,KAAKS,iBAAiB,GACnHwB,KAAK1F,OAAO0I,WAAWgzF,wBAAwBh3F,EAAKjB,MACpDiC,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUg3F,gBAAkB,SAAUz4F,GAC3C,GAAIgF,GAAYhF,EAAKjB,KACjBu6F,EAAYt5F,EAAKjB,KAAKS,gBACtBomE,EAAe5lE,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW3D,UACpD8pE,GAAeA,EAAe,GAAI9nE,MAAK8nE,EAAa1jE,WAAa,KACjE0jE,EAAe5kE,KAAK1F,OAAOoE,qBAAqBoC,eAAe8jE,EAAc5gE,EAAUxF,gBAAiBwF,EAAUxF,gBAAgBgD,aAC9H01F,oBAAMtyB,GACD5gE,EAAUyY,kBACXzc,KAAK1F,OAAO8J,eAAe,YAAa,KAAMk0F,GAAW,GAC3B,OAAxBA,EAAUx9F,WAA4C,OAAtBw9F,EAAUv9F,SAA2C,OAAvBu9F,EAAUt9F,UAC1EgF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMk0F,GAAW,GAE5Dt4F,KAAK1F,OAAO8J,eAAe,eAAe,EAAOk0F,GAAW,IAM3DA,EAAUv9F,UAAYm8F,oBAAMoB,EAAUt9F,WAC3CgF,KAAK1F,OAAO8J,eAAe,YAAa,GAAItH,MAAK8nE,EAAa1jE,WAAYo3F,GAAW,GACrFt4F,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBP,IAE7CkzF,oBAAMoB,EAAUv9F,UAAYm8F,oBAAMoB,EAAUt9F,WACjDgF,KAAK1F,OAAO8J,eAAe,YAAa,GAAItH,MAAK8nE,EAAa1jE,WAAYo3F,GAAW,GAEzFt4F,KAAK1F,OAAO8J,eAAe,cAAsC,IAAvBk0F,EAAUt9F,SAA+Bs9F,GAAW,GAC9Ft4F,KAAK1F,OAAO+J,cAAcwW,gBAAgB7b,EAAKjB,MAC/CiC,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,aACvDhE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,WACvDhE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YACvDhE,KAAKq4F,mBAAmBr5F,IAE5Bw3F,EAAS/1F,UAAU83F,4BAA8B,SAAU39F,GAGvD,IAAK,GAFD2iB,MACA5Y,EAAW/J,EAAU+J,SAChB7G,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAAK,CACtC,GAAI4f,GAAU/Y,EAAS3G,SAASF,EAAEG,WAAY,KAC1ClD,EAAU2iB,EAAQ3iB,OACtBA,IAAYF,oBAAkBD,EAAUG,UAAaA,EAAQmG,UACzDtG,EAAUG,QAAQmG,WAAapD,IAAM6G,EAAShJ,OAAS,EAAIZ,EAAUH,EAAUG,QACnF2iB,EAAQ1iB,SAAWgF,KAAK1F,OAAO+J,cAAca,YAAYwY,EAAQ5iB,UAAWC,EAASH,EAAUuJ,aAAcvJ,EAAU+F,eAAgB/F,EAAU4G,aAC7ImD,EAAShJ,OAAS,GAAKZ,EAAQmG,UAAYwc,EAAQ5iB,UAAUoG,WAC1DnG,EAAQmG,WAAatG,EAAUG,QAAQmG,UAC1CyD,EAAS7G,EAAI,GAAG9C,SAAWgF,KAAK1F,OAAO+J,cAAca,YAAYP,EAAS7G,EAAI,GAAGhD,UAAWF,EAAUG,QAASH,EAAUuJ,aAAcvJ,EAAU+F,eAAgB/F,EAAU4G,aAG/K+b,EAAcjf,KAAKof,GAEvB,MAAOH,IASXi5E,EAAS/1F,UAAUi3F,cAAgB,SAAU14F,EAAMipE,GAC/C,GAAIqwB,GAAYt5F,EAAKjB,KAAKS,gBACtBomE,EAAe5lE,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAW1D,QAEpD,IADA6pE,EAAeA,EAAe,GAAI9nE,MAAK8nE,EAAa1jE,WAAa,KAC7Dg2F,oBAAMtyB,GACN5kE,KAAK1F,OAAO8J,eAAe,UAAWwgE,EAAc0zB,GAAW,GACjC,OAAxBA,EAAUx9F,WAA4C,OAAtBw9F,EAAUv9F,SAA2C,OAAvBu9F,EAAUt9F,UAC1EgF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMk0F,GAAW,GAE5Dt4F,KAAK1F,OAAO8J,eAAe,eAAe,EAAOk0F,GAAW,OAE3D,CACD,GAAIl3F,GAAapB,KAAK1F,OAA6B,qBAAEsqE,IACpB,IAA5BA,EAAaroE,YAAqB0rE,GACnCrD,EAAa4zB,eAAenqF,MAAM,EAAG,KAAO45D,EAAcuwB,eAAenqF,MAAM,EAAG,KAAuB,QAAfjN,GAC1FpB,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAYwjE,GAEzDA,EAAe5kE,KAAK1F,OAAOoE,qBAAqBqE,aAAa6hE,EAAc0zB,EAAWA,EAAU92F,aAChGxB,KAAK1F,OAAO8J,eAAe,UAAWwgE,EAAc0zB,GAAW,IAC1DpB,oBAAMoB,EAAUx9F,YAAco8F,oBAAMoB,EAAUt9F,WACgD,IAA3FgF,KAAK1F,OAAOoE,qBAAqB+F,aAAa6zF,EAAUv9F,QAASu9F,EAAUx9F,aAC3EkF,KAAK1F,OAAO8J,eAAe,UAAW,GAAItH,MAAKw7F,EAAUx9F,UAAUoG,WAAYo3F,GAAW,GAC1Fl3F,EAAapB,KAAK1F,OAA6B,qBAAEg+F,EAAUv9F,SAC3DiF,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAYk3F,EAAUv9F,WAG7Dm8F,oBAAMoB,EAAUt9F,WAAak8F,oBAAMoB,EAAUx9F,YACnDkF,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBwF,aAAao0F,EAAUv9F,QAASu9F,EAAUt9F,SAAUs9F,EAAUn0F,aAAcm0F,GAAYA,GAAW,GAE3Kz9F,oBAAkBy9F,EAAU3zF,YAC7B2zF,EAAU3zF,SAAW3E,KAAKu4F,4BAA4BD,IAEtDt4F,KAAKy4F,uBAAuBH,IAAc,EAC1Ct4F,KAAK1F,OAAOoE,qBAAqBgG,kBAAkB1F,EAAKjB,MAGxDiC,KAAK1F,OAAO0I,WAAW01F,eAAe15F,GAE1CgB,KAAK3B,YAAYW,GACjBgB,KAAK1F,OAAO8J,eAAe,cAAuC,IAAvBk0F,EAAUt9F,SAAgCs9F,GAAW,GAC5FA,EAAU92F,aACVxB,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBoC,eAAew3F,EAAUx9F,UAAWw9F,GAAYA,GAAW,IAGvIz9F,oBAAkBmE,EAAKjB,KAAKS,gBAAgBmG,WAAa3F,EAAKjB,KAAKS,gBAAgBmG,SAAShJ,OAAS,IACtGqE,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK1F,OAAO+J,cAAc+Y,gBAAgBpe,EAAKjB,MAAM,GAAQiB,EAAKjB,KAAKS,iBAAiB,GAC/HwB,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,aAE3DiC,KAAK1F,OAAO+J,cAAcwW,gBAAgB7b,EAAKjB,MAC/CiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,aACvDiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,WACvDiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,YACvDiC,KAAK1F,OAAO0I,WAAW21F,4BAA4B35F,EAAKjB,KAAM,WAC9DiC,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUk3F,eAAiB,SAAU34F,GAE1C,GADY,aACFojB,KAAKpjB,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWzD,WAAY,CACxD,GAAImqF,GAAM,8BAAgCnlF,KAAK1F,OAAOmE,WAAWzD,SAAW,wCAA0CgF,KAAK1F,OAAOmE,WAAWzD,SAAW,4CACxJgF,MAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO61E,IAE9CnnF,SAASgB,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWzD,UAAW,IAAM,IAC3DgE,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWzD,UAAY,EAEjD,IAAIs9F,GAAYt5F,EAAKjB,KAAKS,gBACtBo6F,EAAiB55F,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWzD,SACtDgF,MAAK1F,OAAO+J,cAAcwb,oBAAoB+4E,EAAgBN,GAC9Dt4F,KAAK3B,YAAYW,GACjBgB,KAAK1F,OAAO0I,WAAW21F,4BAA4B35F,EAAKjB,KAAM,YAC9DiC,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUpC,YAAc,SAAUW,GACvC,GAAIs5F,GAAYt5F,EAAKjB,KAAKS,gBACtBzD,EAAUiF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB01F,EAAUv9F,SACvED,EAAYkF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB01F,EAAUx9F,WACzE+9F,EAAkBP,EAAUt9F,QAC5Bk8F,qBAAM2B,IACN74F,KAAK1F,OAAO8J,eAAe,eAAe,EAAOk0F,GAAW,GACT,OAA/Ct5F,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWzD,WACjCgF,KAAK1F,OAAO8J,eAAe,UAAW,KAAMk0F,GAAW,KAIvDpB,oBAAMp8F,KAAeo8F,oBAAMn8F,IAC3BiF,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBwF,aAAanJ,EAAS89F,EAAiBP,EAAUn0F,aAAcm0F,GAAYA,GAAW,GAE3I,IAApBO,GAAyBP,EAAU92F,cACnCxB,KAAK1F,OAAO8J,eAAe,eAAe,EAAOk0F,GAAW,GACvDz9F,oBAAkBmF,KAAK1F,OAAOmE,WAAWwG,YAC1CjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAOjG,EAAKjB,MAAM,GAEnFiC,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBoC,eAAew3F,EAAUx9F,UAAWw9F,GAAYA,GAAW,KAEnIz9F,oBAAkBy9F,EAAU3zF,WAAa2zF,EAAU3zF,SAAShJ,OAAS,IACtEqE,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK1F,OAAO+J,cAAc+Y,gBAAgBpe,EAAKjB,MAAM,GAAQu6F,GAAW,GAC/Gt4F,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,aAE3DiC,KAAK1F,OAAO8J,eAAe,cAAuC,IAAvBk0F,EAAUt9F,SAAgCs9F,GAAW,GAChGt4F,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBvF,EAAKjB,OAE3DiC,KAAK1F,OAAO+J,cAAcwW,gBAAgB7b,EAAKjB,MAC/CiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,WACvDiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,aACvDiC,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,aAQ3Dy4F,EAAS/1F,UAAUo3F,eAAiB,SAAU74F,GAC1C,GAAIgc,GAAchc,EAAKjB,IAUvB,IATAiC,KAAK1F,OAAO8J,eAAe,WAAa4W,EAAYhb,KAAK1F,OAAOmE,WAAW8c,UAAY,IAAM,IAAMP,EAAYhb,KAAK1F,OAAOmE,WAAW8c,UAAYP,EAAYxc,iBAAiB,GAC/KwB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW8c,SAAWP,EAAYhb,KAAK1F,OAAOmE,WAAW8c,UAAY,IAAM,IAAMP,EAAYhb,KAAK1F,OAAOmE,WAAW8c,UAAYvc,EAAKjB,MACrLid,EAAYxc,gBAAgBmC,gBAC7BX,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAO+J,cAAcuY,eAAe5B,GAAa,GAAQA,EAAYxc,iBAAiB,IAElI3D,oBAAkBmE,EAAKjB,KAAKS,gBAAgBmG,WAAa3F,EAAKjB,KAAKS,gBAAgBmG,SAAShJ,OAAS,IACrGd,oBAAkBmF,KAAK1F,OAAO0I,WAAWC,oBAC1CjD,KAAK1F,OAAO0I,WAAWC,kBAAkB61F,sBAAsB95F,EAAKjB,KAAKS,kBAExEQ,EAAKjB,KAAK0e,gBAAiB,CAC5B,GAAIM,GAAQ/B,EAAYxc,gBAAgBmC,eAAiBqa,EAAYxc,gBAAgBue,MACjF/B,EAAYxc,gBAAgB0uB,SAChCltB,MAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAiBC,EAAO/B,EAAYxc,gBAAgB+c,UAAWP,EAAYxc,iBAAiB,GAEtKwB,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUq3F,eAAiB,SAAU94F,GAC1C,GAAIgc,GAAchc,EAAKjB,KAAKS,gBACxBu6F,EAAoB/5F,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWI,mBACrDm6F,EAAkBh6F,EAAKjB,KAAKiC,KAAK1F,OAAOmE,WAAWG,iBACnDwC,EAAapB,KAAK1F,OAA6B,qBAAE0+F,EACjDA,IAAkD,IAA/BA,EAAgBz8F,YAAmC,QAAf6E,GACvDpB,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAY43F,GAEzDh5F,KAAK1F,OAAO8J,eAAe,oBAAqBpE,KAAK1F,OAAOoE,qBAAqBiF,uBAAuBo1F,EAAmB/9E,GAAcA,GAAa,GACtJhb,KAAK1F,OAAO8J,eAAe,kBAAmBpE,KAAK1F,OAAOoE,qBAAqBmF,qBAAqBm1F,GAAkBh+E,GAAa,GAC/HA,EAAYnc,mBAAqBmc,EAAYpc,kBAC7CoB,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAK1F,OAAO+J,cAAc2Y,sBAAsBhC,GAAcA,GAAa,GACtHhb,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAc4Y,uBAAuBjC,GAAcA,GAAa,IAE5Hhb,KAAKq4F,mBAAmBr5F,IAU5Bw3F,EAAS/1F,UAAUm3F,eAAiB,SAAU54F,EAAMo4F,EAAWjuB,GAC3D,GAAItjD,GAAmB7lB,KAAK1F,OAAO8d,eAC/B6gF,EAAmB7B,EAAUp3F,KAAK1F,OAAOmE,WAAWga,aACxD,IAAIwgF,EAAkB,CAClBj5F,KAAKy2F,sBAAuB,CAiC5B,KAAK,GA/BDyC,GADmBl5F,KAAK1F,OAAO+J,cAAc4X,gBAAgBm7E,GACtBz7F,OACvCw9F,EAAmBhwB,EAAa3qE,gBAAgBia,aAChDhZ,MAAQ,GACR25F,KACA5gF,EAAexY,KAAK1F,OAAO0d,UAC3BqhF,MAAW,GA0BN32F,EAAQ,EAAGA,EAAQw2F,EAAqBx2F,KAzBnC,SAAUA,GACpB,GAAIy2F,EAAkB,CAClB,GAAIG,GAAyBH,EAAiBx9F,MAC9C,KAAK09F,EAAW,EAAGA,EAAWC,EAAwBD,IAAY,CAC9D,GAAIF,EAAiBE,GAAUxzE,EAAiBtrB,MAAQ0+F,EAAiBv2F,GAAQ,CAC7EjD,EAAQ45F,CACR,OAGA55F,GAAS,GAIrB,GAAKy3F,oBAAMz3F,KAAqB,IAAXA,EAGhB,CACD,GAAImZ,GAAWJ,EAAamB,OAAO,SAAUlB,GACzC,MAAQwgF,GAAiBv2F,KAAW+V,EAAaoN,EAAiBtrB,MAElEotB,EAAoBzpB,YAAW0a,EAAS,GAC5C+O,GAAkB9B,EAAiBjZ,MAAQ,IAC3CwsF,EAAgB96F,KAAKqpB,OARrByxE,GAAgB96F,KAAK66F,EAAiBn7F,SAASyB,EAAMxB,WAAY,OAY7DyE,EAEZ1D,GAAKjB,KAAKS,gBAAgBia,aAAe2gF,EACzCp5F,KAAK1F,OAAO+J,cAAcC,kBAAkBtF,EAAKjB,KAAM,gBACvDiC,KAAK1F,OAAO0I,WAAW21F,4BAA4B35F,EAAKjB,KAAM,YACjC,iBAAzBiC,KAAK1F,OAAOyd,WACZ/X,KAAK1F,OAAO0I,WAAW2C,aAAa4zF,kBAAmB,EACvDv5F,KAAK1F,OAAO0I,WAAW2C,aAAawzF,iBAAmBA,GAE3Dn5F,KAAK3B,YAAYW,GACjBgB,KAAKq4F,mBAAmBr5F,KAUhCw3F,EAAS/1F,UAAUs3F,iBAAmB,SAAUV,EAAYmC,GAExD,GAD8B,+BACFp3E,KAAKi1E,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAW2a,aAAc,CAClF,GAAI+rE,GAAM,8BAAgCnlF,KAAK1F,OAAOmE,WAAW2a,WAAa,6CAA+CpZ,KAAK1F,OAAOmE,WAAW2a,WAAa,iDACjKpZ,MAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO61E,IAElDnlF,KAAK1F,OAAO+e,kBAAkBgpD,4BAA4Bg1B,EAAWt5F,KACrE,IAAIuqD,GAAKtoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC43C,EAAKvoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC63C,EAAKxoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvC83C,EAAKzoD,KAAK1F,OAAOoW,UAAUC,YAAY,MACvCtR,EAAQ,EACZ,KAAKxE,oBAAkBw8F,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAW2a,aAAc,CACxE,GAAIgvC,GAAgBivC,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAW2a,YAAYzQ,MAAM,IAC7Ey/C,GAAc7yC,IAAI,SAAU8yC,EAAY5oD,GAChC4oD,EAAW3gC,SAAS4gC,IACpBjpD,GAASgpD,EAAWlpD,QAAQmpD,EAAI,MAChCjpD,GAAU+oD,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEjD4oD,EAAW3gC,SAAS6gC,IACzBlpD,GAASgpD,EAAWlpD,QAAQopD,EAAI,MAChClpD,GAAU+oD,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEjD4oD,EAAW3gC,SAAS8gC,IACzBnpD,GAASgpD,EAAWlpD,QAAQqpD,EAAI,MAChCnpD,GAAU+oD,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,IAEjD4oD,EAAW3gC,SAAS+gC,IACzBppD,GAASgpD,EAAWlpD,QAAQspD,EAAI,MAChCppD,GAAU+oD,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,KAGtDJ,GAASgpD,EACThpD,GAAU+oD,EAAczsD,SAAW8D,EAAQ,EAAK,IAAM,MAI7DO,KAAK1F,OAAO8nC,wBAAwB6xD,kBAAkBoD,EAAWt5F,KAAMsB,EAAOg4F,IAC/Er3F,KAAK1F,OAAO0I,WAAW01F,eAAec,IAS9ChD,EAAS/1F,UAAUw3F,WAAa,SAAUZ,GACtC,GAAIiB,GAAYjB,EAAWt5F,KAAKS,iBAC5B64F,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAWoS,MAAQ,GAAKhW,oBAAkBw8F,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAWoS,UAC7GwmF,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAWoS,MAAQ,GAEnD7Q,KAAK1F,OAAuB,gBAAI,CAChC,IAAIm/F,GAAYpC,EAAWt5F,KAAKiC,KAAK1F,OAAOmE,WAAWoS,KACvD7Q,MAAK1F,OAAO8J,eAAe,OAAQq1F,EAAWnB,GAAW,GACzDt4F,KAAK1F,OAAO0I,WAAW21F,4BAA4BtB,EAAWt5F,KAAM,QACpEiC,KAAK3B,YAAYg5F,GACjBr3F,KAAKq4F,mBAAmBhB,GACxBr3F,KAAK1F,OAAuB,gBAAI,GASpCk8F,EAAS/1F,UAAU23F,WAAa,SAAUp5F,EAAMo4F,GAC5C,GAAIx7F,GAAMoE,KAAK1F,OAAOmE,WAAW2R,MAAQ,WACrCkoF,EAAYt5F,EAAKjB,KAAKS,gBACtBwgB,EAAWo4E,EAAU,GAAKx7F,EAC9BoE,MAAK1F,OAAO8J,eAAe,WAAY4a,EAAUs5E,GAAW,GAEjC,kBAAvBA,EAAUt5E,UAAuD,IAAvBs5E,EAAUt9F,UACpDgF,KAAK1F,OAAO0I,WAAW21F,4BAA4B35F,EAAKjB,KAAM,QAGlEiC,KAAKq4F,mBAAmBr5F,IAQ5Bw3F,EAAS/1F,UAAUg4F,uBAAyB,SAAUz9E,GAClD,GAAI9U,GAAQlG,KAAK1F,OAAOoE,qBAAqBuK,kBAAkB+R,GAC3D7U,EAAQnG,KAAK1F,OAAOoE,qBAAqBiL,gBAAgBqR,EAC7D,OAAOhb,MAAK1F,OAAOoE,qBAAqB+F,aAAayB,EAAOC,IAQhEqwF,EAAS/1F,UAAU43F,mBAAqB,SAAUr5F,GAC9CgB,KAAK1F,OAAO0I,WAAWizF,qBAAqBj3F,IAQhDw3F,EAAS/1F,UAAU02B,QAAU,WAEzBn3B,KAAK1F,OAAO0I,WAAWsC,mBAAiBqC,IAErC6uF,KCzpBPkD,GAA6B,WAC7B,QAASA,GAAYz4B,EAAO04B,GACxB35F,KAAK1F,OAAS2mE,EACdjhE,KAAK25F,YAAcA,EAmRvB,MAxQAD,GAAYj5F,UAAU4zE,cAAgB,SAAUulB,EAASC,EAAYv6D,GACjE,GAAIruB,GAAQjR,IACZA,MAAKs0E,WAAa,GAAIF,YAClBwlB,QAASA,EACTrnD,SAAU,WACVtf,UAAWjzB,KAAK1F,OAAO24B,UACvB4mE,WAAYA,EACZv9E,SlC4Gc,kBkC3Gdw9E,iBAAiB,EACjBx6D,OAAQA,GAAkB,KAC1Bm1C,WAAaC,MAAQC,OAAQ,QAAUnvB,OAASmvB,OAAQ,WAE5D30E,KAAKs0E,WAAWh1C,OAAS,kDACzBt/B,KAAKs0E,WAAWU,aAAe,SAAUh2E,GACrC,GAAIq2E,IACAt3E,KAAMkT,EAAM0oF,YAAYz2F,kBACxBlE,KAAMA,EACN0xB,QAASzf,EAAMqjE,WAAW5jD,QAE9Bzf,GAAM3W,OAAOgc,QAAQ,sBAAuB++D,IAEhDr1E,KAAKs0E,WAAWO,UAAY,SAAU71E,GAClCiS,EAAM6jE,sBAAsB91E,IAEhCgB,KAAKs0E,WAAWc,kBAAmB,EACnCp1E,KAAKs0E,WAAW30B,SAAS3/C,KAAK1F,OAAO++B,YAQzCqgE,EAAYj5F,UAAUq0E,sBAAwB,SAAU91E,GACpDA,EAAK8G,QAAQ6tB,MAAM+sB,WAAa,SAChC,IAAI61B,GAAsBv2E,KAAK1F,OAAOwL,QAAQy5B,QAAQ,kBACtD,IAAI1kC,oBAAkB07E,GAAsB,CACxC,GACIK,GADoB52E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAO++B,WAC9Bvb,KAAO9d,KAAK1F,OAAO++B,UAAUnH,YACzD2kD,EAAmB73E,EAAK8G,QAAQi0F,UAMpC,IALInjB,EAAWC,EAAmB73E,EAAK8G,QAAQosB,cAC3C2kD,GAAoBD,GAAWC,EAAmB73E,EAAK8G,QAAQosB,cAEnElzB,EAAK8G,QAAQ6tB,MAAM7V,KAAO+4D,EAAmB,KAC7C73E,EAAK8G,QAAQ6tB,MAAM+sB,WAAa,UAC5B1hD,EAAKsgC,QAAUt/B,KAAK1F,OAAOm7E,gBAAgBukB,QAAS,CACpD,GAAIxd,GAAQx9E,EAAKsgC,OAAO0mD,wBAAwBh1D,IAAM0E,OAAOukE,QACzDnjB,MAAmB,EAGnBA,GAFA93E,EAAKsgC,OAAO9kC,UAAUC,SAAS,0BAC/BuE,EAAKsgC,OAAO9kC,UAAUC,SAAS,0BACZ+hF,EAASx9E,EAAK8G,qBAAwB,GAGtC02E,EAASx9E,EAAK8G,qBAAwB,EAE7D9F,KAAKk6F,cAAgBl7F,EAAK8G,QAAQ6tB,MAAM3C,IAAM8lD,EAAmB,QAY7E4iB,EAAYj5F,UAAU05F,2BAA6B,SAAUC,EAAMr8E,GAC3Dq8E,GAAQp6F,KAAK1F,OAAOm7E,gBAAgB/6B,aACpC16C,KAAKq0E,cAAc,UAAU,GAC7Br0E,KAAK1F,OAAO6oC,cAAcmxC,WAAW9uB,QACrCxlD,KAAKq6F,cAAct8E,GACf/d,KAAK1F,OAAOm7E,gBAAgBukB,UAC5Bh6F,KAAKs0E,WAAWE,UAAY,KAEe,2BAA3Cx0E,KAAK25F,YAAYW,sBACjBt6F,KAAKs0E,WAAWI,KAAK10E,KAAK25F,YAAYY,uBAAuB10F,cAAc,IAAMgzD,IAEjC,4BAA3C74D,KAAK25F,YAAYW,sBACtBt6F,KAAKs0E,WAAWI,KAAK10E,KAAK25F,YAAYY,uBAAuB10F,cAAc,4BAG3E7F,KAAKs0E,WAAWI,KAAK10E,KAAK25F,YAAYa,qBAGpC3/F,oBAAkBmF,KAAKs0E,cAC7Bt0E,KAAKs0E,WAAWn9C,UAChBn3B,KAAKs0E,WAAa,OAU1BolB,EAAYj5F,UAAU45F,cAAgB,SAAUt8E,GAC5C,GAAInjB,GAAYoF,KAAK25F,YAAYz2F,kBAAkB1E,gBAC/Ci8F,EAAa5/F,oBAAkBkjB,KAAmC,IAAlBA,EAAuBnjB,EAAUmiB,MACjFniB,EAAU+J,SAASoZ,GAAchB,MACjCgQ,EAAiBlyB,oBAAkBkjB,KAAmC,IAAlBA,EAAuBnjB,EAAUmyB,cACrFnyB,EAAU+J,SAASoZ,GAAcgP,cACjCjP,EAAQjjB,oBAAkBkjB,KAAmC,IAAlBA,EAAuBnjB,EAAUkjB,KAAOljB,EAAUkjB,KAC7FljB,EAAU+J,SAASoZ,GAAcD,IACrC,KAAKjjB,oBAAkBmF,KAAKs0E,YACxB,GAA2C,2BAAvCt0E,KAAK25F,YAAYj9C,mBACsB,4BAAvC18C,KAAK25F,YAAYj9C,kBACjB18C,KAAKs0E,WAAW5jD,QAAU1wB,KAAK06F,eAAe38E,GAC1C/d,KAAK1F,OAAOm7E,gBAAgBukB,UAC5Bh6F,KAAKs0E,WAAWE,UAAY,KAEhCx0E,KAAKs0E,WAAWqmB,SAAW,MAE1B,CAKD,GAJI36F,KAAK1F,OAAOm7E,gBAAgBukB,UAC5Bh6F,KAAKs0E,WAAWE,UAAY,KAEhCx0E,KAAKs0E,WAAW5jD,QAAU1wB,KAAK06F,eAAe38E,GAC1CnjB,EAAU+J,UAAY/J,EAAU+J,SAAShJ,OAAS,GAAKqE,KAAK25F,YAAyB,aAA4C,qBAAvC35F,KAAK25F,YAAYj9C,kBAA0C,CACrJ,GAAI/3C,GAAW3E,KAAK25F,YAAyB,YAAEt7D,iBAAiB,uBAChEr+B,MAAKs0E,WAAWkW,QAAQ7lF,EAASoZ,QAGjC/d,MAAKs0E,WAAWkW,QAAQxqF,KAAK25F,YAAYa,mBAEF,kBAAvCx6F,KAAK25F,YAAYj9C,kBACb18C,KAAK1F,OAAO24B,UACZjzB,KAAKs0E,WAAWsmB,QAAU,EAG1B56F,KAAKs0E,WAAWsmB,SAAWH,EAGa,kBAAvCz6F,KAAK25F,YAAYj9C,mBACiB,mBAAvC18C,KAAK25F,YAAYj9C,kBACb18C,KAAK1F,OAAO24B,UACZjzB,KAAKs0E,WAAWsmB,SAAWH,EAG3Bz6F,KAAKs0E,WAAWsmB,QAAU,EAGc,qBAAvC56F,KAAK25F,YAAYj9C,kBAClB18C,KAAK1F,OAAO24B,UACZjzB,KAAKs0E,WAAWsmB,WAGhB56F,KAAKs0E,WAAWsmB,UAAYH,EAAY1tE,GAGA,kBAAvC/sB,KAAK25F,YAAYj9C,kBACtB18C,KAAKs0E,WAAWsmB,SAAY56F,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkB,EAErE0uC,EAAY,IACjBz6F,KAAKs0E,WAAWsmB,UAAYH,EAAY38E,EAAO9d,KAAK25F,YAAY9iB,mBAEhE72E,KAAK1F,OAAOm7E,gBAAgBukB,SAAWhiE,SAAS5E,uBAAuB,mBAAmB,IAAMpzB,KAAKk6F,gBACrGliE,SAAS5E,uBAAuB,mBAAmB,GAAGO,MAAM3C,IAAMhxB,KAAKk6F,iBAYvFR,EAAYj5F,UAAUi6F,eAAiB,SAAU38E,GAC7C,GAAI88E,GAAgB,GAChBC,EAAW96F,KAAK1F,OAAO0V,UACvB+qF,EAAa/6F,KAAK25F,YAAYz2F,kBAAkB1E,eAKpD,KAJK3D,oBAAkBkgG,EAAWp2F,WAAao2F,EAAWp2F,SAAShJ,OAAS,IAAuB,IAAlBoiB,GACnC,qBAAvC/d,KAAK25F,YAAYj9C,oBACpBq+C,EAAaA,EAAWp2F,SAASoZ,IAEjC/d,KAAK1F,OAAOm7E,gBAAgBukB,QAAS,CACrC,GAAIgB,GAAeh7F,KAAK1F,OAAO6oC,cAAcsW,iBAAiBz5C,KAAK1F,OAAOm7E,gBAAgBukB,QAASh6F,KAAK1F,OAAQ0F,KAAK25F,YAAYz2F,kBAAmB,yBAChJxD,YAAS,aAAcM,KAAKs0E,aAC5Bt0E,KAAK1F,OAAO6kD,kBAEhB07C,EAAgBG,EAAa,OAE5B,CACD,GAAIlgG,OAAY,GACZC,MAAU,GACVC,MAAW,EAgBf,QAfKH,oBAAkBkgG,IAAgBlgG,oBAAkBkgG,EAAWjgG,aAChEA,EAAY,2CAA6CkF,KAAK1F,OAAOoW,UAAUC,YAAY,aACvF,kBAAoBinE,EAAsB,8CAC1CkjB,EAASrnD,WAAWsnD,EAAWjgG,WAAaoV,OAAQlQ,KAAK1F,OAAO6V,kBAAqB,cAExFtV,oBAAkBkgG,IAAgBlgG,oBAAkBkgG,EAAWhgG,WAChEA,EAAU,2CAA6CiF,KAAK1F,OAAOoW,UAAUC,YAAY,WACrF,kBAAoBinE,EAAsB,8CAC1CkjB,EAASrnD,WAAWsnD,EAAWhgG,SAAWmV,OAAQlQ,KAAK1F,OAAO6V,kBAAqB,cAEtFtV,oBAAkBkgG,IAAgBlgG,oBAAkBkgG,EAAW//F,YAChEA,EAAW,2CAA6CgF,KAAK1F,OAAOoW,UAAUC,YAAY,YACtF,kBAAoBinE,EAAsB,8CAC1C53E,KAAK1F,OAAOiW,kBAAkBwqF,EAAW//F,SAAU+/F,EAAW52F,cAAgB,cAE9EnE,KAAK25F,YAAYj9C,mBACrB,IAAK,mBAEG,GAAInhC,GAAW,2CAA6Cvb,KAAK1F,OAAOoW,UAAUC,YAAY,YAC1F,kBAAoBinE,EAAsB,8CAAgDmjB,EAAWx/E,SAAW,YACpHs/E,GAAgB,gDACZt/E,EAAW,kBACf,MAER,KAAK,eAEGs/E,EAAgB,gDACZ//F,EAAYE,EAAW,kBAC3B,MAER,KAAK,gBACL,IAAK,iBAEG6/F,EAAgB,gDACZ9/F,EAAUC,EAAW,kBACzB,MAER,KAAK,YACL,IAAK,aACL,IAAK,gBACL,IAAK,mBAEG,GAAIkL,GAAQ,GACRC,EAAQ,EACPtL,qBAAkBmF,KAAK25F,YAAYz2F,kBAAkB1E,gBAAgB1D,aACtEoL,EAAQpL,GAEPD,oBAAkBmF,KAAK25F,YAAYz2F,kBAAkB1E,gBAAgBzD,WACtEoL,EAAQpL,GAEZ8/F,EAAgB,gDAAkD30F,EAAQC,EAAQ,kBAClF,MAER,KAAK,yBACL,IAAK,0BAEG00F,EAAgB76F,KAAK1F,OAAOm5B,oBAAoB68C,aAC5Cz1E,oBAAkBmF,KAAKs0E,cACvBt0E,KAAK1F,OAAOm5B,oBAAoB68C,aAAaj9C,UAAY,GACzDrzB,KAAK1F,OAAOm5B,oBAAoB68C,aAAa54C,YAAY13B,KAAK1F,OAAOm5B,oBAAoBg9C,+BAA+BzwE,KAAK1F,OAAO0I,WAAWC,kBAAkBC,kBAAkB1E,gBAAgByoB,SAAUjnB,KAAK1F,OAAO0I,WAAWC,kBAAkB0tE,oBAAqB,GAAI,OAMnS,GAA6B,gBAAlBkqB,GAA4B,CACnC,GAAIhzC,GAAc,WACd,MAAOgzC,GAEX,OAAO/yC,yBAAsBD,GAG7B,MAAOgzC,IAGRnB,KC5RPtmF,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnF+2B,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAU5BmwD,GAA6B,SAAUjnF,GAEvC,QAASinF,GAAYjwD,GACjB,GAAI/5B,GAAQ+C,EAAOC,KAAKjU,KAAMgrC,IAAahrC,IAuB3C,OAtBAiR,GAAM6T,UAAY,EAClB7T,EAAMiqF,kBAAoB,EAC1BjqF,EAAMkqF,gBAAiB,EACvBlqF,EAAMmqF,kBAAmB,EACzBnqF,EAAMoqF,WAAY,EAClBpqF,EAAMqqF,YAAc,KACpBrqF,EAAMsqF,kBAAoB,EAC1BtqF,EAAMuqF,iBAAmB,EACzBvqF,EAAMwqF,mBAAqB,EAC3BxqF,EAAMyqF,oBAAsB,EAC5BzqF,EAAM8M,cAAgB,EACtB9M,EAAM0qF,eAAiB,EACvB1qF,EAAM2qF,mBAAqB,EAC3B3qF,EAAMgrB,SAAW,EACjBhrB,EAAMguD,uBAAyB,MAC/BhuD,EAAM4qF,iBAAkB,EACxB5qF,EAAM6qF,gBAAiB,EACvB7qF,EAAM8qF,aAAe,EACrB9qF,EAAM3W,OAAS0wC,EACf/5B,EAAM47C,iBACN57C,EAAMkoB,aACNloB,EAAM+qF,YAAc,GAAItC,IAAYzoF,EAAM3W,OAAQ2W,GAC3CA,EAk2FX,MA33FAmC,IAAU6nF,EAAajnF,GA2BvBinF,EAAYx6F,UAAU04B,WAAa,WAC/Bn5B,KAAK1F,OAAOma,GAAG,iBAAkBzU,KAAKi8F,iBAAkBj8F,MACxDA,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAKk8F,eAAgBl8F,MACpDA,KAAK1F,OAAOma,GAAG,kBAAmBzU,KAAKm8F,kBAAmBn8F,MAC1DA,KAAK1F,OAAOma,GAAG,iBAAkBzU,KAAKo8F,gBAAiBp8F,MACvDA,KAAK1F,OAAOma,GAAG,kBAAmBzU,KAAKq8F,kBAAmBr8F,OAQ9Di7F,EAAYx6F,UAAUosD,eAAiB,WACnC7sD,KAAKw6F,mBAAqB,KAC1Bx6F,KAAKkD,kBAAoB,KACzBlD,KAAK08C,kBAAoB,KACzB18C,KAAKu6F,uBAAyB,KAC9Bv6F,KAAKs8F,sBAAwB,KAC7Bt8F,KAAKs6F,sBAAwB,KAC7Bt6F,KAAKu8F,yBAA2B,KAChCv8F,KAAK2wE,oBAAsB,KAC3B3wE,KAAK6wE,kBAAoB,KACzB7wE,KAAKw8F,iBAAmB,KACxBx8F,KAAKy8F,iBAAkB,EACvBz8F,KAAK08F,kBAAmB,EACxB18F,KAAK28F,gBAAiB,EACtB38F,KAAKm7F,gBAAiB,EACtBn7F,KAAK48F,sBAAwB,OAAQ,WAAY,WAAY,cAAe,YAAa,UAAW,QAAS,gBACzG,WAAY,eAAgB,gBAAiB,cAAe,YAAa,YAC7E58F,KAAK68F,iBAAkB,EACvB78F,KAAKk8E,WAAY,GAErB+e,EAAYx6F,UAAUw7F,iBAAmB,SAAU7lF,GAC/C,GAAIpW,KAAK1F,OAAO4kC,aAAaC,sBAAwBn/B,KAAK1F,OAAOy8F,SAE7D,GADA/2F,KAAK88F,SAAU,EACX98F,KAAKw6F,mBAAoB,CACzB,GACI10F,GAAU5L,EADM8F,KAAK+8F,qBAAqB3mF,GACJ0qB,IACrCh7B,GAAWA,EAAQutB,YAAcrzB,KAAKw6F,mBAAmBnnE,WAC1DrzB,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,wBAA0BuF,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,4BAChHuF,KAAKg9F,yBAAyB5mF,GAC9BpW,KAAK88F,SAAU,EACf1mF,EAAEqwB,sBAGAzmC,MAAK1F,OAAOymC,YAClB/gC,KAAKg9F,yBAAyB5mF,IAI1C6kF,EAAYx6F,UAAU47F,kBAAoB,SAAUjmF,GAChD,GAAKpW,KAAK1F,OAAO4kC,aAAaC,oBAA9B,CAGA,GAAI6F,GAAgBhlC,KAAK+8F,qBAAqB3mF,GAC1CtQ,EAAU5L,EAAa8qC,EAAelE,EAC1C,IAAI9gC,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAO0nD,gBAAgBi7C,uBAI3D,YAHIj9F,KAAK68F,iBACL78F,KAAKg9F,yBAAyB5mF,GAIlCpW,MAAK68F,kBAAoBhiG,oBAAkBmF,KAAKw6F,qBAAuB10F,GACvEA,EAAQutB,YAAcrzB,KAAKw6F,mBAAmBnnE,WAC9CrzB,KAAKs8F,sBAAwBt8F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBv5B,GAC7E9F,KAAKs6F,sBAAwB,yBAC7Bt6F,KAAKu6F,uBAAyBz0F,EAC9B9F,KAAK2wE,oBAAsB,SACvB3wE,KAAKk9F,0BACLl9F,KAAKm9F,qBAAqB/mF,GAAG,GAEjCpW,KAAKo9F,4BAA2B,GAChCp9F,KAAK6sD,kBAEA7nB,EAAcxqC,UAAUC,SnCTJ,gCmCUzBuF,KAAK88F,SAAU,EACf98F,KAAKq9F,2BACLr9F,KAAKs9F,+BAA+Bt4D,EAAehlC,KAAKw6F,oBACxDx6F,KAAK68F,iBAAkB,EACvB78F,KAAK08C,kBAAoB,yBACzB18C,KAAKs8F,sBAAwBt8F,KAAKkD,kBAClClD,KAAKm9F,qBAAqB/mF,GAAG,IAExB4uB,EAAcxqC,UAAUC,SnCjBH,iCmCkB1BuF,KAAK88F,SAAU,EACf98F,KAAKq9F,2BACLr9F,KAAKs9F,+BAA+Bt4D,EAAehlC,KAAKw6F,oBACxDx6F,KAAK68F,iBAAkB,EACvB78F,KAAK08C,kBAAoB,0BACzB18C,KAAKs8F,sBAAwBt8F,KAAKkD,kBAClClD,KAAKm9F,qBAAqB/mF,GAAG,KAGzBpW,KAAK68F,kBACL78F,KAAKo9F,4BAA2B,GAChCp9F,KAAKs9F,+BAA+Bx3F,EAAS9F,KAAKw6F,qBAEtDx6F,KAAKg9F,yBAAyB5mF,MAGtC6kF,EAAYx6F,UAAU28F,2BAA6B,SAAUG,GACzD,GAAI3iG,GAAYoF,KAAKkD,kBAAkB1E,gBACnCkd,EAAe9gB,EAAUkhB,YACzBvhB,EAA8B,iBAAzByF,KAAK1F,OAAOyd,SAA8Bnd,EAAU8a,OAAS9a,EAAUif,WAChF,IAAI6B,EACA,IAAK,GAAI5d,GAAI,EAAGA,EAAI4d,EAAa/f,OAAQmC,IAAK,CAC1C,GAAIge,GAAcJ,EAAa5d,EAC3BvD,GAAG0D,aAAe6d,EAAY/Z,MAAQxH,EAAG0D,aAAe6d,EAAYha,IACpE9B,KAAKw9F,iBAAiB1hF,EAAY/Z,KAAM+Z,EAAYha,GAAIy7F,GAIpE,GAAIE,GAAez9F,KAAK1F,OAAOmqB,iBAAiBsY,kBAC5CwgE,IACA/+D,YAAUx+B,KAAKw6F,qBnCrBE,wBmCsBjBh8D,YAAUi/D,InCpBC,+BmCuBXn/D,eAAat+B,KAAKw6F,qBnCzBD,wBmC0BjBl8D,eAAam/D,InCxBF,8BmC0Bfz9F,KAAKk8E,UAAYqhB,EACZ1iG,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,uBAGlC44C,EAAYx6F,UAAU+8F,iBAAmB,SAAUz7F,EAAMD,EAAIuoF,GACzD,GAEIrvE,IAFkC,gBAAzBhb,KAAK1F,OAAOyd,SAA6B/X,KAAKkD,kBAAkB1E,gBAAgBkX,OAAOzX,WAChG+B,KAAKkD,kBAAkB1E,gBAAgBqb,YAAY5b,cACzB8D,EAAQ/B,KAAK1F,OAAOm5B,oBAAoByH,cAAcp5B,GAChF9B,KAAK1F,OAAOm5B,oBAAoByH,cAAcn5B,GAC9C27F,EAAM19F,KAAK1F,OAAOmqB,iBAAiBif,eAAe1jC,KAAK1F,OAAOwX,gBAAgBhF,QAAQkO,GAC1F,KAAKngB,oBAAkB6iG,GAAM,CACzB,GAAIC,GAAWD,EAAI73F,cAAc,IAAMi7B,GACnC88D,EAAoB59F,KAAK1F,OAAOwL,QAAQD,cAAc,uBAAyB9D,EAAO,QAAUD,EAChGuoF,IACA7rD,YAAUm/D,InC1CO,4BmC2CbC,GACAp/D,YAAUo/D,InC5CG,8BmCgDjBt/D,eAAaq/D,InChDI,4BmCiDbC,GACAt/D,eAAas/D,InClDA,+BmCuD7B3C,EAAYx6F,UAAUy8F,uBAAyB,WAC3C,GAAI9gE,GAAep8B,KAAKkD,kBAAkB1E,gBACtCkwB,EAAc1uB,KAAKs8F,sBAAsB99F,gBACzCsjB,GAAU,EACVoF,EAAoC,iBAAzBlnB,KAAK1F,OAAOyd,SAA8BqkB,EAAa1mB,OAAS0mB,EAAaviB,YACxF2xD,EAAmC,iBAAzBxrE,KAAK1F,OAAOyd,SAA8B2W,EAAYhZ,OAASgZ,EAAY7U,WACzF,IAAI7Z,KAAKs8F,sBAAsB7/E,gBAC3BqF,GAAU,MAET,IAAI4M,EAAY5S,YACjB,IAAK,GAAIhe,GAAI,EAAGA,EAAI4wB,EAAY5S,YAAYngB,OAAQmC,IAAK,CACrD,GAAIge,GAAc4S,EAAY5S,YAAYhe,EAC1C,IAAIge,EAAY/Z,OAASmlB,EAASjpB,YAC9B6d,EAAYha,KAAO0pE,EAAQvtE,WAAY,CACvC+B,KAAK1F,OAAO8nC,wBAAwB1T,YAAc1uB,KAAKs8F,sBACvDt8F,KAAK1F,OAAO8nC,wBAAwBy7D,iBAAmB//F,EACvDkC,KAAK1F,OAAO8nC,wBAAwB07D,uCACpCh8E,GAAU,CACV,OAEC,GAAIhG,EAAY/Z,OAASypE,EAAQvtE,YAClC6d,EAAYha,KAAOolB,EAASjpB,WAAY,CACxC+B,KAAK1F,OAAO8nC,wBAAwB1T,YAAc1uB,KAAKkD,kBACvDlD,KAAK1F,OAAO8nC,wBAAwBy7D,iBAAmB//F,EACvDkC,KAAK1F,OAAO8nC,wBAAwB07D,uCACpCh8E,GAAU,CACV,QAIZ,MAAOA,IAGXm5E,EAAYx6F,UAAU07F,kBAAoB,SAAU/lF,GACjB,cAA3BpW,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,mBACpB,qBAA3B18C,KAAK08C,mBAAuE,iBAA3B18C,KAAK08C,mBAC3B,kBAA3B18C,KAAK08C,kBACL18C,KAAK28F,gBAAiB,EAGtB38F,KAAK28F,gBAAiB,GAU9B1B,EAAYx6F,UAAUu8F,yBAA2B,SAAU5mF,GACvD,GACI2nF,GACAj4F,EAFAw5B,EAASt/B,KAAK+8F,qBAAqB3mF,EAGvC,IAAIkpB,EAAO9kC,UAAUC,SnCjMS,sCmCiMiC6kC,EAAO9kC,UAAUC,SnCtMjD,kCmCuMxB6kC,EAAO9kC,UAAUC,SAASq6D,GAC7BhvD,EAAU5L,EAAaolC,EnCxMI,qCmC0M1B,IAAIA,EAAO9kC,UAAUC,SnCxMC,kCmCyMvBqL,EAAU5L,EAAaolC,EnCzMA,sCmC6MvB,IADAx5B,EAAU5L,EAAaolC,EAAQwB,IAC1BjmC,oBAAkBiL,KAAaw5B,EAAO9kC,UAAUC,SAAS,2BACzD6kC,EAAO9kC,UAAUC,SAAS,0BAA2B,CACtD,GAAIsgC,GAAgB/6B,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBv5B,EACpE,KAAKjL,oBAAkBkgC,EAAcv8B,gBAAgBmG,WAAao2B,EAAcv8B,gBAAgBmG,SAAShJ,OAAS,EAC9G,GAAI2jC,EAAO9kC,UAAUC,SAAS,gCAC1B,IAAK,GAAIqD,GAAI,EAAGA,EAAIi9B,EAAcv8B,gBAAgBmG,SAAShJ,OAAQmC,IAC/D,GAAIi9B,EAAcv8B,gBAAgBmG,SAAS7G,GAAGgvB,aAAc,CACxDhnB,EAAUA,EAAQu4B,iBAAiB,wBAAwBvgC,EAC3D,YAKRgI,GAAU5L,EAAaolC,EnCrPb,mCmC0P1B,GAAIt/B,KAAK1F,OAAO4kC,aAAaC,qBAAuBr5B,EAAS,CACzD9F,KAAKs9F,+BAA+Bx3F,EAAS9F,KAAKs7F,aAClDt7F,KAAKs7F,YAAcx1F,EACnB9F,KAAKg+F,mBAAqBh+F,KAAKs7F,WAC/B,IAAI77F,GAAQO,KAAKs7F,YAAY73D,aAAa,qBAQ1C,IAPK5oC,oBAAkB4E,GAInBO,KAAK+d,cAAgB,EAHrB/d,KAAK+d,aAAevV,OAAO/I,GAK/BO,KAAKkD,kBAAoBlD,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBr/B,KAAKs7F,aAC/D,cAAXllF,EAAEhG,MAAmC,eAAXgG,EAAEhG,MAAoC,UAAXgG,EAAEhG,KAAkB,CACzEpQ,KAAK08C,kBAAoB18C,KAAKi+F,iBAAiB7nF,EAC/C,IAAI8nF,GAAUl+F,KAAKs7F,YAAY73D,aAAa,sBAExC06D,GADApjE,EAAgB/6B,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBv5B,IACtCtH,gBAC1B4/F,EAAap+F,KAAKs7F,YAAY5gG,cAAcq/F,UAChD/5F,MAAKg+D,YAAcjjC,CACnB,IAAIsjE,GAAgB9mE,gBAAc,OAASE,OAAQ,uHACnD+G,aAAU6/D,GAAgB,wBAC1BA,EAAc1qE,MAAM2qE,YAAY,QAASH,EAAUphF,MAAQ,KAC3D,IAAIwhF,GAAev+F,KAAKs7F,YAAY73D,aAAa,uBAC5C5oC,oBAAkBsjG,EAAUx5F,WAAa3E,KAAK1F,OAAO2kC,yBAAsD,iBAA3Bj/B,KAAK08C,mBAAmE,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBACjL2hD,EAAc1qE,MAAM2qE,YAAY,OAAWzjG,oBAAkBsjG,EAAUx5F,UAAiCw5F,OAAkB,KAAvCC,EAAa,MAGhGC,EAAc1qE,MAAM2qE,YAAY,QAAYzjG,oBAAkBsjG,EAAUx5F,WAAaw5F,EAAUx5F,SAAShJ,OAAS,EAAKyiG,EAAaD,EAAUx5F,SAAS6D,OAAO+1F,IAAezgF,KAAO,KAAQqgF,OAAkB,KAEjN,IAAIK,GAAcx+F,KAAK1F,OAAOi9B,cAAc,SACxCknE,EAAkBz+F,KAAK1F,OAAOi9B,cAAc,QAChDknE,GAAgB/mE,YAAY2mE,GAC5BG,EAAY9mE,YAAY+mE,EACxB,IAAI/9D,GAAQ1gC,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,oBACtE64F,EAAc,IAalB,IANQX,EANwB,cAA3B/9F,KAAK08C,mBAAgE,iBAA3B18C,KAAK08C,mBAA0C7hD,oBAAkBqjG,IAAarjG,oBAAkBqjG,IAA+B,IAApB11F,OAAO01F,IAIlI,IAAvBl+F,KAAK+d,cAAuB/d,KAAK1F,OAAO2kC,yBAAsD,iBAA3Bj/B,KAAK08C,mBAC7C,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBACpC18C,KAAKs7F,YAAY5gG,cAAc2lE,WAAU,GAGzCrgE,KAAKs7F,YAAYj7B,WAAU,GAR/BrgE,KAAKs7F,YAAY5gG,cAAc2lE,WAAU,IAWvD3/B,EAAO,CAGR,GAFAlC,YAAUu/D,GAAe,mBACzBA,EAAapqE,MAAM2qE,YAAY,WAAY,YACvCvjE,EAActe,kBAAoBse,EAAcv8B,gBAAgBmC,eAAgB,CAChF,GAAI+1E,GAAoB12E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOmqB,iBAAiBsY,oBAC3E4hE,EAAkB3+F,KAAK1F,OAAO6nC,cAAcniC,KAAKs7F,YACjDt7F,MAAKs7F,YAAY9gG,UAAUC,SAAS,iCACpCsjG,EAAapqE,MAAM2qE,YAAY,OAASvjE,EAAcv8B,gBAAgBsf,KAAOid,EAAcv8B,gBAAgBu2D,SAAY,MAGvHgpC,EAAapqE,MAAM2qE,YAAYt+F,KAAK1F,OAAO24B,UACvC,QAAU,OAAQ/f,KAAK6P,IAAI47E,EAAgB7gF,KAAO44D,EAAkB54D,KAAO5K,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,aAAe,MAG1Jo5E,EAAapqE,MAAM2qE,YAAY,MAAO,OACtCI,EAAc1+F,KAAK1F,OAAOi9B,cAAc,QACxC,IAAIqnE,GAAY5+F,KAAK1F,OAAOi9B,cAAc,QAC1CqnE,GAAUlnE,YAAYqmE,GACtBW,EAAYhnE,YAAYknE,GAE5B,GAAgC,cAA3B5+F,KAAK08C,mBAAgE,iBAA3B18C,KAAK08C,mBAA0C7hD,oBAAkBqjG,IAAarjG,oBAAkBqjG,IAA+B,IAApB11F,OAAO01F,GAK7Jl+F,KAAK6+F,oBAAsBd,MAL0J,CACrL,GAAI3/B,GAAiB2/B,EAAa3qE,uBAAuB,sBACzDpzB,MAAK6+F,oBAAsBzgC,EAAe51D,OAAO01F,IAerD,GAVAl+F,KAAKw6F,mBAAqBx6F,KAAK6+F,oBAC/B7+F,KAAK4hC,eAAiB88D,EACtB1+F,KAAK8+F,eAAiBN,EACtBx+F,KAAK++F,aAAeb,EACpBl+F,KAAK08F,kBAAmB,EACQ,2BAA3B18F,KAAK08C,mBAA6E,4BAA3B18C,KAAK08C,oBAC7D7hD,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,cACzCpZ,KAAK08C,kBAAoB,MAE7B18C,KAAKg/F,0BAA0B5oF,GACF,iBAAzBpW,KAAK1F,OAAOyd,UAAwD,gBAAzB/X,KAAK1F,OAAOyd,SAA4B,CACnF,GAAqC,IAAjC/X,KAAKkD,kBAAkB0W,MACvB,MAEC,IAAI5Z,KAAK1F,OAAO6hC,mBAAoB,CACrC,GAAIC,GAAep8B,KAAK1F,OAAO+O,kBAAkBrJ,KAAKkD,kBAAkBsG,WAAWF,SAC9EzO,qBAAkBuhC,IAAkBA,EAAald,WAClDlf,KAAKi/F,WAAcj/F,wBAAyB2zB,MAAMwsC,OACjDngE,wBAAyB2zB,MAAMwsC,OAAS,OACrCngE,KAAKw6F,mBAAmB30F,cAAc,2BACtC24B,YAAUx+B,KAAKw6F,mBAAmB30F,cAAc,2BAA4B,oCAQ5F7F,MAAK1F,OAAOymC,YACR/gC,KAAKw6F,oBACLx6F,KAAKs9F,+BAA+Bx3F,EAAS9F,KAAKs7F,aAEtDt7F,KAAK6sD,kBAGL7sD,KAAKs9F,+BAA+Bx3F,EAAS9F,KAAKs7F,cAa9DL,EAAYx6F,UAAU68F,+BAAiC,SAAUx3F,EAASo5F,EAAeC,GACrFD,EAAgBA,GAAgCl/F,KAAKs7F,WACrD,IAAI8D,KAAwBp/F,KAAK1F,OAAOmE,WAAW8c,SAC/C8jF,GAAwB,CAC5B,KAAIr/F,KAAK1F,OAAOy8F,SAAhB,CAGA,GAAIx4F,GAASuH,EAAU9F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBv5B,GACnEo5F,EAAgBl/F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmB6/D,GAAiB,IACrF,IAAIl/F,KAAK1F,OAAO6hC,oBAAsBr2B,EAAS,CAC3C,GAAIs2B,GAAep8B,KAAK1F,OAAOoP,cAAcnL,EAAOiL,WAC/C3O,qBAAkBuhC,IACdA,EAAald,WACdmgF,GAAwB,EACxB7gE,YAAU14B,InCrXI,2BmCyX1B,GAAIA,EAAS,CACT,GAAIA,EAAQD,cAAc,4BAGtB,GAFA24B,YAAU14B,EAAQD,cAAc,6BnClWjB,0BmCmWf24B,YAAU14B,EAAQD,cAAc,8BnClWhB,2BmCmWZu5F,EAAuB,CACvB,GAAIE,GAAmB/gG,GAAUA,EAAOC,gBAAgBmG,UACpDpG,EAAOC,gBAAgBmG,SAAShJ,OAAS,EACzCqE,KAAK1F,OAAO06B,cAAch1B,KAAK1F,OAAOwX,gBAAgBhF,QAAQvO,IAC1D8/B,iBAAiB,IAAMkhE,GAA0B,GACrDz5F,EAAQD,cAAc,IAAM05F,EAC3B1kG,qBAAkBykG,KACnB9gE,YAAU8gE,InCzWC,8BmC0WXA,EAAgB3rE,MAAM3C,IAAM,YAI/BhxB,MAAK1F,OAAOymC,YAAcq+D,GAChBp/F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBv5B,GAClD2W,iBACT+hB,YAAU14B,InCzSA,wBmC6SlB,IADA04B,WAASx+B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcoN,iBAAiB,gCnClVhD,8BmCmVhBxjC,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,cACtCtT,EAAQD,cAAc,IAAMgzD,IACzB/yD,EAAQpL,cAAcmL,cAAc,IAAMgzD,KAC9CwmC,EAAuB,CAC1B,GAAIG,GAAoB3kG,oBAAkBiL,EAAQD,cAAc,IAAMgzD,IACxD/yD,EAAQpL,cAAlBoL,CACCjL,qBAAkB2kG,EAAiB35F,cAAc,IAAMgzD,KACxDr6B,YAAUghE,EAAiB35F,cAAc,IAAMgzD,KnC/U9B,gCmCiVhBh+D,oBAAkB2kG,EAAiB35F,cAAc,6BAClD24B,YAAUghE,EAAiB35F,cAAc,6BnCjVvB,sCmCqVpBs5F,IACN7gE,cAAYt+B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcoN,iBAAiB,gCnClWnD,4BmCoWzB,IAAI6gE,GAAiBp5F,IAAYo5F,EAAe,CAU5C,GATIA,EAAcr5F,cAAc,6BAC5By4B,eAAa4gE,EAAcr5F,cAAc,6BnC1Y1B,0BmC2Yfy4B,eAAa4gE,EAAcr5F,cAAc,8BnC1YzB,4BmC2YZy5F,EAAmB/gG,GAAUA,EAAOC,gBAAgBmG,UAAYpG,EAAOC,gBAAgBmG,SAAShJ,OAAS,EACzGqE,KAAK1F,OAAO06B,cAAch1B,KAAK1F,OAAOwX,gBAAgBhF,QAAQvO,IAAW2gG,IACtDI,EAAgBz5F,cAAc,IAAM05F,IACvDjhE,eAAaghE,EAAgBz5F,cAAc,IAAM05F,KnC7YlC,+BmCgZlB1kG,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,cACtC8lF,EAAcr5F,cAAc,IAAMgzD,KAC/BqmC,EAAcxkG,cAAcmL,cAAc,IAAMgzD,IAYtD,GAAI74D,KAAK1F,OAAOymC,WAAY,CAC7B,GAAI0+D,GAAWz/F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmB6/D,EAC3DO,IAAYA,EAAShjF,iBACrB6hB,eAAa4gE,InCzVH,8BmC0UmE,CACjF,GAEIQ,IAFAF,EAAoB3kG,oBAAkBqkG,EAAcr5F,cAAc,IAAMgzD,IACxDqmC,EAAcxkG,cAA9BwkG,GACiCr5F,cAAc,IAAMgzD,GACrD8mC,EAAiBH,EAAiB35F,cAAc,0BAChD65F,IACAphE,eAAaohE,InC3WI,gCmC6WjBC,GACArhE,eAAaqhE,InC7WK,iCmCsX1B3/F,KAAKs7F,YAAc,QAU3BL,EAAYx6F,UAAUw9F,iBAAmB,SAAU7nF,GAC/C,GAAIwpF,GAAmB5/F,KAAK+8F,qBAAqB3mF,GAC7CrY,EAAOiC,KAAKkD,kBACZysB,EAAS,EA6Bb,OA5BIiwE,GAAiBplG,UAAUC,SnC5cP,0BmC6cpBk1B,EAAS,eAEJiwE,EAAiBplG,UAAUC,SnC9cX,2BmC+crBk1B,EAAS,iBAEHiwE,EAAiBplG,UAAUC,SAAS8kG,IAC1ChgE,UAAQqgE,EAAkB,IAAML,KAA+Bv/F,KAAK1F,OAAOmE,WAAoB,SAC/FkxB,EAAS,mBAEJiwE,EAAiBplG,UAAUC,SAASo+D,GACzClpC,EAAS,yBAEJiwE,EAAiBplG,UAAUC,SnCnZX,0BmCoZrBk1B,EAAS,0BAEJiwE,EAAiBplG,UAAUC,SnC5cN,qCmC6c1Bk1B,EAAS,iBAEJiwE,EAAiBplG,UAAUC,SAASq6D,IACzC8qC,EAAiBplG,UAAUC,SnCrdA,kCmCsd3BmlG,EAAiBplG,UAAUC,SnCpdJ,kCmCqdvBk1B,EAAS,mBAEJ5xB,IACL4xB,EAAS5xB,EAAK0e,gBAAkB1e,EAAKiC,KAAK1F,OAAOmE,WAAWod,QAAU,GAAK,aACrE9d,EAAKS,gBAAgBgD,YAAc,gBAAkB,aAExDmuB,GASXsrE,EAAYx6F,UAAUu+F,0BAA4B,SAAU54D,GACxD,GAAIhwB,GAAIpW,KAAK6/F,cAAcz5D,GACvBmwC,EAAsBv2E,KAAK1F,OAAOwL,QAAQy5B,QAAQ,kBACtD,IAAIg3C,EAAqB,CACrB,GAAIupB,GAAQj4F,WAAWm1D,iBAAiBuZ,GAAqBwpB,KAC7D3pF,GAAE8rB,MAAQ9rB,EAAE8rB,MAAQ49D,EACpB1pF,EAAE4pF,MAAQ5pF,EAAE4pF,MAAQF,EAExB,GAAI1pF,EAAE8rB,OAAS9rB,EAAE4pF,MAAO,CACpB,GAAItpB,GAAoB12E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOmqB,iBAAiBsY,mBAC3E/8B,MAAK1F,OAAO24B,UACZjzB,KAAKigG,WAAa/sF,KAAK6P,IAAI3M,EAAE8rB,OAASw0C,EAAkB54D,KACpD5K,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,QAGtE9d,KAAKigG,WAAc7pF,EAAE8rB,MAAQw0C,EAAkB54D,KAC3C9d,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAEjE9d,KAAK62E,iBAAmB72E,KAAKigG,WAC7BjgG,KAAKkgG,WAAalgG,KAAKmgG,UAAY/pF,EAAE4pF,MAAQtpB,EAAkB1lD,IAC3DhxB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IAElC,2BAA3BhxB,KAAK08C,mBAA6E,4BAA3B18C,KAAK08C,oBAC5D18C,KAAK2wE,oBAAiD,2BAA3B3wE,KAAK08C,kBAAiD,QAAU,SAC3F18C,KAAK1F,OAAOm5B,oBAAoB68C,aAAaj9C,UAAY,GACzDrzB,KAAK1F,OAAOm5B,oBAAoB68C,aAAa54C,YAAY13B,KAAK1F,OAAOm5B,oBAAoBg9C,+BAA+BzwE,KAAKkD,kBAAkB1E,gBAAgByoB,SAAUjnB,KAAK2wE,oBAAqB,GAAI,OAG/MsqB,EAAYx6F,UAAU2/F,iBAAmB,WACrC,IAAKpgG,KAAKm7F,gBAAkBn7F,KAAK08C,oBAAuB18C,KAAKigG,aAAejgG,KAAKqgG,aAC3ErgG,KAAKigG,WAAa,EAAKjgG,KAAKqgG,YAAergG,KAAKigG,WAAa,EAAKjgG,KAAKqgG,aACrErgG,KAAKkgG,aAAelgG,KAAKsgG,aACvBtgG,KAAKkgG,WAAa,EAAKlgG,KAAKsgG,YAAetgG,KAAKkgG,WAAa,EAAKlgG,KAAKsgG,aAAc,CAC3FtgG,KAAKm7F,gBAAiB,EACtBn7F,KAAK1F,OAAO6pD,oBAAmB,EAC/B,IAAIzxC,GAAO1S,KAAKkD,kBAAkB1E,eAClCwB,MAAKugG,aAAevgG,KAAK1F,OAAOsX,eAAe89B,eAAeh9B,EAAM1S,KAAK48F,sBAC1C,2BAA3B58F,KAAK08C,mBACsB,4BAA3B18C,KAAK08C,mBACsB,iBAAzB18C,KAAK1F,OAAOyd,UAA0D,eAA3B/X,KAAK08C,mBAClD18C,KAAKg8F,YAAY7B,4BAA2B,EAAMn6F,KAAK+d,cAE3D/d,KAAKw6F,mBAAmBlkE,aAAa,eAAgB,UAI7D2kE,EAAYx6F,UAAU+/F,kBAAoB,SAAU16F,GAChD,GAAI26F,GAAiE,kBAArDzgG,KAAK1F,OAAO0kE,qBAAmC,YAC3Dh/D,MAAK1F,OAAOwL,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,GAAKmK,IAC7EA,EAAQ29B,aAAa,iBAAmB,GAAM,GAAKg9D,IACpDzgG,KAAK1F,OAAOwL,QAAQstB,uBAAuB,qBAAqB,GAAGz0B,UAG3Es8F,EAAYx6F,UAAUigG,iBAAmB,SAAU56F,GAC/C,GAEI66F,GAFAC,EAAa96F,IAAYA,EAAQtL,UAAUC,SAAS,eAAiBqL,EAAQtL,UAAUC,SAAS,mBAC7FqL,EAAQtL,UAAUC,SAAS,gBAY9BgmG,GATAE,EADA3gG,KAAK1F,OAAOgd,qBACKxR,IAAY86F,GACzB5gG,KAAK1F,OAAO4H,SAASgzB,UAAUl1B,KAAK1F,OAAO4H,SAASmiC,wBAAwB1oC,OAAS,GAAG8nC,aAAa,cACjG39B,EAAQ29B,aAAa,YAGZ39B,IAAY86F,GACzB5gG,KAAK1F,OAAO4H,SAAS8yB,cAAch1B,KAAK1F,OAAO4H,SAASmiC,wBAAwB1oC,OAAS,GAAG8nC,aAAa,cACrG39B,EAAQ29B,aAAa,cAEsD,eAArDzjC,KAAK1F,OAAO0kE,qBAAmC,YAC7Eh/D,MAAK1F,OAAOwL,QAAQstB,uBAAuB,oBAAoBz3B,OAAS,GAAKmK,IAAY66F,GAAkBF,IAC3GzgG,KAAK1F,OAAOwL,QAAQstB,uBAAuB,oBAAoB,GAAGz0B,UAG1Es8F,EAAYx6F,UAAUogG,wBAA0B,WAC5C,GAAIC,MAAYzyF,MAAM4F,KAAKjU,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,6BAC5DyiE,GAAOnlG,SACPqE,KAAK+gG,iBAAiBD,GAAQ,EAAO,gBACrC9gG,KAAK+gG,iBAAiBD,GAAQ,EAAO,eAG7C7F,EAAYx6F,UAAUugG,kBAAoB,SAAU1hE,GAChD,GAAIwD,EACJ,IAAI9iC,KAAK1F,OAAOgd,qBAAsB,CAClC,GAAI2pF,GAAcjhG,KAAK1F,OAAO4H,SAASgzB,UAAUvb,OAAO,SAAU5b,GAC9D,MAAOC,UAASD,EAAK0lC,aAAa,iBAAkB,IAAM,GAAMzlC,SAASshC,EAAOmE,aAAa,iBAAkB,IAAM,IACtH,GACChkC,EAAQO,KAAK1F,OAAO4H,SAASgzB,UAAUpoB,QAAQm0F,EACnDn+D,GAAa9iC,KAAK1F,OAAO06B,cAAcv1B,GAAO21B,aAG9C0N,GAAa9iC,KAAK1F,OAAO06B,cAAch3B,SAASshC,EAAOmE,aAAa,iBAAkB,IAAM,GAAGrO,QAE/F0N,KACyD,UAArD9iC,KAAK1F,OAAO0kE,qBAAmC,eAC/Ch/D,KAAK+gG,iBAAiBj+D,GAAY,EAAM,aACpC9iC,KAAK1F,OAAOwL,QAAQstB,uBAAuB,wBAAwBz3B,OAAS,GAC5EqE,KAAK1F,OAAOwL,QAAQstB,uBAAuB,wBAAwB,GAAGz0B,UAGrB,UAArDqB,KAAK1F,OAAO0kE,qBAAmC,cAC/Ch/D,KAAK+gG,iBAAiBj+D,GAAY,EAAM,kBAIpDm4D,EAAYx6F,UAAUygG,kBAAoB,WACtC,GAAIC,MAAgB9yF,MAAM4F,KAAKjU,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,kBAChE8iE,GAAWxlG,OAAS,GACpBqE,KAAK+gG,iBAAiBI,GAAY,EAAO,kBAGjDlG,EAAYx6F,UAAUsgG,iBAAmB,SAAUK,EAAO/vE,EAAKmG,GAC3D,IAAK,GAAI15B,GAAI,EAAGujG,EAAMD,EAAMzlG,OAAQmC,EAAIujG,EAAKvjG,IACrCuzB,EACA+vE,EAAMpjG,SAASF,EAAEG,WAAY,KAAKzD,UAAU62B,IAAImG,GAGhD4pE,EAAMpjG,SAASF,EAAEG,WAAY,KAAKzD,UAAUmE,OAAO64B,IAI/DyjE,EAAYx6F,UAAU6gG,aAAe,WACjC,GAAIC,GAAWvpE,SAAS5E,uBAAuB,mBAAmB,EAElE,KADgB4E,SAASqG,iBAAiB,gBAAgB1iC,OAC1C,CACZ,GAAIq/E,GAAMhjD,SAAST,cAAc,MACjC/8B,aAAUwgF,GAAM,wBAChBxgF,YAAUwgF,GAAM,UAAW,mBACvBh7E,KAAKkD,kBAAkB1E,gBAAgBmG,UAAY3E,KAAKkD,kBAAkB1E,gBAAgBmG,SAAShJ,OAAS,IAC5Gq/E,EAAIrnD,MAAM6tE,WAAaxhG,KAAK1F,OAAOgnB,cAAgB,MAEvDigF,EAAS7pE,YAAYsjD,KAG7BigB,EAAYx6F,UAAUghG,gBAAkB,WACpC,GAAIC,GAAY1pE,SAASnyB,cAAc,eACnC67F,IACAA,EAAU/iG,UAGlBs8F,EAAYx6F,UAAUkhG,eAAiB,SAAUC,EAAgB7mE,GAC7D,GAAI9pB,GAAQjR,IACZ4hG,GAAejoF,OAAO,SAAUkoF,GAC5B,GAAIA,EAAcplF,kBAAoB5hB,oBAAkBgnG,EAAc3kF,cAAe,CAEjF,IAAe,IADH2kF,EAAc3kF,aAAapQ,QAAQiuB,GAO3C,MAFA9pB,GAAM3W,OAAO0kE,qBAAmC,aAAI,cACpD/tD,GAAMqwF,cAJNrwF,GAAM0wF,eAAeE,EAAc3kF,aAAc6d,OAiBjEkgE,EAAYx6F,UAAU27F,gBAAkB,SAAUh2D,GAC9C,GAAIn1B,GAAQjR,IACZ,IAAIA,KAAK1F,OAAOymC,WAAY,CACxB,IAAK/gC,KAAK88F,QACN,MAGA98F,MAAKq9F,2BAGb,GAAI3mB,GAAoB12E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOmqB,iBAAiBsY,oBAC3E3mB,EAAIpW,KAAK6/F,cAAcz5D,EACvBpmC,MAAK1F,OAAO24B,UACZjzB,KAAKqgG,WAAantF,KAAK6P,IAAI3M,EAAE8rB,OAASw0C,EAAkB54D,KACpD5K,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,QAGtE9d,KAAKqgG,WAAajqF,EAAE8rB,MAAQw0C,EAAkB54D,KAC1C9d,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAEjE9d,KAAKsgG,WAAalqF,EAAE4pF,MAAQtpB,EAAkB1lD,IAC1ChxB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IAC7DhxB,KAAK28F,gBAAiB,CACtB,IAAI/9D,IAAS,CACb,IAA+B,cAA3B5+B,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,mBAAiE,qBAA3B18C,KAAK08C,mBAAuE,kBAA3B18C,KAAK08C,kBAAuC,CAClL,GAAIolD,OAAkB,EACtB,IAAI9hG,KAAK1F,OAAOgd,qBAAsB,CAC9B7X,EAAQO,KAAK1F,OAAOwX,gBAAgBhF,QAAQ9M,KAAKkD,kBACrD4+F,GAAkB9hG,KAAK1F,OAAO06B,cAAcv1B,OAG5CqiG,GAAkB9hG,KAAK1F,OAAO06B,cAAch1B,KAAKkD,kBAAkBzD,MAEvE,IAAI7B,IACAghC,OAAQA,EACRqhC,aAAcjgE,KAAK4hC,eACnB7jC,KAAMiC,KAAKkD,kBACXo8B,OAAQ8G,EAAM9G,OACd6F,KAAM28D,EAEV9hG,MAAK1F,OAAOgc,QAAQ,UAAW1Y,GAC/BghC,EAAShhC,EAAkB,OAK/B,GAHKghC,GACD5+B,KAAKogG,mBAELpgG,KAAKm7F,gBAAkBn7F,KAAK08C,kBAAmB,CAE/C,GADAtW,EAAMK,mBACD5rC,oBAAkBmF,KAAK4hC,iBAAoB/mC,oBAAkBmF,KAAKs7F,cAA4C,4BAA3Bt7F,KAAK08C,mBAC9D,2BAA3B18C,KAAK08C,mBAA8E,iBAAzB18C,KAAK1F,OAAOyd,UAA+B/X,KAAKg+D,YAAYvhD,iBAAkB,CACpIslF,EAAiB/hG,KAAKs7F,YAAY5gG,aA0BtC,IAzBIsF,KAAK1F,OAAOkqB,8BACZxkB,KAAK1F,OAAOsX,eAAeohB,mBAAuD,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,YACpE6vE,EAAepuE,MAAM2qE,YAAY,WAAY,YAG7CyD,EAAepuE,MAAM2qE,YAAY,WAAY,YAEjB,cAA3Bt+F,KAAK08C,mBAAgE,iBAA3B18C,KAAK08C,mBAC/C7hD,oBAAkBmF,KAAK++F,eAAkBlkG,oBAAkBmF,KAAK++F,eAA8C,IAA9Bv2F,OAAOxI,KAAK++F,cAUzF/+F,KAAK1F,OAAO2kC,yBAAsD,iBAA3Bj/B,KAAK08C,mBAAmE,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBACvI18C,KAAK1F,OAAO++B,UAAUjG,uBAAuB,iBAAiB,GAAGsE,YAAY13B,KAAK4hC,gBAGlFmgE,EAAerqE,YAAY13B,KAAK4hC,iBAbpC5hC,KAAK4hC,eAAehN,WAAW,GAAGA,WAAW,GAAGjB,MAAM2qE,YAAY,MAAOyD,EAAernG,cAAc4hC,UAAY,MAC9Gt8B,KAAK1F,OAAO2kC,yBAAsD,iBAA3Bj/B,KAAK08C,mBAAmE,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBACvI18C,KAAK1F,OAAO++B,UAAUjG,uBAAuB,iBAAiB,GAAGsE,YAAY13B,KAAK4hC,gBAGlFmgE,EAAernG,cAAcg9B,YAAY13B,KAAK4hC,iBAWvB,qBAA3B5hC,KAAK08C,kBACL,GAAI18C,KAAK1F,OAAOkqB,8BACZxkB,KAAK1F,OAAOsX,eAAeohB,mBAAuD,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,aAChE+7B,EAAcjuD,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBsB,iBAAiB,8BACvE,GAAG3G,YAAY13B,KAAK8+F,oBAE/B,CACD,GAAI7wC,GAAcjuD,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBsB,iBAAiB,0BACnF4vB,GAAY,GAAGv2B,YAAY13B,KAAK8+F,iBAI5C,GAAI9+F,KAAK1F,OAAO2kC,0BAAuD,cAA3Bj/B,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,mBAC5D,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,mBAA2C,CAC9F,GAAIiiD,GAAkB3+F,KAAK1F,OAAO6nC,cAAcniC,KAAKw6F,oBACjD18E,GAASjjB,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAK,EAC5G6wC,EAAe,EAAIv4D,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB16C,EACrEkkF,MAAS,EAETA,GADAhiG,KAAK1F,OAAO24B,UACH/f,KAAK6P,IAAI47E,EAAgB7gF,KAAOy6C,EAAc,GAG9CrlD,KAAK6P,IAAI47E,EAAgB7gF,KAAOy6C,EAAc,GAEtDv4D,KAAK67F,iBAAoB77F,KAAK1F,OAAO24B,YACtC+uE,GAAkBhiG,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,WAC7D3kB,KAAK67F,iBAAkB,EAE3B,IAAInuB,GAAoB,CACxB1tE,MAAK1F,OAAO0kE,qBAAmC,iBAAIr3D,EACnD,IAAI23B,OAAS,GACT2iE,MAAS,EAETA,GADe,cAAf77D,EAAMh2B,MAAuC,eAAfg2B,EAAMh2B,MAAwC,aAAfg2B,EAAMh2B,KAC1Dg2B,EAAsB,eAAE,GAAG45D,MAG3B55D,EAAM2wC,EAEf/2E,KAAK1F,OAAO24B,WACZqM,EAAStH,SAASkqE,iBAAiBliG,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmB7K,YAAa+vE,IACrFznG,UAAUC,SAAS,0BAC1B6kC,EAAStH,SAASkqE,iBAAiBliG,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmB7K,YAAcoN,EAAoB,YAAG2iE,IAI5H3iE,EAAStH,SAASkqE,iBAAiBF,EAAQC,EAE/C,IAAIE,OAA4B,EAChC,IAAIniG,KAAK1F,OAAOgd,qBACPtX,KAAKmiG,4BAENA,GADIJ,EAAiB/hG,KAAKs7F,YAAY5gG,eACKA,cAC3CsF,KAAKmiG,0BAA4BA,EACjCniG,KAAKoiG,yBAA2BpiG,KAAKmiG,0BAA0BhlE,kBAMnE,IAFAglE,EAA4BniG,KAAK1F,OAAO4H,SAASgzB,UAAUl1B,KAAK1F,OAAOyO,SAAS+D,QAAQ9M,KAAKkD,oBAC7FlD,KAAKmiG,0BAA4BA,EAC7BniG,KAAK1F,OAAO6hC,mBACZ,GAAIn8B,KAAKkD,kBAAkBsG,aACtB3O,oBAAkBmF,KAAK1F,OAAO4jE,WAAWl+D,KAAKkD,kBAAkBsG,WAAWkM,UAE5E,GADA1V,KAAKoiG,yBAA2BpiG,KAAK1F,OAAO4jE,WAAWl+D,KAAKkD,kBAAkBsG,WAAWkM,QAAQynB,aACpE,gBAAzBn9B,KAAK1F,OAAOyd,UAAgE,IAAlC/X,KAAKoiG,yBAE/C,IADA,GAAInnE,GAAej7B,KAAK1F,OAAO4gC,cAAcl7B,KAAKkD,kBAAkBsG,WAAWkM,QACxEulB,EAAazxB,YAChByxB,EAAej7B,KAAK1F,OAAO4gC,cAAcD,EAAazxB,WAAWkM,QACjE1V,KAAKoiG,yBAA2BpiG,KAAK1F,OAAO4jE,WAAWjjC,EAAqB,QAAGkC,iBAItF,CACD,GAAI4kE,GAAiB/hG,KAAKs7F,YAAY5gG,aACtCsF,MAAKmiG,0BAA4BJ,EAAernG,cAChDsF,KAAKoiG,yBAA2BpiG,KAAKmiG,0BAA0BhlE,iBAInEn9B,MAAKoiG,yBAA2BpiG,KAAKmiG,0BAA0BhlE,YAGvE,IAAIklE,EAIJ,IAHI/iE,IACA+iE,EAAoB9iE,UAAQD,EAAQ,MAAQoL,IAE5C23D,EAAmB,CACnB,GAAIC,OAA4B,EAE5BA,GADAtiG,KAAK1F,OAAOgd,qBACgBtX,KAAK1F,OAAO4H,SAASgzB,UAAUvb,OAAO,SAAU5b,GACxE,MAAOC,UAASD,EAAK0lC,aAAa,iBAAkB,IAAM,GAAMzlC,SAASqkG,EAAkB5+D,aAAa,iBAAkB,IAAM,IACjI,GAGyBzjC,KAAK1F,OAAO4H,SAASgzB,UAAUl3B,SAASqkG,EAAkB5+D,aAAa,iBAAkB,IAAM,GAE/HzjC,KAAKwgG,kBAAkB8B,GACvBtiG,KAAK0gG,iBAAiB4B,IACjBznG,oBAAkBynG,IAA8BA,EAA0B7+D,aAAa,cAAgBzjC,KAAKmiG,0BAA0B1+D,aAAa,cAChJvpC,EAAaolC,EAAQ,4BACzBt/B,KAAK1F,OAAO0kE,qBAAmC,aAAI,UACnDh/D,KAAKshG,eAET,IAAIiB,GAAOviG,KAAK1F,OACZkoG,EAAS,EACTC,EAAaF,EAAKrlE,cAClBl9B,KAAK1F,OAAO4iC,cAAcp3B,QAAQq3B,aAAe,EACjDulE,EAAiB1iG,KAAK1F,OAAO6nC,cAAcogE,EAAKz8F,SAChDqvB,EAAgBotE,EAAKrgG,SAAS+pF,mBAAmB9uD,aAAeulE,EAAe1xE,IAAMyxE,EACrF5wE,EAAY0wE,EAAKrgG,SAAS41B,aAAa6qE,kBAAkB9wE,SACxDh3B,qBAAkBynG,KACnB50B,EAAoB40B,EAA0BhmE,UAAYzK,EAQ9D,IAEI+wE,KAPAJ,EADAxiG,KAAK1F,OAAOgd,qBACHtX,KAAK1F,OAAO6nC,cAAcmgE,GAA2BtxE,IAGrD08C,EAAoBv4C,GAERn1B,KAAKoiG,yBACDI,GACH,EACtBK,EAAgBL,EAASI,EACzBE,EAAmBD,EAAgBD,EACnCG,EAAmBD,EAAmBF,EACtCI,EAAuB,cAAf58D,EAAMh2B,KAAwBg2B,EAAM45D,MAAWnlG,oBAAkBurC,EAAsB,gBAAyC,KAAnCA,EAAsB,eAAE,GAAG45D,MAChIiD,EAAeD,GAAQH,EACvBK,EAAsBF,EAAOH,GAAiBG,GAAQF,EACtDK,EAAsBH,EAAOF,GAAoBE,GAAQD,CAC7D,IAAIE,GAAgBC,GAAsBC,EAAoB,CAC1D,GAAIrgE,OAAa,EACjB,IAAI9iC,KAAK1F,OAAOgd,qBAAsB,CAClC,GAAI7X,GAAQO,KAAK1F,OAAO4H,SAASgzB,UAAUpoB,QAAQw1F,EACnDx/D,GAAa9iC,KAAK1F,OAAO06B,cAAcv1B,OAGvCqjC,GAAa9iC,KAAK1F,OAAO06B,cAAch3B,SAASskG,EAA0B7+D,aAAa,iBAAkB,IAAM,EAEnH,IAAIvH,GAAWx8B,WAAS,WAAYojC,GAChCsgE,EAAwBpjG,KAAK1F,OAAOyO,SAASmzB,GAC7Cpa,GAAU,CACe,kBAAzB9hB,KAAK1F,OAAOyd,UAAgC/X,KAAKkD,kBAAkBuZ,iBAAoB2mF,EAAsB3mF,iBAC5G5hB,oBAAkBuoG,EAAsB55F,aACzCxJ,KAAKkD,kBAAkBsG,WAAWkM,SAAW0tF,EAAsB55F,WAAWkM,SAC9EoM,GAAU,GAEVshF,GACApjG,KAAK2hG,gBAAgB3hG,KAAKkD,mBAAoBkgG,GAE9CthF,IACImhF,GAAqE,YAArDjjG,KAAK1F,OAAO0kE,qBAAmC,eAC/Dh/D,KAAK1F,OAAO0kE,qBAAmC,aAAI,QACnDh/D,KAAKkhG,oBACLlhG,KAAKyhG,kBACLzhG,KAAK6gG,0BACL7gG,KAAKghG,kBAAkBl+D,IAEvBogE,GAA2E,YAArDljG,KAAK1F,OAAO0kE,qBAAmC,eACrEh/D,KAAK1F,OAAO0kE,qBAAmC,aAAI,QACnDh/D,KAAK6gG,0BACL7gG,KAAK+gG,iBAAiBj+D,EAAW1N,UAAU,EAAM,kBAEjD+tE,GAA2E,YAArDnjG,KAAK1F,OAAO0kE,qBAAmC,eACrEh/D,KAAK1F,OAAO0kE,qBAAmC,aAAI,QACnDh/D,KAAK6gG,0BACL7gG,KAAKyhG,kBACLzhG,KAAKkhG,oBACLlhG,KAAKwgG,kBAAkB8B,GACvBtiG,KAAKghG,kBAAkBsB,OAM3C,GAAIrjD,IACArgB,QAAQ,EACR/H,YAAa,iBACb6lB,kBAAmB18C,KAAK08C,kBACxB3+C,KAAMiC,KAAKkD,oBAEY,IAAvBlD,KAAK+d,eACLkhC,EAAOpoB,YAAc,gBAEzB72B,KAAK1F,OAAOgc,QAAQ,cAAe2oC,EAAQ,SAAUjb,GACjD,IAAiC,4BAA7Bib,EAAOvC,mBAAgF,2BAA7BuC,EAAOvC,mBACjC,iBAA7BuC,EAAOvC,mBAAqE,kBAA7BuC,EAAOvC,mBACzB,qBAA7BuC,EAAOvC,mBAAyE,cAA7BuC,EAAOvC,mBAAkE,eAA7BuC,EAAOvC,mBAC5E,kBAA7BuC,EAAOvC,mBAAsE,qBAA7BuC,EAAOvC,mBAAyE,mBAA7BuC,EAAOvC,qBAC1GzrC,EAAM3W,OAAOm8B,eAAgB,EACzBxlB,EAAM3W,OAAOyhB,gBAAkB9K,EAAM3W,OAA8B,sBAAE,SAAS,CAC1E2W,EAAM3W,OAAOyhB,eAA4B,aACzC9K,EAAM3W,OAAOyhB,eAA4B,aAE7C,IAAI4T,KAC4D,KAA5D1e,EAAM3W,OAAOyhB,eAAkC,kBAAEpgB,QACjDsV,EAAMoqF,WAAY,EAClB1rE,EAAwB,mBACxBA,EAAe,OAAIsvB,EAAOvC,kBAC1BzrC,EAAM3W,OAAOyhB,eAAqC,uBAClD9K,EAAM3W,OAAOyhB,eAAkC,kBAAE9K,EAAM3W,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAKg0B,EAChH1e,EAAM3W,OAAO0I,WAAwB,aAAI,EACzCiO,EAAM3W,OAAOyhB,eAA+B,mBAEvC9K,EAAM3W,OAAO0I,WAAwB,cAC1CiO,EAAMoqF,WAAY,EAClB1rE,EAAwB,mBACxBA,EAAe,OAAIsvB,EAAOvC,kBAC1BzrC,EAAM3W,OAAOyhB,eAAqC,uBAClD9K,EAAM3W,OAAOyhB,eAAkC,kBAAE9K,EAAM3W,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAKg0B,EAChH1e,EAAM3W,OAAO0I,WAAwB,aAAI,EACzCiO,EAAM3W,OAAOyhB,eAA+B,oBAIrC,IAAfioB,EAAIpF,SACC/jC,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,eAA+B3lB,EAAM3W,OAAOm8B,cAC/HxlB,EAAM3W,OAAOi7B,cAERtkB,EAAM3W,OAAOm8B,eAClBxlB,EAAM3W,OAAOm7B,cAEjBxkB,EAAMksF,qBAAqB/2D,GAAO,IAGlCn1B,EAAM+qF,YAAY3B,cAAcppF,EAAM8M,oBAIxC/d,MAAK1F,OAAOymC,YAAe/gC,KAAK08C,mBACtC18C,KAAKg9F,yBAAyB52D,IAWtC60D,EAAYx6F,UAAU08F,qBAAuB,SAAU/mF,EAAGitF,GACtD,GAAIpyF,GAAQjR,KACRhB,KACAqV,EAAcrU,KAAK1F,OAAOmqB,iBAAiBqiB,kBAAkB9mC,KAAKw6F,mBACtE,IAA+B,OAA3Bx6F,KAAKkD,kBAA4B,CAGjC,GAFAlE,EAAKskG,cAAgBtjG,KAAKkD,kBAAkB1E,gBAC5CQ,EAAKjB,KAAOiC,KAAKkD,kBACY,iBAAzBlD,KAAK1F,OAAOyd,UAAmD,IAApB/Y,EAAKjB,KAAK6b,MACrD,MAEJ5a,GAAKqV,YAAcA,EACnBrV,EAAK09C,kBAAoB18C,KAAK08C,kBAC9B19C,EAAK09F,iBAAmB18F,KAAK08F,iBAC7B19F,EAAK4/B,QAAS,EACd5/B,EAAKmqE,aAAenpE,KAAKugG,aACzBvhG,EAAK+e,aAAe/d,KAAK+d,aACzB/d,KAAK08F,iBAAmB19F,EAAK09F,iBAC7B18F,KAAKglC,cAAgBhmC,EAAKsgC,OAASC,UAAQnpB,EAAEkpB,OAAQ,0BACrDt/B,KAAKujG,0BAA0BntF,GAC1BpW,KAAKwjG,UACNxjG,KAAKwjG,QAAUtlG,gBAAgB8B,KAAKkD,oBAAoB,GAAM,GAElE,IAAI6a,IAAsC,IAAvB/d,KAAK+d,aAAsB/d,KAAK+d,aAAe,IAClE,IAA+B,qBAA3B/d,KAAK08C,kBAA0C,CAE/C,GADA18C,KAAKyjG,YAAcvpG,EAAa8F,KAAKw6F,mBAAoB15D,GACrD9gC,KAAKkD,kBAAkB1E,gBAAgBmG,UAAY3E,KAAKkD,kBAAkB1E,gBAAgBmG,SAAShJ,OAAS,EAAG,CAC/GoiB,GAAgB,CAChB,KAASjgB,EAAI,EAAGA,EAAIkC,KAAKkD,kBAAkB1E,gBAAgBmG,SAAShJ,OAAQmC,IAAK,CAC7E,GAAI4lG,GAAgB1rE,SAAS5E,uBAAuB,sDAAsD,GAAU,MAChHuwE,EAAgB3jG,KAAK1F,OAAO24B,UAAYj1B,SAAS0lG,EAAqB,MAAG,IAAM,EAAI1lG,SAAS0lG,EAAoB,KAAG,IAAM,CACzHC,GAAe3jG,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS7G,GAAGif,OAAe,IAANjf,IAC3EigB,EAAejgB,GAEfkC,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS7G,EAAI,IACpD6lG,EAAe3jG,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS7G,EAAI,GAAGif,MAClE/c,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS7G,EAAI,GAAGggB,MAAQ6lF,EACnE3jG,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS7G,EAAI,GAAGggB,OACvDC,EAAejgB,EAAI,IAI/BkC,KAAK4jG,sBAAsBxtF,EAAG2H,OAEE,iBAA3B/d,KAAK08C,kBACV18C,KAAK6jG,mBAAmBztF,GAEQ,kBAA3BpW,KAAK08C,mBAAoE,mBAA3B18C,KAAK08C,kBACxD18C,KAAK8jG,oBAAoB1tF,GAEO,eAA3BpW,KAAK08C,mBAAiE,cAA3B18C,KAAK08C,mBAC1B,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBACnD18C,KAAK+jG,eAAe3tF,GAEY,2BAA3BpW,KAAK08C,mBACiB,4BAA3B18C,KAAK08C,oBACL18C,KAAKgkG,oCAAoC5tF,GACzCpW,KAAKikG,uBAAuB7tF,GAC5BpW,KAAKkkG,gBAET,IAAIlkG,KAAK1F,OAAO2kC,yBAAsD,iBAA3Bj/B,KAAK08C,mBAAmE,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBAA0C,CACjL,GAAIynD,GAAmBnkG,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAO++B,WACzD+qE,EAAcpkG,KAAK6/F,cAAczpF,GACjCm8B,GAAavhB,IAAKozE,EAAYpE,MAAOliF,KAAMsmF,EAAYliE,OACvDmiE,GAAQvmF,KAAM5K,KAAK6P,IAAIwvB,EAASz0B,KAAOqmF,EAAiBrmF,MAAOkT,IAAKuhB,EAASvhB,IAAMmzE,EAAiBnzE,IACxG,IAA6B,iBAAzBhxB,KAAK1F,OAAOyd,UAA+B/X,KAAK1F,OAAO6hC,mBAAoB,CAC3E,GAAIC,GAAep8B,KAAK1F,OAAO4gC,cAAcl7B,KAAKkD,kBAAkBsG,WAAWkM,OAC/E,KAAK1V,KAAK1F,OAAOk6B,qBAAuBx0B,KAAKkD,kBAAkBsG,aAAe4yB,EAAald,SAAU,CACjG,GAAIolF,GAAe,CACnB,IAAItmG,SAASgC,KAAKs7F,YAAmB,MAAEjjC,UAAW,IAAMr4D,KAAK1F,OAAO8mB,UAAW,CAC3E,IAAK,GAAItjB,GAAI,EAAGA,EAAIs+B,EAAalf,aAAavhB,QACtCygC,EAAalf,aAAapf,GAAGU,gBAAgBkX,SAC7C1V,KAAKkD,kBAAkB1E,gBAAgBkX,OAFO5X,IAG9CwmG,GAA8BtkG,KAAK1F,OAAO8mB,SAMlDijF,GAAIrzE,IAAMqzE,EAAIrzE,IAAMszE,IAIhCtkG,KAAKi8B,SAAWooE,EAAIrzE,GACpB,IAAIgxE,OAAS,EAETA,GADW,cAAX5rF,EAAEhG,MAAmC,eAAXgG,EAAEhG,MAAoC,aAAXgG,EAAEhG,KAC9CgG,EAAkB,eAAE,GAAG8rB,MAGvB9rB,EAAE8rB,MAEXliC,KAAK1F,OAAO24B,UACZjzB,KAAK8kB,UAAYu/E,EAAIvmF,KAAO5K,KAAK6P,IAAIi/E,EAAUhiG,KAAK1F,OAAO6nC,cAAcniC,KAAKw6F,oBAAyB,OACvE,IAA3Bx6F,KAAKk7F,kBAA0B8G,EAAShiG,KAAKk7F,kBAAoB,GAGtEl7F,KAAK8kB,UAAYu/E,EAAIvmF,MAAQkkF,EAAShiG,KAAK1F,OAAO6nC,cAAcniC,KAAKw6F,oBAAoB18E,OACzD,IAA3B9d,KAAKk7F,kBAA0B8G,EAAShiG,KAAKk7F,kBAAoB,GAE3C,IAA3Bl7F,KAAKk7F,oBACAl7F,KAAK1F,OAAO24B,WAIbjzB,KAAK8kB,UAAY9kB,KAAK8kB,UAAa9kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAoB,KAC3B,IAAlE/wB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,OACzD9d,KAAK8kB,UAAY9kB,KAAK8kB,UAAY,KALtC9kB,KAAK8kB,UAAY9kB,KAAK8kB,UAAY9kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MASnG9d,KAAKk7F,kBAAoB8G,MAGzBhiG,MAAK8kB,UAAY9kB,KAAKkD,kBAAkB1E,gBAAgBsf,IAE5D9d,MAAKukG,oBAAsBxmF,EAC3B/d,KAAKwkG,kBACLxkG,KAAKykG,mBACLzkG,KAAK+7F,aAA2B,cAAX3lF,EAAEhG,MAAmC,eAAXgG,EAAEhG,MAAoC,aAAXgG,EAAEhG,KAAuBgG,EAAkB,eAAE,GAAG8rB,MAAQ9rB,EAAE8rB,MAC9HliC,KAAKkD,kBAAkB1E,gBAAgBmG,WAA8B,IAAlBoZ,GACrD/d,KAAKg8F,YAAY3B,cAAct8E,GAE/BslF,GACArjG,KAAK0kG,oBAAoBtuF,GAE7BpW,KAAK1F,OAAOgc,QAAQ,iBAAkBtX,EAAM,SAAUglC,GAC9CA,EAAIpF,QAAsC,OAA5B3tB,EAAM/N,oBACpB+N,EAAM4rF,iBAAkB,EACxBx/C,QAAMpsC,EAAM/N,kBAAkB1E,gBAAiBwlC,EAAImlC,mBAYnE8xB,EAAYx6F,UAAU8iG,0BAA4B,SAAUn9D,GACxD,GAAIswC,GAAoB12E,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOmqB,iBAAiBsY,oBAC3E3mB,EAAIpW,KAAK6/F,cAAcz5D,GACvBmwC,EAAsBv2E,KAAK1F,OAAOwL,QAAQy5B,QAAQ,kBACtD,IAAIg3C,EAAqB,CACrB,GAAIupB,GAAQj4F,WAAWm1D,iBAAiBuZ,GAAqBwpB,KAC7D3pF,GAAE8rB,MAAQ9rB,EAAE8rB,MAAQ49D,EACpB1pF,EAAE4pF,MAAQ5pF,EAAE4pF,MAAQF,GAEpB1pF,EAAE8rB,OAAS9rB,EAAE4pF,SACThgG,KAAK1F,OAAO24B,UACZjzB,KAAKqgG,WAAantF,KAAK6P,IAAI3M,EAAE8rB,OAASw0C,EAAkB54D,KACpD5K,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,QAGtE9d,KAAKqgG,WAAajqF,EAAE8rB,MAAQw0C,EAAkB54D,KAC1C9d,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAEjE9d,KAAK62E,iBAAmB72E,KAAKqgG,WAC7BrgG,KAAKsgG,WAAalqF,EAAE4pF,MAAQtpB,EAAkB1lD,IAC1ChxB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IAEjE,IAAI2zE,GAAkD,2BAA3B3kG,KAAK08C,mBACD,4BAA3B18C,KAAK08C,iBAET,KAAM18C,KAAKkD,kBAAkB1E,gBAAgBue,MAAQ,GAAK/c,KAAKkD,kBAAkB1E,gBAAgBgD,eAA6C,qBAA3BxB,KAAK08C,mBAC/D,IAApD18C,KAAKkD,kBAAkB1E,gBAAgB+c,UAAsE,MAApDvb,KAAKkD,kBAAkB1E,gBAAgB+c,WACjGopF,EAAqB,CACrB,GAAIC,GAAS,CAETA,GADA5kG,KAAK1F,OAAO24B,UACH/f,KAAK6P,IAAI7P,KAAK6P,IAAI/iB,KAAKqgG,YAAcntF,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAC5G44D,EAAkB54D,MAGb9d,KAAKqgG,WAAargG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAChF44D,EAAkB54D,IAE1B,IAAI+mF,GAAS7kG,KAAKsgG,WAAatgG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IACpF0lD,EAAkB1lD,GACjB4zE,GAAS,GACVluB,EAAkB54D,KAAO9d,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmB7K,aACzElyB,KAAK8kG,WAAa9kG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAC3E9d,KAAK+kG,iBAAiB,UAEhBH,EAAS,GACfluB,EAAkB54D,KAAO9d,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmB7K,aAAelyB,KAAK1F,OAAO24B,WAClC,IAAlEjzB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MACzD9d,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAAQ,EACjE9d,KAAK8kG,WAAa9kG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAC3E9d,KAAK+kG,iBAAiB,UAEhBH,EAAS,GAAMluB,EAAkB54D,MACvC9d,KAAK8kG,WAAa9kG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,KAC3E9d,KAAK+kG,iBAAiB,SAEfF,EAAS,GAChBnuB,EAAkB1lD,IAAMhxB,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBI,cACxEn9B,KAAK8kG,WAAa9kG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IAC3EhxB,KAAK+kG,iBAAiB,WAEfF,EAAS,GAAMnuB,EAAkB1lD,KACxChxB,KAAK8kG,WAAa9kG,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,IAC3EhxB,KAAK+kG,iBAAiB,QAGtB/kG,KAAKglG,sBAIThlG,MAAKglG,mBAUb/J,EAAYx6F,UAAUskG,iBAAmB,SAAU72C,GAC/C,GAAIj9C,GAAQjR,IACZA,MAAKglG,iBACL,IAAI9tE,GAAW,CACfl3B,MAAKilG,YAAcvvE,OAAOwvE,YAAY,WAKlC,IAJqC,IAAjChyF,KAAKiyF,KAAKl0F,EAAM6zF,cAChB5tE,GAAY,EACZjmB,EAAM6zF,WAAa5xF,KAAK6P,IAAI9R,EAAM6zF,aAEpB,UAAd52C,EAAuB,CACvB,GAAIk3C,GAAgBn0F,EAAM3W,OAAOkqB,6BAC7BvT,EAAM3W,OAAOsX,eAAeohB,mBAAqB/hB,EAAM3W,OAAOsX,eAAeukB,kBACjFllB,GAAM6zF,WAAc7zF,EAAM6zF,WAAa,GAAMM,EACzCA,EAAiBn0F,EAAM6zF,WAAa,MAGxC7zF,GAAM6zF,WADa,WAAd52C,EACcj9C,EAAM6zF,WAAa,EAGlB7zF,EAAM6zF,WAAa,EAAK,EAAI,EAAK7zF,EAAM6zF,WAAa,CAE1D,YAAd52C,GAAwC,QAAdA,EAC1Bj9C,EAAM3W,OAAOmqB,iBAAiBC,aAAasS,aAAa/lB,EAAM6zF,YAG9D7zF,EAAM3W,OAAOmqB,iBAAiBC,aAAauS,cAAchmB,EAAM6zF,WAAY5tE,GAE/C,2BAA5BjmB,EAAMyrC,mBACyB,4BAA5BzrC,EAAMyrC,mBACTzrC,EAAMizF,iBAEX,IAQPjJ,EAAYx6F,UAAUukG,gBAAkB,WACpCtvE,OAAO2vE,cAAcrlG,KAAKilG,aAC1BjlG,KAAKilG,YAAc,MAUvBhK,EAAYx6F,UAAUsjG,eAAiB,SAAU3tF,GAC7C,GAAI1D,GAAO1S,KAAKkD,kBAAkB1E,gBAC9B4mG,EAAgBplG,KAAK1F,OAAOkqB,6BAC5BxkB,KAAK1F,OAAOsX,eAAeohB,mBAAqBhzB,KAAK1F,OAAOsX,eAAeukB,mBAC3EmvE,EAAkB,CACtB,IAAItlG,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,yBAC1CuF,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,mBAAoB,CAChE,GAAIkK,GAAW3E,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS4Q,IAAI,SAAUa,GAAK,MAAQu0B,OAAav0B,KACnGsH,EAAU/Y,EAAS3E,KAAK+d,aACxB/d,MAAKigG,WAAajgG,KAAKqgG,YACvBiF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKigG,WAAajgG,KAAKqgG,WAAergG,KAAKulG,kBAAoBvlG,KAAKqgG,WACzErgG,KAAKulG,kBAAoBvlG,KAAKqgG,WAC9B3iF,EAAQI,KAAOJ,EAAQI,KAAOwnF,IAG9BA,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKqgG,WAAargG,KAAKigG,WAAejgG,KAAKqgG,WAAargG,KAAKulG,kBAClEvlG,KAAKulG,kBAAoBvlG,KAAKqgG,WAC9B3iF,EAAQI,KAAOJ,EAAQI,KAAOwnF,EAElC,IAAIE,GAAkB7gG,EAAS3E,KAAK+d,aAAe,GAC/C0nF,EAAc9gG,EAAS3E,KAAK+d,aAAe,GAC3CD,MAAO,EAEPA,GADA9d,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,wBACpCijB,EAAQI,KAAQ0nF,EAAgB1nF,KAAO0nF,EAAgBzoF,MAAUyoF,EAAgB1nF,KAAO0nF,EAAgBzoF,MACzGW,EAAQX,MAAQW,EAAQI,KAAS2nF,EAAiB,KAAIA,EAAY3nF,KAAOJ,EAAQX,MAAQW,EAAQI,KAGhGJ,EAAQI,KAAQ0nF,EAAgB1nF,KAAO0nF,EAAgBzoF,MAAUyoF,EAAgB1nF,KAAO0nF,EAAgBzoF,MAC1GrK,EAAKoL,KAAOJ,EAAQX,MAAQW,EAAQI,MAASsnF,EACzCA,EAAgB1nF,EAAQX,MAASW,EAAQI,KAEtDJ,EAAQI,KAAOA,EACf9d,KAAK1F,OAAO8J,eAAe,WAAYO,EAAU+N,GAAM,GACvD1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,gBAEnE,CACGlD,KAAKigG,WAAajgG,KAAKqgG,YACvBiF,EAAkBtlG,KAAKigG,WAAajgG,KAAKqgG,YACnB,GAClBrgG,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,IAIvF4yF,EAAkBtlG,KAAKqgG,WAAargG,KAAKigG,WACzCjgG,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,GAEnFoL,GAAOpL,EAAKoL,KAAO,EAAI,EAAKpL,EAAKoL,KAAOpL,EAAKqK,OAAUqoF,EACtDA,EAAgB1yF,EAAKqK,MAASrK,EAAKoL,IACxC9d,MAAK1F,OAAO8J,eAAe,OAAQ0Z,EAAMpL,GAAM,KAIvDuoF,EAAYx6F,UAAUilG,sBAAwB,SAAUhzF,EAAMqa,EAAe44E,GAEzE,IAAkC,IAA9B3lG,KAAKukG,qBAA8B7xF,EAAK/N,SAAU,CAClD,GAAI4yC,GAAav3C,KAAKukG,qBAAuBvkG,KAAK+d,aAAe,EAAiC,IAA7B/d,KAAKukG,oBACtEvkG,KAAKukG,qBAAuB,EAC5BqB,EAAW5lG,KAAKukG,qBAAuBvkG,KAAK+d,aAAe/d,KAAKukG,oBAAsBvkG,KAAK+d,YAC/F,KAAoB,IAAhBw5B,EACA,IAAK,GAAIz5C,GAAIy5C,EAAYz5C,EAAI8nG,EAAU9nG,IAEnCivB,GADera,EAAK/N,SAAS7G,EAAI,SAAY4U,EAAK/N,SAAS7G,GAAGggB,KAAOpL,EAAK/N,SAAS7G,GAAGif,OAgBlG,MAVIrK,GAAK/N,UAAY+N,EAAK/N,SAAShJ,OAAS,IACxCgqG,EAAiB3lG,KAAKgT,mBAAmBN,EAAK/N,UAAY3E,KAAK1F,OAAO0nB,YAItE2jF,EAHajzF,EAAK/N,SAASqU,OAAO,SAAU+D,EAAOW,GAC/C,MAAOX,GAAQW,EAAQX,OACxB,IAGHgQ,EAAgB44E,IAChB54E,EAAgB44E,IAEX54E,cAAeA,EAAe44E,eAAgBA,IAU3D1K,EAAYx6F,UAAUmjG,sBAAwB,SAAUxtF,EAAG2H,GACvD,GAAIrL,GAAO1S,KAAKkD,kBAAkB1E,gBAC9BqnG,EAAiB,EACjBC,EAAepzF,EAAKqa,aACpB/sB,MAAKigG,WAAajgG,KAAKqgG,WACnBrgG,KAAKqgG,WAAa3tF,EAAKoL,MACtB9d,KAAKqgG,WAAc3tF,EAAKoL,KAAOpL,EAAKqK,OAAWrK,EAAKoL,KAAO,GAC5D+nF,EAAiB7lG,KAAKqgG,WAAa3tF,EAAKoL,KACxC9d,KAAK1F,OAAO8J,eAAe,gBAAiByhG,EAAgBnzF,GAAM,IAG9D1S,KAAKqgG,YAAe3tF,EAAKoL,KAAOpL,EAAKqK,MACrC/c,KAAK1F,OAAO8J,eAAe,gBAAiBsO,EAAKqK,MAAOrK,GAAM,GAG9D1S,KAAK1F,OAAO8J,eAAe,gBAAiB,EAAGsO,GAAM,GAKzD1S,KAAKqgG,WAAa3tF,EAAKoL,MACtB9d,KAAKqgG,WAAc3tF,EAAKoL,KAAOpL,EAAKqK,OACrC8oF,EAAiB7lG,KAAKqgG,WAAa3tF,EAAKoL,KACxC9d,KAAK1F,OAAO8J,eAAe,gBAAiByhG,EAAgBnzF,GAAM,IAG9D1S,KAAKqgG,YAAc3tF,EAAKoL,KACxB9d,KAAK1F,OAAO8J,eAAe,gBAAiB,EAAGsO,GAAM,GAGrD1S,KAAK1F,OAAO8J,eAAe,gBAAiBsO,EAAKqK,MAAOrK,GAAM,EAI1E,IAAIqzF,GAAarzF,EAAKqa,cAAgBra,EAAKqK,MACvCrK,EAAKqK,MAAQrK,EAAKqa,aACtBg5E,GAAarzF,EAAKqa,cAAgB,EAAI,EAAIra,EAAKqa,eACzB,IAAlBhP,GAAwBA,EAIxB/d,KAAK1F,OAAO8J,eAAe,gBAAiB0hG,EAAcpzF,GAAM,GAHhE1S,KAAK1F,OAAO8J,eAAe,gBAAiB2hG,EAAYrzF,GAAM,GAKlE1S,KAAK23E,cAAgBouB,CACrB,IAAIlzC,GAAOngD,EAAKqK,MAAQrK,EAAKqa,aAEzB/sB,MAAKgmG,qBADLnzC,GAAQ,EACoB,EAAIA,EAGJ,GAUpCooC,EAAYx6F,UAAUojG,mBAAqB,SAAUztF,GACjD,GAAI1D,GAAO1S,KAAKkD,kBAAkB1E,gBAC9B8mG,EAAkB,CAClBtlG,MAAKw6F,mBAAmBhgG,UAAUC,SAAS,wBAA0BiY,EAAK/N,SAAShJ,OAAS,EAC5FqE,KAAKimG,0BAA0BvzF,IAG3B1S,KAAKigG,WAAajgG,KAAKqgG,WACnBrgG,KAAKqgG,WAAc3tF,EAAKoL,KAAOpL,EAAKqK,OACpCuoF,EAAkBtlG,KAAKigG,WAAajgG,KAAKqgG,WACrC3tF,EAAKoL,KAAO,IACZ9d,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,GACnF1S,KAAK1F,OAAO8J,eAAe,QAASpE,KAAKugG,aAAaxjF,MAAQuoF,EAAiB5yF,GAAM,KAIrF1S,KAAKqgG,WAAc3tF,EAAKoL,KAAOpL,EAAKqK,QACpCuoF,EAAkBtlG,KAAKigG,WAAajgG,KAAKqgG,WACzCrgG,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,GACnF1S,KAAK1F,OAAO8J,eAAe,QAAS,EAAGsO,GAAM,IAKjD1S,KAAKqgG,WAAc3tF,EAAKoL,KAAOpL,EAAKqK,OACpCuoF,EAAkBtlG,KAAKqgG,WAAargG,KAAKigG,WACpCvtF,OAAcA,EAAKoL,KAAOpL,EAAKqK,OAC9B/c,KAAKugG,aAAaziF,KAAOwnF,GAAqBtlG,KAAKugG,aAAaziF,KAAO9d,KAAKugG,aAAaxjF,QAC3F/c,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,GACnF1S,KAAK1F,OAAO8J,eAAe,QAASpE,KAAKugG,aAAaxjF,MAAQuoF,EAAiB5yF,GAAM,MAIzF4yF,EAAkBtlG,KAAKqgG,WAAargG,KAAKigG,WACzCjgG,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAKugG,aAAaziF,KAAOwnF,EAAiB5yF,GAAM,GACnF1S,KAAK1F,OAAO8J,eAAe,QAAS,EAAGsO,GAAM,IAGjDA,EAAK/N,UAAqC,IAAzB+N,EAAK/N,SAAShJ,SAC/B+W,EAAK/N,SAAS,GAAGoY,MAAQrK,EAAKqK,OAElC/c,KAAKkmG,mBAAmB9vF,EAAG1D,GAC3B1S,KAAK1F,OAAO8J,eAAe,OAASpE,KAAKugG,aAAaziF,KAAO9d,KAAKugG,aAAaxjF,MAAQrK,EAAKqK,MAAQrK,GAAM,KAGlHuoF,EAAYx6F,UAAUwlG,0BAA4B,SAAUvzF,GACxD,GAAI/N,GAAW3E,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS4Q,IAAI,SAAUa,GAAK,MAAQu0B,OAAav0B,KACnGsH,EAAU/Y,EAAS3E,KAAK+d,cACxBunF,EAAkB,CAEtB,IAAItlG,KAAKigG,WAAajgG,KAAKqgG,WACvB,GAAIrgG,KAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQX,MAAQW,EAAQI,MAKvD,GAJAwnF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKigG,WAAajgG,KAAKqgG,WAAergG,KAAKulG,kBAAoBvlG,KAAKqgG,WACzErgG,KAAKulG,kBAAoBvlG,KAAKqgG,WAE1B3iF,EAAQI,KAAO,GAGf,GAFAJ,EAAQI,KAAOJ,EAAQI,KAAOwnF,EAC9B5nF,EAAQX,MAAQW,EAAQX,MAAQuoF,EACN,IAAtBtlG,KAAK+d,aAAoB,CACzB,GAAIynF,GAAkB7gG,EAAS3E,KAAK+d,aAAe,EACnD,IAAKrL,EAAKoL,KAAOJ,EAAQI,KAASpL,EAAKoL,KAAO0nF,EAAgB1nF,KAAO0nF,EAAgBzoF,MAAQ,CACzF,GAAI61B,GAAclgC,EAAKoL,KAAO0nF,EAAgB1nF,KAAO0nF,EAAgBzoF,OAAUrK,EAAKoL,KAAOJ,EAAQI,KACnGJ,GAAQX,OAAS61B,EACjBl1B,EAAQI,KAAOJ,EAAQI,KAAO80B,QAIrC,IAAIl1B,EAAQI,MAAQ,GAA2B,IAAtB9d,KAAK+d,aAAoB,CACnD/d,KAAK1F,OAAO8J,eAAe,OAAQsO,EAAKoL,KAAOwnF,EAAiB5yF,GAAM,GACtE1S,KAAK1F,OAAO8J,eAAe,QAASsO,EAAKqK,MAAQuoF,EAAiB5yF,GAAM,GACxEgL,EAAQX,MAAQW,EAAQX,MAAQuoF,CAChC,KAASxnG,EAAI,EAAGA,EAAI4U,EAAK/N,SAAShJ,OAAQmC,IAAK,CAC3C,GAAIqoG,GAAYxhG,EAAS7G,EACzBqoG,GAAUroF,KAAOqoF,EAAUroF,KAAOwnF,QAKtCtlG,MAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQX,MAAQW,EAAQI,OACvDwnF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKigG,WAAajgG,KAAKqgG,WAAergG,KAAKulG,kBAAoBvlG,KAAKqgG,WACzErgG,KAAKulG,kBAAoBvlG,KAAKqgG,WAC9B3iF,EAAQI,KAAOJ,EAAQI,KAAOwnF,EAC9B5nF,EAAQX,MAAQ/c,KAAK1F,OAAO0nB,iBAMpC,IAAIhiB,KAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQX,MAAQW,EAAQI,KAAO9d,KAAK1F,OAAO0nB,YAK1E,GAJAsjF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKqgG,WAAargG,KAAKigG,WAAejgG,KAAKqgG,WAAargG,KAAKulG,kBAClEvlG,KAAKulG,kBAAoBvlG,KAAKqgG,WAEJ,IAAtBrgG,KAAK+d,cAAsBL,EAAQI,MAAQ,EAAG,CAC9C9d,KAAK1F,OAAO8J,eAAe,OAAQsO,EAAKoL,KAAOwnF,EAAiB5yF,GAAM,GACtE1S,KAAK1F,OAAO8J,eAAe,QAASsO,EAAKqK,MAAQuoF,EAAiB5yF,GAAM,GACxEgL,EAAQX,MAAQW,EAAQX,MAAQuoF,CAChC,KAASxnG,EAAI,EAAGA,EAAI4U,EAAK/N,SAAShJ,OAAQmC,IAAK,CAC3C,GAAIsoG,GAAYzhG,EAAS7G,EACzBsoG,GAAUtoF,KAAOsoF,EAAUtoF,KAAOwnF,OAIhC5nF,QAAiBA,EAAQI,KAAOJ,EAAQX,OAC5CW,EAAQI,KAAOwnF,GAAqB5nF,EAAQI,KAAOJ,EAAQX,QAC7DW,EAAQI,KAAOJ,EAAQI,KAAOwnF,EAC9B5nF,EAAQX,MAAQW,EAAQX,MAAQuoF,OAKpC,IAAItlG,KAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQI,KAAOJ,EAAQX,OAClDW,EAAQX,MAAQ/c,KAAK1F,OAAO0nB,YAQ5B,GAPAsjF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKqgG,WAAargG,KAAKigG,WAAejgG,KAAKqgG,WAAargG,KAAKulG,kBAClEvlG,KAAKulG,kBAAoBvlG,KAAKqgG,WAI9BiF,GAH2B5nF,EAAQX,MAAQuoF,EAAmBtlG,KAAK1F,OAAO0nB,YACtEhiB,KAAK1F,OAAO0nB,YAActE,EAAQX,MAC9B/c,KAAK1F,OAAO0nB,YAActE,EAAQX,MAAQW,EAAQX,MAAQ/c,KAAK1F,OAAO0nB,YAAc,EAElE,IAAtBhiB,KAAK+d,aAAoB,CACzB/d,KAAK1F,OAAO8J,eAAe,QAASsO,EAAKqK,MAAQuoF,EAAiB5yF,GAAM,GACxE1S,KAAK1F,OAAO8J,eAAe,OAAQsO,EAAKoL,KAAOwnF,EAAiB5yF,GAAM,GACtEgL,EAAQX,MAAQW,EAAQX,MAAQuoF,CAChC,KAAK,GAAIxnG,GAAI,EAAGA,EAAI4U,EAAK/N,SAAShJ,OAAQmC,IAAK,CAC3C,GAAIuoG,GAAY1hG,EAAS7G,EACzBuoG,GAAUvoF,KAAOuoF,EAAUvoF,KAAOwnF,OAItC5nF,GAAQI,KAAOJ,EAAQI,KAAOwnF,EAC9B5nF,EAAQX,MAAQW,EAAQX,MAAQuoF,CAMpDtlG,MAAK1F,OAAO8J,eAAe,WAAYO,EAAU+N,GAAM,GACvD1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,aASxE+3F,EAAYx6F,UAAUylG,mBAAqB,SAAU9vF,EAAG1D,GACpD1S,KAAKsmG,kBAAkB5zF,GACvB1S,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAiBpK,EAAKqK,MAAOrK,EAAK6I,UAAW7I,GAAM,IAS7HuoF,EAAYx6F,UAAU6lG,kBAAoB,SAAU5zF,GAC5CA,EAAKqK,OAAS,GACd/c,KAAK1F,OAAO8J,eAAe,QAAS,EAAGsO,GAAM,GAC7C1S,KAAK1F,OAAO8J,eAAe,eAAe,EAAMsO,GAAM,GACjD7X,oBAAkBmF,KAAKkD,kBAAkBlD,KAAK1F,OAAOmE,WAAWwG,aACjEjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAMjF,KAAKkD,mBAAmB,KAI/FlD,KAAK1F,OAAO8J,eAAe,QAASsO,EAAKqK,MAAOrK,GAAM,GACtD1S,KAAK1F,OAAO8J,eAAe,eAAe,EAAOsO,GAAM,GAClD7X,oBAAkBmF,KAAKkD,kBAAkBlD,KAAK1F,OAAOmE,WAAWwG,aACjEjF,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWwG,WAAW,EAAOjF,KAAKkD,mBAAmB,KAWxG+3F,EAAYx6F,UAAUqjG,oBAAsB,SAAU1tF,GAClD,GAAI1D,GAAO1S,KAAKkD,kBAAkB1E,gBAC9B8mG,EAAkB,CACtB,IAAItlG,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,wBAA0BiY,EAAK/N,SAAShJ,OAAS,EAAG,CAC/F,GAAIgJ,GAAW3E,KAAKkD,kBAAkB1E,gBAAgBmG,SAAS4Q,IAAI,SAAUa,GAAK,MAAQu0B,OAAav0B,KACnGsH,EAAU/Y,EAAS3E,KAAK+d,aAC5B,IAAI/d,KAAKigG,WAAajgG,KAAKqgG,YACvB,GAAIrgG,KAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQI,MAAU9d,KAAKigG,WAAajgG,KAAKqgG,WAAc,EACtFiF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKigG,WAAajgG,KAAKqgG,WAAergG,KAAKulG,kBAAoBvlG,KAAKqgG,WACzErgG,KAAKulG,kBAAoBvlG,KAAKqgG,WAC9B3iF,EAAQX,MAAQW,EAAQX,MAAQuoF,MAGhC,IAAItlG,KAAKqgG,WAAc3tF,EAAKoL,KAAOJ,EAAQI,KAAO,CAC9C,GAAIyoF,GAAgBvmG,KAAK1F,OAAOsX,eAAe4Y,eAC4B,SAAtExqB,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,MACS,SAAnE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQjV,MACY,YAAtE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,MACM,YAAnE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQjV,OACS,SAAtE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,MACY,YAAtE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWrG,KACjE5M,KAAK1F,OAAOsX,eAAegQ,uBAAuBitB,iBAClD7uC,KAAK1F,OAAO0nB,WAChBtE,GAAQX,MAAQwpF,OAKpBvmG,MAAKqgG,WAAa3iF,EAAQI,OAC1BwnF,EAAkBzqG,oBAAkBmF,KAAKulG,mBACpCvlG,KAAKqgG,WAAargG,KAAKigG,WAAejgG,KAAKqgG,WAAargG,KAAKulG,kBAClEvlG,KAAKulG,kBAAoBvlG,KAAKqgG,WAC9B3iF,EAAQX,MAAQW,EAAQX,MAAQuoF,EAGxC,IAAIvoF,OAAQ,GACR0oF,EAAczlG,KAAK+d,eAAiBpZ,EAAShJ,OAAS,EAAIgJ,EAAS3E,KAAK+d,aAAe,GAAK,IAC3FljB,qBAAkB4qG,KACdzlG,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,oBAC5CsiB,EAASW,EAAQI,KAAOJ,EAAQX,MAAS0oF,EAAY3nF,KAAQ2nF,EAAY3nF,KAAOJ,EAAQI,KAAQJ,EAAQX,OAE5GW,EAAQX,MAAQA,GAEhB/c,KAAK+d,eAAiBrL,EAAK/N,SAAShJ,OAAS,GACnB,IAAtBqE,KAAK+d,cACL/d,KAAK1F,OAAO8J,eAAe,QAASsZ,EAAQX,MAAOrK,GAAM,GAGjE1S,KAAK1F,OAAO8J,eAAe,WAAYO,EAAU+N,GAAM,GACvD1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,gBAGhElD,MAAKigG,WAAajgG,KAAKqgG,WACnBrgG,KAAKqgG,WAAa3tF,EAAKoL,MAAS9d,KAAKigG,WAAajgG,KAAKqgG,WAAc,GACrEiF,EAAkBtlG,KAAKigG,WAAajgG,KAAKqgG,WACzCrgG,KAAK1F,OAAO8J,eAAe,QAASpE,KAAKugG,aAAaxjF,MAAQuoF,EAAiB5yF,GAAM,IAGjF1S,KAAKqgG,WAAa3tF,EAAKoL,MACvB9d,KAAK1F,OAAO8J,eAAe,QAAS,EAAGsO,GAAM,GAKjD1S,KAAKqgG,WAAa3tF,EAAKoL,OACvBwnF,EAAkBtlG,KAAKqgG,WAAargG,KAAKigG,WACzCjgG,KAAK1F,OAAO8J,eAAe,QAASpE,KAAKugG,aAAaxjF,MAAQuoF,EAAiB5yF,GAAM,IAGzFA,EAAK/N,UAAqC,IAAzB+N,EAAK/N,SAAShJ,SAC/B+W,EAAK/N,SAAS,GAAGoY,MAAQrK,EAAKqK,OAElC/c,KAAKkmG,mBAAmB9vF,EAAG1D,IASnCuoF,EAAYx6F,UAAUgkG,iBAAmB,WACrC,GACI3mF,GACAhV,EACA/N,EACAD,EAJA4X,EAAO1S,KAAKkD,kBAAkB1E,eAKlC,QAAQwB,KAAK08C,mBACT,IAAK,mBAEG,GAAI3vB,GAAgBra,EAAKqa,cACrB44E,EAAiBjzF,EAAKqK,MACtBypF,EAAgBxmG,KAAK0lG,sBAAsBhzF,EAAMqa,EAAe44E,EACpE3lG,MAAK1F,OAAO8J,eAAe,WAAYpE,KAAKymG,mBAAmBD,EAAcb,eAAgBa,EAAcz5E,eAAgBra,GAAM,EACjI,MAER,KAAK,gBAC0B,IAAvB1S,KAAK+d,cACLD,EAAO9d,KAAK0mG,qBAAqBh0F,EAAM1S,KAAK08F,kBAC5C5zF,EAAmB9I,KAAK2mG,cAAc7oF,GAClCjjB,oBAAkB6X,EAAK3X,WACvBA,EAAUiF,KAAK1F,OAAOoE,qBAAqBiL,gBAAgB+I,GAC3D1S,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAAS2X,GAAM,IAEzD5X,EAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB4J,EAAM,MACpF1S,KAAK1F,OAAO8J,eAAe,YAAa,GAAItH,MAAKhC,EAAUoG,WAAYwR,GAAM,GACO,IAAhF1S,KAAK1F,OAAOoE,qBAAqB+F,aAAaiO,EAAK5X,UAAW4X,EAAK3X,UAChEF,oBAAkB6X,EAAKlR,eAAqC,IAArBkR,EAAKlR,aAA2C,IAAlBkR,EAAK1X,UAC7EgF,KAAK1F,OAAO8J,eAAe,WAAY,EAAGsO,GAAM,GAEhDA,EAAKlR,aACLxB,KAAK1F,OAAO8J,eAAe,UAAW,GAAItH,MAAKhC,EAAUoG,WAAYwR,GAAM,GAE/E1S,KAAK1F,OAAOoE,qBAAqBgG,kBAAkB1E,KAAKkD,mBACxDlD,KAAK1F,OAAO0I,WAAW21F,4BAA4B34F,KAAKkD,kBAAmB,aAG3ElD,KAAK4mG,sBAAsBl0F,EAE/B,MACJ,KAAK,gBACL,IAAK,iBACD,IAA2B,IAAvB1S,KAAK+d,aAAqB,CAC1BD,EAAO9d,KAAK6mG,mBAAmBn0F,EAAM1S,KAAK08F,iBAC1C,IAAIl4F,GAAcxE,KAAK2mG,cAAc7oF,EACjCjjB,qBAAkB6X,EAAK5X,aACvBA,EAAYkF,KAAK1F,OAAOoE,qBAAqBuK,kBAAkByJ,GAC/D1S,KAAK1F,OAAO8J,eAAe,YAAatJ,EAAW4X,GAAM,GAE7D,IAAIo0F,GAAWjsG,oBAAkB6X,EAAK5X,WAAaA,EAAY4X,EAAK5X,SACpEC,GAAU2X,EAAKlR,YAAcslG,EACzB9mG,KAAK1F,OAAOoE,qBAAqBqE,aAAayB,EAAaxE,KAAKkD,kBAAkB1E,iBACtFwB,KAAK1F,OAAO8J,eAAe,UAAW,GAAItH,MAAK/B,EAAQmG,WAAYwR,GAAM,GACzE1S,KAAK1F,OAAOoE,qBAAqBgG,kBAAkB1E,KAAKkD,mBACxDlD,KAAK1F,OAAO0I,WAAW21F,4BAA4B34F,KAAKkD,kBAAmB,gBAG3ElD,MAAK+mG,yBAAyBr0F,EAElC,MACJ,KAAK,aACL,IAAK,YACL,IAAK,gBACL,IAAK,oBAC0B,IAAvB1S,KAAK+d,cAA6C,IAAtB/d,KAAK+d,eAA8C,IAAvB/d,KAAK+d,cAAuB/d,KAAK1F,OAAO2kC,wBAChGj/B,KAAKgnG,gBAAgBt0F,GAGrB1S,KAAKinG,iBAAiBv0F,GAI7B7X,oBAAkBmF,KAAKkD,kBAAkB1E,gBAAgBmG,WAC1D3E,KAAK1F,OAAOkb,gBAAgBC,cAAczV,KAAKkD,kBAAkB1E,gBAAgBmG,SAAU3E,KAAKkD,kBAAkB1E,gBAAgBkX,SAG1IulF,EAAYx6F,UAAUumG,gBAAkB,SAAUt0F,GAC9C,GAEI3X,GAFA+iB,EAAO9d,KAAK0mG,qBAAqBh0F,EAAM1S,KAAK08F,kBAC5C5zF,EAAmB9I,KAAK2mG,cAAc7oF,EAAMpL,EAAKlR,YAAakR,EAExC,KAAtB1S,KAAK+d,cACL/d,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB4J,EAAM,MAAOA,GAAM,GAC7HA,EAAK/N,SAAS,GAAG7J,UAAYgO,EAC7B4J,EAAK/N,SAAS,GAAG5J,QAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAW6N,EAAK/N,SAAS,GAAG7J,UAAW4X,EAAK/N,SAAS,GAAG3J,SAAU0X,EAAKvO,aAAcuO,GAAM,GAChJ1S,KAAK1F,OAAO8J,eAAe,WAAYsO,EAAK/N,SAAU+N,GAAM,GAC5D1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,YACpElD,KAAK1F,OAAOkb,gBAAgBqX,kBAAkBna,EAAK/N,SAAU,EAAG3E,KAAKkD,mBACrElD,KAAK1F,OAAO8J,eAAe,UAAWsO,EAAK/N,SAAS+N,EAAK/N,SAAShJ,OAAS,GAAGZ,QAAS2X,GAAM,GAC7F1S,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWkG,SAAU+N,EAAK/N,SAAU3E,KAAKkD,mBAAmB,KAG5GrI,oBAAkB6X,EAAK3X,UAAYF,oBAAkB6X,EAAK5X,YAC3DC,EAAUiF,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB4J,EAAM,MAClF3X,EAAUiF,KAAK1F,OAAOoE,qBAAqBqE,aAAahI,EAASiF,KAAKkD,kBAAkB1E,iBACxFwB,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAAS2X,GAAM,KAGrD1S,KAAK1F,OAAO8J,eAAe,YAAapE,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB4J,EAAM,MAAOA,GAAM,GACxH7X,oBAAkB6X,EAAK1X,WACxBgF,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBvE,KAAKkD,qBAKvE+3F,EAAYx6F,UAAUmmG,sBAAwB,SAAUl0F,GACpD,GAAIgL,GAAUhL,EAAK/N,SAAS3E,KAAK+d,cAC7BD,EAA6B,IAAtB9d,KAAK+d,aAAqB/d,KAAK0mG,qBAAqBh0F,EAAM1S,KAAK08F,kBACtE18F,KAAK0mG,qBAAqBhpF,EAAS1d,KAAK08F,kBACxC5zF,EAAmB9I,KAAK2mG,cAAc7oF,GACtChjB,EAAYkF,KAAK1F,OAAO+J,cAAcvD,eAAegI,EAAkB4J,GAAM,GAC7E1X,EAAWgF,KAAK1F,OAAO+J,cAAca,YAAYpK,EAAW4iB,EAAQ3iB,QAAS2X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YAQ9H,IAPAkc,EAAQ5iB,UAAY,GAAIgC,MAAKhC,EAAUoG,WACvCwc,EAAQ1iB,SAAWA,EACnBgF,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKgF,cAAc0N,EAAK/N,UAAW+N,GAAM,GACtD,IAAtB1S,KAAK+d,cACL/d,KAAK1F,OAAO8J,eAAe,YAAasZ,EAAQ5iB,UAAW4X,GAAM,GAErE1S,KAAK1F,OAAO0I,WAAW21F,4BAA4B34F,KAAKkD,kBAAmB,aACtErI,oBAAkB6X,EAAK/N,SAAS3E,KAAK+d,aAAe,IAAK,CAC1D,GAAImpF,GAAwBlnG,KAAK1F,OAAO+J,cAAca,YAAYwN,EAAK/N,SAAS3E,KAAK+d,aAAe,GAAGhjB,QAAS2X,EAAK/N,SAAS3E,KAAK+d,cAAcjjB,UAAW4X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YACzMkc,GAAQ5Y,eAAiBoiG,EAE7BlnG,KAAK1F,OAAO8J,eAAe,WAAYsO,EAAK/N,SAAU+N,GAAM,GAC5D1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,aAExE+3F,EAAYx6F,UAAUsmG,yBAA2B,SAAUr0F,GACvD,GAAIgL,GAAUhL,EAAK/N,SAAS3E,KAAK+d,cAC7BD,EAAO9d,KAAK6mG,mBAAmBn0F,EAAM1S,KAAK08F,kBAC1Cl4F,EAAcxE,KAAK2mG,cAAc7oF,GACjC/iB,EAAUiF,KAAK1F,OAAO+J,cAActB,aAAayB,EAAakO,GAAM,GACpE1X,EAAWgF,KAAK1F,OAAO+J,cAAca,YAAYwY,EAAQ5iB,UAAWC,EAAS2X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YAI9H,IAHAkc,EAAQ3iB,QAAU,GAAI+B,MAAK/B,EAAQmG,WACnCwc,EAAQ1iB,SAAWA,GAEdH,oBAAkB6X,EAAK/N,SAAS3E,KAAK+d,aAAe,IAAK,CAC1D,GAAI0nF,GAAc/yF,EAAK/N,SAAS3E,KAAK+d,aAAe,GAChDopF,EAAgBnnG,KAAK1F,OAAO+J,cAAca,YAAYwN,EAAK/N,SAAS3E,KAAK+d,cAAchjB,QAAS0qG,EAAY3qG,UAAW4X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YACxKkc,GAAQ5Y,eAAiBqiG,EAE7BnnG,KAAK1F,OAAO8J,eAAe,WAAYsO,EAAK/N,SAAU+N,GAAM,GAC5D1S,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,YACpElD,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKgF,cAAc0N,EAAK/N,UAAW+N,GAAM,GAChF1S,KAAK1F,OAAO8J,eAAe,UAAWsO,EAAK/N,SAAS+N,EAAK/N,SAAShJ,OAAS,GAAGZ,QAAS2X,GAAM,GAC7F1S,KAAK1F,OAAO0I,WAAW21F,4BAA4B34F,KAAKkD,kBAAmB,aAE/E+3F,EAAYx6F,UAAUuE,cAAgB,SAAUL,GAE5C,IAAK,GADD3J,GAAW,EACN8C,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAEjC9C,GADc2J,EAAS7G,GACH9C,QAExB,OAAOA,IAEXigG,EAAYx6F,UAAUwmG,iBAAmB,SAAUv0F,GAC/C,GAAIgL,GAAUhL,EAAK/N,SAAS3E,KAAK+d,cAC7BzC,EAAetb,KAAK1F,OAAOmE,WAC3Bqf,EAAO9d,KAAK0mG,qBAAqBhpF,EAAS1d,KAAK08F,kBAC/C5zF,EAAmB9I,KAAK2mG,cAAc7oF,EAC1ChV,GAAmB9I,KAAK1F,OAAOoE,qBAAqBoC,eAAegI,EAAkB4J,EAAM,MAC3FgL,EAAQ5iB,UAAYgO,CACpB,IAAIs+F,GAAcpnG,KAAK1F,OAAO+J,cAAcQ,WAAW6Y,EAAQ5iB,UAAW4iB,EAAQ1iB,SAAU0X,EAAKvO,aAAcuO,GAAM,EAcrH,IAbIA,EAAK/N,SAAS3E,KAAK+d,aAAe,IAAMqpF,EAAYlmG,UAAYwR,EAAK/N,SAAS3E,KAAK+d,aAAe,GAAGjjB,UAAUoG,UAC/Gwc,EAAQ3iB,QAAU2X,EAAK/N,SAAS3E,KAAK+d,aAAe,GAAGjjB,UAGvD4iB,EAAQ3iB,QAAUqsG,EAEtB1pF,EAAQ1iB,SAAWgF,KAAK1F,OAAO+J,cAAca,YAAYwY,EAAQ5iB,UAAW4iB,EAAQ3iB,QAAS2X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,aAC1IxB,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAKgF,cAAc0N,EAAK/N,UAAW+N,GAAM,GAChF1S,KAAK1F,OAAO8J,eAAe,UAAWsO,EAAK/N,SAAS+N,EAAK/N,SAAShJ,OAAS,GAAGZ,QAAS2X,GAAM,GACxF7X,oBAAkBmF,KAAK1F,OAAOmE,WAAW1D,UAC1CiF,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,YAGnErI,oBAAkB6X,EAAK/N,SAAS3E,KAAK+d,aAAe,IAAK,CACtDjZ,EAAiB9E,KAAK1F,OAAO+J,cAAca,YAAYwN,EAAK/N,SAAS3E,KAAK+d,aAAe,GAAGhjB,QAAS2X,EAAK/N,SAAS3E,KAAK+d,cAAcjjB,UAAW4X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YAC/J,KAA/Bkc,EAAQ5iB,UAAUkS,UAAqC,IAAnBlI,GAAyB9E,KAAK1F,OAAOsG,iBACzEkE,EAAiB,GAErB4Y,EAAQ5Y,eAAiBA,EAG7B,IAAKjK,oBAAkB6X,EAAK/N,SAAS3E,KAAK+d,aAAe,IAAK,CAC1D,GAAI0nF,GAAc/yF,EAAK/N,SAAS3E,KAAK+d,aAAe,GAChDjZ,EAAiB9E,KAAK1F,OAAO+J,cAAca,YAAYwN,EAAK/N,SAAS3E,KAAK+d,cAAchjB,QAAS0qG,EAAY3qG,UAAW4X,EAAKvO,aAAcuO,EAAK/R,eAAgB+R,EAAKlR,YAClI,KAAnCikG,EAAY3qG,UAAUkS,UAAqC,IAAnBlI,GAAyB9E,KAAK1F,OAAOsG,iBAC7EkE,EAAiB,GAErB2gG,EAAY3gG,eAAiBA,EAEjC9E,KAAK1F,OAAO8J,eAAe,WAAYsO,EAAK/N,SAAU+N,GAAM,GAE5D1S,KAAKkD,kBAAkBoY,EAAa3W,UAAU3E,KAAK+d,cAAgB/d,KAAK1F,OAAO+J,cAAkC,mBAAEqZ,EAAS1d,KAAKkD,kBAAkBoY,EAAa3W,UAAU3E,KAAK+d,eAC/K/d,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKkD,kBAAmB,aAUxE+3F,EAAYx6F,UAAUomG,mBAAqB,SAAU7rF,EAAaqsF,GAC9D,GAAI1lF,GAAqD,SAA1C3hB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeqB,WACzFjT,KAAK1F,OAAOsX,eAAeiQ,QAC3BylF,EAAYtsF,EAAY+B,MAAQ/B,EAAY8C,IAChD,KAA2B,IAAvB9d,KAAK+d,cAAuB/C,EAAYrW,SAAShJ,OAAS,EAAG,CAC7D,GAAI+hB,GAAU1C,EAAYrW,SAAS3E,KAAK+d,aACxCupF,GAAYA,EAAYtsF,EAAY+B,MAAQW,EAAQX,MAAQW,EAAQI,KAExE,GAAIypF,GAAyB,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAcW,GAAY,EAAG,cACxGE,EAAgBxnG,KAAK1F,OAAO0nB,YAAehiB,KAAK1F,OAAO0nB,YAAculF,EACrEE,EAAgBD,EAAgBxnG,KAAK1F,OAAO0nB,WAKhD,QAJmBra,KAAf0/F,IACAA,GAAa,GAGZA,GAUA,GAAIA,EACL,GAAiB,SAAb1lF,EAAqB,CACrB,GAAI+lF,GAAU1nG,KAAK1F,OAAO0nB,YAAc,EACxCulF,GACK,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAcW,GAAY,EAAG,cAE9D,KADtBE,EAAiBxnG,KAAK1F,OAAO0nB,YAAc,GAAQhiB,KAAK1F,OAAO0nB,YAAc,GAAMulF,KAE/ED,EAAaA,EAAYE,EAAiBE,OAG7C,IAAiB,YAAb/lF,EAAwB,CAC7B,GAAIgmF,GAAa3nG,KAAK1F,OAAO0nB,gBAC7BulF,GACK,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAcW,GAAY,EAAG,gBAE9D,KADtBE,EAAiBxnG,KAAK1F,OAAO0nB,iBAA6BhiB,KAAK1F,OAAO0nB,iBAA2BulF,KAE7FD,EAAaA,EAAYE,EAAiBG,OAIxB,KAAlBH,IACAF,EAAaA,EAAYE,EAAiBxnG,KAAK1F,OAAO0nB,iBA9B5C,SAAbL,GAAoC,YAAbA,IACpB8lF,EAAgB,GAChBH,EAAYA,EAAYE,EAAgBxnG,KAAK1F,OAAO0nB,YAE/CylF,EAAgB,KACrBH,EAAaA,EAAYE,EAAkBxnG,KAAK1F,OAAO0nB,YAAc,GA6BjF,OAAOslF,IAUXrM,EAAYx6F,UAAUimG,qBAAuB,SAAU1rF,EAAaqsF,GAChE,GAAIvpF,IAAOjjB,oBAAkBmgB,GAAeA,EAAY8C,OAE7B,IAAvB9d,KAAK+d,cAAuBljB,oBAAkBmgB,EAAYrW,YAC1DmZ,EAAO9C,EAAY8C,KAAO9d,KAAKkD,kBAAkB1E,gBAAgBsf,KAErE,IAAI6D,GAAqD,SAA1C3hB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeqB,WACzFjT,KAAK1F,OAAOsX,eAAeiQ,QAC3B0lF,EAAyB,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAc7oF,EAAMjjB,oBAAkBmgB,GAAeA,EAAYxZ,YAAc,KAAMwZ,GAAc,EAAG,cACjL4sF,EAAa5nG,KAAK1F,OAAO0nB,YAAehiB,KAAK1F,OAAO0nB,YAAculF,EAClEM,EAAsBD,EAAa5nG,KAAK1F,OAAO0nB,WAgCnD,YA/BmBra,KAAf0/F,IACAA,GAAa,GAGZA,EAUIA,IACY,SAAb1lF,GACA4lF,EACK,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAc7oF,GAAO,EAAG,cAE/EA,GADA8pF,EAAc5nG,KAAK1F,OAAO0nB,YAAc,GAAQhiB,KAAK1F,OAAO0nB,YAAc,GAAMulF,GAG9D,YAAb5lF,GACL4lF,EACK,GAAKvnG,KAAK1F,OAAOsX,eAAe0kC,aAAat2C,KAAK2mG,cAAc7oF,GAAO,EAAG,gBAE/EA,GADA8pF,EAAc5nG,KAAK1F,OAAO0nB,iBAA6BhiB,KAAK1F,OAAO0nB,iBAA2BulF,GAI9FzpF,GAAc8pF,GAvBA,SAAbjmF,GAAoC,YAAbA,IACpBkmF,GAAuB,GACvB/pF,GAAc8pF,EAETC,EAAsB,KAC3B/pF,EAAQA,EAAO8pF,EAAc5nG,KAAK1F,OAAO0nB,YAAc,IAqB5DlE,GAWXm9E,EAAYx6F,UAAUkmG,cAAgB,SAAU7oF,EAAMtc,EAAausC,GAC/D,GAAI/gB,GAAa,GAAIlwB,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,YACnEmzC,EAAuB,MAAwBpxC,KAAK1F,OAAO0nB,YAC3D0vB,EAAiB,GAAI50C,MAAKkwB,EAqB9B,IAnBKhtB,KAAK1F,OAAO0jB,iBAAiBsE,YAK9BovB,EAAejwC,QAAQiwC,EAAexwC,UAAa4c,EAAOszB,GAH1DpkB,EADA0kB,EAAiB1xC,KAAK1F,OAAOsX,eAAey/B,qCAAqCvzB,EAAMkP,GAMvFhtB,KAAK1F,OAAOg3C,QAAQI,GACpB1kB,EAAWvrB,QAAQurB,EAAW9rB,WAAc4c,EAAQ9d,KAAK1F,OAAO0nB,YAAc,IAAOovB,GAGhFpxC,KAAK1F,OAAO0jB,iBAAiBsE,YAI9B0K,EAAWvrB,QAAQurB,EAAW9rB,UAAa4c,EAAOszB,GAHlDpkB,EAAa0kB,EAOjBlwC,IAAgB3G,oBAAkBkzC,EAAS1xB,mBAAmD,KAA9B0xB,EAAS1xB,iBAAyB,CAElG,GAAIjb,GAAapB,KAAK1F,OAA6B,qBAAEyzC,EAASptC,eAAiBotC,EAASzrC,YAAcyrC,EAAShzC,QAC/GiF,MAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAY4rB,GACrDA,EAAahtB,KAAK1F,OAAOoE,qBAAqBoC,eAAeksB,EAAY+gB,GAAU,GAEvF,GAAIpsB,GAAqD,SAA1C3hB,KAAK1F,OAAOsX,eAAeqB,WAAwBjT,KAAK1F,OAAOsX,eAAeiQ,QACzF7hB,KAAK1F,OAAOsX,eAAeqB,UAU/B,OATiB,SAAb0O,GAAoC,YAAbA,GACnB3hB,KAAK1F,OAAOg3C,QAAQ,GAAIx0C,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB5mB,eACzE+B,KAAK1F,OAAOg3C,QAAQtkB,IACrBA,EAAWvrB,QAAQurB,EAAW9rB,gBAM/B8rB,GAQXiuE,EAAYx6F,UAAU+jG,gBAAkB,WACpC,IAAK3pG,oBAAkBmF,KAAKs7F,aAAc,CACtC,GAAIyG,GAAiB/hG,KAAKs7F,YAAY5gG,aAClCsF,MAAK1F,OAAO2kC,yBAAsD,cAA3Bj/B,KAAK08C,kBAC5CqlD,EAAepuE,MAAM4e,SAAW,KAG5BvyC,KAAK1F,OAAOkqB,8BACZxkB,KAAK1F,OAAOsX,eAAeohB,mBAAuD,EAAlChzB,KAAK1F,OAAOwL,QAAQosB,YACpE6vE,EAAepuE,MAAM2qE,YAAY,WAAY,YAG7CyD,EAAepuE,MAAM2qE,YAAY,WAAY,YAIzD,GAAI5rF,GAAO1S,KAAKkD,kBAAkB1E,gBAC9B+zC,EAAWvyC,KAAK1F,OAAO24B,UAAY,QAAU,OAC7CvV,EAAW7iB,oBAAkB6X,EAAK/N,UAA+C,KAAnC+N,EAAK/N,SAAS3E,KAAK+d,cACjEhB,EAAmC,kBAA3B/c,KAAK08C,mBAAyChqC,EAAKlR,YAC3DxB,KAAK1F,OAAOkb,gBAAgBu2C,gBAAkBr5C,EAAKqK,MACnD+qF,EAAe9nG,KAAK1F,OAAOymC,WAAchkB,EAAQ,EAAMA,EAAQ,EAC9DliB,qBAAkB6iB,KACnBoqF,EAAe9nG,KAAK1F,OAAOymC,WAAcrjB,EAAQX,MAAQ,EAAMW,EAAQX,MAAQ,IAEnF/c,KAAKw6F,mBAAmB7mE,MAAM2qE,YAAY,UAAW,MACrD,IAAIxuE,EAEAA,GADA9vB,KAAK1F,OAAO2kC,0BAA4BvsB,EAAK/R,gBAAkBX,KAAKkD,kBAAkBuZ,gBAC/Dzc,KAAKw6F,mBAGHx6F,KAAKw6F,mBAAmBhgG,UAAUC,SAASqmC,GAEf9gC,KAAKw6F,mBAFoE,cAA3Bx6F,KAAK08C,mBACzE,iBAA3B18C,KAAK08C,mBAA+D,IAAtB18C,KAAK+d,aAA8DwhB,UAAQv/B,KAAKw6F,mBAAoB,MAAQ9vD,GACzJ7kC,cAAc,IAAMi7B,GADoD9gC,KAAKw6F,mBAAmB9/F,aAGzG,IAAIqtG,MAA6B/nG,KAAKw6F,mBAAmBhgG,UAAUC,SAAS,yBACxEuF,KAAKw6F,mBAAmB30F,cAAc,yBACtCmiG,EAAwBhoG,KAAKw6F,mBAAmB30F,cAAc,8BAC9DuqB,EAAoBpwB,KAAKw6F,mBAAmB30F,cAAc,IAAMspD,GAChEh/B,EAAuB43E,EAA4B7tG,EAAa8F,KAAKw6F,mBAAoB15D,GAA0Bj7B,cAAc,IAAM05F,GAA4Bv/F,KAAKw6F,mBAAmB30F,cAAc,IAAM05F,GAC/M0I,EAAsBjoG,KAAKw6F,mBAAmB30F,cAAc,4BAC5DqiG,EAAqBloG,KAAKw6F,mBAAmB30F,cAAc,2BAC3DsiG,EAAyBnoG,KAAKw6F,mBAAmB30F,cAAc,+BAC/DuiG,EAA2BpoG,KAAKw6F,mBAAmB30F,cAAc,qCACjEwiG,EAA6Bv4E,EAAqBjqB,cAAc,qCAChEyiG,EAAsBtoG,KAAKw6F,mBAC3Bt/B,EAAgBl7D,KAAKw6F,mBAAmB30F,cAAc,IAAMivD,GAG5DyzC,GAFoBvoG,KAAKw6F,mBAAmB30F,cAAc,sCACvC7F,KAAKw6F,mBAAmB30F,cAAc,qCAC5C7F,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBl3B,cAAc,yBAK/E,IAJI7F,KAAK1F,OAAO2kC,0BAA4Bj/B,KAAK87F,iBAC7C97F,KAAK8kB,UAAY9kB,KAAK8kB,UAAY,GAClC9kB,KAAK87F,gBAAiB,GAEK,4BAA3B97F,KAAK08C,mBACsB,2BAA3B18C,KAAK08C,kBAAgD,CACrD,GAA+B,mBAA3B18C,KAAK08C,mBAAqE,qBAA3B18C,KAAK08C,kBAA0C,CA4B9F,IA3BIqrD,GAA8BltG,oBAAkB6X,EAAK/N,WACtB,kBAA3B3E,KAAK08C,mBAA+D,IAAtB18C,KAAK+d,eAClDljB,oBAAkB0tG,MACdvoG,KAAK1F,OAAO2kC,yBAA4Bj/B,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0kE,sBAAmD,cAA3Bh/D,KAAK08C,mBAC9F,eAA3B18C,KAAK08C,qBACL6rD,EAAW50E,MAAM5W,MAASW,QAAiB,MAGnD1d,KAAKw6F,mBAAmB7mE,MAAM5W,MAASW,QAAiB,KACpD1d,KAAK1F,OAAO24B,UACZjzB,KAAKw6F,mBAAmB7mE,MAAMC,MAASlW,OAAgB,MAGvD1d,KAAKw6F,mBAAmB7mE,MAAM7V,KAAQJ,OAAgB,KACjD7iB,oBAAkB0tG,MACdvoG,KAAK1F,OAAO2kC,yBAA4Bj/B,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0kE,sBAAmD,cAA3Bh/D,KAAK08C,mBAC3F,eAA3B18C,KAAK08C,qBACR6rD,EAAW50E,MAAM7V,KAAQJ,EAAQI,KAAO9d,KAAKs7F,YAAY5gG,cAAcq/F,WAAc,QAKrGjqE,EAAqB6D,MAAM2qE,YAAY/rD,GAAWvyC,KAAK1F,OAAO2kC,wBAA0Bj/B,KAAK8kB,UAAapS,EAAU,MAAI,MACxHod,EAAqB6D,MAAM5W,MAAQ,EAAU,KACzCgrF,GAA6BM,IAC7BA,EAA2B10E,MAAM7V,MAAQ9d,KAAK1F,OAAOymC,WAAchkB,EAAQ,GAAOA,EAAQ,GAAM,MAEhG/c,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0kE,sBAAmD,iBAA3Bh/D,KAAK08C,mBACrD,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,kBAA0C,CAC7F,GAAIoxB,GAAS9tE,KAAK1F,OAAOgnB,cAAgB,CACzCwO,GAAqB6D,MAAM2qE,YAAY,MAAQt+F,KAAKi8B,SAAW6xC,EAAU,MACzEh+C,EAAqB6D,MAAMwsC,OAAS,IAExC,GAA+B,iBAA3BngE,KAAK08C,mBAA8D,IAAtB18C,KAAK+d,aAAoB,CACtE/d,KAAKw6F,mBAAmB7mE,MAAM2qE,YAAY,UAAW,MAGrD,KAAK,GADDlgC,GADWp+D,KAAKw6F,mBAAmB9/F,cACT04B,uBAAuB,uBAC5Ct1B,EAAI,EAAGA,EAAI4U,EAAK/N,SAAShJ,OAAQmC,IAAK,CAC3C,GAAI0qG,GAAY91F,EAAK/N,SAAS7G,GAC1B89D,EAAiBwC,EAAetgE,EACpC89D,GAAejoC,MAAM5W,MAASyrF,QAAmB,KACpB,IAAzB91F,EAAK/N,SAAShJ,QACd4sG,EAAW50E,MAAM5W,MAASyrF,QAAmB,KAC7CD,EAAW50E,MAAM2qE,YAAY/rD,EAAW7/B,OAAa,QAG3C,IAAN5U,IACAyqG,EAAW50E,MAAM5W,MAASyrF,QAAmB,KAC7CD,EAAW50E,MAAM2qE,YAAY/rD,EAAWi2D,EAAU1qF,KAAOpL,EAAKoL,KAAQ,OAEtE9d,KAAK1F,OAAO24B,UACZ2oC,EAAejoC,MAAMC,MAAS40E,OAAkB,KAGhD5sC,EAAejoC,MAAM7V,KAAQ0qF,OAAkB,OAKhC,cAA3BxoG,KAAK08C,oBAA4D,IAAtB18C,KAAK+d,eAA8C,IAAvB/d,KAAK+d,cAAuB/d,KAAK1F,OAAO2kC,2BAC/GspE,EAAW50E,MAAM5W,MAAQ,EAAU,KACnCwrF,EAAW50E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAO,MACnDgS,EAAqB6D,MAAM2qE,YAAY,UAAW,QAqB1D,GAlBI8J,IACIpoG,KAAK1F,OAAO24B,UACZm1E,EAAyBz0E,MAAM7V,MAAQ9d,KAAK1F,OAAOymC,WAAchkB,EAAQ,GAAOA,EAAQ,GAAM,KAG9FqrF,EAAyBz0E,MAAM7V,MAAQ9d,KAAK1F,OAAOymC,WAAchkB,EAAQ,GAAOA,EAAQ,GAAM,MAGlGqrF,GAAuD,iBAA3BpoG,KAAK08C,oBACjC0rD,EAAyBz0E,MAAM7V,KAAQf,EAAQ,EAAK,MAEpDoT,GAAwB63E,IAAqD,iBAA3BhoG,KAAK08C,mBAAmE,kBAA3B18C,KAAK08C,mBAAoE,cAA3B18C,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,qBAC5LvsB,EAAqBwD,MAAMkB,QAAU,OACrCmzE,EAAsBr0E,MAAMkB,QAAU,QAEtCuzE,GAAuD,qBAA3BpoG,KAAK08C,oBACjC0rD,EAAyBz0E,MAAMkB,QAAU,QAEd,kBAA3B70B,KAAK08C,mBAAyChqC,EAAKlR,YACnDsuB,EAAqB6D,MAAM2qE,YAAY/rD,GAAWvyC,KAAK1F,OAAO2kC,wBAA0Bj/B,KAAK8kB,UAAapS,EAAKoL,KAAQf,EAAQ,GAAO,MACtIwrF,EAAW50E,MAAM2qE,YAAY/rD,EAAW7/B,EAAKoL,KAAQf,EAAQ,EAAM,MACnEwrF,EAAW50E,MAAM5W,MAAQ,EAAU,SAElC,IAA+B,qBAA3B/c,KAAK08C,kBACV,IAA2B,IAAvB18C,KAAK+d,cAEL,GADAqS,EAAkBuD,MAAM2qE,YAAY/rD,EAAW7/B,EAAKoL,KAAOpL,EAAKqa,cAAgB,GAAM,OACjFlyB,oBAAkBmtG,GAAwB,CAC3CA,EAAsBr0E,MAAM5W,MAAQrK,EAAKqa,cAAgB,KACzDi7E,EAAsBr0E,MAAM80E,wBAA0BzoG,KAAKgmG,qBAAuB,KAClFgC,EAAsBr0E,MAAM+0E,qBAAuB1oG,KAAKgmG,qBAAuB,IAC/E,IAAI2C,GAAU3oG,KAAK1F,OAAO24B,UAAYvgB,EAAKqa,cAAgB,EAAIra,EAAKqa,cAAgB,CACpFoD,GAAqBwD,MAAM2qE,YAAY/rD,EAAUo2D,EAAU,WAG9D,CACD3oG,KAAK84F,sBAAsB94F,KAAKkD,kBAAkB1E,gBAElD,KAAK,GADDoqG,GAAmB94E,EAAqBuO,iBAAiB,8BACpD37B,EAAQ,EAAGA,EAAQkmG,EAAiBjtG,OAAQ+G,IAC7CgQ,EAAK/N,SAASjC,IAAUgQ,EAAK/N,SAASjC,GAAOqqB,eAAiB/sB,KAAK+d,eAAiBrb,IACpFkmG,EAAiBlmG,GAAc,MAAEmyB,QAAU,QAC3C+zE,EAAiBlmG,GAAOixB,MAAM5W,MAAQrK,EAAK/N,SAASjC,GAAOqqB,cAAgB,KAGnFi7E,GAAsBr0E,MAAM5W,MAAQrK,EAAK/N,SAAS3E,KAAK+d,cAAcgP,cAAgB,KACrFi7E,EAAsBr0E,MAAM80E,wBAA0BzoG,KAAKgmG,qBAAuB,KAClFgC,EAAsBr0E,MAAM+0E,qBAAuB1oG,KAAKgmG,qBAAuB,IAC/E,IAAI6C,GAAU7oG,KAAK1F,OAAO24B,UAAYjzB,KAAK23E,cAAgB,EAAI33E,KAAK23E,cAAgB,CACpFxnD,GAAqBwD,MAAM2qE,YAAY/rD,EAAUs2D,EAAU,UAG/B,kBAA3B7oG,KAAK08C,mBAA0C7hD,oBAAkBu1B,GAWtC,eAA3BpwB,KAAK08C,mBACV6rD,EAAW50E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAO,MACnDyqF,EAAW50E,MAAM5W,MAAQ,EAAU,KACnCwrF,EAAW50E,MAAM5W,MAASrK,QAAc,KACnC7X,oBAAkBqtG,KACnBA,EAAmBv0E,MAAM5W,MAAQ,EAAU,KAC3CwrF,EAAW50E,MAAM5W,MAASrK,QAAc,MAEvC7X,oBAAkBmtG,IAA2BntG,oBAAkBstG,KAChEA,EAAuBx0E,MAAM5W,MAASrK,gBAAsB,OAGhC,mBAA3B1S,KAAK08C,mBACV6rD,EAAW50E,MAAM5W,MAASrK,QAAc,KACxC61F,EAAW50E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAO,MACnDwqF,EAAoB30E,MAAM2qE,YAAY,QAAU5rF,QAAc,MAC9DwoD,EAAcvnC,MAAM2qE,YAAY,QAAU5rF,QAAc,MACxD1S,KAAKs7F,YAAY5gG,cAAci5B,MAAM2qE,YAAY,QAAU5rF,QAAc,OAEzC,qBAA3B1S,KAAK08C,mBACV6rD,EAAW50E,MAAM5W,MAASrK,QAAc,KACxC61F,EAAW50E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAO,MACnDwqF,EAAoB30E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAOpL,EAAKqiD,SAAW,MACxE/0D,KAAK1F,OAAO2kC,0BACZqpE,EAAoB30E,MAAM2qE,YAAY/rD,EAAUvyC,KAAK8kB,UAAY,MACjEwjF,EAAoB30E,MAAM2qE,YAAY,MAAQt+F,cAAiB,MAC/DsoG,EAAoB30E,MAAMwsC,OAAS,OAIlCtlE,oBAAkBu1B,IAAuB23E,IAC1C33E,EAAkBuD,MAAM5W,MAASrK,QAAc,KAC/C0d,EAAkBuD,MAAM7V,KAAQpL,OAAa,KAC7C1S,KAAKw6F,mBAAmB7mE,MAAM5W,MAASrK,QAAc,KACrD1S,KAAKw6F,mBAAmB7mE,MAAM7V,MAAS9d,KAAK1F,OAAO2kC,wBAA0Bj/B,KAAK8kB,UAAapS,EAAU,MAAK,KAC9G61F,EAAW50E,MAAM2qE,YAAY/rD,EAAU7/B,EAAKoL,KAAO,MACnDyqF,EAAW50E,MAAM5W,MAASrK,QAAc,MAEvC7X,oBAAkBmtG,KACnBC,EAAoBt0E,MAAM2qE,YAAY/rD,EAAUu1D,EAAe,MAC/DE,EAAsBr0E,MAAM5W,MAASrK,gBAAsB,KACtD7X,oBAAkBs1B,IACnBA,EAAqBwD,MAAM2qE,YAAY/rD,EAAU7/B,EAAKqa,cAAgB,GAAK,OAG/Eg7E,IACAE,EAAoBt0E,MAAM2qE,YAAY/rD,EAAUu1D,EAAe,MAC/DE,EAAsBr0E,MAAM5W,MAASW,QAAiB,KACjD7iB,oBAAkBs1B,IACnBA,EAAqBwD,MAAM2qE,YAAY/rD,EAAU70B,EAAQX,MAAQ,GAAK,SA3D9EwrF,EAAW50E,MAAM5W,MAAQ,EAAU,KACnCqT,EAAkBuD,MAAM5W,MAAQ,EAAU,KACrCliB,oBAAkBmtG,KACnBA,EAAsBr0E,MAAM5W,MAASrK,gBAAsB,KAC3Du1F,EAAoBt0E,MAAM2qE,YAAY/rD,EAAUu1D,EAAe,MAC1DjtG,oBAAkBs1B,IACnBA,EAAqBwD,MAAM2qE,YAAY/rD,EAAU7/B,EAAKqa,cAAgB,GAAK,QA0D3F,GAAI/sB,KAAK1F,OAAO2kC,0BAAuD,cAA3Bj/B,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,mBAC5D,qBAA3B18C,KAAK08C,mBAAuE,kBAA3B18C,KAAK08C,mBAAwC,CAC9F,GAAIosD,GAAc9oG,KAAK1F,OAAO24B,UAAYj1B,SAASuqG,EAAW50E,MAAMC,MAAO,IAAM51B,SAASuqG,EAAW50E,MAAM7V,KAAM,GAC7G9d,MAAK1F,OAAO24B,UACZs1E,EAAW50E,MAAMC,MAASk1E,EAAc,GAAM,KAG9CP,EAAW50E,MAAM7V,KAAQgrF,EAAc,GAAM,OAWzD7N,EAAYx6F,UAAUy7F,eAAiB,SAAU9lF,GAC7C,GAAI2yF,GAAe/oG,KAAKm7F,cAKxB,IAJAn7F,KAAKulG,kBAAoB,KACzBvlG,KAAK8kB,UAAY,EACjB9kB,KAAKk7F,kBAAoB,EACzBl7F,KAAKg8F,YAAY7B,4BAA2B,EAAOn6F,KAAK+d,cACpD/d,KAAK08C,mBAAqB18C,KAAKm7F,eAC/B,IAAMn7F,KAAK28F,gBAAkB38F,KAAK0kG,qBAAyB1kG,KAAK1F,OAA+B,wBAAE,CAC7F,GAAe,cAAX8b,EAAEhG,MAAmC,eAAXgG,EAAEhG,MAAoC,aAAXgG,EAAEhG,KAAqB,CAC5E,GAAIg0F,GAAcpkG,KAAK6/F,cAAczpF,EACrCpW,MAAoB,cAAIg4B,SAASkqE,iBAAiBkC,EAAYliE,MAAOkiE,EAAYpE,WAEhF,CACD,GAAIhgG,KAAKkD,kBAAkBuZ,kBAAoBzc,KAAKkD,kBAAkB1E,gBAAgBmC,eAAgB,CAClG,GAAIg+F,GAAkB3+F,KAAK1F,OAAO6nC,cAAcniC,KAAKw6F,oBACjD18E,GAASjjB,oBAAkBm9B,SAASsO,KAAK9O,YAAcQ,SAASsO,KAAK9O,UAAU9P,SAAS,YAAe,GAAK,EAC5G6wC,EAAe,EAAIv4D,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB16C,EACrEkkF,MAAS,EAETA,GADAhiG,KAAK1F,OAAO24B,UACH/f,KAAK6P,IAAI47E,EAAgB7gF,KAAOy6C,EAAc,GAG9CrlD,KAAK6P,IAAI7P,KAAK6P,IAAI47E,EAAgB7gF,KAAOy6C,EAAc,GAC5Dv4D,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,YAEnD3kB,KAAoB,cAAIg4B,SAASkqE,iBAAiBF,EAAQ5rF,EAAE2gE,OAG5D/2E,MAAoB,cAAIg4B,SAASkqE,iBAAiB9rF,EAAE4D,EAAG5D,EAAE2gE,EAEzD/2E,MAAoB,eAAKA,KAAoB,cAAExF,UAAUC,SAAS,kBAClEuF,KAAoB,cAAIg4B,SAASkqE,iBAAiB9rF,EAAE4D,EAAIha,KAAoB,cAAe,YAAGoW,EAAE2gE,IAGxG/2E,KAAKmmE,YAAcnmE,KAAK1F,OAAOya,IAAI1G,QACnCrO,KAAK4wD,iBAAmB5wD,KAAK1F,OAAOyO,SAASsF,QAC7CrO,KAAK0kG,oBAAoBtuF,GACzBpW,KAAKm7F,gBAAiB,MAErB,CACDn7F,KAAK1F,OAAOwkB,UAAW,EACvB9e,KAAKgpG,qCACL,IAAI5uE,GAAiBp6B,KAAK1F,OAAO+/B,kBAC7Br6B,MAAK1F,OAAOggC,oBAAsBF,GAAkBA,EAAeG,wBACnEH,EAAeI,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,8BAIrJ16B,KAAK1F,OAAO6hC,qBAAuBthC,oBAAkBmF,KAAKw6F,sBACrD3/F,oBAAkBmF,KAAKw6F,mBAAmB30F,cAAc,4BACrD7F,KAAKw6F,mBAAmB30F,cAAc,0BAA0BrL,UAAUC,SAAS,8BACnF6jC,eAAat+B,KAAKw6F,mBAAmB30F,cAAc,2BAA4B,4BAC/E7F,KAAKw6F,mBAAmB7mE,MAAMwsC,OAASngE,KAAKi/F,WAC5Cj/F,KAAKi/F,WAAa,KAIzBj/F,KAAK1F,OAAOymC,aAAcgoE,GAC3B/oG,KAAK6sD,iBAET7sD,KAAKglG,mBAST/J,EAAYx6F,UAAUikG,oBAAsB,SAAUt+D,GAClD,GAAIpnC,MACAmwE,EAAKnvE,KAAKigG,WACV5wB,EAAKrvE,KAAKkgG,WACVxtF,EAAO1S,KAAKkD,kBACZmR,EAAcrU,KAAK1F,OAAOmqB,iBAAiBqiB,kBAAkB9mC,KAAKw6F,oBAClEprB,EAAKpvE,KAAKqgG,WAEV4I,EADIjpG,KAAK6/F,cAAcz5D,GACT45D,MAAQhgG,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBT,SAC1C,4BAA3Bt8B,KAAK08C,mBACqB,4BAA3B18C,KAAK08C,mBAAqD18C,KAAKy8F,kBAC/Dz8F,KAAKo7F,kBAAmB,EAE5B,IAAIh/D,OAC4B,2BAA3Bp8B,KAAK08C,mBACqB,4BAA3B18C,KAAK08C,oBAAoD18C,KAAKy8F,mBAAqBz8F,KAAKs8F,sBAAsB7/E,iBAC9Gzc,KAAKs8F,sBAAsB7/E,iBAAmBzc,KAAK1F,OAAOqgB,wBAC1DyhB,EAAa99B,KAAKJ,gBAAgB8B,KAAKkD,oBAAoB,GAAM,IAC7DlD,KAAK1F,OAAOyhB,iBACZ/b,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAqB,iBAAIygC,EAC9Hp8B,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,IAGjF7tC,KAAK1F,OAAO8nC,wBAAwB6xD,kBAAkBj0F,KAAKs8F,sBAAuBt8F,KAAKw8F,oBAGvD,2BAA3Bx8F,KAAK08C,mBACqB,4BAA3B18C,KAAK08C,mBAAqD18C,KAAKwjG,SAAWjsF,KAAKE,UAAU/E,EAAKlU,mBAAqB+Y,KAAKE,UAAUzX,KAAKwjG,QAAQhlG,iBAC3IwB,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,IACvFqE,KAAK1F,OAAwB,kBAC7B0F,KAAK1F,OAAOyhB,eAAkC,kBAAEsM,OAAOroB,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,EAAG,GAC/GqE,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,IAK7E7tC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAO4iC,eAAiBl9B,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GACpHqE,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,IAG7EshC,IAAOC,GAAOl8D,KAAK6P,IAAIssD,EAAK45B,KAAejpG,KAAK1F,OAAO8mB,UAAYphB,KAAK1F,OAAOgnB,eAAiB,IACnF,OAAT5O,IACA1T,EAAKskG,cAAgB5wF,EAAKlU,gBAC1BQ,EAAKjB,KAAO2U,EACZ1T,EAAKqV,YAAcA,EACnBrV,EAAKmqE,aAAenpE,KAAKugG,aACzBvhG,EAAK09C,kBAAoB18C,KAAK08C,kBAC9B19C,EAAK2wB,OAAS,iBACd3wB,EAAK09F,iBAAmB18F,KAAK08F,iBAC7B19F,EAAKsgC,OAASt/B,KAAKglC,cACnBhlC,KAAK0vB,kBAAoB1wB,EACzBgB,KAAKkpG,cAAclqG,KAI/BgB,KAAK1F,OAA6B,sBAAI,GAQ1C2gG,EAAYx6F,UAAUuoG,oCAAsC,WACxDhpG,KAAK1F,OAAO0I,WAAWmmG,yBAAwB,IAEnDlO,EAAYx6F,UAAUq4F,sBAAwB,SAAU36F,GAOpD,IAAK,GANDwG,GAAWxG,EAASwG,SACpBykG,GAAa,EACbzD,EAAiB3lG,KAAKgT,mBAAmBrO,GAAY3E,KAAK1F,OAAO0nB,YAEjEqnF,EAAsB1D,EADXzyF,KAAKC,KAAMhV,EAAS4uB,cAAgB44E,EAAkB,KACd,IACnD2D,EAAYD,EACPvrG,EAAI,EAAGA,EAAI6G,EAAShJ,OAAQmC,IAAK,CACtC,GAAI4f,GAAU/Y,EAAS7G,EACb,KAANA,IAGIurG,EAFA3rF,EAAQI,MAAQwrF,EACAA,EAAY5rF,EAAQI,KAIf,SAGtBJ,GAAQqP,cACXs8E,EAAqB,GAAKA,EAAqB3rF,EAAQX,OACvDssF,GAA0C3rF,EAAQX,MAClDW,EAAQqP,cAAgBrP,EAAQX,MAChCW,EAAQoP,cAAe,GAElBs8E,IACL1rF,EAAQqP,cAAgBs8E,EACxB3rF,EAAQoP,cAAe,EACvBu8E,GAA0C3rF,EAAQX,MAClDqsF,GAAa,KAWzBnO,EAAYx6F,UAAUyoG,cAAgB,SAAUllE,GAC5C,GAAIhlC,GAAOd,YAAW8lC,GAClBhpB,EAAchc,EAAKjB,KACnBI,EAAW6c,EAAYxc,gBACvB+qG,EAAkBvpG,KAAK1F,OAAOyO,SAAS+D,QAAQkO,EACnD,KAAKhb,KAAK1F,OAAO2kC,yBAAsD,cAA3Bj/B,KAAK08C,mBAAgE,eAA3B18C,KAAK08C,mBAC5D,kBAA3B18C,KAAK08C,mBAAoE,qBAA3B18C,KAAK08C,oBAA6C18C,KAAKmgG,UAAY,IACtF,iBAAzBngG,KAAK1F,OAAOyd,WAAgCiD,EAAYyB,iBAA6C,gBAAzBzc,KAAK1F,OAAOyd,UAA6B,CACvH,GAAI/X,KAAK1F,OAAO0kE,qBAAsB,CAClC,GAAIwqC,GAAgBxpG,KAAK1F,OAAOwX,eAC5B9R,MAAKkD,kBAAkBsG,YAAcggG,EAAcxpG,KAAKkD,kBAAkBsG,WAAW/J,SACY,IAA/FO,KAAK1F,OAAOu3D,cAAc/kD,QAAQ08F,EAAcxpG,KAAKkD,kBAAkBsG,WAAW/J,SACpFO,KAAK1F,OAAOu3D,cAAcvzD,KAAKkrG,EAAcxpG,KAAKkD,kBAAkBsG,WAAW/J,QAEnFO,KAAKkhG,oBACLlhG,KAAKyhG,kBACLzhG,KAAK6gG,yBACL,IAAI4I,OAAgB,EACpBzpG,MAAK87F,gBAAiB,EACtB97F,KAAKi/D,uBAAyBj/D,KAAKw6F,mBAAmB7mE,MAAM0kC,SAC5D,IAAIp3B,OAAM,EAIV,IAHKpmC,oBAAkBmF,KAAK0pG,iBACxBzoE,EAAM1B,UAAQv/B,KAAK0pG,cAAe,MAAQh/D,IAE1CzJ,EAAK,CACL,GAAI5sB,GAAcZ,MAAM1R,KAAK/B,KAAK1F,OAAOmqB,iBAAiBif,gBAAgB52B,QAAQm0B,EAClFwoE,GAAgBD,EAAcn1F,EAC9B,IAAIs1F,GAA2B3pG,KAAK1F,OAAO+hC,cAAcotE,EAAe,GAAGhqG,MACvEmqG,EAA2B5pG,KAAK1F,OAAO+hC,cAAcr8B,KAAKkD,kBAAmB,GAAGzD,MAChF2W,GACAwoB,QAAQ,EACR7gC,KAAMiC,KAAKkD,kBACX2mG,UAAW7pG,KAAKkD,kBAAkBzD,MAClCqqG,UAAWL,EAAchqG,MACzBsqG,aAAc/pG,KAAK1F,OAAO0kE,qBAAmC,aAC7DgrC,WAAYP,EAGhB,IADAzpG,KAAK1F,OAAOgc,QAAQ,UAAWF,IAC1BA,EAAU,QAAKqzF,GAAiBp1F,IAAgBk1F,IAAqBI,IAA6BC,GAClG5pG,KAAKkD,kBAAkBuZ,iBAAmBgtF,EAAchtF,kBACxDzc,KAAKkD,kBAAkBuZ,iBAAkB,CAC1C,GAAIwtF,GAAqBjqG,KAAK1F,OAAOyO,SAAS+D,QAAQ28F,GAClDl3D,MAAW,EAKXA,IAJyB,gBAAzBvyC,KAAK1F,OAAOyd,UAA+Bld,oBAAkBmF,KAAK1F,OAAO0kE,qBAAmC,iBAIhGyqC,EAAchtF,kBAAqBgtF,EAAcjgG,YACnB,IAAtCigG,EAAcvsF,aAAavhB,QAAiB,QAJrCqE,KAAK1F,OAAO0kE,qBAAmC,aAM1Dh/D,KAAK1F,OAAO0kE,uBACiB,iBAAzBh/D,KAAK1F,OAAOyd,UAA6C,UAAbw6B,GAAyBk3D,EAAchtF,iBAAqB5hB,oBAAkB4uG,EAAcjgG,cACxI+oC,EAAW,UACXvyC,KAAK1F,OAAO0kE,qBAAmC,aAAI,WAEnDzsB,GACAvyC,KAAK1F,OAAO0kE,qBAAqB00B,aAAa6V,GAAkBU,EAAoB13D,IAG5FvyC,KAAKmgG,UAAY,GAGzBngG,KAAK67F,iBAAkB,EAEvB77F,KAAK1F,OAAOm6B,oBACZz0B,KAAK1F,OAAOmqB,iBAAiB+U,gCAGrC,GAA+B,qBAA3Bx6B,EAAK09C,mBACL,GAAI19C,EAAKmqE,aAAa5tD,WAAapd,EAASod,SAAU,CAClD,GAAIwR,GAAgB/tB,EAAKjB,KAAKS,gBAAgBuuB,cAC1C44E,EAAiB3mG,EAAKjB,KAAKS,gBAAgBue,MAE3CypF,EAAgBxmG,KAAK0lG,sBAAsB1mG,EAAKjB,KAAKS,gBAAiBuuB,EAAe44E,EACzF3lG,MAAK1F,OAAO8J,eAAe,WAAYpE,KAAKymG,mBAAmBD,EAAcb,eAAgBa,EAAcz5E,eAAgB5uB,GAAU,GACjI6c,EAAYxR,YACZxJ,KAAK1F,OAAO0I,WAAWknG,qBAAqBlvF,EAAYxR,YAEvD3O,oBAAkBsD,EAASwG,WAC5B3E,KAAK84F,sBAAsB36F,QAIlC,CACD,GAAIwG,GAAW3F,EAAKjB,KAAKS,gBAAgBmG,QACzC,KAAK9J,oBAAkB8J,IAAaA,EAAShJ,OAAS,IAClB,iBAA3BqE,KAAK08C,mBAA8D,IAAtB18C,KAAK+d,cACpB,cAA3B/d,KAAK08C,mBAA2D,IAAtB18C,KAAK+d,cACpB,kBAA3B/d,KAAK08C,mBAAyC,CACtD,GAAIh/B,GAAU/Y,EAAS3E,KAAK+d,cACxBnjB,EAAYoF,KAAKkD,kBAAkB1E,gBACnCgnG,EAAwC,IAAtBxlG,KAAK+d,aAAqB,KAC1CpZ,EAAS3E,KAAK+d,aAAe,GAC/B0nF,EAAczlG,KAAK+d,eAAiBpZ,EAAShJ,OAAS,EAAI,KACxDgJ,EAAS3E,KAAK+d,aAAe,GAC/B7X,EAASrL,oBAAkB4qG,GACiBzlG,KAAK1F,OAAOmX,oBAAxD,GAAI3U,MAAK2oG,EAAY3qG,UAAUoG,WAC/BiF,EAAStL,oBAAkB2qG,GACmBxlG,KAAK1F,OAAOuO,sBAA1D,GAAI/L,MAAK0oG,EAAgBzqG,QAAQmG,WACjCqoB,EAAa,GAAIzsB,MAAK4gB,EAAQ5iB,UAAUoG,WACxCsoB,EAAW,GAAI1sB,MAAK4gB,EAAQ3iB,QAAQmG,UASxC,IAR2C,QAAvClB,KAAK1F,OAAOsX,eAAeiQ,SAA+D,SAA1C7hB,KAAK1F,OAAOsX,eAAeqB,YAC3EsW,EAAWzmB,SAASymB,EAAWhtB,WAAa,GAC5CitB,EAAS1mB,SAAS0mB,EAASjtB,WAAa,KAGxCgtB,EAAW7nB,QAAQ6nB,EAAWltB,WAC9BmtB,EAAS9nB,QAAQ8nB,EAASntB,YAE1B2D,KAAK1F,OAAOsG,gBAOZ,GANAsF,EAAMpD,SAAS,EAAG,EAAG,EAAG,GACxBqD,EAAMrD,SAAS,EAAG,EAAG,EAAG,GACxBymB,EAAW7nB,QAAQ6nB,EAAWltB,UAAY,GAC1CmtB,EAAS9nB,QAAQ8nB,EAASntB,UAAY,GACtCktB,EAAWzmB,SAAS,EAAG,EAAG,EAAG,GAC7B0mB,EAAS1mB,SAAS,EAAG,EAAG,EAAG,GACvBymB,EAAWroB,WAAaiF,EAAMjF,YAAcrG,oBAAkB2qG,KAAqB3qG,oBAAkB6iB,GAAU,CAC3G6yC,IACEM,kBAAqB20C,EAAgBznF,aAAckzC,mBAAsBvzC,EAAQK,cAEvF/d,MAAK1F,OAAOkb,gBAAgB86C,UAAU11D,EAAU8a,OAAQ66C,OAEvD,IAAI/mC,EAAStoB,WAAagF,EAAMhF,WAAalB,KAAK+d,eAAiBpZ,EAAShJ,OAAS,EAAG,CACrF40D,IACEM,kBAAqBnzC,EAAQK,aAAckzC,mBAAsBw0C,EAAY1nF,cAEnF/d,MAAK1F,OAAOkb,gBAAgB86C,UAAU11D,EAAU8a,OAAQ66C,OAEvD,IAAI/mC,EAAStoB,WAAagF,EAAMhF,UAAW,CAC5Cwc,EAAQ3iB,QAAQ2G,QAAQ1B,KAAK1F,OAAOmX,oBAAoBpV,UAAY,GACpEqhB,EAAQ5iB,UAAYkF,KAAK1F,OAAO+J,cAAcH,aAAawZ,EAAQ3iB,QAAS2iB,EAAQ1iB,SAAUJ,EAAUuJ,aAAcvJ,EAEtH,KAAK,GAAIkD,GAAI6G,EAAShJ,OAAS,EAAGmC,GAAK,EAAGA,IAAK,CAC3C,GAAIqsG,GAAYx/D,MAAahmC,EAAS7G,GACtC,KAAKjD,oBAAkBsvG,GAAY,CAC/B,GAAIC,GAAU,GAAIttG,MAAKqtG,EAAUpvG,QACjCqvG,GAAQ1oG,QAAQ0oG,EAAQ/tG,UAAY8tG,EAAUrlG,gBAC9CqlG,EAAUpvG,QAAUqvG,EACpBD,EAAUrvG,UAAYkF,KAAK1F,OAAO+J,cAAcH,aAAaimG,EAAUpvG,QAASovG,EAAUnvG,SAAUJ,EAAUuJ,aAAcvJ,UAOxI,IAAI4uB,EAAStoB,WAAagF,EAAMhF,WAAalB,KAAK+d,eAAiBpZ,EAAShJ,OAAS,IAAMqE,KAAK1F,OAAOsG,gBAC0D,IAA7JZ,KAAK1F,OAAO+J,cAAca,YAAalF,KAAK1F,OAAO+J,cAAcvD,eAAe0oB,EAAUrrB,GAAU,GAAS+H,EAAO/H,EAASgG,cAAc,GAAO,GAAc,CAC5JosD,IACEM,kBAAqBnzC,EAAQK,aAAckzC,mBAAsBw0C,EAAY1nF,cAEnF/d,MAAK1F,OAAOkb,gBAAgB86C,UAAU11D,EAAU8a,OAAQ66C,OAGvD,IAAIhnC,EAAWroB,WAAaiF,EAAMjF,YAClCrG,oBAAkB2qG,KAAqB3qG,oBAAkB6iB,KACzD1d,KAAK1F,OAAOsG,gBAA+K,IAA7JZ,KAAK1F,OAAO+J,cAAca,YAAalF,KAAK1F,OAAO+J,cAActB,aAAawmB,EAAYprB,GAAU,GAASgI,EAAOhI,EAASgG,cAAc,GAAO,GAAc,CAC/L,GAAIosD,KACEM,kBAAqB20C,EAAgBznF,aAAckzC,mBAAsBvzC,EAAQK,cAEvF/d,MAAK1F,OAAOkb,gBAAgB86C,UAAU11D,EAAU8a,OAAQ66C,IAIpEvwD,KAAK1F,OAAO+J,cAAcwW,gBAAgB7b,EAAKjB,MAEnDiC,KAAKq7F,WAAY,EACjBr7F,KAAK1F,OAAO+J,cAAcyW,eAAeE,GACzChb,KAAK1F,OAAO0I,WAAWizF,qBAAqBj3F,IAUhDi8F,EAAYx6F,UAAUgmG,mBAAqB,SAAU4D,EAAaC,GAC9D,MAAOp3F,MAAKC,KAAOm3F,EAAgBD,EAAe,MAQtDpP,EAAYx6F,UAAUyjG,cAAgB,WAClC,GAOIpmF,GAPAqxD,EAAKnvE,KAAKigG,WACV5wB,EAAKrvE,KAAKkgG,WACV9wB,EAAKpvE,KAAKqgG,WACV/wB,EAAKtvE,KAAKsgG,WACV3kG,EAASuX,KAAKktB,MAAM+uC,EAAKC,IAAOD,EAAKC,IAAOC,EAAKC,IAAOD,EAAKC,IAC7Di7B,EAAuC,IAA/Br3F,KAAKs3F,MAAMl7B,EAAKD,EAAID,EAAKD,GAAYj8D,KAAKu3F,GAClDxyE,EAAY,WAAaj4B,KAAK1F,OAAO24B,WAAas3E,EAAQA,GAAS,OAEnExtF,EAAQ,CACPliB,qBAAkBm9B,SAASqG,iBAAiB,gBAAgB,MAC7DthB,EAAQib,SAASqG,iBAAiB,gBAAgB,GAAGnM,aAE1B,2BAA3BlyB,KAAK08C,oBAED5+B,EADA9d,KAAK1F,OAAO24B,UACHlW,GAAS/c,KAAKu7F,kBAAqBv7F,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB,GAC1FtlD,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAG9D9d,KAAKu7F,kBAAqBv7F,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB,EAChFx4D,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAGtC,4BAA3B9d,KAAK08C,oBAED5+B,EADA9d,KAAK1F,OAAO24B,UACJlW,GAAS/c,KAAKu7F,kBAAoBv7F,KAAKy7F,mBAC1Cz7F,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB,GAAOtlD,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAGxH9d,KAAKu7F,kBAAoBv7F,KAAKy7F,mBACjCz7F,KAAK1F,OAAOkb,gBAAgBgjD,oBAAsB,EAAKtlD,KAAK6P,IAAI/iB,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAejT,MAGtI,IAAIkT,GAAQhxB,sBAA0BA,KAAK07F,oBAAsB,EAC7D17F,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBT,UAAat8B,KAAK1F,OAAOmqB,iBAAiBC,aAAaqM,eAAeC,GAC1HhxB,MAAK4gC,iBAAgB,GACrB5gC,KAAK0qG,UAAYnzE,gBAAc,OAC3BC,UnCviFW,qBmCuiFej9B,GAAI,iBAAmByF,KAAK1F,OAAOwL,QAAQvL,GACrEk9B,OAAQ,gCAAkCQ,EAAY,qEACoBt8B,EAAS,GAAK,UAC3Eq1B,EAAM,QAEnBhxB,KAAK1F,OAAO24B,WACZjzB,KAAK0qG,UAAU/2E,MAAM7V,KAAO,OAC5B9d,KAAK0qG,UAAU/2E,MAAMC,MAAQ9V,EAAO,KACpC9d,KAAK0qG,UAAU/2E,MAAMg3E,gBAAkB,YAGvC3qG,KAAK0qG,UAAU/2E,MAAMC,MAAQ,OAC7B5zB,KAAK0qG,UAAU/2E,MAAM7V,KAAOA,EAAO,KACnC9d,KAAK0qG,UAAU/2E,MAAMg3E,gBAAkB,WAE3C3qG,KAAK1F,OAAOmqB,iBAAiBsY,mBAAmBrF,YAAY13B,KAAK0qG,YAQrEzP,EAAYx6F,UAAUmgC,gBAAkB,SAAUgqE,GAC1C5qG,KAAK0qG,YACL/rG,SAAOqB,KAAK0qG,WACZ1qG,KAAK0qG,UAAY,KACbE,IACA5qG,KAAKu7F,kBAAoB,EACzBv7F,KAAKw7F,iBAAmB,EACxBx7F,KAAKy7F,mBAAqB,EAC1Bz7F,KAAK07F,oBAAsB,EAC3Bp9D,cAAYt+B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcoN,iBAAiB,gCnCplFvD,gCmC8lF7B48D,EAAYx6F,UAAUujG,oCAAsC,SAAU5tF,GAClE,GAAIkpB,GAASt/B,KAAK+8F,qBAAqB3mF,GACnCtQ,EAAU5L,EAAaolC,EAAQwB,GAC/B+pE,EAAW7yE,SAASsO,KAAK9O,UAAU9P,SAAS,WAChD1nB,MAAKs6F,sBAAwB,IAC7B,IAAIzoE,GAAY,CACZ33B,GAAaolC,EAAQu5B,IACrB74D,KAAKs6F,sBAAwB,yBAC7Bt6F,KAAK6wE,kBAAoB,SAEpB32E,EAAaolC,EnC9lFG,2BmC+lFrBt/B,KAAKs6F,sBAAwB,0BAC7Bt6F,KAAK6wE,kBAAoB,WAGzB7wE,KAAKs6F,sBAAwB,KAC7Bt6F,KAAK6wE,kBAAoB,MAEzB7wE,KAAKw6F,qBAAuB10F,GAAW9F,KAAKw6F,qBAAuBx6F,KAAKu8F,2BACpEv8F,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,uBAE/Cua,EADY7xB,KAAK1F,OAAOy5B,oBAAoBC,mBAG3Ch0B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,uBAC/CtX,KAAKu7F,oBAAuBv7F,KAAK1F,OAAOgd,wBACpCtX,KAAK1F,OAAOqgB,uBAMT3a,KAAKw6F,mBAAmBplE,SAAS,GAAG56B,UAAUC,SAAS,kCACvDuF,KAAKu7F,kBAAoBv7F,KAAKg+F,mBAAmB5oE,SAAS,GAAe,WACrEp1B,KAAKg+F,mBAAmBjE,YAAc,EAAa,GAAK,GAC5D/5F,KAAKw7F,iBAAqBx7F,KAAKg+F,mBAAmBtjG,cAAc4hC,UAAYt8B,KAAKg+F,mBAAmB7gE,aAAe,EAAI,EAAKn9B,KAAKw6F,mBAAmBplE,SAAS,GAAc,UAAKvD,IARpL7xB,KAAKu7F,kBAAoBv7F,KAAKg+F,mBAAmBjE,YAAc,EAAa,GAAK,GACjF/5F,KAAKw7F,iBAAmBx7F,KAAKg+F,mBAAmBtjG,cAAc4hC,UAC1Dt8B,KAAKg+F,mBAAmB7gE,aAAe,EAAItL,GAcnD7xB,KAAKy7F,mBAAqBz7F,KAAKg+F,mBAAmB9rE,aAAe,EAAa,GAAK,GACnFlyB,KAAK07F,oBAAsB17F,KAAKg+F,mBAAmB7gE,cAEvDn9B,KAAKs9F,+BAA+Bx3F,EAAS9F,KAAKu8F,0BAA0B,IAE5E1hG,oBAAkBmF,KAAKs6F,yBAA2Bz/F,oBAAkBmF,KAAKu6F,2BACvEv6F,KAAKs8F,sBAAsB7/E,iBAAmBzc,KAAKs8F,sBAAsB7/E,iBACvEzc,KAAK1F,OAAOqgB,yBAChB3a,KAAKg8F,YAAY7B,4BAA2B,EAAOn6F,KAAK+d,cACxDugB,eAAat+B,KAAKu6F,uBAAuB10F,cAAc,IAAMgzD,KnC9nFnC,iCmC+nF1Bv6B,eAAat+B,KAAKu6F,uBAAuB10F,cAAc,6BnC/nF7B,kCmCioF9B7F,KAAKu6F,uBAAyBv6F,KAAKs6F,sBAAwBx0F,EAAU,KACrE9F,KAAKu8F,yBAA2Bz2F,EAChC9F,KAAKs8F,sBAAwBzhG,oBAAkBmF,KAAKu6F,wBAChD,KAAOv6F,KAAK1F,OAAOmqB,iBAAiB4a,mBAAmBr/B,KAAKu6F,yBAGpEU,EAAYx6F,UAAUwjG,uBAAyB,SAAU7tF,EAAGirB,GACxD,GACIypE,GADAv0B,EAAsBv2E,KAAK1F,OAAOwL,QAAQy5B,QAAQ,kBAEtD,IAAIg3C,EAAqB,CACrB,GAAIupB,GAAQj4F,WAAWm1D,iBAAiBuZ,GAAqBwpB,KAC7D+K,GAAc10F,EAAE4pF,MAAQF,EAE5B,GAEIhkF,GACAu6D,EAHA00B,EAAW/qG,KAAKkD,kBAAkB1E,gBAClCwsG,EAAShrG,KAAKs8F,sBAAwBt8F,KAAKs8F,sBAAsB99F,gBAAkB,KAGnF8gC,EAASt/B,KAAK+8F,qBAAqB3mF,GACnCtQ,EAAUw5B,EACVniB,EAAoC,iBAAzBnd,KAAK1F,OAAOyd,SAA8BgzF,EAASr1F,OAASq1F,EAASlxF,WAiBpF,IAhB+B,2BAA3B7Z,KAAK08C,kBACL5gC,EAAcqB,GAAYnd,KAAK1F,OAAO24B,UAAY,IAAM,KAExB,4BAA3BjzB,KAAK08C,oBACV5gC,EAAcqB,GAAYnd,KAAK1F,OAAO24B,UAAY,IAAM,MAExDjzB,KAAKs6F,wBAC8B,2BAA/Bt6F,KAAKs6F,uBACLx+E,GAAe9b,KAAK1F,OAAO24B,UAAY,IAAM,IAC7CojD,EAAgBr2E,KAAK1F,OAAO24B,UAAY,SAAW,SAEf,4BAA/BjzB,KAAKs6F,wBACVx+E,GAAe9b,KAAK1F,OAAO24B,UAAY,IAAM,IAC7CojD,EAAgBr2E,KAAK1F,OAAO24B,UAAY,QAAU,WAGtDp4B,oBAAkBmwG,GAElB,YADAhrG,KAAKy8F,iBAAkB,EAGvBuO,GAAO3uF,iBACPrc,KAAKw8F,iBAAmBwO,EAAO3uF,iBAAmB,IAAMP,EAGxD9b,KAAKw8F,iBAAmB1gF,CAE5B,IAAImvF,GAAcjrG,KAAK1F,OAAO8nC,wBAAwB8oE,4BAA4BlrG,KAAKs8F,sBAAuBt8F,KAAKw8F,kBAE/G2O,EAAmBnrG,KAAK1F,OAAO+e,kBAAkB8oD,qBAAqBrmD,EAAa9b,KAAKs8F,uBACxFt9F,IAeJ,IAdAA,EAAK+rG,SAAWA,EAChB/rG,EAAKgsG,OAASA,EACdhsG,EAAKosG,qBAAuBprG,KAAKw8F,iBACjCx9F,EAAK8c,YAAcqvF,GAAoBA,EAAiB,GACxDnsG,EAAKisG,YAAcA,EACnBjsG,EAAK63B,YAAc,qBACnB72B,KAAK1F,OAAOgc,QAAQ,cAAetX,GAC9BnE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,eAAoD,uBAArB53B,EAAK63B,YAG3F,uBAArB73B,EAAK63B,aACV72B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,cAKhBv2B,EAAKisG,eAAeA,GAAejsG,EAAKisG,cAAsBjsG,EAAKisG,YAC/DjsG,EAAKisG,YAAa,CAIlB,GAHKjrG,KAAKg8F,YAAY1nB,YAAet0E,KAAK1F,OAAOymC,YAC7C/gC,KAAKg8F,YAAY7B,4BAA2B,EAAMn6F,KAAK+d,eAEtDljB,oBAAkBmF,KAAKg8F,YAAY1nB,YAAa,CACjDt0E,KAAK1F,OAAOm5B,oBAAoB68C,aAAaj9C,UAAY,GACzDrzB,KAAK1F,OAAOm5B,oBAAoB68C,aAAa54C,YAAY13B,KAAK1F,OAAOm5B,oBAAoBg9C,+BAA+BzwE,KAAK1F,OAAO0I,WAAWC,kBAAkBC,kBAAkB1E,gBAAgByoB,SAAUjnB,KAAK1F,OAAO0I,WAAWC,kBAAkB0tE,oBAAqB,GAAI,IAC/Q,IAAIvyC,GAAQp+B,KAAK1F,OAAOm5B,oBAAoB68C,aAAazqE,cAAc,kBAAkBw4B,iBAAiB,KAG1G,IAFAD,EAAM,GAAGkxB,UAAY07C,EAAO/jF,SAC5BmX,EAAM,GAAGkxB,UAAYtvD,KAAK1F,OAAOoW,UAAUC,YAAY0lE,IAClDx7E,oBAAkBmF,KAAK1F,OAAOm5B,oBAAoB68C,aAAa51E,iBAC/DG,oBAAkBmF,KAAK1F,OAAOm5B,oBAAoB68C,aAAa51E,cAAcA,eAAgB,CAC9F,GAAI2wG,GAAiBrrG,KAAK1F,OAAOm5B,oBAAoB68C,aAAa51E,cAAcA,aAC5E2wG,GAAe/uE,UAAY+uE,EAAeluE,aAAe2tE,IACzDO,EAAe13E,MAAM3C,IAAO5a,EAAE4pF,MAAQqL,EAAeluE,aAAe,GAAM,OAItFn9B,KAAKy8F,iBAAkB,MAGnBz8F,MAAK1F,OAAOymC,YACRzB,EAAO9kC,UAAUC,SAASo+D,IAC1Bv5B,EAAO9kC,UAAUC,SnCjuFJ,4BmCkuFbuF,KAAKo9F,4BAA2B,GAIpC5+D,YAAU14B,InC7tFY,iCmC+tF1B9F,KAAKy8F,iBAAkB,GAI/BxB,EAAYx6F,UAAUo/F,cAAgB,SAAUz5D,GAC5C,GAAIg+D,MACAhuF,EAAIgwB,CAGR,IAFAg+D,EAAYliE,MAAQ9rB,EAAE8rB,MACtBkiE,EAAYpE,MAAQ5pF,EAAE4pF,MAClB55D,GAAwB,UAAfA,EAAMh2B,KAAkB,CACjC,GAAIk7F,GAAMllE,CACO,eAAbklE,EAAIl7F,MAAqC,eAAbk7F,EAAIl7F,MAAsC,aAAbk7F,EAAIl7F,OAC7Dg0F,EAAYliE,MAAQopE,EAAIC,eAAe,GAAGrpE,MAC1CkiE,EAAYpE,MAAQsL,EAAIC,eAAe,GAAGvL,OAGlD,MAAOoE,IAIXnJ,EAAYx6F,UAAUs8F,qBAAuB,SAAU32D,GACnD,GAAKpmC,KAAK1F,OAAOymC,WAGZ,CACD,GAAI3qB,GAAIpW,KAAK6/F,cAAcz5D,EAC3B,OAAOpO,UAASkqE,iBAAkB9rF,EAAE8rB,MAAQxM,OAAO8+D,YAAep+E,EAAE4pF,MAAQtqE,OAAO6+D,aAJnF,MAAOnuD,GAAM9G,QAOrB27D,EAAYx6F,UAAU48F,yBAA2B,WACzCr9F,KAAK1F,OAAO0nD,iBAC2B,SAAvChiD,KAAK1F,OAAO2nD,kBAAkBlT,MACY,aAAvC/uC,KAAK1F,OAAO2nD,kBAAkB7xC,MACjCpQ,KAAK1F,OAAO0nD,gBAAgBm5B,aAGpC8f,EAAYx6F,UAAU8lC,aAAe,WAC7BvmC,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,iBAAkB5xB,KAAKi8F,kBACvCj8F,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAKk8F,gBACrCl8F,KAAK1F,OAAOs3B,IAAI,kBAAmB5xB,KAAKm8F,mBACxCn8F,KAAK1F,OAAOs3B,IAAI,iBAAkB5xB,KAAKo8F,iBACvCp8F,KAAK1F,OAAOs3B,IAAI,kBAAmB5xB,KAAKq8F,qBAM5CpB,EAAYx6F,UAAU02B,QAAU,WAC5Bn3B,KAAKumC,eACLvmC,KAAKglG,kBACLhlG,KAAK1F,OAAO0I,WAAWC,sBAAoB0E,IAExCszF,GACTl7F,GC75FE4qC,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAoB5B0gE,GAA4B,WAO5B,QAASA,GAAWlxG,GAChB0F,KAAKyrG,yBAA0B,EAC/BzrG,KAAK0rG,aAAc,EACnB1rG,KAAK2rG,mBACL3rG,KAAK4rG,qBACL5rG,KAAK6rG,eAIL7rG,KAAKm3F,kBAAoB,KACzBn3F,KAAK8rG,iBAAmB,KACxB9rG,KAAKkkD,YAAc,KACnBlkD,KAAK+rG,0BAA2B,EAChC/rG,KAAKue,kBACLve,KAAKgsG,aAAc,EACnBhsG,KAAKisG,sBAAuB,EAI5BjsG,KAAKm5F,oBAILn5F,KAAKu5F,kBAAmB,EACxBv5F,KAAK1F,OAASA,EACd0F,KAAK0Q,UAAY1Q,KAAK1F,OAAOoW,UAC7B1Q,KAAKksG,gBAAmBttE,QAAQ,GAChC5+B,KAAKmsG,MAAQnsG,KAAKosG,qBAClBpsG,KAAK6iC,WACL7iC,KAAKqsG,gBACLrsG,KAAKssG,QACDC,YAAaC,WACbC,aAAcC,eACdC,eAAgBC,aAChBC,mBAAoBC,iBACpBC,WAAYC,gBACZC,YAAaC,iBACbC,WAAYC,UACZC,YAAaD,WAEjBptG,KAAKgqF,sBACLhqF,KAAKm5B,aAq1GT,MAn1GAqyE,GAAW/qG,UAAU04B,WAAa,WAC9Bn5B,KAAK1F,OAAOma,GAAG,gBAAiBzU,KAAKstG,gBAAiBttG,OAE1DwrG,EAAW/qG,UAAU6sG,gBAAkB,SAAUl3F,GAC7C,GAAIpS,GAAYhE,KAAK1F,OAAOmqB,iBAAiBod,kBAAkBzrB,IAC1Dvb,oBAAkBmJ,IAAchE,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO4kC,aAAaU,cACpF5/B,KAAKk0F,eAAelwF,IAS5BwnG,EAAW/qG,UAAUupF,oBAAsB,WACnCnvF,oBAAkBmF,KAAK1F,OAAOizG,mBAC9BvtG,KAAK1F,OAAOizG,kBAA4D,IAAxCvtG,KAAK1F,OAAOizG,iBAAiB5xG,QAC7DqE,KAAKm3F,kBAAoBn3F,KAAKwtG,yBAC9BxtG,KAAKm3F,kBAAoBn3F,KAAKytG,qBAAqBztG,KAAKm3F,oBAGxDn3F,KAAKm3F,kBAAoBn3F,KAAKytG,qBAAqBztG,KAAK1F,OAAOizG,kBAE/D1yG,oBAAkBmF,KAAK1F,OAAOozG,kBAC9B1tG,KAAK1F,OAAOozG,iBAA0D,IAAvC1tG,KAAK1F,OAAOozG,gBAAgB/xG,QAC3DqE,KAAK8rG,iBAAmB9rG,KAAKwtG,yBAC7BxtG,KAAK8rG,iBAAmB9rG,KAAKytG,qBAAqBztG,KAAK8rG,mBAGvD9rG,KAAK8rG,iBAAmB9rG,KAAKytG,qBAAqBztG,KAAK1F,OAAOozG,kBAGtElC,EAAW/qG,UAAUgtG,qBAAuB,SAAUE,GAGlD,IAAK,GAFDC,MACAC,EAAoB,EACf/vG,EAAI,EAAGA,EAAI6vG,EAAahyG,OAAQmC,IAAK,CAC1C,GAAIgwG,GAAYlkB,sBAAoB+jB,EAAa7vG,GAC1B,aAAnBgwG,EAAU19F,OAAuBvV,oBAAkBizG,EAAUztD,SAAuC,IAA5BytD,EAAUztD,OAAO1kD,SACzFmyG,EAAUztD,OAASrgD,KAAK+tG,0BAEL,eAAnBD,EAAU19F,MAAyBvV,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,aACtD,cAAnB00F,EAAU19F,MAAwBvV,oBAAkBmF,KAAK1F,OAAOmE,WAAWga,eACxD,UAAnBq1F,EAAU19F,MAAoBvV,oBAAkBmF,KAAK1F,OAAOmE,WAAW+c,SAGvD,WAAnBsyF,EAAU19F,OAAsBvV,oBAAkBizG,EAAUztD,SAAuC,IAA5BytD,EAAUztD,OAAO1kD,SACxFkyG,GAAqB,EACrBC,EAAUztD,OAASrgD,KAAKguG,yBAExBH,EAAoB,GAGxBD,EAAgBtvG,KAAKwvG,IAEzB,MAAOF,IAOXpC,EAAW/qG,UAAUstG,uBAAyB,WAE1C,IAAK,GADD1tD,MACK9kD,EAAK,EAAGC,EAAKC,OAAOC,KAAKsE,KAAK1F,OAAO+K,eAAgB9J,EAAKC,EAAGG,OAAQJ,IAAM,CAChF,GAAIK,GAAMJ,EAAGD,EACD,gBAARK,GAAgC,iBAARA,GAAkC,UAARA,GAGtDykD,EAAO/hD,KAAK0B,KAAK1F,OAAO+K,cAAczJ,IAE1C,MAAOykD,IAOXmrD,EAAW/qG,UAAUutG,sBAAwB,WAEzC,IAAK,GADD3tD,MACKviD,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOmrD,cAAc9pD,OAAQmC,IAClDuiD,EAAO/hD,KAAK0B,KAAK1F,OAAOmrD,cAAc3nD,GAE1C,OAAOuiD,IAOXmrD,EAAW/qG,UAAU+sG,uBAAyB,WAC1C,GAAIG,MACAG,KACArvG,EAAauB,KAAK1F,OAAOmE,WACzB4G,EAAgBrF,KAAK1F,OAAO+K,aAoChC,OAnC0C,KAAtC5J,OAAOC,KAAK2J,GAAe1J,SAC3BmyG,EAAU19F,KAAO,UACjBu9F,EAAarvG,KAAKwvG,IAEjBjzG,oBAAkB6E,WAAS,aAAc2F,MAC1CyoG,MAC8E,IAA1E9tG,KAAK1F,OAAO8K,cAAcC,EAAc+T,WAAW60F,WAAW9kD,UAC9D2kD,EAAU19F,KAAO,cAErBu9F,EAAarvG,KAAKwvG,IAEjBjzG,oBAAkB6E,WAAS,eAAgB2F,MAC5CyoG,MACgF,IAA5E9tG,KAAK1F,OAAO8K,cAAcC,EAAcoT,aAAaw1F,WAAW9kD,UAChE2kD,EAAU19F,KAAO,aAErBu9F,EAAarvG,KAAKwvG,IAEjBjzG,oBAAkB6E,WAAS,QAAS2F,MACrCyoG,MACyE,IAArE9tG,KAAK1F,OAAO8K,cAAcC,EAAcmW,MAAMyyF,WAAW9kD,UACzD2kD,EAAU19F,KAAO,SAErBu9F,EAAarvG,KAAKwvG,IAEjBjzG,oBAAkB6E,WAAS,WAAYjB,OACxCqvG,MACU19F,KAAO,WACjBu9F,EAAarvG,KAAKwvG,IAElB9tG,KAAK1F,OAAOmrD,cAAc9pD,OAAS,KACnCmyG,MACU19F,KAAO,SACjBu9F,EAAarvG,KAAKwvG,IAEfH,GAMXnC,EAAW/qG,UAAUu7E,cAAgB,WACjCh8E,KAAKsmB,QAAS,EACdtmB,KAAKqsG,aAAersG,KAAKkuG,mBACzBluG,KAAKmuG,iBAAkB,EACvBnuG,KAAKouG,gBAOT5C,EAAW/qG,UAAU4tG,oBAAsB,WACvC,GAAIC,GAAUxyD,WAASC,WAAWztC,IAAItO,KAAK1F,OAAOyO,SAAU,4BAQ5D,OAHIulG,GAJCzzG,oBAAkByzG,GAIT,GAAIxxG,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB3jB,WAHtD,GAAIpE,MAAKwxG,EAAQptG,WAK/BotG,EAAUtuG,KAAK1F,OAAOoE,qBAAqBoC,eAAewtG,GACnD,GAAIxxG,MAAKwxG,EAAQptG,YAM5BsqG,EAAW/qG,UAAUytG,iBAAmB,WACpC,GAAIx2F,KACJA,GAASlZ,kBAIT,KAAK,GAHDyc,GAAUjb,KAAK1F,OAAO4gB,aACtBI,EAAetb,KAAK1F,OAAOmE,WAC3BlE,EAAKyF,KAAK1F,OAAO0I,WAAWurG,eACvBzwG,EAAI,EAAGA,EAAImd,EAAQtf,OAAQmC,IAAK,CACrC,GAAIqd,GAAQF,EAAQnd,GAAGqd,KACnBA,KAAUG,EAAa/gB,IACvBmd,EAASyD,GAAS5gB,EAClBmd,EAASlZ,gBAAgBqb,YAAcnC,EAASyD,IAE3CF,EAAQnd,GAAGqd,QAAUG,EAAaxgB,WACnCD,oBAAkB6c,EAAS4D,EAAavgB,UACxC2c,EAASyD,GAASnb,KAAKquG,sBAGvB32F,EAASyD,GAAS,GAAIre,MAAK4a,EAAS4D,EAAavgB,UAEjDiF,KAAK1F,OAAO8D,WACZsZ,EAASyD,GAASnb,KAAK1F,OAAOoE,qBAAqBC,OAAO+Y,EAASyD,GAAQnb,KAAK1F,OAAO8D,WAE3FsZ,EAASlZ,gBAAgB1D,UAAY,GAAIgC,MAAK4a,EAASyD,KAElDF,EAAQnd,GAAGqd,QAAUG,EAAavgB,SACnCF,oBAAkB6c,EAAS4D,EAAaxgB,YACxC4c,EAASyD,GAASnb,KAAKquG,sBAGvB32F,EAASyD,GAAS,GAAIre,MAAK4a,EAAS4D,EAAaxgB,YAEjDkF,KAAK1F,OAAO8D,WACZsZ,EAASyD,GAASnb,KAAK1F,OAAOoE,qBAAqBC,OAAO+Y,EAASyD,GAAQnb,KAAK1F,OAAO8D,WAE3FsZ,EAASlZ,gBAAgBzD,QAAU,GAAI+B,MAAK4a,EAASyD,KAEhDF,EAAQnd,GAAGqd,QAAUG,EAAatgB,UACvC0c,EAASyD,GAAS,EAClBzD,EAASlZ,gBAAgBxD,SAAW0c,EAASyD,GAC7CzD,EAASlZ,gBAAgB2F,aAAenE,KAAK1F,OAAO6J,aAAa4D,qBAE5DkT,EAAQnd,GAAGqd,QAAUG,EAAajD,MACvCX,EAASyD,GAASnb,KAAK0Q,UAAUC,YAAY,kBAAoB,IAAMpW,EACvEmd,EAASlZ,gBAAgByoB,SAAWvP,EAASyD,IAExCF,EAAQnd,GAAGqd,QAAUG,EAAaC,UACvC7D,EAASyD,GAAS,EAClBzD,EAASlZ,gBAAgB+c,SAAW7D,EAASyD,IAExCF,EAAQnd,GAAGqd,QAAUG,EAAazK,MACvC6G,EAASyD,GAAS,EAClBzD,EAASlZ,gBAAgBqS,KAAO6G,EAASyD,IAEpCF,EAAQnd,GAAGqd,QAAUG,EAAalL,MACvCsH,EAASyD,GAASnb,KAAK1F,OAAO0kB,SAC9BtH,EAASlZ,gBAAgBwgB,SAAWtH,EAASyD,IAG7CzD,EAAS1X,KAAK1F,OAAO4gB,aAAapd,GAAGqd,OAAS,GAMtD,MAHAzD,GAASlZ,gBAAgBmC,eAA2C,SAAzBX,KAAK1F,OAAOshB,UACzB,WAAzB5b,KAAK1F,OAAOshB,WACyB,IAAlClE,EAAS4D,EAAaO,QACvBnE,GAMX8zF,EAAW/qG,UAAUw7E,sBAAwB,WACzC,GAAIuyB,GAAOxuG,KAAK1F,MAChB,IAAIk0G,EAAKxrG,YAAcwrG,EAAKtvE,aAAaU,aAAc,CAC/C5/B,KAAK1F,OAAOmqB,iBAAiBojB,iBAAmB,GAAK2mE,EAAKxsD,iBAC1DwsD,EAAKxsD,gBAAgB2B,UAAU3jD,KAAK1F,OAAOmqB,iBAAiBojB,iBAAiB,GAAO,EAExF,IAAI4mE,GAAgBD,EAAKxsD,gBACY,QAAhCwsD,EAAKvsD,kBAAkBlT,MAAkD,SAAhCy/D,EAAKvsD,kBAAkBlT,MACV,IAAnDy/D,EAAKxsD,gBAAgByB,mBAAmB9nD,OAER,SAAhC6yG,EAAKvsD,kBAAkBlT,MACyC,IAA5Dy/D,EAAKxsD,gBAAgBm6B,4BAA4BxgF,OACjD6yG,EAAK35F,eAAe25F,EAAKxsD,gBAAgBm6B,4BAA4B,GAAGjgD,UAAU19B,gBAAgBqb,YAClG,KAJJ20F,EAAK35F,eAAe25F,EAAKxsD,gBAAgByB,mBAAmB,IAAIjlD,gBAAgBqb,YAIrE,IACdhf,qBAAkB4zG,IACnBzuG,KAAKk0F,eAAeua,KAShCjD,EAAW/qG,UAAUyzF,eAAiB,SAAUx+E,GAC5C,GAAIs1B,GAAWhrC,KAAK1F,MACfO,qBAAkB6a,KACd7a,oBAAkB6a,EAAwB,mBACQ,gBAAxCA,GAAwB,gBAAU,OACzC1V,KAAK0uG,gBAAkB,aAGvB1uG,KAAK0uG,gBAAkB,eAG3B7zG,oBAAkB6a,EAAwB,mBAAO7a,oBAAkB6a,KAC/DrG,MAAM7G,OAAOkN,KAA8E,eAAlE1V,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAWlE,IAAIqrD,SAC9E5lD,KAAK0uG,gBAAkB,aAGvB1uG,KAAK0uG,gBAAkB,gBAIb,gBAAXh5F,IAAwB7a,oBAAkB6a,GAM3C7a,oBAAkB6a,GAMnBs1B,EAASuY,kBAAoB,IAClCvjD,KAAK6iC,QAAUmI,EAASl5B,gBAAgBk5B,EAASuY,kBACjDvjD,KAAKk8B,SAAW8O,EAASuY,mBAPzBvjD,KAAKk8B,SAAW8O,EAASj2B,IAAIjI,QAAQ4I,EAAOzX,YACxC+B,KAAKk8B,UAAY,IACjBl8B,KAAK6iC,QAAUmI,EAASjiC,SAAS/I,KAAKk8B,aAR1Cl8B,KAAKk8B,SAAWl8B,KAAK1F,OAAOwX,gBAAgBhF,QAAQ4I,GAChD1V,KAAKk8B,UAAY,IACjBl8B,KAAK6iC,QAAUntB,IAavB1V,KAAKsmB,QAAS,EACe,iBAAzBtmB,KAAK1F,OAAOyd,UAAsD,IAAvB/X,KAAK6iC,QAAQjpB,OAGnB,IAArCne,OAAOC,KAAKsE,KAAK6iC,SAASlnC,SAC1BqE,KAAKqsG,aAAenuG,eAAe8B,KAAK6iC,SAAS,GACjD7iC,KAAK2uG,kBAAmB,EACxB3uG,KAAKouG,iBAGb5C,EAAW/qG,UAAU2tG,aAAe,WAChC,GAAIn9F,GAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBs0G,IACJ5uG,MAAKksG,eAAe0C,YAAcA,EAClC5uG,KAAKksG,eAAerpE,QAAU7iC,KAAKqsG,aACnCrsG,KAAKksG,eAAehwE,SAAWl8B,KAAKk8B,QACpC,IAAI2yE,GAAiB7uG,KAAK1F,OAAOymC,WAAa,GAAK,QAC/Cr7B,EAAS1F,KAAK1F,OAAOi9B,cAAc,OAASh9B,GAAIywC,EAASllC,QAAQvL,GAAK,UAAWk9B,OAAQ,aAAeo3E,GAC5GnpG,GAAOlL,UAAU62B,IAAI,kBACrB2Z,EAASllC,QAAQ4xB,YAAYhyB,GAC7BkpG,EAAYE,mBAAsBn6B,OAAQ,QAC1Ci6B,EAAYzoB,OAASnmF,KAAK0Q,UAAUC,YAAY3Q,KAAKsmB,OAAS,kBAAoB,kBAClFsoF,EAAYG,SAAU,EACtBH,EAAY37E,UAAYjzB,KAAK1F,OAAO24B,UACpC27E,EAAYI,eAAiBhvG,KAAK1F,OAAOymC,aAAc/gC,KAAK1F,OAAOulD,iBACnE+uD,EAAYK,eAAgB,CAC5B,IAAI18D,GAAWvyC,KAAK1F,OAAOymC,YAAemuE,EAAG,MAAOC,EAAG,SAAaD,EAAG,SAAUC,EAAG,SACpFP,GAAYr8D,SAAWA,EAEvBq8D,EAAY35E,OAASj1B,KAAK1F,OAAOymC,WAAa,OAAS,OACvD6tE,EAAYtvE,OAAStH,SAASsO,KAC9BsoE,EAAYppD,MAAQxlD,KAAKuyF,YAAY59E,KAAK3U,MAC1C4uG,EAAYQ,eAAgB,EAE5BR,EAAYS,YAAc,SAAUrwG,GACV,WAAlBA,EAAKswG,UACmB,gBAApBtwG,EAAKonC,MAAM/tB,MAAyD,UAA/BrZ,EAAKonC,MAAM9G,OAAOiwE,WACvDvwG,EAAK4/B,QAAS,IAI1BgwE,EAAYl6B,KAAO,SAAU11E,GACzB,GAAIwwG,GAAgB9vG,WAAS,UAAWV,GACpCywG,EAAoBD,EAAc3pG,cAAc,IAAMoL,EAAM3W,OAAOwL,QAAQvL,GAAK,sBAChFk1G,IAAqBA,EAAkBlyE,aAAekyE,EAAkBtyE,cACxEsyE,EAAkBj1G,UAAU62B,IAAI,YAEF,IAA9BpgB,EAAMy+F,OAAOrwC,cACbpuD,EAAMy+F,OAAOC,OAAO,GAEpB1+F,EAAM3W,OAAOymC,aACbyuE,EAAc77E,MAAMi8E,UAAY,QAEhC3+F,EAAM3W,OAAOqtC,aACb12B,EAAM3W,OAAOqtC,YAAYC,iBAAiB4nE,IAGlDZ,EAAYl7D,OAAS1zC,KAAK1F,OAAOo5C,OACjCk7D,EAAYiB,UACJC,aACIp/E,QAAS1wB,KAAK0Q,UAAUC,YAAY,cAAe2L,SAAU,aAEjE+pB,MAAOrmC,KAAK+vG,YAAYp7F,KAAK3U,QAE7B8vG,aAAexzF,SAAU,SAAUoU,QAAS1wB,KAAK0Q,UAAUC,YAAY,WACvE01B,MAAOrmC,KAAK+vG,YAAYp7F,KAAK3U,QAErCA,KAAKgwG,UAAUpB,EAAalpG,IAEhC8lG,EAAW/qG,UAAUsvG,YAAc,SAAU35F,GACzC,GAAIkpB,GAASlpB,EAAEkpB,MAEf,IADAA,EAAO3L,MAAMy2C,cAAgB,OACxBpqE,KAAK0Q,UAAUC,YAAY,UAAWrG,gBAAkB8L,EAAEkpB,OAAOgwB,UAAU3iD,OAAOrC,cAC/EtK,KAAK0F,SAAW1F,KAAK27E,UAAUj9C,cAC/B1+B,KAAKiwG,cAAgB,KACrBjwG,KAAKkwG,QAAU,KACflwG,KAAKmwG,cAAgB,KACrBnwG,KAAK4rG,qBACL5rG,KAAK2rG,mBACL3rG,KAAK27E,UAAU2W,OACftyF,KAAKuyF,mBAGR,CACD,GAAIvyF,KAAKiwG,gBACAjwG,KAAKiwG,cAAcG,WAEpB,YADA9wE,EAAO3L,MAAMy2C,cAAgB,GAIrC,IAAIpqE,KAAKkwG,UAEWlwG,KAAKkwG,QAAQE,WAGzB,YADA9wE,EAAO3L,MAAMy2C,cAAgB,GAIrC,IAAIpqE,KAAKqwG,oBAAgD,eAA1BrwG,KAAKswG,iBAAmC,CAEnE,GAAIC,OAAgB,EAQpB,KALIA,EAF0B,eAA1BvwG,KAAKswG,kBACDxqG,EAAUsQ,EAAEkpB,OAAOC,QAAQ,IAAMv/B,KAAK1F,OAAOwL,QAAQvL,GAAK,YACtCsL,cAAc,eAGtB7F,KAAKqwG,mBAAmBxqG,cAAc,kBAG7B0qG,EAA6B,cAAE,GAAGH,WAGvD,YADA9wE,EAAO3L,MAAMy2C,cAAgB,IAKzC,GAAIpqE,KAAKwwG,kBAA8C,cAA1BxwG,KAAKswG,iBAAkC,CAEhE,GAAIG,OAAc,EAClB,IAA8B,cAA1BzwG,KAAKswG,iBAAkC,CACvC,GAAIxqG,GAAUsQ,EAAEkpB,OAAOC,QAAQ,IAAMv/B,KAAK1F,OAAOwL,QAAQvL,GAAK,UAC9Dk2G,GAAc3qG,EAAQD,cAAc,mBAGpC4qG,GAAczwG,KAAKwwG,iBAAiB3qG,cAAc,cAEtD,IAAI4qG,IACuBA,EAA2B,cAAE,GAAGL,WAGnD,YADA9wE,EAAO3L,MAAMy2C,cAAgB,IAKzCpqE,KAAK0wG,qBACL1wG,KAAK1F,OAAuB,gBAAI,EAChC0F,KAAKiwG,cAAgB,KACrBjwG,KAAKkwG,QAAU,KACflwG,KAAKmwG,cAAgB,KACrBnwG,KAAK4rG,qBACL5rG,KAAK2rG,mBACLrsE,EAAO3L,MAAMy2C,cAAgB,SAOrCohC,EAAW/qG,UAAU8xF,YAAc,WAC3BvyF,KAAK0F,QACL1F,KAAK2wG,cAEJ91G,oBAAkBmF,KAAK1F,OAAOqtC,cAC9B9sC,oBAAkBmF,KAAK1F,OAAOqtC,YAAYkzC,kBAAiB,KAC5D76E,KAAK1F,OAAOqtC,YAAYkzC,kBAAiB,GAAM3wC,SAGvDshE,EAAW/qG,UAAUkwG,YAAc,WAC/B3wG,KAAKsmB,QAAS,EACdtmB,KAAKonB,kBAAmB,EACxBpnB,KAAKqsG,gBACLrsG,KAAK1F,OAA4B,oBAAI,GACrC0F,KAAK6iC,WACL7iC,KAAKk8B,UAAY,EACjBl8B,KAAKkkD,YAAc,KACnBlkD,KAAKue,kBACLve,KAAK+rG,0BAA2B,EAChC/rG,KAAKmuG,iBAAkB,EACvBnuG,KAAK2uG,kBAAmB,EACxB3uG,KAAK1F,OAAO+J,cAAsC,wBAAI,EAClDrE,KAAK0F,SAAW1F,KAAK27E,UAAUj9C,cAC/B1+B,KAAK4wG,6BACL5wG,KAAK27E,UAAUxkD,UACfx4B,SAAOqB,KAAK0F,UAGpB8lG,EAAW/qG,UAAUmwG,2BAA6B,WAI9C,IAAK,GAHD5lE,GAAWhrC,KAAK1F,OAEhByc,EADW/W,KAAKksG,eAAe2E,SACd95F,MACZjZ,EAAI,EAAGA,EAAIiZ,EAAMpb,OAAQmC,IAAK,CACnC,GAAIgI,GAAUiR,EAAMjZ,GAAG4yB,QACnBn2B,EAAKuL,EAAQ29B,aAAa,KACzB5oC,qBAAkBN,IAAc,KAAPA,IAGf,aADXA,GADAA,EAAKA,EAAG4E,QAAQ6rC,EAASllC,QAAQvL,GAAI,KAC7B4E,QAAQ,eAAgB,KAE5Ba,KAAK8wG,mBAAmBhrG,GAEZ,eAAPvL,EACSuL,EAAQC,cAAc,GAC5BoxB,UAEI,UAAP58B,EACKuL,EAAQC,cAAc,GAC5BoxB,UAEQ,cAAP58B,EACauL,EAAQC,cAAc,GAC5BoxB,WAEmB,IAA1B58B,EAAGuS,QAAQ,WAChB9M,KAAK8wG,mBAAmBhrG,MAKxC0lG,EAAW/qG,UAAUqwG,mBAAqB,SAAUhrG,GAGhD,IAAK,GAFD8uB,GAAa9uB,EAAQ8uB,WACrBoW,EAAWhrC,KAAK1F,OACXwD,EAAI,EAAGA,EAAI82B,EAAWj5B,OAAQmC,IAAK,CACxC,GAAI+zC,GAAMjd,EAAW92B,GACjBizG,EAAel/D,EAAIhsC,cAAc,cAAgBmlC,EAASllC,QAAQvL,GAAK,KAC3E,IAAIw2G,EAAc,CACd,GAAInrF,GAAYmrF,EAAax2G,GAAG4E,QAAQ6rC,EAASllC,QAAQvL,GAAI,IAEzDy2G,EAAan/D,EAAIhsC,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAKqrB,GAAW7f,cAAc,EACxF,KAAKlL,oBAAkBm2G,GAAa,CAChC,GAAI/tE,GAAS+H,EAAS5lC,cAAcwgB,EACpC,IAAK/qB,oBAAkBooC,IAAYpoC,oBAAkBooC,EAAOz9B,QAAS3K,oBAAkBooC,EAAOz9B,KAAK8gD,QAW/F0qD,EAAW75E,cAX6F,CACxG,GAAIA,GAAU8L,EAAOz9B,KAAK2xB,OACH,iBAAZA,IACPA,EAAU85E,YAAU95E,EAASzB,WAI7BuN,EAAOz9B,KAAK2xB,eAcpCq0E,EAAW/qG,UAAU02B,QAAU,WAC3Bn3B,KAAK2wG,cACD3wG,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,gBAAiB5xB,KAAKstG,iBACtCttG,KAAK1F,OAAO0I,WAAW2C,iBAAegC,KAO1C6jG,EAAW/qG,UAAUywG,cAAgB,WACjC,MAAIlxG,MAAKsmB,OACEtmB,KAAKm3F,kBAGLn3F,KAAK8rG,kBAGpBN,EAAW/qG,UAAUuvG,UAAY,SAAUpB,EAAalpG,GACpD,GAKIyrG,GALAlgG,EAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBu2G,KACAO,KACAC,EAAiBrxG,KAAKkxG,gBAEtBnoF,EAAQiiB,EAASvsC,WACjB9C,EAAS01G,EAAe11G,MAC5Bk1G,GAAS95F,MAAQq6F,EACjBP,EAASn9D,OAAS1zC,KAAK1F,OAAOo5C,OAC9Bm9D,EAAS59E,UAAYjzB,KAAK1F,OAAO24B,UACjCjzB,KAAKksG,eAAe2E,SAAWA,CAE/B,IAAIpxG,GAAQ,CACZ,IAAI9D,EAAS,EACT,IAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,IAAK,CAC7B,GAAIwzG,GAAcD,EAAevzG,GAC7ByzG,IACJ,IAAyB,YAArBD,EAAYlhG,KAAoB,CAChC,GAAmD,IAA/C3U,OAAOC,KAAKsvC,EAAS3lC,eAAe1J,OACpC,QAEAd,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,eAExD4gG,EAAQ7gF,QAAU,UAClB1wB,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAKwxG,eAAeF,EAAYjxD,YAEtE,IAAyB,aAArBixD,EAAYlhG,KAAqB,CACtC,GAAIvV,oBAAkBkuB,EAAMpkB,UACxB,QAEA9J,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,aAExD4gG,EAAQ7gF,QAAU,WAClB1wB,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAKyxG,iBAAiBH,EAAYjxD,YAExE,IAAyB,eAArBixD,EAAYlhG,KAAuB,CACxC,GAAIvV,oBAAkBkuB,EAAM3P,YACxB,QAEAve,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,eAExD4gG,EAAQ7gF,QAAU,aAClB1wB,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAK0xG,oBAAoBJ,EAAYjxD,YAE3E,IAAyB,cAArBixD,EAAYlhG,KAAsB,CACvC,GAAIvV,oBAAkBkuB,EAAMtQ,cACxB,QAEA5d,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,iBAExD4gG,EAAQ7gF,QAAU,YAClB1wB,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAK2xG,kBAAkBL,EAAYjxD,YAEzE,IAAyB,UAArBixD,EAAYlhG,KAAkB,CACnC,GAAIvV,oBAAkBkuB,EAAMvN,OACxB,QAEA3gB,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,UAExD4gG,EAAQ7gF,QAAU,QAClB1wB,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAK4xG,cAAcN,EAAYjxD,YAErE,CACD,GAAIxlD,oBAAkBy2G,EAAYjxD,SAAyC,IAA9BixD,EAAYjxD,OAAO1kD,OAC5D,QAEAd,qBAAkBy2G,EAAY3rD,cAC9B2rD,EAAY3rD,WAAa3lD,KAAK0Q,UAAUC,YAAY,cAGxD4gG,EAAQ7gF,QAAU,SAAgBjxB,IAClCO,KAAKksG,eAAeqF,EAAQ7gF,SAAW1wB,KAAKwxG,eAAeF,EAAYjxD,QAE3EkxD,EAAQprB,QAAWj/B,KAAMoqD,EAAY3rD,YACrCyrD,EAAS9yG,KAAKizG,GAGtBvxG,KAAKksG,eAAer1E,YAAc72B,KAAKsmB,OAAS,uBAAyB,sBACzEtmB,KAAK1F,OAAOgc,QAAQ,cAAetW,KAAKksG,eAAgB,SAAUloE,GAC9D,GAAKA,EAAIpF,OAmDLoF,EAAIpF,QAAS,EACR/jC,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOu7B,cAHb5kB,EAAM3W,OAAOi6B,kBArDJ,CACR15B,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKjBtkB,EAAM4gG,iBACNhB,EAASiB,SAAW7gG,EAAM8gG,iBAAiBp9F,KAAK1D,GAChD4/F,EAAS57E,OAAShkB,EAAM3W,OAAOymC,WAAa,OAAS,OACrD8vE,EAASmB,aAAe,aACxB/gG,EAAMy+F,OAAS,GAAIuC,OAAIpB,GACvB5/F,EAAMy+F,OAAOt6B,kBAAmB,EAChC+7B,EAAalgG,EAAM3W,OAAOi9B,cAAc,OAASh9B,GAAIywC,EAASllC,QAAQvL,GAAK,SAC3E0W,EAAMy+F,OAAO/vD,SAASwxD,GACtBvC,EAAYl+E,QAAUygF,EACtBlgG,EAAMvL,OAASA,EACfuL,EAAM0qE,UAAY,GAAIu2B,UAAOtD,GAC7B39F,EAAM0qE,UAAUvG,kBAAmB,EACnCnkE,EAAM0qE,UAAUh8B,SAAS1uC,EAAMvL,OAC/B,IAAIysG,IACAxiF,OAAQ,aACRkH,YAAa5lB,EAAMqV,OAAS,iBAAmB,gBAC/CvoB,KAAMkT,EAAMi7F,eAAerpE,QAC3B/8B,QAASmL,EAAMvL,OACfk5B,QAAQ,EAEE3tB,GAAM3W,OAAO4H,SAASqvB,KAAKm3D,aAEVj6D,KAAK,SAAUpzB,GAAO,MAAOA,GAAI+2G,oBAE5DnhG,EAAMg/F,cAAgB,KACtBh/F,EAAMi/F,QAAU,KAChBj/F,EAAMk/F,cAAgB,KACtBl/F,EAAM26F,qBACN36F,EAAM06F,mBACN16F,EAAMohG,cAAcF,EAAmBrsG,UAE3CmL,EAAM3W,OAAOgc,QAAQ,iBAAkB67F,EAAoB,SAAUG,GAC5Dz3G,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOu7B,cAHb5kB,EAAM3W,OAAOi6B,cAKb+9E,EAAkB1zE,QAClB3tB,EAAM0/F,oBAgB1BnF,EAAW/qG,UAAU4xG,cAAgB,SAAUF,GAa3C,GAZKnyG,KAAKuyG,cACNvyG,KAAKuyG,YAAcvyG,KAAK1F,OAAO4H,SAASqvB,KAAKm3D,cAE5C1oF,KAAKsD,aACNtD,KAAKsD,WAAatD,KAAK1F,OAAOmE,WAAuB,YAEpDuB,KAAKmwG,gBACNnwG,KAAKmwG,cAAgBnwG,KAAKwyG,2BAEQ,IAAlCxyG,KAAK4rG,kBAAkBjwG,QAAgD,IAAhCqE,KAAK2rG,gBAAgBhwG,QAC5DqE,KAAKyyG,eAAezyG,KAAKuyG,YAAavyG,KAAKsD,WAAYtD,KAAKmwG,eAE5DnwG,KAAKmuG,iBAAmBnuG,KAAK1F,OAAOozG,iBAAmB1tG,KAAK1F,OAAOozG,gBAAgB/xG,OAAS,EAErE,eADnB+2G,EAAiB1yG,KAAK1F,OAAOozG,gBAAgB,GAAGt9F,OACK,eAAnBsiG,IAClC1yG,KAAKswG,iBAAmBoC,OAG3B,IAAI1yG,KAAK2uG,kBAAoB3uG,KAAK1F,OAAOizG,kBAAoBvtG,KAAK1F,OAAOizG,iBAAiB5xG,OAAS,EAAG,CACvG,GAAI+2G,GAAiB1yG,KAAK1F,OAAOizG,iBAAiB,GAAGn9F,IAC9B,eAAnBsiG,GAAqD,eAAnBA,IAClC1yG,KAAKswG,iBAAmBoC,GAGhC,IAAK1yG,KAAKiwG,gBAAkBjwG,KAAKkwG,QAAS,CACtC,GAAIyC,GAAqB3yG,KAAK4rG,kBAC1BgH,EAAmB5yG,KAAK2rG,eAC5B,KAAK3rG,KAAKiwG,eAAiB0C,GAAsBA,EAAmBh3G,OAAS,EAAG,CAG5E,IAAK,GADDk3G,MACK/0G,EAAI,EAAGA,EAAI60G,EAAmBh3G,OAAQmC,IAAK,CAChD,GAAIg1G,GAAeH,EAAmB70G,EAClCg1G,GAAa3pD,SAAW2pD,EAAaV,kBACrCS,EAAqBC,EAAa33F,OAAS23F,EAAaV,iBAG5D32G,OAAOC,KAAKm3G,GAAsBl3G,OAAS,IAC3CqE,KAAKiwG,cAAgBkC,EAAmBtsG,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,uBACjFyF,KAAKiwG,gBACLjwG,KAAKiwG,cAAgBjwG,KAAK+yG,cAAc/yG,KAAKiwG,cAAe4C,KAIxE,IAAK7yG,KAAKkwG,SAAW0C,GAAoBA,EAAiBj3G,OAAS,EAAG,CAGlE,IAAK,GADDk3G,MACK/0G,EAAI,EAAGA,EAAI80G,EAAiBj3G,OAAQmC,IAAK,CAC9C,GAAIk1G,GAAaJ,EAAiB90G,EAC9Bk1G,GAAW7pD,SAAW6pD,EAAWZ,kBACjCS,EAAqBG,EAAW73F,OAAS63F,EAAWZ,iBAGxD32G,OAAOC,KAAKm3G,GAAsBl3G,OAAS,IAC3CqE,KAAKkwG,QAAUiC,EAAmBtsG,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,uBAC3EyF,KAAKkwG,UACLlwG,KAAKkwG,QAAUlwG,KAAK+yG,cAAc/yG,KAAKkwG,QAAS2C,MAKhE7yG,KAAKmuG,iBAAkB,EACvBnuG,KAAK2uG,kBAAmB,GAE5BnD,EAAW/qG,UAAU+xG,wBAA0B,WAC3C,GAAI7E,GAAe3tG,KAAKmuG,gBAClBnuG,KAAK1F,OAAOozG,gBACZ1tG,KAAK1F,OAAOizG,gBAClB,OAA4B,KAAxBI,EAAahyG,OACNgyG,EAAah0F,OAAO,SAAUte,GAAO,MAAoB,YAAbA,EAAI+U,MAAmC,WAAb/U,EAAI+U,OAE9E,MAGXo7F,EAAW/qG,UAAUgyG,eAAiB,SAAUF,EAAajvG,EAAY6sG,GACrE,GAAIl/F,GAAQjR,IACRmwG,GACAA,EAAc79F,QAAQ,SAAUxM,GAE5B,GAAImtG,GAA+B,YAAjBntG,EAAQsK,KAAqBa,EAAM06F,gBAAkB16F,EAAM26F,iBAC7E9lG,GAAQu6C,OAAO/tC,QAAQ,SAAU6I,GAC7B,GAAI+3F,GAAcjiG,EAAM3W,OAAOu6F,iBAAiB15E,EAAOo3F,EACnC,QAAhBW,EACAD,EAAY30G,KAAK40G,GAGjBD,EAAY30G,KAAK2S,EAAM3W,OAAO8K,cAAc+V,QAOxDo3F,EAAYjgG,QAAQ,SAAU2wB,IACgC,IAAtDhyB,EAAM3W,OAAOmrD,cAAc34C,QAAQm2B,EAAO9nB,OAC1ClK,EAAM26F,kBAAkBttG,KAAK2kC,GAG7BhyB,EAAM06F,gBAAgBrtG,KAAK2kC,MAK3CuoE,EAAW/qG,UAAUsyG,cAAgB,SAAUI,EAAMC,GACjD,GAAIniG,GAAQjR,IACZ,OAAO,IAAIqzG,iBAAcF,GACrBC,MAAOA,EACP1/D,OAAQ1zC,KAAK1F,OAAOo5C,OACpB4/D,mBAAoB,SAAUt0G,GAC1BiS,EAAMqiG,mBAAmBt0G,IAE7Bu0G,gBAAiB,SAAUxC,EAAczhG,GACrC,GAAIkkG,GAAgBzC,EAAattE,aAAa,OAC9C,IAAI+vE,EAAe,CACf,GAAI/qE,GAAa+qE,CACjBviG,GAAMwiG,kBAAkB1C,EAAczhG,EAAOm5B,QAK7D+iE,EAAW/qG,UAAUgzG,kBAAoB,SAAU1C,EAAczhG,EAAOm5B,GACpE,GAAIluC,GAAKkuC,EAAa,WAClBtuC,EAAO6F,KAAK0zG,aAAa3C,EAC7B,IAAK52G,EAGA,CACD,GAAIw5G,GAAiBx5G,EAAK0L,cAAc,iBACpC8tG,KACAA,EAAetgF,UAAY/jB,EAAMgkB,eALrCtzB,MAAKq0E,cAAc08B,EAAczhG,EAAO/U,IAShDixG,EAAW/qG,UAAU4zE,cAAgB,SAAU08B,EAAc6C,EAAcr5G,EAAIs6B,OAC3D,KAAZA,IAAsBA,EAAU,QACpC,IAAIg/E,GAAkB77E,SAAS2L,eAAeppC,EAC1Cs5G,IACAA,EAAgBl1G,QAEpB,IAAIjE,GAAgBq2G,EAAar2G,aAC7BA,KACAA,EAAci5B,MAAM4e,SAAW,WAEnC,IAAIuhE,GAAmB97E,SAAST,cAAc,MAC9Cu8E,GAAiBt8E,UAAY,qDAC7Bs8E,EAAiBngF,MAAMkB,QAAUA,EACjCi/E,EAAiBngF,MAAMwsC,OAAS,MAChC,IAAI4zC,GAAUx5G,EAAK,SACfy5G,EAAeh8E,SAAST,cAAc,MAC1Cy8E,GAAaz5G,GAAKw5G,EAClBC,EAAax8E,UAAY,SACzB,IAAIm8E,GAAiB37E,SAAST,cAAc,MAC5Co8E,GAAen8E,UAAY,eAC3B,IAAIy8E,GAAsBj8E,SAAST,cAAc,MACjD08E,GAAoBz8E,UAAY,gBAChCy8E,EAAoBv8E,YAAYk8E,EAAavzC,WAAU,GACvD,IAAI6zC,GAAQl8E,SAAST,cAAc,MACnC28E,GAAM18E,UAAY,wBAClB08E,EAAMx8E,YAAYM,SAAST,cAAc,QAAQC,UAAY,8BAC7D08E,EAAMx8E,YAAYM,SAAST,cAAc,QAAQC,UAAY,8BAC7Ds8E,EAAiBx9E,aAAa,kBAAmBy9E,GACjDJ,EAAej8E,YAAYu8E,GAC3BH,EAAiBp8E,YAAYi8E,GAC7BG,EAAiBp8E,YAAYw8E,GAC7BJ,EAAiBngF,MAAM3C,IAAM,OAC7B8iF,EAAiBngF,MAAM7V,KAAO,MAC9Bg2F,EAAiBngF,MAAMsE,UAAY,mBAC/Bv9B,IACAA,EAAcg9B,YAAYs8E,GAC1Bt5G,EAAcg9B,YAAYo8E,KAGlCtI,EAAW/qG,UAAUizG,aAAe,SAAU3C,GAC1C,GAAIr2G,GAAgBq2G,EAAar2G,aACjC,OAAIA,GACOA,EAAcmL,cAAc,mBAEhC,MAEX2lG,EAAW/qG,UAAU6yG,mBAAqB,SAAUt0G,GAChD,GAAI7E,GAAO6F,KAAK0zG,aAAa10G,EAAK8G,QAC9B3L,KACoB,YAAhB6E,EAAKm1G,OACLh6G,EAAKw5B,MAAMkB,QAAU,GAGrB16B,EAAKw5B,MAAMkB,QAAU,SAIjC22E,EAAW/qG,UAAUsxG,iBAAmB,SAAU/yG,GAC9C,GAAIgsC,GAAWhrC,KAAK1F,OAChBC,EAAKyE,EAAKo1G,gBAAgBx/E,WAAW,GAAGr6B,GACxCoL,EAAe3F,KAAK1F,OAAO0I,WAAW2C,aACtCD,EAASC,EAAaD,OACtB2uG,EAAqB3uG,EAAO0tB,uBAAuB,qBAAqBz3B,OAAS,EACjF24G,EAAsB5uG,EAAO0tB,uBAAuB,eAAez3B,OAAS,GAC5E+J,EAAO0tB,uBAAuB,cAAcz3B,OAAS,CAuBzD,IAtBIgK,EAAa6qG,kBAAoB6D,EACjCr8E,SAASnyB,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAU,qCACxBwL,cAAc,GAAGshC,WAE5C1hC,EAAa0qG,oBAAsBiE,GACxCt8E,SAASnyB,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAU,0BACpCwL,cAAc,GAAG/C,WAAWuxG,YAEhDh6G,IAAOywC,EAASllC,QAAQvL,GAAK,2BAC7ByF,KAAKqwG,mBAAqBrxG,EAAKo1G,iBAE/B75G,IAAOywC,EAASllC,QAAQvL,GAAK,0BAC7ByF,KAAKwwG,iBAAmBxxG,EAAKo1G,iBAE7B75G,IAAOywC,EAASllC,QAAQvL,GAAK,wBAGzBi6G,GAFAv5F,EAAUjb,KAAK1F,OAAO4H,SAASqvB,KAAKm3D,cAETj6D,KAAK,SAAUpzB,GAAO,MAAOA,GAAI+2G,oBAE5DpyG,KAAKqyG,cAAcrzG,EAAKo1G,iBAG5B75G,IAAOywC,EAASllC,QAAQvL,GAAK,sBAAuB,CACpD,GAAI0gB,GAAUjb,KAAK1F,OAAO4H,SAASqvB,KAAKm3D,aAEpC8rB,EAAmBv5F,EAAQwT,KAAK,SAAUpzB,GAAO,MAAOA,GAAI+2G,iBAC5DoC,IACAx0G,KAAKqyG,cAAcrzG,EAAKo1G,kBAG5Bp0G,KAAK1F,OAAOymC,YAAc/gC,KAAK1F,OAAOulD,mBACtC7/C,KAAKy0G,qBAAqBl6G,EAAIywC,GAE9BzwC,IAAOywC,EAASllC,QAAQvL,GAAK,wBAC7ByF,KAAK00G,kBAAkBn6G,GAElBA,IAAOywC,EAASllC,QAAQvL,GAAK,oBAClCy9B,SAAS2L,eAAeppC,GAAIwL,cAAc,GAAGykF,UAGxCjwF,IAAOywC,EAASllC,QAAQvL,GAAK,yBAC9BM,oBAAkBmF,KAAKksG,eAAerpE,QAAQrkC,gBAAgB1D,WAC9Dk9B,SAAS2L,eAAeppC,GAAIwL,cAAc,GACrC4uG,oBAAoB30G,KAAK1F,OAAOwL,QAAQvL,GAAK,6BAAkC,GAGpFy9B,SAAS2L,eAAeppC,GAAIwL,cAAc,GACrC4uG,oBAAoB30G,KAAK1F,OAAOwL,QAAQvL,GAAK,6BAAkC,KAIhGixG,EAAW/qG,UAAUg0G,qBAAuB,SAAUl6G,EAAIywC,GACtD,GAAI4pE,GAAgB58E,SAAS2L,eAAeqH,EAASllC,QAAQvL,GAAK,0BAC9Ds6G,EAAsBD,EAAcr2E,YACxCs2E,IAAuBD,EAAc/uG,cAAc,iBAAiBs3B,YACpE,IAAI5L,GAAOyG,SAASnyB,cAAc,IAAMtL,EACxC,IAAIg3B,EAAK/2B,UAAUC,SAAS,UAAW,CACnCo6G,GAAuBtjF,EAAKxrB,cAAc,GAAGkmF,mBAAmB9uD,YAChE,IAAI23E,GAAYvjF,EAAK1rB,cAAc,aAC/BivG,KACAD,GAAuBC,EAAU33E,cAGzC5L,EAAK72B,cAAci5B,MAAMsB,OAAS4/E,EAAsB,MAE5DrJ,EAAW/qG,UAAU+wG,eAAiB,SAAUnxD,GAG5C,IAAK,GAFD00D,MACA3vG,EAAgBpF,KAAK1F,OAAO8K,cACvBtH,EAAI,EAAGA,EAAIuiD,EAAO1kD,OAAQmC,IAC/B,GAAIuiD,EAAOviD,KAAOkC,KAAK1F,OAAOmE,WAAW2a,YACrCinC,EAAOviD,KAAOkC,KAAK1F,OAAOmE,WAAWga,cACrC4nC,EAAOviD,KAAOkC,KAAK1F,OAAOmE,WAAW+c,QAGpC3gB,oBAAkBuK,EAAci7C,EAAOviD,KAAM,CAC9C,GAAI8nB,GAAYy6B,EAAOviD,EACvBkC,MAAKg1G,iBAAiB5vG,EAAcwgB,GAAYmvF,GAGxD,MAAOA,IAEXvJ,EAAW/qG,UAAUu0G,iBAAmB,SAAU/xE,EAAQ8xE,GACtD,GAAI9jG,GAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBo5C,EAAS1zC,KAAK1F,OAAOo5C,OACrBp4B,EAAetb,KAAK1F,OAAOmE,WAC3Bw2G,GACA9tD,YAAalkB,EAAO0iB,WACpBuvD,eAAgB,OAQpB,QANKr6G,oBAAkBmF,KAAK1F,OAAOmE,WAAWlE,KAAQM,oBAAkBmF,KAAK1F,OAAO+K,cAAc9K,KAC1FM,oBAAkBmF,KAAK0uG,kBACvBpzF,EAAa/gB,KAAO0oC,EAAO9nB,QAC3B8nB,EAAO2iB,SAAW5lD,KAAK0uG,iBAGvBzrE,EAAO2iB,UACX,IAAK,cAEG,GAAIuvD,IACA7kF,MAAO2S,EAAO0iB,WACdjS,OAAQA,EACRzgB,UAAWjzB,KAAK1F,OAAO24B,UAE3B8hF,GAAY9xE,EAAO9nB,OAASg6F,CAC5B,MAER,KAAK,cACL,IAAK,aAEG,GAAIvvG,GAAUqvG,CACdrvG,GAAQqtB,UAAYjzB,KAAK1F,OAAO24B,UAC5BgQ,EAAO9nB,QAAU6vB,EAAS3lC,cAAcrK,UACxCioC,EAAO9nB,QAAU6vB,EAAS3lC,cAAc9K,IAAM0oC,EAAO9nB,QAAU6vB,EAAS3lC,cAAcvK,WACtFmoC,EAAO9nB,QAAU6vB,EAAS3lC,cAActK,UACxC6K,EAAQwvG,OAAS,SAAUp2G,GAClBiS,EAAMy6F,YASPz6F,EAAM3W,OAA4B,oBAAI,IARjC2oC,EAAO9nB,QAAUlK,EAAM3W,OAAOmE,WAAWzD,UAC1CioC,EAAO9nB,QAAUlK,EAAM3W,OAAOmE,WAAWoS,MAAUI,EAAMy6F,cACzDz6F,EAAMy6F,aAAc,EACpBz6F,EAAM3W,OAA4B,oBAAI2oC,EAAO9nB,OAEjDlK,EAAMokG,uBAAuBr2G,EAAMikC,EAAQ+H,MAOvD+pE,EAAY9xE,EAAO9nB,OAAS85F,CAC5B,MAER,KAAK,cAEG,GAAIK,GAAUL,CACdK,GAAQriF,UAAYjzB,KAAK1F,OAAO24B,UAC5B3X,EAAaC,WAAa0nB,EAAO9nB,QACjCm6F,EAAQhnG,IAAM,EACdgnG,EAAQr5D,IAAM,KAElBq5D,EAAQF,OAAS,SAAUp2G,GAClBiS,EAAMy6F,YASPz6F,EAAM3W,OAA4B,oBAAI,IARjC2oC,EAAO9nB,QAAUlK,EAAM3W,OAAOmE,WAAWzD,UAC1CioC,EAAO9nB,QAAUlK,EAAM3W,OAAOmE,WAAWoS,MAAUI,EAAMy6F,cACzDz6F,EAAMy6F,aAAc,EACpBz6F,EAAM3W,OAA4B,oBAAI2oC,EAAO9nB,OAEjDlK,EAAMokG,uBAAuBr2G,EAAMikC,EAAQ+H,KAMnD+pE,EAAY9xE,EAAO9nB,OAASm6F,CAC5B,MAER,KAAK,iBAEG,GAAIC,GAAgBN,CACpBM,GAAcrlG,OAASlQ,KAAK1F,OAAO6V,gBACnColG,EAActiF,UAAYjzB,KAAK1F,OAAO24B,UACtCsiF,EAAcC,YAAa,EAC3BD,EAAcE,eAAiBzqE,EAASp5B,eAAegQ,uBAAuBmuB,aAC1E9M,EAAO9nB,QAAU6vB,EAAS3lC,cAAcvK,WACxCmoC,EAAO9nB,QAAU6vB,EAAS3lC,cAActK,UACxCw6G,EAAc/uD,cAAgBxmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,QACzEi7G,EAAcH,OAAS,SAAUp2G,GAC7BiS,EAAMokG,uBAAuBr2G,EAAMikC,EAAQ+H,KAGnD+pE,EAAY9xE,EAAO9nB,OAASo6F,CAC5B,MAER,KAAK,qBAEG,GAAIG,GAAoBT,CACxBS,GAAkBxlG,OAASlQ,KAAK1F,OAAO6V,gBACvCulG,EAAkBziF,UAAYjzB,KAAK1F,OAAO24B,UAC1CyiF,EAAkBF,YAAa,EAC/BE,EAAkBD,eAAiBzqE,EAASp5B,eAAegQ,uBAAuBmuB,aAC9E9M,EAAO9nB,QAAU6vB,EAAS3lC,cAAcvK,WACxCmoC,EAAO9nB,QAAU6vB,EAAS3lC,cAActK,UACxC26G,EAAkBlvD,cAAgBxmD,KAAK1F,OAAOisD,qBAAqB5xC,KAAK3U,KAAK1F,QAC7Eo7G,EAAkBN,OAAS,SAAUp2G,GACjCiS,EAAMokG,uBAAuBr2G,EAAMikC,EAAQ+H,KAGnD+pE,EAAY9xE,EAAO9nB,OAASu6F,CAC5B,MAER,KAAK,eACD,GAAIzyE,EAAO9nB,QAAU6vB,EAAS3lC,cAAc+K,MAAQ6yB,EAAO9nB,QAAU6vB,EAAS3lC,cAAcwW,OAAQ,CAChG,GAEIswF,KACEwJ,GAAM,EAAGC,MAAS,cAAiBD,GAAM,EAAGC,MAAS,cAAiBD,GAAM,EAAGC,MAAS,iBAE9FX,GAAc,WAAI9I,EAClB8I,EAAgB,QAAM51G,MAAO,QAC7B,IAAIw2G,GAAkBZ,CACtBY,GAAgB5iF,UAAYjzB,KAAK1F,OAAO24B,UACxC4iF,EAAgBT,OAAS,SAAUp2G,GAC3BikC,EAAO9nB,QAAUG,EAAaO,SAC9B5K,EAAMo7F,aAAa7tG,gBAAgBmC,gBAAkB3B,EAAKK,OAE9D4R,EAAMokG,uBAAuBr2G,EAAMikC,EAAQ+H,IAGnD+pE,EAAY9xE,EAAO9nB,OAAS85F,CAC5B,MACJ,KAAK,aACDF,EAAY9xE,EAAO9nB,OAAS85F,EAMpC,MAHKp6G,qBAAkBooC,EAAOz9B,OAAU3K,oBAAkBooC,EAAOz9B,KAAK8gD,SAClEpoD,SAAO62G,EAAY9xE,EAAO9nB,OAAQ8nB,EAAOz9B,KAAK8gD,QAE3CyuD,GAEXvJ,EAAW/qG,UAAU40G,uBAAyB,SAAUr2G,EAAMikC,EAAQ+H,GAClE,GAAIxvC,GACAkK,CACC7K,qBAAkBmwC,EAAShoC,WAAW2C,aAAaD,UACpDA,EAASslC,EAAShoC,WAAW2C,aAAaD,OAE9C,IACIqrG,GADA+E,EAAW,KAEX93C,EAAchzB,EAAShoC,WAAW2C,aAAa0mG,aAC/C0J,EAAY,KACZhuD,EAAU,KAEVhzC,EAA+B,iBAAzB/U,KAAK1F,OAAOyd,SAA8B/X,KAAK1F,OAAOkf,aAAexZ,KAAK1F,OAAOya,IACvFihG,EAAch2G,KAAK1F,OAAOyd,QAgB9B,IAfKld,oBAAkBmE,EAAK8G,SAIlBjL,oBAAkBmE,EAAKi3G,WAKvBp7G,oBAAkBmE,EAAKonC,QAAWvrC,oBAAkBmE,EAAKonC,MAAM8vE,OACpEr7G,oBAAkBmE,EAAKonC,MAAM8vE,MAAM,KAEpCJ,GADA/E,EAAe/xG,EAAKonC,MAAM8vE,KAAK,IACPrwG,cAAc,SAAS49B,aAAa,MAC5DstE,EAAeA,EAAalrG,cAAc,IAAMiwG,KAPhDA,GADA/E,EAAe/xG,EAAKi3G,WACIpwG,cAAc,SAAS49B,aAAa,MAC5DstE,EAAeA,EAAalrG,cAAc,IAAMiwG,IALhDA,GADA/E,EAAe/xG,EAAK8G,SACI29B,aAAa,MAarC5oC,oBAAkBk2G,GAClBgF,EAAY/2G,EAAKK,MACjB0oD,EAAU9kB,EAAO9nB,UAKjB,IAFA46F,EAAYhF,EAAa1xG,MACzB0oD,EAAU+tD,EAAS32G,QAAQ6rC,EAASllC,QAAQvL,GAAI,IACsB,eAAlEyF,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAWlE,IAAIqrD,SAA2B,CAChF,GAAIuwD,GAAW,SAAUn3G,GACrB,MAAoB,iBAAhBg3G,GAC6C,IAAtCjhG,EAAIjI,QAAQ,IAAM9N,EAAY,SAAmD,IAAtC+V,EAAIjI,QAAQ,IAAM9N,EAAY,QAGzC,IAAhC+V,EAAIjI,QAAQ9N,EAAY,QAGnCi+C,GACAm2D,OAAQ53G,KACJA,EAAGwE,KAAK1F,OAAOmE,WAAWlE,KAAQ67G,UAAU,EAAMC,WAAYF,EAAU,kDACxE36G,GAGK,IAAI63G,iBAAc,IAAMrzG,KAAK1F,OAAOwL,QAAQvL,GAAK,sBAAuB0iD,GAG7F,GAAmC,IAA/B8K,EAAQwlC,OAAO,YAIf,MAHAxlC,GAAUA,EAAQ5oD,QAAQ,uBAAwB,IAClDa,KAAKs2G,sBAAsBtrE,EAAU+c,EAASguD,EAAW/2G,GACzDgB,KAAK0rG,aAAc,GACZ,CAGP1rG,MAAKu2G,qCAAqCxuD,EAASguD,EAAW/1G,KAAKqsG,aACnE,IAAIzxG,GAAYojE,EAAYx/D,gBACxBuqB,EAAQiiB,EAASvsC,UAmBrB,OAlBK5D,qBAAkBkuB,EAAMjuB,YAAciuB,EAAMjuB,YAAcitD,GAC3D/nD,KAAKw2G,qBAAqB9wG,EAAQ9K,EAAW,aAE7CmuB,EAAMhuB,UAAYgtD,IAAYltD,oBAAkBD,EAAUE,aAAeD,oBAAkBmE,EAAKK,QAChGzE,EAAUE,UAAUoG,UAAYlC,EAAKK,OACrCW,KAAKw2G,qBAAqB9wG,EAAQ9K,EAAW,WAE5CC,oBAAkBkuB,EAAMhuB,UAAYguB,EAAMhuB,UAAYgtD,GACvD/nD,KAAKw2G,qBAAqB9wG,EAAQ9K,EAAW,aAE5CC,oBAAkBkuB,EAAM/tB,WAAa+tB,EAAM/tB,WAAa+sD,GAAWntD,EAAUI,UAAY,IAC1FgF,KAAKw2G,qBAAqB9wG,EAAQ9K,EAAW,YAE5CC,oBAAkBkuB,EAAMlY,OAAUkY,EAAMlY,OAASk3C,GAAkC,cAAvBntD,EAAUokB,UACvEhf,KAAKw2G,qBAAqB9wG,EAAQ9K,EAAW,QAEjDoF,KAAK+rG,0BAA2B,EAChC/rG,KAAK0rG,aAAc,GACZ,GAGfF,EAAW/qG,UAAU+1G,qBAAuB,SAAU9wG,EAAQ9K,EAAW67G,GACrE,GAII/6B,GAJA1wC,EAAWhrC,KAAK1F,OAChBo8G,EAAU1rE,EAASllC,QAAQvL,GAC3BkuC,EAAa/oC,WAAS+2G,EAAYzrE,EAAS3lC,eAC3CF,EAAM6lC,EAAS5lC,cAAcqjC,GAE7BkuE,EAAY32G,KAAK1F,OAAOmE,UAC5B,IAAqB,eAAjB0G,EAAIygD,UAEJ,GADI9/C,EAAUJ,EAAOG,cAAc,IAAM6wG,EAAUjuE,GACtC,CACT,GAAI7iC,GAAUE,EAAQC,cAAc,EAChCH,KACA81E,EAAa7gF,oBAAkBsK,EAAIK,OAAU3K,oBAAkBsK,EAAIK,KAAKC,MACnE5K,oBAAkBsK,EAAIshD,eAEnBzmD,KAAK1F,OAAO+J,cAAckM,kBAAkB3V,EAAUI,SAAUJ,EAAUuJ,cAD1EgB,EAAIshD,cAAche,EAAYuC,EAAShoC,WAAW2C,aAAa0mG,aAAclnG,GAFLA,EAAIK,KAAKC,OAIrFG,EAAQvG,QAAUq8E,EAAUz9E,YAAc04G,EAAU37G,WAAaytC,GACjE7iC,EAAQvG,MAAQq8E,EAChB91E,EAAQI,YAEH2wG,EAAU77G,YAAc2tC,GAAckuE,EAAU57G,UAAY0tC,IACjE7iC,EAAQvG,MAAQs3G,EAAU77G,YAAc2tC,EAAa7tC,EAAUE,UAAUmD,WAAarD,EAAUG,QAAQkD,WACxG2H,EAAQI,kBAKnB,IAAqB,mBAAjBb,EAAIygD,UAAkD,uBAAjBzgD,EAAIygD,SAAmC,CACjF,GAAI9/C,GAAUJ,EAAOG,cAAc,IAAM6wG,EAAUjuE,EACnD,IAAI3iC,EAAS,CACT,GAAI8wG,IAASzxG,EAAIygD,SACb9/C,EAAQC,cAAc,GAEtB6wG,KACAl7B,EAAY9gF,EAAU67G,IAChB57G,oBAAkB+7G,EAAOv3G,SAAYxE,oBAAkB6gF,IACxD7gF,oBAAkB6gF,KAAe7gF,oBAAkB+7G,EAAOv3G,QAC1Du3G,EAAOv3G,QAAUq8E,IAAc7gF,oBAAkB+7G,EAAOv3G,SAAWxE,oBAAkB6gF,IAC/Ek7B,EAAOv3G,MAAMpB,aAAey9E,EAAUz9E,cAC7C24G,EAAOv3G,MAAQq8E,EACfk7B,EAAO5wG,kBAKlB,IAAqB,gBAAjBb,EAAIygD,SAA4B,CACrC,GAAIixD,GAAiBnxG,EAAOG,cAAc,IAAM6wG,EAAUjuE,GAAY1iC,cAAc,EACpF21E,GAAY9gF,EAAU67G,GACjB57G,oBAAkB6gF,IAAcm7B,EAAex3G,QAAUq8E,IAC1Dm7B,EAAex3G,MAAQq8E,EACvBm7B,EAAe7wG,cAS3BwlG,EAAW/qG,UAAUq2G,iBAAmB,SAAU9yG,GAC9C,GAAIpJ,GAAYoJ,EAAUxF,eAC1B,KAAKwB,KAAK+rG,yBAA0B,CAChC,GAAKlxG,oBAAkBD,EAAUE,YAAeH,EAAgBC,KAAcC,oBAAkBD,EAAUI,UAIrG,GAAIL,EAAgBC,KAAeC,oBAAkBD,EAAUE,WAAY,CAC5E,GAAIkJ,EAAUxF,gBAAgBgD,aAAsD,IAAvCwC,EAAUxF,gBAAgBxD,SAAgB,CACnF,GAAI+7G,GAAmB/2G,KAAK1F,OAAOoE,qBAAqBoC,eAAelG,EAAUE,UACjFkF,MAAK1F,OAAO8J,eAAe,YAAa2yG,EAAkBn8G,GAAW,GACjEoF,KAAK1F,OAAOmE,WAAW3D,WACvBkF,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,aAG/DhE,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBP,OAE5CrJ,GAAgBC,IAAeC,oBAAkBD,EAAUG,UACjEiF,KAAK1F,OAAOoE,qBAAqBqF,mBAAmBC,OAdpDhE,MAAK1F,OAAO8J,eAAe,UAAW,KAAMxJ,GAAW,GACvDoF,KAAK1F,OAAO8J,eAAe,eAAe,EAAOxJ,GAAW,EAehE,IAAIqK,GAAmC,IAAvBrK,EAAUI,QAC1BgF,MAAK1F,OAAO8J,eAAe,cAAea,EAAWrK,GAAW,GAChEoF,KAAK+rG,0BAA2B,IAGxCP,EAAW/qG,UAAUu2G,kBAAoB,SAAUhzG,GAC/C,GAAIpJ,GAAYoJ,EAAUxF,gBACtBuqB,EAAQ/oB,KAAK1F,OAAOmE,UACnBuB,MAAK+rG,2BACFlxG,oBAAkBD,EAAUE,YAC5BkF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMxJ,GAAW,GACxDoF,KAAK1F,OAAO8J,eAAe,eAAe,EAAOxJ,GAAW,GACxDoF,KAAK1F,OAAOiP,uBAAyB1O,oBAAkBkuB,EAAMhuB,UAC7DiF,KAAK1F,OAAO8J,eAAe,UAAW,KAAMxJ,GAAW,IAGtDD,EAAgBC,GACjBC,oBAAkBkuB,EAAM/tB,UACxBgF,KAAK1F,OAAOoE,qBAAqBgG,kBAAkBV,IAE9CnJ,oBAAkBkuB,EAAMhuB,SAC7BiF,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBP,IAOjDnJ,oBAAkBD,EAAUG,SAGvBF,oBAAkBD,EAAUI,WAClCgF,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBP,GAHlDhE,KAAK1F,OAAOoE,qBAAqBgG,kBAAkBV,GAM3DhE,KAAK+rG,0BAA2B,IAGxCP,EAAW/qG,UAAUw2G,gBAAkB,SAAUjzG,GAC7C,GAAIpJ,GAAYoJ,EAAUxF,gBACtBuqB,EAAQ/oB,KAAK1F,OAAOmE,UACnBuB,MAAK+rG,2BACFlxG,oBAAkBD,EAAUG,UAC5BiF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMxJ,GAAW,GACxDoF,KAAK1F,OAAO8J,eAAe,eAAe,EAAOxJ,GAAW,IAEvDD,EAAgBC,GACjBC,oBAAkBkuB,EAAM/tB,UACxBgF,KAAK1F,OAAOoE,qBAAqBgG,kBAAkBV,GAE9CnJ,oBAAkBD,EAAUE,WACjCkF,KAAK1F,OAAOoE,qBAAqBqF,mBAAmBC,KAG/CnJ,oBAAkBD,EAAU+J,WAAa/J,EAAU+J,SAAShJ,OAAS,IACtEf,EAAU+J,SAAW3E,KAAK1F,OAAO0I,WAAWsC,eAAeizF,4BAA4B39F,IAE3FoF,KAAK1F,OAAOoE,qBAAqBgG,kBAAkBV,IAIlDnJ,oBAAkBD,EAAUI,UAGvBH,oBAAkBD,EAAUE,YAClCkF,KAAK1F,OAAOoE,qBAAqBgG,kBAAkBV,GAHnDhE,KAAK1F,OAAOoE,qBAAqBqF,mBAAmBC,GAM5DhE,KAAK+rG,0BAA2B,IAWxCP,EAAW/qG,UAAU81G,qCAAuC,SAAU9tE,EAAYppC,EAAO2+D,GACrF,GAAIhzB,GAAWhrC,KAAK1F,OAChBM,EAAYojE,EAAYx/D,gBACxB8c,EAAe0vB,EAASvsC,UAC5B,IAAI6c,EAAatgB,WAAaytC,EAAY,CACtC,IAAK5tC,oBAAkBwE,IAAoB,KAAVA,IAAiBrB,SAASqB,EAAO,KAAO,GAAKwI,WAAWxI,IAAU,GAC/F2rC,EAAS3mC,cAAcwb,oBAAoBxgB,EAAOzE,GAClDoF,KAAK1F,OAAO8J,eAAekX,EAAatgB,SAAUqE,EAAO2+D,GACzDh+D,KAAK1F,OAAO8J,eAAe,YAAckX,EAAatgB,SAAUJ,EAAUI,SAAUgjE,GAChFpjE,EAAU4G,cAAgB3G,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,mBAC/D+xF,MACOt5F,KAAOigE,EAClBh+D,KAAK1F,OAAO0I,WAAWsC,eAA4B,YAAE+xF,IAEzDr3F,KAAK82G,iBAAiB94C,OAGtB,IAAIhzB,EAASzhC,sBACT,GAAK3O,EAAUE,WAAaF,EAAUG,SAAWH,EAAUE,UAAUoG,UAAYtG,EAAUG,QAAQmG,YAAsC,IAAxB7B,EAAMyN,QAAQ,KAC3H9M,KAAK1F,OAAO8J,eAAe,WAAY,EAAGxJ,GAAW,GACjDA,EAAUG,SACViF,KAAK1F,OAAO8J,eAAe,YAAaxJ,EAAUG,QAASH,GAAW,OAI1E,IAAc,KAAVyE,EACAW,KAAK1F,OAAO8J,eAAe,WAAY,KAAMxJ,GAAW,GACpDA,EAAUG,SAAWH,EAAUE,WAC/BkF,KAAK1F,OAAO8J,eAAe,UAAW,KAAMxJ,GAAW,OAG1D,CAED,GADY,aACFwnB,KAAK/iB,GAAQ,CACnB,GAAI8lF,GAAM,8BAAgC7pE,EAAatgB,SAAW,wCAA0CsgB,EAAatgB,SAAW,4CACpIgF,MAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO61E,IAElDnlF,KAAK1F,OAAO8J,eAAe,WAAYxJ,EAAUI,SAAUJ,GAAW,GAKtFoF,KAAK1F,OAAO0I,WAAW21F,4BAA4B36B,EAAa,YAEpE,GAAI1iD,EAAaxgB,YAAc2tC,EAC3B,GAAc,KAAVppC,EAAc,CACd,GAAIvE,GAAYkF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBvD,EACnEvE,GAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAehG,EAAWF,GACvEoF,KAAK1F,OAAO8J,eAAe,YAAatJ,EAAWF,GAAW,GAC9DoF,KAAKg3G,kBAAkBh5C,OAGnBhzB,GAASzhC,wBAA2By0D,EAA4B,kBAChEh+D,KAAK1F,OAAO8J,eAAe,YAAa,KAAMxJ,GAAW,GACzDoF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMxJ,GAAW,GACxDoF,KAAK1F,OAAO8J,eAAe,eAAe,EAAOxJ,GAAW,GAIxE,IAAI0gB,EAAavgB,UAAY0tC,EACzB,GAAc,KAAVppC,EAAc,CACd,GAAItE,GAAUiF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBvD,GAC7D+B,EAAapB,KAAK1F,OAA6B,qBAAES,EAarD,IAZ2B,IAAvBA,EAAQwB,YAAmC,QAAf6E,GAC5BpB,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAYrG,IAEpDF,oBAAkBD,EAAUE,aAAeD,oBAAkBD,EAAUG,WAAaF,oBAAkBE,IACvGH,EAAUE,UAAUoG,UAAYnG,EAAQmG,YACxCnG,EAAUH,EAAUG,SAExBA,EAAUiF,KAAK1F,OAAOoE,qBAAqBqE,aAAahI,EAASH,IAC7DC,oBAAkBD,EAAUE,YAAcC,EAAQmG,WAActG,YAAqBsG,YACrFlB,KAAK1F,OAAO8J,eAAe,UAAWrJ,EAASH,GAAW,GAE9DoF,KAAKi3G,gBAAgBj5C,GACjBpjE,EAAU4G,cAAgB3G,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,gBAAiB,CACpF,GAAI+xF,KACJA,GAAWt5F,KAAOigE,EAClBh+D,KAAK1F,OAAO0I,WAAWsC,eAA4B,YAAE+xF,QAIrDrsD,GAASzhC,wBACTvJ,KAAK1F,OAAO8J,eAAe,UAAW,KAAMxJ,GAAW,GACvDoF,KAAK1F,OAAO8J,eAAe,WAAY,KAAMxJ,GAAW,GACxDoF,KAAK1F,OAAO8J,eAAe,eAAe,EAAOxJ,GAAW,GAqBxE,OAjBI0gB,GAAazK,OAAS43B,IACjB5tC,oBAAkBwE,IAAoB,KAAVA,IAC7BW,KAAK1F,OAAO8J,eAAe,OAAQ/E,EAAOzE,GAAW,GACrDoF,KAAK1F,OAAO0I,WAAW21F,4BAA4B36B,EAAa,QAChEh+D,KAAK82G,iBAAiB94C,KAG1Bv1B,IAAentB,EAAalL,OAC5BpQ,KAAK1F,OAAO8J,eAAe,WAAY/E,EAAOzE,GAAW,GAErDyE,GAAmB,kBAAVA,GAAoD,IAAvBzE,EAAUI,UAChDgF,KAAK1F,OAAO0I,WAAW21F,4BAA4B36B,EAAa,SAGpE1iD,EAAaO,SAAW4sB,GACxBzoC,KAAK1F,OAAO0I,WAAWgzF,wBAAwBh4B,IAE5C,GAEXwtC,EAAW/qG,UAAUgxG,iBAAmB,SAAUpxD,GAC9C,GAAIpvC,GAAQjR,KACRsb,EAAetb,KAAK1F,OAAOmE,YAC3B5D,oBAAkBwlD,IAA6B,IAAlBA,EAAO1kD,UACpC0kD,KACKxlD,oBAAkBygB,EAAaxgB,YAChCulD,EAAO/hD,KAAK0B,KAAK1F,OAAOmE,WAAW3D,WAElCD,oBAAkBygB,EAAavgB,UAChCslD,EAAO/hD,KAAK0B,KAAK1F,OAAOmE,WAAW1D,SAElCF,oBAAkBygB,EAAatgB,WAChCqlD,EAAO/hD,KAAK0B,KAAK1F,OAAOmE,WAAWzD,UAElCH,oBAAkBygB,EAAa/gB,KAChC8lD,EAAO/hD,KAAK0B,KAAK1F,OAAOmE,WAAWlE,IAG3C,IAAI28G,KACJA,GAAkBh4E,cACdU,cAAc,EAAMm8C,aAAa,EAAM0I,eAAe,EAAM11C,KAAM,SAAU+sC,eAAgB,UAEhGo7B,EAAkBxjE,OAAS1zC,KAAK1F,OAAOo5C,OACvCwjE,EAAkBh8G,cAClBg8G,EAAkB91F,UAAYphB,KAAK1F,OAAOymC,WAAa,GAAK,KAC5Dm2E,EAAkBlvE,UAEVztC,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,2BAAiC48G,WAAY,QAC1EC,YAAap3G,KAAK0Q,UAAUC,YAAY,OAAQ0mG,MAAO,QACvDnwD,KAAMlnD,KAAK1F,OAAOymC,WAAa,GAAK/gC,KAAK0Q,UAAUC,YAAY,SAG/DpW,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,8BAAoC48G,WAAY,WAC7EC,YAAap3G,KAAK0Q,UAAUC,YAAY,UAAW0mG,MAAO,QAC1DnwD,KAAMlnD,KAAK1F,OAAOymC,WAAa,GAAK/gC,KAAK0Q,UAAUC,YAAY,WAqFvE,KAAK,GAlFD83E,MAiFAlwE,EAASvY,KACJlC,EAAI,EAAGA,EAAIuiD,EAAO1kD,OAAQmC,KAjFrB,SAAUA,GACpB,GAAI6qF,KAEJ,QAAQtoC,EAAOviD,IACX,IAAKya,GAAOje,OAAOmE,WAAWlE,GAC1BouF,GACIxtE,MAAOklC,EAAOviD,GAAIqrD,SAAS,EAAOF,cAAc,GAEpDw/B,EAAYnqF,KAAKqqF,EACjB,MACJ,KAAKpwE,GAAOje,OAAOmE,WAAW3D,UAC9B,IAAKyd,GAAOje,OAAOmE,WAAW1D,QAC1B4tF,GACIxtE,MAAOklC,EAAOviD,GAAI6nD,WAAYptC,EAAO7H,UAAUC,YAAa0vC,EAAOviD,KAAOya,EAAOje,OAAOmE,WAAW3D,UAAa,YAAc,WAAY8qD,SAAU,aAAc7oC,MAAO,QACzKvX,MACI6hD,MAAO,SAAUroD,GACb,GAAIs4G,EACJ,IAAKz8G,oBAAkBoW,EAAMi7F,eAA+B,UACvDrxG,oBAAkBoW,EAAMi7F,eAA+B,QAAE7rD,EAAOviD,KAGhE,CACD,GAAIy5G,GAAetmG,EAAM88F,wBAEzBuJ,GADkBrmG,EAAMugG,eAAe+F,GACTl3D,EAAOviD,QALrCw5G,GAAkBrmG,EAAMi7F,eAA+B,QAAE7rD,EAAOviD,GAOpE,IAAIuB,GAAQL,EAAK6jC,QAAQ7jC,EAAKikC,OAAO9nB,MACrCrI,YAAS,QAASzT,EAAOi4G,GACR,GAAIrmG,GAAMq7F,OAAOr7F,EAAM3W,OAAO8K,cAAci7C,EAAOviD,IAAI8nD,UAAU0xD,GACvE33D,SAAS3gD,EAAK8G,UAE7BL,KAAM,SAAUzG,GAEZ,MADkBA,GAAK+G,cAAc,GAClB1G,QAG3B6Q,OAAQqI,EAAOje,OAAO6V,iBAEtBkwC,EAAOviD,KAAOya,EAAOje,OAAOmE,WAAW3D,YACvC6tF,EAAWypB,iBAAoBgE,UAAU,IAE7C3tB,EAAYnqF,KAAKqqF,EACjB,MACJ,KAAKpwE,GAAOje,OAAOmE,WAAWzD,SAC1B2tF,GACIxtE,MAAOklC,EAAOviD,GAAI6nD,WAAYptC,EAAO7H,UAAUC,YAAY0vC,EAAOviD,GAAGiK,qBAAsB69C,SAAU,aACrG7oC,MAAO,QAASvX,MACZ6hD,MAAO,SAAUroD,GACb,GAAIw4G,EACJ,IAAK38G,oBAAkBoW,EAAMi7F,eAA+B,UACvDrxG,oBAAkBoW,EAAMi7F,eAA+B,QAAE7rD,EAAOviD,KAGhE,CACD,GAAIy5G,GAAetmG,EAAM88F,wBAEzByJ,GADkBvmG,EAAMugG,eAAe+F,GACVl3D,EAAOviD,QALpC05G,GAAiBvmG,EAAMi7F,eAA+B,QAAE7rD,EAAOviD,GAOnE05G,GAAetC,eAAiB,OAChC,IAAI71G,GAAQL,EAAK6jC,QAAQ7jC,EAAKikC,OAAO9nB,MAChCtgB,qBAAkBwE,GAInByT,WAAS,QAAS,KAAM0kG,GAHxB1kG,WAAS,QAASzT,EAAOm4G,GAK7B1kG,WAAS,QAASzT,EAAOm4G,GACR,GAAIpK,WAAQoK,GAClB73D,SAAS3gD,EAAK8G,UAE7BL,KAAM,SAAUzG,GAEZ,MADkBA,GAAK+G,cAAc,GAClB1G,MAAMpB,cAIrCwqF,EAAYnqF,KAAKqqF,KAMjB7qF,EAIZ,OAFAo5G,GAAkBj8F,QAAUwtE,EAC5ByuB,EAAkBjiF,OAAUj1B,KAAK1F,OAAOymC,YAAc/gC,KAAK1F,OAAOulD,iBAAoB,OAAS,QACxFq3D,GAEX1L,EAAW/qG,UAAUg3G,qBAAuB,SAAU7xF,EAAW3K,GAE7D,IAAK,GADDgoB,GACKnlC,EAAI,EAAGA,EAAImd,EAAQtf,OAAQmC,IAC5Bmd,EAAQnd,GAAGqd,QAAUyK,IACrBqd,EAAShoB,EAAQnd,GAGzB,OAAOmlC,IAEXuoE,EAAW/qG,UAAUi3G,mBAAqB,SAAUjvE,EAAYzpC,EAAM0e,GAClE,GAKIi6F,GALAjyG,EAAS1F,KAAK1F,OAAO0I,WAAW2C,aAAaD,OAC7CkyG,EAAYl4G,WAAS,WAAYM,KAAKksG,gBACtC/mG,EAAMnF,KAAKy3G,qBAAqBhvE,EAAYmvE,EAAU38F,SACtDy7F,EAAU12G,KAAK1F,OAAOwL,QAAQvL,GAC9BmhF,EAAYh+D,EAAQ+qB,EAEH,gBAAjBtjC,EAAIygD,SACJ+xD,EAAajyG,EAAOG,cAAc,IAAM6wG,EAAU,uBAAyBjuE,GACtE1iC,cAAc,GAEG,mBAAjBZ,EAAIygD,WACT+xD,EAAajyG,EAAOG,cAAc,IAAM6wG,EAAU,uBAAyBjuE,GACtE1iC,cAAc,IAEjBlL,oBAAkB88G,EAAWt4G,QAAaxE,oBAAkB6gF,IAC7Di8B,EAAWt4G,MAAMpB,aAAey9E,EAAUz9E,aAC3C05G,EAAWt4G,MAAQq8E,EACnBi8B,EAAW3xG,aAGnBwlG,EAAW/qG,UAAU61G,sBAAwB,SAAUtrE,EAAUvC,EAAYstE,EAAW/2G,GACpF,GAAIsc,GAAetb,KAAK1F,OAAOmE,UAC/B,KAAK5D,oBAAkBygB,EAAatgB,WAAasgB,EAAatgB,SAASsP,gBAAkBm+B,EAAWn+B,gBAC3FzP,oBAAkBk7G,IAA4B,KAAdA,EAAkB,CACnD/1G,KAAK63G,gBAAgBv8F,EAAatgB,UAAYwN,OAAOutG,EACjDh7G,GAAUiwC,EAAS3mC,cAAcQ,WAAW7E,KAAK63G,gBAAgBv8F,EAAaxgB,WAAY0N,OAAOutG,GAAY/1G,KAAKqsG,aAAa7tG,gBAAgB2F,aAAcnE,KAAKqsG,aAAa7tG,iBAAiB,EACpMzD,GAAUiwC,EAAS3mC,cAActB,aAAahI,EAASiF,KAAKqsG,aAAa7tG,iBAAiB,GAC1FwB,KAAK63G,gBAAgBv8F,EAAavgB,SAAWA,EAGrD,IAAKF,oBAAkBygB,EAAaxgB,YAAcwgB,EAAaxgB,UAAUwP,gBAAkBm+B,EAAWn+B,eAChF,KAAdyrG,EAAkB,CAClB,GAAIj7G,GAAYkF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBmzG,EACnEj7G,GAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAehG,GAC5DkF,KAAK63G,gBAAgBv8F,EAAaxgB,WAAaA,EAC1CD,oBAAkBygB,EAAavgB,WAChCiF,KAAK63G,gBAAgB98G,QAAUiF,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAWkF,KAAK63G,gBAAgBv8F,EAAatgB,UAAWgF,KAAKqsG,aAAa7tG,gBAAgB2F,aAAcnE,KAAKqsG,aAAa7tG,iBAAiB,IAI3N,IAAK3D,oBAAkBygB,EAAavgB,UAAYugB,EAAavgB,QAAQuP,gBAAkBm+B,EAAWn+B,eAC5E,KAAdyrG,EAAkB,CAClB,GAAIh7G,GAAUiF,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBmzG,GAC7D30G,EAAapB,KAAK1F,OAA6B,qBAAES,EAC1B,KAAvBA,EAAQwB,YAAmC,QAAf6E,GAC5BpB,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAYrG,GAEzDA,EAAUiF,KAAK1F,OAAOoE,qBAAqBqE,aAAahI,EAASiF,KAAKqsG,aAAa7tG,iBACnFwB,KAAK63G,gBAAgBv8F,EAAavgB,SAAWA,EAC7CiF,KAAK63G,gBAAgBv8F,EAAatgB,UAAYgF,KAAK1F,OAAO+J,cAAca,YAAYlF,KAAK63G,gBAAgBv8F,EAAaxgB,WAAYkF,KAAK63G,gBAAgBv8F,EAAavgB,SAAUiF,KAAKqsG,aAAa7tG,gBAAgB2F,cAAc,GAAM,GAAO,GAG9OtJ,oBAAkBygB,EAAaxgB,YAChCkF,KAAK03G,mBAAmBp8F,EAAaxgB,UAAWkE,EAAMgB,KAAK63G,iBAE1Dh9G,oBAAkBygB,EAAavgB,UAChCiF,KAAK03G,mBAAmBp8F,EAAavgB,QAASiE,EAAMgB,KAAK63G,iBAExDh9G,oBAAkBygB,EAAatgB,WAChCgF,KAAK03G,mBAAmBp8F,EAAatgB,SAAUgE,EAAMgB,KAAK63G,kBAGlErM,EAAW/qG,UAAUixG,oBAAsB,SAAUrxD,IAC7CxlD,oBAAkBwlD,IAA6B,IAAlBA,EAAO1kD,UACpC0kD,GAAU,KAAM,OAAQ,OAAQ,SAAU,YAE9C,IAAIy3D,KACJA,GAAW54E,cAAiBU,cAAc,EAAMm8C,aAAa,EAAM0I,eAAe,EAAM11C,KAAM,UAC9F+oE,EAAWpkE,OAAS1zC,KAAK1F,OAAOo5C,OAChCokE,EAAW58G,cACX48G,EAAW12F,UAAYphB,KAAK1F,OAAOymC,WAAa,GAAK,KACrD+2E,EAAW9vE,UAEHztC,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,6BAAmC48G,WAAY,QAC5EC,YAAap3G,KAAK0Q,UAAUC,YAAY,OAAQ0mG,MAAO,QACvDnwD,KAAMlnD,KAAK1F,OAAOymC,WAAa,GAAK/gC,KAAK0Q,UAAUC,YAAY,SAG/DpW,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,gCAAsC48G,WAAY,WAC/EC,YAAap3G,KAAK0Q,UAAUC,YAAY,UAAW0mG,MAAO,QAC1DnwD,KAAMlnD,KAAK1F,OAAOymC,WAAa,GAAK/gC,KAAK0Q,UAAUC,YAAY,WAIvE,KAAK,GADDsK,MACKnd,EAAI,EAAGA,EAAIuiD,EAAO1kD,OAAQmC,IAAK,CACpC,GAAImlC,KAC4B,QAA5Bod,EAAOviD,GAAGwM,eACV24B,GACI9nB,MAAO,KAAMwqC,WAAY3lD,KAAK0Q,UAAUC,YAAY,MAAOivB,cAAc,EAAO7iB,MAAO,QAE3F9B,EAAQ3c,KAAK2kC,IAEoB,SAA5Bod,EAAOviD,GAAGwM,eACf24B,GACI9nB,MAAO,OAAQwqC,WAAY3lD,KAAK0Q,UAAUC,YAAY,QAASi1C,SAAU,aAAc7oC,MAAO,QAC9Fq1F,iBAAmBgE,UAAU,IAEjCn7F,EAAQ3c,KAAK2kC,IAEoB,SAA5Bod,EAAOviD,GAAGwM,eACf24B,GACI9nB,MAAO,OAAQwqC,WAAY3lD,KAAK0Q,UAAUC,YAAY,QAASi1C,SAAU,eACzE1qD,WAAY8E,KAAKmsG,MAAO4L,gBAAiB,KAAMC,gBAAiB,OAChE13C,aAAc,KAAM8xC,iBAAmBgE,UAAU,GAAQr5F,MAAO,SAEpE9B,EAAQ3c,KAAK2kC,IAEoB,WAA5Bod,EAAOviD,GAAGwM,eACf24B,GACI9nB,MAAO,SAAUwqC,WAAY3lD,KAAK0Q,UAAUC,YAAY,UAAWi1C,SAAU,aAC7E0a,aAActgE,KAAK1F,OAAO+J,cAAckM,kBAAkB,EAAGvQ,KAAKksG,eAAerpE,QAAQrkC,gBAAgB2F,cACzGiuG,iBAAmBgE,UAAU,GAAQr5F,MAAO,SAEhD9B,EAAQ3c,KAAK2kC,IAEoB,aAA5Bod,EAAOviD,GAAGwM,gBACf24B,GACI9nB,MAAO,WAAY8tC,cAAc,EAAME,SAAS,EAAOmX,aAAczgE,IAAS5B,YAElFgd,EAAQ3c,KAAK2kC,IAKrB,MAFA60E,GAAW78F,QAAUA,EACrB68F,EAAW7iF,OAAUj1B,KAAK1F,OAAOymC,YAAc/gC,KAAK1F,OAAOulD,iBAAoB,OAAS,QACjFi4D,GAEXtM,EAAW/qG,UAAUkxG,kBAAoB,SAAUtxD,GAC/C,GACIx6B,GADW7lB,KAAK1F,OACY8d,gBAC5Bvd,oBAAkBwlD,IAA6B,IAAlBA,EAAO1kD,UACpC0kD,GAAUx6B,EAAiBtrB,GAAIsrB,EAAiBxN,KAAMwN,EAAiBjZ,KAAMiZ,EAAiBnP,OAgBlG,KAAK,GAdDohG,IACAv1E,gBAAgB,EAChB4d,iBAAkB,EAClBD,aAAc,GACdhhB,cAAgBU,cAAc,EAAMmP,KAAM,QAC1C2E,OAAQ1zC,KAAK1F,OAAOo5C,OACpB4K,gBAAgB,EAChBl9B,UAAWphB,KAAK1F,OAAOymC,WAAa,GAAK,KACzCtH,gBAAkBrpB,KAAM,QACxB6xC,mBAAqBg2D,cAAc,EAAMC,aAAc,UAAWh2D,kBAAkB,EAAM9xC,KAAM,aAEhG6K,IACE7K,KAAM,WAAYwvB,cAAc,EAAOwd,cAAc,EAAO7a,gBAAgB,EAAOxlB,MAAO,KAEvFjf,EAAI,EAAGA,EAAIuiD,EAAO1kD,OAAQmC,IAAK,CACpC,GAAImlC,KACAod,GAAOviD,KAAO+nB,EAAiBtrB,IAC/B0oC,GACI9nB,MAAO0K,EAAiBtrB,GACxBorD,WAAY3lD,KAAK0Q,UAAUC,YAAY,MAAOs4C,cAAc,EAAMlsC,MAAO,QACzE6iB,cAAc,GAElB3kB,EAAQ3c,KAAK2kC,IAERod,EAAOviD,KAAO+nB,EAAiBxN,MACpC4qB,GACI9nB,MAAO0K,EAAiBxN,KAAMstC,WAAY3lD,KAAK0Q,UAAUC,YAAY,QACrEivB,cAAc,GAElB3kB,EAAQ3c,KAAK2kC,IAERod,EAAOviD,KAAO+nB,EAAiBjZ,MACpCq2B,GACI9nB,MAAO0K,EAAiBjZ,KACxB+4C,WAAY3lD,KAAK0Q,UAAUC,YAAY,QACvCi1C,SAAU,cACVpgD,MAAQ8gD,QAAUh4C,IAAK,KAE3B2M,EAAQ3c,KAAK2kC,IAERod,EAAOviD,KAAO+nB,EAAiBnP,OAAU7b,oBAAkBgrB,EAAiBnP,SACjFusB,GACI9nB,MAAO0K,EAAiBnP,MACxBivC,WAAY3lD,KAAK0Q,UAAUC,YAAY,SACvCivB,cAAc,GAElB3kB,EAAQ3c,KAAK2kC,IAKrB,MAFA60E,GAAW78F,QAAUA,EACrB68F,EAAW7iF,OAAUj1B,KAAK1F,OAAOymC,YAAc/gC,KAAK1F,OAAOulD,iBAAoB,OAAS,QACjFi4D,GAEXtM,EAAW/qG,UAAUmxG,cAAgB,SAAUvxD,GAkB3C,OAjBIxlD,oBAAkBwlD,IAA6B,IAAlBA,EAAO1kD,UACpC0kD,GAAU,OAAQ,SAAU,YAAa,gBACrC,WAAY,WAAY,YAAa,kBACrC,YAAa,YAAa,IAC1B,aAAc,cAAe,gBAC7B,UAAW,SAAU,IAAK,cAC1B,aAAc,IAAK,cAAe,QAClC,IAAK,OAAQ,UAGjB8G,YAAannD,KAAK0Q,UAAUC,YAAY,cACxCwnG,iBACIphG,MAAOspC,GAEXprB,OAASj1B,KAAK1F,OAAOymC,YAAc/gC,KAAK1F,OAAOulD,iBAAoB,OAAS,OAC5EnM,OAAQ1zC,KAAK1F,OAAOo5C,SAI5B83D,EAAW/qG,UAAUstD,iBAAmB,SAAUv2B,EAAWj9B,GACzD,MAAOg9B,iBAAc,OAASC,UAAWA,EAAWj9B,GAAIA,KAE5DixG,EAAW/qG,UAAU23G,kBAAoB,SAAU5gF,EAAWj9B,GAC1D,MAAOg9B,iBAAc,QAAUC,UAAWA,EAAWj9B,GAAIA,KAE7DixG,EAAW/qG,UAAU43G,mBAAqB,SAAU7gF,EAAWj9B,EAAIqrB,EAAWxV,GAC1E,MAAOmnB,iBAAcnnB,GAAQ,SACzBonB,UAAWA,EAAW41B,OAClBh9C,KAAM,OAAQ7V,GAAIA,EAAI8d,KAAMuN,EAC5B60B,MAAO70B,MAInB4lF,EAAW/qG,UAAUoxG,eAAiB,WAKlC,IAAK,GAHDyG,IAAc,EACdvhG,EAFW/W,KAAKksG,eAAe2E,SAEd95F,MACjBtX,EAAQ,EACH3B,EAAI,EAAGA,EAAIiZ,EAAMpb,OAAQmC,IAAK,CACnC,GAAI4U,GAAOqE,EAAMjZ,EACb4U,GAAKge,kBAAmB2pB,eAGF,YAAjB3nC,EAAKge,QACVhe,EAAKge,QAAU1wB,KAAKu4G,iBAAiB7lG,EAAKge,SAEpB,eAAjBhe,EAAKge,SACN1wB,KAAKqsG,aAAa5vF,kBAAoBzc,KAAK1F,OAAOqgB,wBAClDjI,EAAK8lG,UAAW,GAEpB9lG,EAAKge,QAAU1wB,KAAKy4G,qBAAqB/lG,EAAKge,UAExB,cAAjBhe,EAAKge,QACVhe,EAAKge,QAAU1wB,KAAK04G,kBAAkBhmG,EAAKge,SAEtChe,EAAKge,UAAa,SAAgBjxB,GACvC64G,GAAc,EACd5lG,EAAKge,QAAU1wB,KAAK24G,gBAAgBjmG,EAAKge,QAAS4nF,GAClD74G,KAEsB,UAAjBiT,EAAKge,QACVhe,EAAKge,QAAU1wB,KAAK44G,eAAelmG,EAAKge,SAElB,aAAjBhe,EAAKge,UACN1wB,KAAKqsG,aAAa5vF,kBAClB/J,EAAK8lG,UAAW,GAEpB9lG,EAAKge,QAAU1wB,KAAK64G,kBAAkBnmG,EAAKge,aAIvD86E,EAAW/qG,UAAUq4G,uBAAyB,SAAU95G,GACpD,GAAIxD,GAAIuQ,EACJtN,EAAauB,KAAK1F,OAAOmE,WAEzBm5G,EAAY53G,KAAKksG,eAAuB,QAC5C,IAAyB,QAArBltG,EAAK63B,aAA8C,cAArB73B,EAAK63B,aAAoD,SAArB73B,EAAK63B,YAAwB,CAC/F,GAAIkiF,GAAWnB,EAAU18G,WACrBmkE,EAAe3/D,WAAS,UAAWV,GACnClE,EAAYkF,KAAKksG,eAAerpE,QAAQrkC,gBAAgB1D,SAC5D,KAAKD,oBAAkBC,IACM,QAArBkE,EAAK63B,YAAuB,CAC5B,GAAImN,MACA99B,EAAQxG,WAASM,KAAK1F,OAAOmE,WAAW3D,UAAWukE,GACnDl5D,EAAQnG,KAAK1F,OAAOmE,WAAW1D,QAAU2E,WAASM,KAAK1F,OAAOmE,WAAW1D,QAASskE,GAAgB,KAClGrkE,MAAW,EACVH,qBAAkBmF,KAAK1F,OAAOmE,WAAWzD,YAC1CA,EAAW0E,WAASM,KAAK1F,OAAOmE,WAAWzD,SAAUqkE,GAEzD,IAAI9+C,IAAe1lB,oBAAkBk+G,IAAaA,EAASp9G,OAAS,EAC9Dd,oBAAkB4D,EAAW1D,UAAaF,oBAAkBk+G,EAAS,GAAGt6G,EAAW1D,UAEjF,GAAI+B,MAAK4C,WAASjB,EAAW3D,UAAWi+G,EAAS,IAAI73G,WADrD,GAAIpE,MAAK4C,WAASjB,EAAW1D,QAASg+G,EAAS,IAAI73G,YAEtDrG,oBAAkBmF,KAAKksG,eAAerpE,QAAQrkC,gBAAgB1D,YAC3D,GAAIgC,MAAKkD,KAAKksG,eAAerpE,QAAQrkC,gBAAgB1D,UAAUoG,UACvEqf,GAAYzd,SAAS,EAAG,EAAG,EAAG,IACzBjI,oBAAkBk+G,IAAaA,EAASp9G,OAAS,GAClD4kB,EAAY7e,QAAQ6e,EAAYlkB,UAAY,GAEhD6J,EAAQlG,KAAK1F,OAAO+J,cAAcvD,eAAeyf,GACjDpa,EAAQnG,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBsD,EAC3D,IAAI9E,GAAapB,KAAK1F,OAA6B,qBAAE6L,EAC5B,KAArBA,EAAM5J,YAAmC,QAAf6E,GAC1BpB,KAAK1F,OAAOoE,qBAAqB+C,QAAQL,EAAY+E,GAEzDA,GAAStL,oBAAkB4D,EAAW1D,WAAaF,oBAAkBk+G,IAAaA,EAASp9G,QAAU,EACjGqE,KAAKksG,eAAerpE,QAAQrkC,gBAAgBzD,QAAUoL,CAC1D,IAAI08B,GAAU7iC,KAAKksG,eAAerpE,QAAQrkC,eAEtCxD,GADAkL,EAAMhF,YAAciF,EAAMjF,UACf,EAGAlB,KAAK1F,OAAO+J,cAAca,YAAYgB,EAAOC,EAAO08B,EAAQ1+B,cAAc,GAAM,GAAO,GAEjGtJ,oBAAkB4D,EAAqB,YAQjCsN,MACAtN,EAAsB,WAAKyH,EAC9B6F,EAAGtN,EAAoB,SAAK0H,EAFhC69B,EAGIj4B,KAVGvQ,MACAiD,EAAsB,WAAKyH,EAC9B1K,EAAGiD,EAAoB,SAAK0H,EAC5B3K,EAAGiD,EAAqB,UAAKzD,EAHjCgpC,EAIIxoC,GAQRwD,EAAK6jC,QAAUmB,EAGvB,GAAyB,SAArBhlC,EAAK63B,YAAwB,CAI7B,IAHA,GAAI37B,GAAa08G,EAAU18G,WACvB89G,EAAgBh5G,KAAK1F,OAAOmE,WAAWlE,GACvC0+G,EAAU/9G,EAAWS,OAClBT,EAAWuzB,KAAK,SAAU/b,GAAQ,MAAOA,GAAKsmG,KAAmBC,KACpEA,GAEAp+G,qBAAkBmE,EAAKjB,KAAKi7G,MAC5Bh6G,EAAKjB,KAAKi7G,GAAiBC,EAC3Bj6G,EAAK6jC,QAAQm2E,GAAiBC,GAGtCj5G,KAAK63G,gBAAkB74G,EAAK6jC,UAWpC2oE,EAAW/qG,UAAUy4G,kBAAoB,SAAUC,GAC/C,GAAIC,EAeJ,OAdKp5G,MAAKsmB,OAQNtmB,KAAK1F,OAAOizG,iBAAiBh4F,IAAI,SAAU7C,EAAMjT,GACzCiT,EAAKtC,OAAS+oG,IACdC,EAAa35G,KATrBO,KAAK1F,OAAOozG,gBAAgBn4F,IAAI,SAAU7C,EAAMjT,GACxCiT,EAAKtC,OAAS+oG,IACdC,EAAa35G,KAWlB25G,GAGX5N,EAAW/qG,UAAU44G,YAAc,SAAU/H,EAAagI,EAAaC,EAAMvxE,EAASwxE,EAAmB5B,EAAW6B,GAChH,IAAK5+G,oBAAkBy2G,KAAiBz2G,oBAAkBy2G,EAAYoI,kBAAmB,CACrFJ,EAAehI,EAA6B,gBAC5C,KAAK,GAAIxzG,KAAKw7G,GACV,GAAI79G,OAAOgF,UAAUkT,eAAeM,KAAKqlG,EAAax7G,GAClD,OAAQA,GACJ,IAAK,iBACDy7G,EAAK1iB,OAAO8iB,SACZ,MACJ,KAAK,eACDJ,EAAK1iB,OAAO+iB,OACZ,MACJ,KAAK,cACDL,EAAK1iB,OAAOgjB,OACZ,MACJ,KAAK,gBACDN,EAAK1iB,OAAOijB,QACZ,MACJ,KAAK,eACDP,EAAK1iB,OAAOC,OACZ,MACJ,KAAK,aACDyiB,EAAK1iB,OAAOkjB,YACZ,MACJ,KAAK,oBACDR,EAAK1iB,OAAOmjB,gBACZ,MACJ,KAAK,iBACDT,EAAK1iB,OAAOojB,aACZ,MACJ,KAAK,mBACDV,EAAK1iB,OAAOqjB,cACZ,MACJ,KAAK,gBACDX,EAAK1iB,OAAOsjB,SACZ,MACJ,KAAK,kBACDZ,EAAK1iB,OAAOujB,UACZ,MACJ,KAAK,iBACDb,EAAK1iB,OAAOwjB,YACZ,MACJ,KAAK,sBACDd,EAAK1iB,OAAOyjB,QACZ,MACJ,KAAK,iBACDf,EAAK1iB,OAAO0jB,SACZ,MACJ,KAAK,oBACDhB,EAAK1iB,OAAO2jB,UACZ,MACJ,KAAK,uBACDjB,EAAK1iB,OAAO4jB,gBACZ,MACJ,KAAK,UACSnB,EAAqB,QACvB/jG,IAAI,SAAU7C,GAClB,OAAQA,GACJ,IAAK,SACD6mG,EAAK1iB,OAAO0jB,SACZ,MACJ,KAAK,QACDhB,EAAK1iB,OAAO6jB,QACZ,MACJ,KAAK,YACDnB,EAAK1iB,OAAO8jB,YACZ,MACJ,KAAK,cACDpB,EAAK1iB,OAAO+jB,kBAMJhD,EAAU5vE,QAC9BuxE,EAAK1iB,OAAOgkB,UACZ,MACJ,KAAK,UACkBjD,EAAU38F,WASrDuwF,EAAW/qG,UAAUo4G,kBAAoB,SAAUiC,GAC/C,GAAI7pG,GAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBs9G,EAAY53G,KAAKksG,eAAe4O,EACpClD,GAAU/3D,iBAAmB7/C,KAAK1F,OAAOulD,gBACzC,IAAI77C,GAAYhE,KAAKksG,eAAerpE,QAChCk4E,IACA/6G,MAAKsmB,SACLy0F,EAAUlgH,oBAAkBmJ,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAqB,cAAWuF,EAAU7F,SAAS6B,KAAK1F,OAAOmE,WAAqB,WAGnJs8G,EAAQxlG,IAAI,SAAU7C,EAAMjT,GACpB5E,oBAAkB6X,EAAKzB,EAAM3W,OAAOmE,WAAe,OACnDiU,EAAKzB,EAAM3W,OAAOmE,WAAe,IAAKgB,KAG9Cm4G,EAAU18G,WAAa6/G,EACvBnD,EAAUn2D,YAAczhD,KAAK84G,uBAAuBnkG,KAAK3U,KACzD,IACIsxG,GADA7xE,EAAWz/B,KAAKk5G,kBAAkB,WAEjCl5G,MAAKsmB,OAGDtmB,KAAKsmB,SACVgrF,EAActxG,KAAK1F,OAAOizG,iBAAiB9tE,IAH3C6xE,EAActxG,KAAK1F,OAAOozG,gBAAgBjuE,EAK9C,IAAI65E,GACAE,KAEAC,IAEC5+G,qBAAkBy2G,IAAiBz2G,oBAAkBy2G,EAAYoI,oBAClEJ,EAAehI,EAA6B,kBAEhDtxG,KAAKq5G,YAAY/H,EAAagI,EAAaC,WAJvCvxE,GAIsDwxE,EAAmB5B,EAAW6B,GACxFF,OAAK1iB,OAAOC,OAAM+iB,OAAMgB,UAAaG,eACrCpD,EAAYjtE,MAAaitE,EAAW0B,IAC1BtxE,QAAUwxE,EAAkBxwC,OAAO4uC,EAAU5vE,QACvD,IAAIizE,GAAoBj7G,KAAKk7G,cAAczB,EAAkB7B,EAAU38F,QACvE28F,GAAU38F,QAAUggG,CACpB,IAAIE,GAAU,GAAI5B,QAAK3B,GACnBrrB,EAAavsF,KAAK+tD,iBAAiB,GAAI/iB,EAASllC,QAAQvL,GAAK,GAAKugH,EAAW,eAEjF,OADAK,GAAQx7D,SAAS4sC,GACVA,GAEXif,EAAW/qG,UAAU83G,iBAAmB,SAAUuC,EAAUxC,GACxD,GAGI/rB,GAHAvhD,EAAWhrC,KAAK1F,OAEhB8gH,KAEAC,EAAYr7G,KAAKksG,eAAe4O,EAEhCvuB,GADA+rB,EACat4G,KAAK+tD,iBAAiB,kBAAmB/iB,EAASllC,QAAQvL,GACjE,GAAKugH,EAAW,gBAGT96G,KAAKo4G,kBAAkB,kBAAmBptE,EAASllC,QAAQvL,GAClE,GAAKugH,EAAW,eAE1B,IAAI18E,GACA03B,CACA91D,MAAK1F,OAAOulD,mBACZ0sC,EAAW54D,MAAMsB,OAAS,QAC1BmJ,EAAQ7G,gBAAc,SAAWC,UAAW,aACtC7D,MAAM5W,MAAQ,OACpB+4C,EAAQv+B,gBAAc,SAG1B,KAAK,GADD+jF,GAAQ/uB,EAAWhyF,GACdgB,EAAK,EAAGC,EAAKC,OAAOC,KAAK2/G,GAAY9/G,EAAKC,EAAGG,OAAQJ,IAAM,CAChE,GAAIK,GAAMJ,EAAGD,EACb,KAA+C,IAA3CyE,KAAK1F,OAAO8K,cAAcxJ,GAAKutD,QAAnC,CAGA,GAAIlmB,GAASjjC,KAAK1F,OAAO8K,cAAcxJ,GACnCk8G,EAAauD,EAAUz/G,EACvBoE,MAAK1F,OAAOulD,iBACZiW,EAAMp+B,YAAY13B,KAAKu7G,oBAAoBzD,EAAY70E,IAGvDspD,EAAW70D,YAAY13B,KAAKu7G,oBAAoBzD,EAAY70E,IAEhEm4E,EAAU98G,KAAK1C,IAEfoE,KAAK1F,OAAOulD,mBACZzhB,EAAM1G,YAAYo+B,GAClBy2B,EAAW70D,YAAY0G,IAEvBk9E,IAAU/uB,EAAWhyF,KACrBgyF,EAAWhyF,GAAK+gH,EAEpB,IAAI77E,GAAWz/B,KAAKk5G,kBAAkB,WAClC74D,IASJ,IARKrgD,KAAKsmB,QAAWzrB,oBAAkBmF,KAAK1F,OAAOozG,gBAAgBjuE,KAC9D5kC,oBAAkBmF,KAAK1F,OAAOozG,gBAAgBjuE,GAAU4gB,SAGpDrgD,KAAKsmB,QAAWzrB,oBAAkBmF,KAAK1F,OAAOizG,iBAAiB9tE,KACnE5kC,oBAAkBmF,KAAK1F,OAAOizG,iBAAiB9tE,GAAU4gB,UAC1DA,EAASrgD,KAAK1F,OAAOizG,iBAAiB9tE,GAAU4gB,QAJhDA,EAASrgD,KAAK1F,OAAOozG,gBAAgBjuE,GAAU4gB,QAM9CxlD,oBAAkBwlD,GAAS,CAC5B,GAAIm7D,GAAiBn7D,EAAO1mC,OAAO,SAAUjH,GAAQ,OAAQ0oG,EAAU1zF,SAAShV,IAChF,KAAK7X,oBAAkB2gH,GAEnB,IAAK,GADDjiE,GAAWiiE,EACN19G,EAAI,EAAGA,GAAKy7C,EAAS59C,OAAS,EAAGmC,IAAK,CAC3C,GAAI29G,GAAgBzjF,SAAS2L,eAAe4V,EAASz7C,GACrD,KAAKjD,oBAAkB4gH,GAAgB,CACnC,GAAIC,GAAkBD,EAAcpoF,UAChCwe,EAAMta,gBAAc,MACxBsa,GAAIxe,UAAYqoF,EAChBnvB,EAAW70D,YAAYma,EAAIzc,SAAS,MAKpD,MAAOm3D,IAEXif,EAAW/qG,UAAUk7G,kBAAoB,SAAU14E,GAC/C,GACI24E,GADApD,GAAW,CAEf,KAA4B,IAAxBv1E,EAAOrD,cAA0BqD,EAAOgmB,cAAgBjpD,KAAK1F,OAAOy8F,SACpE,IAAyD,IAArD/2F,KAAK1F,OAAOmrD,cAAc34C,QAAQm2B,EAAO9nB,OACzCq9F,GAAW,MAGX,IAAIv1E,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWI,mBAAqBokC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWG,iBACrGqkC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWoS,MAAQoyB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW2R,MACxF6yB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,IAAM0oC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW4Z,MACtF4qB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWzD,UAAYioC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,UAC5F0nB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW3D,WAAamoC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW1D,QAAS,CACtG,IAAK,GAAI+C,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOwX,gBAAwB,OAAGhU,IACvD,IAAKjD,oBAAkBmF,KAAK1F,OAAOwX,gBAAgBhU,GAAGU,gBAAgBkX,QAAS,CAC3EkmG,EAAiB57G,KAAK1F,OAAOwX,gBAAgBhU,GAAGU,gBAAgBkX,MAChE,OAIJ8iG,EAD4B,mBAwB5C,MAfIx4G,MAAKsmB,SACD2c,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,KACxCi+G,GAAW,GAEXx4G,KAAKqsG,aAAa5vF,kBACbwmB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW1D,WACtCF,oBAAkBmF,KAAKqsG,aAAarsG,KAAK1F,OAAOmE,WAAWod,WACL,IAArD7b,KAAKqsG,aAAarsG,KAAK1F,OAAOmE,WAAWod,SAChB,SAAzB7b,KAAK1F,OAAOshB,WAAyBqnB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWzD,UACjFioC,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,UAAY0nB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWoS,MAC5FoyB,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW2R,QACxCooG,GAAW,IAIhBA,GAEXhN,EAAW/qG,UAAUo7G,cAAgB,SAAU99G,GAC3C,GAAIA,EAAKpC,OAAS,EACd,IAAK,GAAImC,GAAI,EAAGA,EAAIC,EAAKpC,OAAQmC,IAAK,CAClC,GAAIC,EAAKD,GAAGwL,WAAatJ,KAAKksG,eAAerpE,QAAkB,SAAG,CAC9D7iC,KAAKgsG,aAAc,CACnB,OAKJ,GAHIjuG,EAAKD,GAAG2e,iBACRzc,KAAK67G,cAAc99G,EAAKD,GAAGof,eAE1Bld,KAAKgsG,YACN,MAIZ,MAAOhsG,MAAKgsG,aAEhBR,EAAW/qG,UAAUg4G,qBAAuB,SAAUqC,GAClD,GAAI7pG,GAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBs9G,EAAY53G,KAAKksG,eAAe4O,GAChCgB,EAAmB97G,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAW2a,cAClC,IAAlC0iG,EAAiBl8E,cAA0Bk8E,EAAiB7yD,cAAgBjpD,KAAK1F,OAAOy8F,YACxF6gB,EAAU14E,aAAaU,cAAe,EACtCg4E,EAAU14E,aAAa68C,aAAc,EACrC67B,EAAU14E,aAAaulD,eAAgB,EAE3C,IAAIzgF,GAAYhE,KAAKksG,eAAerpE,QAChCk4E,IACJ/6G,MAAK+7G,qBACD/7G,KAAKsmB,SACLy0F,EAAU/6G,KAAKg8G,0BAA0Bh4G,GACzChE,KAAKi8G,8BAA8Bj4G,GAEvC,IAAIk4G,EACAl4G,GAAUhE,KAAK1F,OAAOmE,WAAW2a,cACjC8iG,EAAoBl4G,EAAUhE,KAAK1F,OAAOmE,WAAW2a,YAAYzQ,MAAM,KAAKhN,QAEzC,IAAnCqE,KAAKm8G,mBAAmBxgH,QAAgBqE,KAAKm8G,mBAAmBxgH,SAAWugH,IAC3EtE,EAAU14E,aAAa68C,aAAc,GAEzC67B,EAAUl2D,eAAiB1hD,KAAKo8G,mBAAmBznG,KAAK3U,MACxD43G,EAAU18G,WAAa6/G,EACvBnD,EAAU/3D,iBAAmB7/C,KAAK1F,OAAOulD,iBACzC+3D,EAAUn2D,YAAczhD,KAAKq8G,gBAAgB1nG,KAAK3U,MACpC43G,EAAU38F,QAChB,GAAGzV,MACP6hD,MAAO,SAAUroD,GACyB,QAAlCU,WAAS,cAAeV,IACxB8T,WAAS,mBAAoBjT,IAAUb,EAG7B,IAAIs9G,aACdphH,WAAY,GAAIC,eAAY8V,EAAMsrG,cAClCn1D,YAAa,QACbo1D,aAAa,EACbvpF,UAAWhiB,EAAM3W,OAAO24B,UACxBotB,QAAUhhD,MAAO,QACjBA,MAAOL,EAAK6jC,QAAa,KACzBuyE,OAAQ,SAAUpxE,GACd,GACIy4E,GADKl9E,UAAQyE,EAAIl+B,QAAS,MACbD,cAAc,IAAMoL,EAAM3W,OAAOwL,QAAQvL,GAAK,2BAC3DkiH,KACK5hH,oBAAkBmpC,EAAI04E,WAAc7hH,oBAAkBmpC,EAAItxB,MAI3D+pG,EAAQp9G,MAAQ,GAHhBo9G,EAAQp9G,MAAQ2kC,EAAI04E,SAASniH,KAOzCoiH,UAAU,IAENh9D,SAAS3gD,EAAK8G,UAE1BL,KAAM,SAAUzG,GAEZ,MADkBA,GAAK+G,cAAc,GAClB1G,OAG3B,IACIiyG,GADA7xE,EAAWz/B,KAAKk5G,kBAAkB,aAEjCl5G,MAAKsmB,OAGDtmB,KAAKsmB,SACVgrF,EAActxG,KAAK1F,OAAOizG,iBAAiB9tE,IAH3C6xE,EAActxG,KAAK1F,OAAOozG,gBAAgBjuE,EAK9C,IACI65E,GADAE,KAEAC,IAEC5+G,qBAAkBy2G,IAAiBz2G,oBAAkBy2G,EAAYoI,oBAClEJ,EAAchI,EAAYoI,kBAE9B15G,KAAKq5G,YAAY/H,EAAagI,EAAaC,WAJvCvxE,GAIsDwxE,EAAmB5B,EAAW6B,GACxFF,OAAK1iB,OAAOC,OAAM+iB,OAAMgB,UAAaG,eACrCpD,EAAYjtE,MAAaitE,EAAW0B,IAC1BtxE,QAAU4vE,EAAU5vE,QAAQghC,OAAOwwC,EAC7C,IAAIyB,GAAoBj7G,KAAKk7G,cAAczB,EAAkB7B,EAAU38F,QACvE28F,GAAU38F,QAAUggG,CACpB,IAAIE,GAAU,GAAI5B,QAAK3B,GACnBrrB,EAAavsF,KAAK+tD,iBAAiB,kBAAmB/iB,EAASllC,QAAQvL,GAAK,GAAKugH,EAAW,eAEhG,OADAK,GAAQx7D,SAAS4sC,GACVA,GAEXif,EAAW/qG,UAAUy6G,cAAgB,SAAU0B,EAAiBC,GAC5D,GAAIC,KAiBJ,OAhBAF,GAAgBtqG,QAAQ,SAAU2wB,GACR,gBAAXA,KACP65E,EAAU75E,EAAO9nB,OAAS8nB,KAGlC45E,EAAWvqG,QAAQ,SAAUyqG,GACzB,GAAyB,gBAAdA,GAAwB,CAC/B,GAAI5hG,GAAQ4hG,EAAU5hG,KAClB2hG,GAAU3hG,GACV1f,OAAO2iB,OAAO0+F,EAAU3hG,GAAQ4hG,GAGhCH,EAAgBt+G,KAAKy+G,MAI1BH,GAEXpR,EAAW/qG,UAAU47G,gBAAkB,SAAUr9G,GAC7C,GAAIiS,GAAQjR,KAER43G,EAAY53G,KAAKksG,eAAuB,UAC5C,IAAyB,QAArBltG,EAAK63B,aAA8C,cAArB73B,EAAK63B,YAA6B,CAChE,GAAImmF,GAAgC,QAArBh+G,EAAK63B,WACpB72B,MAAKu8G,aAAer+G,eAAe8B,KAAKm8G,oBAAoB,EAe5D,KAAK,GAdDc,GAAarF,EAAU18G,WAavBqe,EAASvZ,KACJlC,EAAI,EAAGA,GAAKm/G,EAAWthH,OAAQmC,KAb1B,SAAUA,GAEpByb,EAAOgjG,aAAajqG,QAAQ,SAAUvU,EAAM0B,GACxC,GAAI1B,EAAKxD,KAAOmF,WAAS,KAAMu9G,EAAWn/G,IAAK,CAC3C,GAAIuhE,GAAe3/D,WAAS,UAAWV,EACvC,IAAIg+G,GAAYt9G,WAAS,KAAM2/D,KAAkBthE,EAAKxD,GAClD,MAEJ0W,GAAMsrG,aAAal0F,OAAOpX,EAAMsrG,aAAazvG,QAAQ/O,GAAO,OAM5DD,KAIpB0tG,EAAW/qG,UAAU27G,mBAAqB,SAAUp9G,GAChD,GAAyB,SAArBA,EAAK63B,YAAwB,CAC7B,GAAI24E,GAAgBxvG,KAAK1F,OAAO0I,WAAW2C,aAAaD,OAAOG,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,yBAC5G,KAAKM,oBAAkB20G,KACd30G,oBAAkBmE,EAAW,OAAMA,EAAW,KAAErD,SAAWqE,KAAKm8G,mBAAmBxgH,OAAQ,CAE5F,GAAIw/G,GAAU3L,EAA6B,cAAE,EACzC2L,KACAA,EAAQj8E,aAAa68C,aAAc,MAMvDyvB,EAAW/qG,UAAUy8G,yBAA2B,SAAUl+G,EAAMm+G,GAC5D,IAAKtiH,oBAAkBmE,EAAKjB,OAAStC,OAAOC,KAAKsD,EAAKjB,MAAMpC,OAAQ,CAChE,GACIyhH,GADaplF,SAASnyB,cAAc,IAAMs3G,GACZp3G,cAAc,EAChD,KAAKlL,oBAAkBuiH,IAAqBA,EAAiBv5D,qBAAqBloD,OAAS,EAAG,CAC1F,GAAI0hH,GAAcD,EAAiBv5D,qBAC/BpkD,MAAQ,GACR69G,IACJ,KAAK79G,EAAQ,EAAGA,EAAQ49G,EAAY1hH,OAAQ8D,IAAS,CACjD,GAAIlB,GAAS8+G,EAAY59G,EACpB5E,qBAAkB0D,EAAOJ,WACzBtD,oBAAkB0D,EAAOJ,SAAS6B,KAAK1F,OAAO8d,eAAexL,QAC7D/R,oBAAkBmE,EAAKjB,KAAKiC,KAAK1F,OAAO8d,eAAexL,QACvDrO,EAAOJ,SAAS6B,KAAK1F,OAAO8d,eAAe7d,MAAQyE,EAAKjB,KAAKiC,KAAK1F,OAAO8d,eAAe7d,MACzFgE,EAAOJ,SAAS6B,KAAK1F,OAAO8d,eAAexL,MAAQ5N,EAAKjB,KAAKiC,KAAK1F,OAAO8d,eAAexL,OAE5F0wG,EAAch/G,KAAK++G,EAAY59G,GAAOtB,UAE1C6B,KAAKue,eAAiBrgB,YAAWo/G,OAGjCt9G,MAAKue,sBAITve,MAAKue,mBAGbitF,EAAW/qG,UAAUi4G,kBAAoB,SAAUoC,GAC/C,GAAI7pG,GAAQjR,KACRgrC,EAAWhrC,KAAK1F,OAChBurB,EAAmBmlB,EAAS5yB,eAC5BpU,EAAYhE,KAAKksG,eAAerpE,SACM,yBAApC7iC,KAAKksG,eAAer1E,cAA2Ch8B,oBAAkBmF,KAAKqsG,aAAarsG,KAAK1F,OAAOmE,WAAWga,gBAAwD,wBAApCzY,KAAKksG,eAAer1E,cAA0Ch8B,oBAAkBmF,KAAKqsG,aAAarsG,KAAK1F,OAAOmE,WAAWga,iBACpM,gBAA5DzY,MAAKqsG,aAAarsG,KAAK1F,OAAOmE,WAAWga,eAClDzY,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAK1F,OAAO+J,cAAc4X,gBAAgBjc,KAAKqsG,cAAeroG,EAAUxF,iBAAiB,EAExI,IAAI++G,GAAcv5G,EAAUxF,gBAAgBia,aACxCq/F,EAAa93G,KAAKksG,eAAe4O,EACrChD,GAAWj4D,iBAAmB7/C,KAAK1F,OAAOulD,gBAC1C,IAAIs9D,GAAqBnyE,EAASllC,QAAQvL,GAAK,GAAKugH,EAAW,eAC3DtiG,IAGJ,IAFAA,EAAeta,eAAe8sC,EAAShzB,WAAW,GAClDhY,KAAK1F,OAAO+J,cAAcujB,mBAAmBpP,IACxC3d,oBAAkB0iH,GAAc,CACjC,GAAI76G,OAAQ,GACR86G,EAAoBD,EAAY5hH,OAChC8D,MAAQ,GACRg+G,EAAqBjlG,EAAa7c,MACtC,KAAK+G,EAAQ,EAAGA,EAAQ86G,EAAmB96G,IACvC,IAAKjD,EAAQ,EAAGA,EAAQg+G,EAAoBh+G,IACpC89G,EAAY76G,GAAOmjB,EAAiBtrB,MAAQie,EAAa/Y,GAAOomB,EAAiBtrB,MACjFie,EAAa/Y,GAAOomB,EAAiBjZ,MAAQ2wG,EAAY76G,GAAOmjB,EAAiBjZ,OAKjGkrG,EAAW58G,WAAasd,CACxB,IAAIC,GAAezU,EAAUxF,gBAAgBia,YAC7C,IAAIzY,KAAKsmB,SAAWzrB,oBAAkB4d,GAClC,IAAS3a,EAAI,EAAGA,EAAI2a,EAAa9c,OAAQmC,IACrCkC,KAAKue,eAAejgB,KAAKma,EAAa3a,QAGzC,KAAKkC,KAAKsmB,SAAWzrB,oBAAkB4d,GACxC,IAAS3a,EAAI,EAAGA,EAAI2a,EAAa9c,OAAQmC,IACrCkC,KAAKue,eAAejgB,KAAKma,EAAa3a,GAI9Cg6G,GAAWr2D,YAAc,SAAUziD,GAC/B,GAAIA,EAAK6jC,SAAW7jC,EAAKypC,aAAex3B,EAAM3W,OAAO8d,eAAexL,MAAQqE,EAAMo7F,aAAa7tG,gBAAgBia,aAC3G,IAAK,GAAI3a,GAAI,EAAGA,EAAImT,EAAMo7F,aAAa7tG,gBAAgBia,aAAa9c,OAAQmC,IACpEmT,EAAMo7F,aAAa7tG,gBAAgBia,aAAa3a,GAAGmT,EAAM3W,OAAO8d,eAAe7d,MAC/EyE,EAAK6jC,QAAQ5xB,EAAM3W,OAAO8d,eAAe7d,MACzC0W,EAAMo7F,aAAa7tG,gBAAgBia,aAAa3a,GAAGmT,EAAM3W,OAAO8d,eAAexL,MAAQ5N,EAAKK,QAK5Gy4G,EAAW4F,YAAc,SAAU1+G,GAC/BiS,EAAMisG,yBAAyBl+G,EAAMm+G,GACrClsG,EAAM0sG,iBAAmB1sG,EAAMsN,gBAEnCu5F,EAAW8F,cAAgB,SAAU5+G,GACjCiS,EAAMisG,yBAAyBl+G,EAAMm+G,GACrClsG,EAAM0sG,iBAAmB1sG,EAAMsN,eAEnC,IAEI+yF,GAFA/kB,EAAavsF,KAAK+tD,iBAAiB,iBAAkBovD,GACrD19E,EAAWz/B,KAAKk5G,kBAAkB,YAEjCl5G,MAAKsmB,OAGDtmB,KAAKsmB,SACVgrF,EAActxG,KAAK1F,OAAOizG,iBAAiB9tE,IAH3C6xE,EAActxG,KAAK1F,OAAOozG,gBAAgBjuE,EAK9C,IAAI65E,GAGAuE,EADApE,IAEJ,KAAK5+G,oBAAkBy2G,KAAiBz2G,oBAAkBy2G,EAAYoI,kBAAmB,CACrFJ,EAAehI,EAA6B,gBAC5C,KAAK,GAAIxzG,KAAKw7G,GACV,GAAI79G,OAAOgF,UAAUkT,eAAeM,KAAKqlG,EAAax7G,GAClD,OAAQA,GACJ,IAAK,iBACDugD,WAASw4C,OAAOinB,SAChB,MACJ,KAAK,eACDz/D,WAASw4C,OAAOknB,OAChB,MACJ,KAAK,cACD1/D,WAASw4C,OAAOmnB,OAChB,MACJ,KAAK,eACD3/D,WAASw4C,OAAOonB,OAChB,MACJ,KAAK,aAGL,IAAK,oBACD5/D,WAASw4C,OAAOqnB,YAChB,MACJ,KAAK,iBACD7/D,WAASw4C,OAAOojB,aAChB,MACJ,KAAK,mBACD57D,WAASw4C,OAAOqjB,cAChB,MACJ,KAAK,gBACD77D,WAASw4C,OAAOsnB,SAChB,MACJ,KAAK,kBACD9/D,WAASw4C,OAAOunB,UAChB,MACJ,KAAK,iBACD//D,WAASw4C,OAAOwjB,YAChB,MACJ,KAAK,sBACDh8D,WAASw4C,OAAOwnB,QAChB,MACJ,KAAK,iBACDhgE,WAASw4C,OAAO0jB,SAChB,MACJ,KAAK,oBACDl8D,WAASw4C,OAAOynB,YAChB,MACJ,KAAK,WACDT,EAAWvE,EAAqB,SACvB/jG,IAAI,SAAU7C,GACnB,OAAQA,GACJ,IAAK,SACD2rC,WAASw4C,OAAO0jB,SAChB,MACJ,KAAK,QACDl8D,WAASw4C,OAAO6jB,QAChB,MACJ,KAAK,YACDr8D,WAASw4C,OAAO8jB,YAChB,MACJ,KAAK,cACDt8D,WAASw4C,OAAO+jB,kBAMvB//G,oBAAkBgjH,KACnB/F,EAAW9vE,WACX8vE,EAAW9vE,QAAU8vE,EAAW9vE,QAAQghC,OAAO60C,IAEnDx/D,WAASw4C,OAAO0nB,UAChB,MACJ,KAAK,uBACDlgE,WAASw4C,OAAO4jB,gBAChB,MACJ,KAAK,UACDhB,EAAmB3B,EAAW78F,SAQlDojC,WAASw4C,OAAOynB,YAAmBR,SAAgBG,OAAcxD,gBAAe8D,WAChFzG,EAAantE,MAAamtE,EAAYwB,EACtC,IAAI2B,GAAoBj7G,KAAKk7G,cAAczB,EAAkB3B,EAAW78F,QACxE68F,GAAW78F,QAAUggG,CACrB,IAAIuD,IAAe,CACf1G,GAAW/3D,iBACXy+D,EAAe1G,EAAW/3D,eAC1B+3D,EAAW/3D,gBAAiB,EAEhC,IAAI0+D,GAAc,GAAIpgE,YAASy5D,GAC3B4G,EAAiB1+G,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAWga,aAgBtE,SAfoC,IAAhCimG,EAAe9+E,cAA0B8+E,EAAez1D,cAAgBjpD,KAAK1F,OAAOy8F,YACpF0nB,EAAYngE,gBAAiB,EAC7BmgE,EAAYl8E,gBAAiB,EAC7Bk8E,EAAYv/E,aAAaU,cAAe,GAE5C6+E,EAAYp9D,UAAY,WAIpB,GAHIm9D,IACAC,EAAY1+D,gBAAiB,GAE7B9uC,EAAM3W,OAAOizG,iBAAiB5xG,QAAU,GAA+C,cAA1CsV,EAAM3W,OAAOizG,iBAAiB,GAAGn9F,KAAsB,CACpG,GAAI7V,GAAK0W,EAAM3W,OAAOwL,QAAQvL,GAAK,uBACnC0W,GAAMyjG,kBAAkBn6G,KAGhCkkH,EAAY9+D,SAAS4sC,GACdA,GAEXif,EAAW/qG,UAAUi0G,kBAAoB,SAAUn6G,GAC/C,GAAI0W,GAAQjR,KACRo9G,EAAmBplF,SAASnyB,cAAc,IAAMtL,GAAIwL,cAAc,EACtE/F,MAAK1F,OAA4B,oBAAI,EACrC,IAAIwX,GAAkBsrG,EAAiB/4E,wBACnCrsB,EAAYhY,KAAKue,cACjBvG,IAAaA,EAAUrc,OAAS,GAChCmW,EAAgBQ,QAAQ,SAAUvU,EAAM0B,GACpC,IAAK,GAAI3B,GAAI,EAAGA,EAAIka,EAAUrc,OAAQmC,IAC9BC,EAAKI,SAAS8S,EAAM3W,OAAO8d,eAAe7d,MAAQyd,EAAUla,GAAGmT,EAAM3W,OAAO8d,eAAe7d,KAC1FM,oBAAkBuiH,EAAiBp7D,mBACyB,IAA7Do7D,EAAiBj7D,wBAAwBr1C,QAAQrN,IACjD29G,EAAiBz5D,UAAUlkD,MAM/C+rG,EAAW/qG,UAAUk4G,gBAAkB,SAAUmC,EAAUxC,GACvD,MAAOt4G,MAAKu4G,iBAAiBuC,EAAUxC,IAE3C9M,EAAW/qG,UAAUm4G,eAAiB,SAAUkC,GAC5C,GAAI9vE,GAAWhrC,KAAK1F,OAChBw9G,EAAa93G,KAAKksG,eAAe4O,EACrChD,GAAWt5D,oBAAsBx+C,KAAK1F,OAAOkkD,mBAC7C,IAGI8yD,GAHA12G,EAAYoF,KAAKqsG,aAAa7tG,gBAC9B+tF,EAAavsF,KAAK+tD,iBAAiB,GAAI/iB,EAASllC,QAAQvL,GAAK,GAAKugH,EAAW,gBAC7Er7E,EAAWz/B,KAAKk5G,kBAAkB,SAElCM,IACCx5G,MAAKsmB,OAGDtmB,KAAKsmB,SACVgrF,EAActxG,KAAK1F,OAAOizG,iBAAiB9tE,IAH3C6xE,EAActxG,KAAK1F,OAAOozG,gBAAgBjuE,EAK9C,IAAI65E,EACJ,KAAKz+G,oBAAkBy2G,KAAiBz2G,oBAAkBy2G,EAAYoI,kBAAmB,CACrFJ,EAAchI,EAAYoI,gBAC1B,KAAK,GAAI57G,KAAKw7G,GACV,GAAI79G,OAAOgF,UAAUkT,eAAeM,KAAKqlG,EAAax7G,GAClD,OAAQA,GACJ,IAAK,kBACD,IAAK,GAAI2N,GAAI,EAAGA,EAAI6tG,EAA6B,gBAAEviG,MAAMpb,OAAQ8P,IAAK,CAElE,GAAI7P,GAAM09G,EAA6B,gBAAEviG,MAAMtL,EAC/C,IAAI7P,EACA,OAAQA,GACJ,IAAK,QACD+iH,iBAAe9nB,OAAO+nB,QACtB,MACJ,KAAK,cACDD,iBAAe9nB,OAAOgoB,QACtB,MACJ,KAAK,cACDF,iBAAe9nB,OAAOioB,cACtB,MACJ,KAAK,cACDH,iBAAe9nB,OAAOkoB,cACtB,MACJ,KAAK,gBACDJ,iBAAe9nB,OAAOmoB,kBAOjCnkH,oBAAkBy+G,EAA6B,gBAAEviG,SAClDyiG,EAAoB1B,EAAWK,gBAAgBphG,OAEnD4nG,iBAAe9nB,OAAOooB,UACtB,MACJ,KAAK,aACDN,iBAAe9nB,OAAOqoB,mBAQ1CP,iBAAe9nB,OAAOooB,UAAYE,OAAMC,aAAYC,eAAcC,QAAOT,SACzE/G,EAAWz4G,MAAQzE,EAAU4gB,KAC7B,IAAI+jG,GAAcv/G,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAW+c,MAQnE,SAPiC,IAA7B+jG,EAAY3/E,cAA0B2/E,EAAYt2D,cAAgBjpD,KAAK1F,OAAOy8F,YAC9E+gB,EAAW0H,SAAU,IAEzB1H,EAAantE,MAAamtE,EAAYwB,IAC3BnB,gBAAgBphG,MAAQyiG,EAAkBxwC,OAAO8uC,EAAWK,gBAAgBphG,OAC1E,GAAI4nG,kBAAe7G,GACzBn4D,SAAS4sC,GACTA,GAEXif,EAAW/qG,UAAU86G,oBAAsB,SAAUzD,EAAY70E,GAC7D,GAII8tE,GACAr8E,EACAkd,EANA3gC,EAAQjR,KACR02G,EAAU12G,KAAK1F,OAAOwL,QAAQvL,GAC9ByJ,EAAYhE,KAAKqsG,aACjB9f,EAAavsF,KAAK+tD,iBAAiB,qBAInC/tD,MAAK1F,OAAOulD,mBACZnrB,EAAK6C,gBAAc,MACnBqa,EAAKra,gBAAc,MACnBg1D,EAAW54D,MAAM5W,MAAQ,OAE7B,IAAI/L,IAAaiyB,OAAQA,EAAQllC,KAAMiG,EACvC,KAAKnJ,oBAAkBooC,EAAOz9B,OAAS3K,oBAAkBooC,EAAOz9B,KAAK8gD,QAAS,CAC1E,GAAIxyC,GAASmvB,EAAOz9B,KAAKsO,QAGrBi9F,EAFkB,gBAAXj9F,IACPA,EAASm9F,YAAUn9F,EAAQ4hB,SACL1kB,GAGPiyB,EAAOz9B,KAAKsO,OAAO9C,IAEzBwmB,UAAY,GACzBu5E,EAAaz6E,aAAa,OAAQ,QAClCy6E,EAAaz6E,aAAa,KAAMogF,EAAU,GAAKzzE,EAAO9nB,OACtD41F,EAAaz6E,aAAa,OAAQ2M,EAAO9nB,OACzC41F,EAAaz6E,aAAa,QAAS2M,EAAO9nB,OAC1CoxE,EAAW70D,YAAYq5E,OAGvBA,GAAe/wG,KAAKq4G,mBAAmB,GAAI3B,EAAU,GAAKzzE,EAAO9nB,MAAO8nB,EAAO9nB,OAC/EoxE,EAAW70D,YAAYq5E,EAG3B,IADA+G,EAAW0H,QAAW3kH,oBAAkBi9G,EAAW0H,UAAiCx/G,KAAK27G,kBAAkB14E,GAA7C60E,EAAW0H,QACrEv8E,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWzD,SACxC,GAAKH,oBAAkBooC,EAAOwjB,gBASzB,GAAI5rD,oBAAkBooC,EAAOz9B,MAAO,CACrC,GAAI5K,GAAYoJ,EAAUxF,eAC1Bs5G,GAAWz4G,MAAQW,KAAK1F,OAAO+J,cAAckM,kBAAkB3V,EAAUI,SAAUJ,EAAUuJ,mBAV7F,IAAoC,gBAAzB8+B,GAAOwjB,cAA4B,CAC1C,GAAIA,GAAgBwqD,YAAUhuE,EAAOwjB,cAAe/wB,OACpDoiF,GAAWz4G,MAAQonD,EAAcxjB,EAAO9nB,MAAOnX,EAAWi/B,OAG1D60E,GAAWz4G,MAAQ4jC,EAAOwjB,cAAcxjB,EAAO9nB,MAAOnX,EAAWi/B,OASjD,gBAApBA,EAAO2iB,UACyB,IAA5B5hD,EAAUi/B,EAAO9nB,OACjB28F,EAAW2H,SAAU,EAGrB3H,EAAW2H,SAAU,EAIpBz/G,KAAK1F,OAAOmE,WAAWwkC,EAAO9nB,QAA8B,gBAApB8nB,EAAO2iB,UAA2D,KAA5B5hD,EAAUi/B,EAAO9nB,QAA6C,IAA5BnX,EAAUi/B,EAAO9nB,OAIlI28F,EAAWz4G,MAAQ2E,EAAUi/B,EAAO9nB,OAHpC28F,EAAWz4G,MAAQ,CAO/B,KAAKxE,oBAAkBooC,EAAOz9B,OAAS3K,oBAAkBooC,EAAOz9B,KAAK8gD,QAAS,CAC1E,GAAIe,GAAQpkB,EAAOz9B,KAAK6hD,MACpBq4D,MAAW,EAGXA,GAFiB,gBAAVr4D,IACPA,EAAQ4pD,YAAU5pD,EAAO3xB,UAErBuN,OAAQA,EAAQJ,QAAS7+B,EAAW8B,QAASirG,IAItC9tE,EAAOz9B,KAAK6hD,OACnBpkB,OAAQA,EAAQJ,QAAS7+B,EAAW8B,QAASirG,IAGjD9tE,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWzD,WACxC0kH,EAAStK,OAAS,SAAUp2G,GACxBiS,EAAMokG,uBAAuBr2G,EAAMikC,EAAQhyB,EAAM3W,eAKrDolH,EAAW,GAAI1/G,MAAKssG,OAAOrpE,EAAO2iB,UAAUkyD,IACvCn4D,SAASoxD,EAEtB,OAAI/wG,MAAK1F,OAAOulD,kBACZjO,EAAGla,YAAY60D,GACf73D,EAAGgD,YAAYka,GACRld,GAGA63D,GAGfif,EAAW/qG,UAAUs7G,mBAAqB,WACtC,GAAIhzG,GAAW/I,KAAK1F,OAAOyO,QAC3B/I,MAAK2/G,cACL3/G,KAAKm8G,qBACL,KAAK,GAAIr+G,GAAI,EAAGA,EAAIiL,EAASpN,OAAQmC,IAAK,CACtC,GAAIC,GAAOgL,EAASjL,EACpB,IAAIkC,KAAK1F,OAAOqgB,sBAAuB,CACnC,GAAIilG,GAAkB7hH,CACtB,IAAIA,EAAK6kE,iBAAmB5iE,KAAKksG,eAAerpE,QAAkB,SAC9D7iC,KAAKgsG,aAAc,MAGnB,IACI,GAAI4T,EAAgBp2G,aAChBo2G,EAAkB5/G,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ8yG,EAAgBp2G,WAAWkM,UACtEpM,WAAatJ,KAAKksG,eAAerpE,QAAkB,SAAG,CACtE7iC,KAAKgsG,aAAc,CACnB,cAGH4T,EAAgBp2G,WAK7B,IAHIzL,EAAK0e,iBAAmBzc,KAAKgsG,cAC7BhsG,KAAKgsG,YAAchsG,KAAK67G,cAAc99G,EAAKmf,gBAE1Cld,KAAKgsG,YAAa,CACnBhsG,KAAKgsG,aAAc,CACnB,eAIJ,IAAIjuG,EAAK0e,gBACL,QAGR,IAAI/G,GAAkC,iBAAzB1V,KAAK1F,OAAOyd,SAA8Bha,EAAKS,gBAAgBkX,OAAOzX,WAC7EF,EAAKS,gBAAgBqb,YAAY5b,WACnC4hH,GACAtlH,GAAImb,EACJwxC,KAAOxxC,EAAS,IAAM3X,EAAKS,gBAAgByoB,SAC3C5nB,MAAOqW,EAEX1V,MAAK2/G,WAAWrhH,KAAKuhH,EAAWtlH,IAChCyF,KAAKm8G,mBAAmB79G,KAAKuhH,KAGrCrU,EAAW/qG,UAAUu7G,0BAA4B,SAAUh4G,GACvD,GAAI87G,MACAllH,EAAYoJ,EAAUxF,eAC1B,IAAIwB,KAAKsmB,SAAWzrB,oBAAkBmF,KAAK1F,OAAOmE,WAAW2a,cAAgBve,oBAAkBmJ,KAC1FnJ,oBAAkBD,EAAUkhB,aAG7B,IAAK,GAFDA,GAAclhB,EAAUkhB,YACxBygG,EAAev8G,KAAKm8G,mBACfr+G,EAAI,EAAGA,EAAIge,EAAYngB,OAAQmC,IAAK,CACzC,GAAIiE,GAAO+Z,EAAYhe,GAAGiE,KAAK9D,WAC3B88G,IAEJ,KADsC,iBAAzB/6G,KAAK1F,OAAOyd,SAA8Bnd,EAAU8a,OAAS9a,EAAUif,aACzE5b,aAAe8D,EAAM,CAC5Bg5G,EAAQxgH,GAAKwH,CACb,KAAK,GAAItC,GAAQ,EAAGA,EAAQ88G,EAAa5gH,OAAQ8D,IAC7C,GAAI88G,EAAa98G,GAAOJ,QAAU0C,EAAM,CACpCg5G,EAAQ1iG,KAAOkkG,EAAa98G,GAAOynD,IACnC,OAGR6zD,EAAQ3qG,KAAO0L,EAAYhe,GAAGsS,IAC9B,IAAIpB,GAAS8M,EAAYhe,GAAGkR,OACxB+yD,EAAajmD,EAAYhe,GAAGikE,UAChCg5C,GAAQ/rG,OAAShP,KAAK1F,OAAO+J,cAAckM,kBAAkBvB,EAAQ+yD,GACrEg5C,EAAQ59F,SAAWtd,IACnBigH,EAAkBxhH,KAAKy8G,IAInC,MAAO+E,IAEXtU,EAAW/qG,UAAUw7G,8BAAgC,SAAUj4G,GAC3D,GAAIvE,IAAS,EACTlF,EAA8B,iBAAzByF,KAAK1F,OAAOyd,SAA8B/T,EAAUxF,gBAAgBkX,OAAOzX,WAC9E+F,EAAUxF,gBAAgBqb,YAAY5b,UAC5CwB,GAAQO,KAAK2/G,WAAW7yG,QAAQvS,GAChCyF,KAAKm8G,mBAAmB9zF,OAAO5oB,EAAO,GACtCO,KAAK2/G,WAAWt3F,OAAO5oB,EAAO,GAC9BO,KAAK+/G,oBAAoB/7G,EAAWhE,KAAK2/G,WAAY3/G,KAAKm8G,qBAE9D3Q,EAAW/qG,UAAUs/G,oBAAsB,SAAUhiH,EAAMgX,EAAKwnG,GAC5D,GAAItrG,GAAQjR,KACRpF,EAAYmD,EAAKS,eACrB,IAAI5D,EAAUkhB,aAAelhB,EAAUkhB,YAAYngB,OAAS,EAAG,CAC3D,GAAImgB,GAAclhB,EAAUkhB,YACxBkkG,EAAoC,iBAAzBhgH,KAAK1F,OAAOyd,SAA8Bnd,EAAU8a,OAAOzX,WAAarD,EAAUif,YAAY5b,UAC7G6d,GAAYxJ,QAAQ,SAAUI,GAC1B,GAAIA,EAAK3Q,KAAK9D,aAAe+hH,EAAU,CACnC,GAAIvnC,GAAO/lE,EAAK5Q,GACZm+G,GAAW,GACfA,EAAUlrG,EAAIjI,QAAQ2rE,KACP,IACX1jE,EAAIsT,OAAO43F,EAAS,GACpB1D,EAAal0F,OAAO43F,EAAS,GAIjC,KAAK,GAFDj8G,GAAYiN,EAAM3W,OAAOm5B,oBAAoByH,cAAcu9C,GAC3DynC,GAAc,EACT3kH,EAAK,EAAGC,EAAKyV,EAAM46F,YAAatwG,EAAKC,EAAGG,OAAQJ,IAAM,CAC3D,GAAI4kH,GAAS3kH,EAAGD,EAChB,IAAI4kH,EAAO5lH,KAAOyJ,EAAUxF,gBAAgBkX,QACpCjC,MAAMsT,QAAQo5F,EAAO9gH,QAAUoU,MAAMsT,QAAQ/iB,EAAUxF,gBAAgBsd,cACnEqkG,EAAO9gH,MAAM1D,SAAWqI,EAAUxF,gBAAgBsd,YAAYngB,OAAQ,CAEtE,IAAK,GADDykH,IAAc,EACTtiH,EAAI,EAAGA,EAAIqiH,EAAO9gH,MAAM1D,OAAQmC,IACrC,GAAIqiH,EAAO9gH,MAAMvB,KAAOkG,EAAUxF,gBAAgBsd,YAAYhe,GAAI,CAC9DsiH,GAAc,CACd,OAGR,GAAIA,EAAa,CACbF,GAAc,CACd,SAMhBA,IACAjvG,EAAM46F,YAAYvtG,MAAO/D,GAAIyJ,EAAUxF,gBAAgBkX,OAAQrW,MAAO2E,EAAUxF,gBAAgBsd,cAChG7K,EAAM8uG,oBAAoB/7G,EAAW+Q,EAAKwnG,SAM9D/Q,EAAW/qG,UAAU2rG,mBAAqB,WACtC,GAAIiU,IAAYrgH,KAAK1F,OAAO+/E,wBAAwB,MAAOr6E,KAAK1F,OAAO+/E,wBAAwB,MAC3Fr6E,KAAK1F,OAAO+/E,wBAAwB,MAAOr6E,KAAK1F,OAAO+/E,wBAAwB,MAOnF,SALM9/E,GAAI,KAAM2sD,KAAMm5D,EAAS,GAAIhhH,MAAOghH,EAAS,KAC7C9lH,GAAI,KAAM2sD,KAAMm5D,EAAS,GAAIhhH,MAAOghH,EAAS,KAC7C9lH,GAAI,KAAM2sD,KAAMm5D,EAAS,GAAIhhH,MAAOghH,EAAS,KAC7C9lH,GAAI,KAAM2sD,KAAMm5D,EAAS,GAAIhhH,MAAOghH,EAAS,MAIvD7U,EAAW/qG,UAAUiwG,mBAAqB,WAUtC,GATI1wG,KAAKsmB,OACLtmB,KAAK1F,OAAO6pD,oBAAmB,GAG/BnkD,KAAKkkD,eAELlkD,KAAK29G,mBACL39G,KAAK29G,iBAAmB,MAExB39G,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAA8B,sBAAE,UAC/D0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAExC/b,KAAKsmB,QAAQ,CACbtmB,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAI4T,KAIJ,IAHAA,EAAe,OAAI,aACnBA,EAAwB,mBACxB3vB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAKg0B,EACjF,iBAAzB3vB,KAAK1F,OAAOyd,SAA6B,CACzC,GAAI+J,IAAU,CACd,IAAK9hB,KAAK6iC,QAAQrkC,gBAAgBia,cAK7B,GAAIzY,KAAKue,eAAe5iB,SAAWqE,KAAK6iC,QAAQrkC,gBAAgBia,aAAa9c,OAC9EmmB,GAAU,MAGV,KAAShkB,EAAI,EAAGA,EAAIkC,KAAK6iC,QAAQrkC,gBAAgBia,aAAa9c,OAAQmC,IAClE,GAAIkC,KAAKue,eAAezgB,GAAGkC,KAAK1F,OAAO8d,eAAe7d,MAClDyF,KAAK6iC,QAAQrkC,gBAAgBia,aAAa3a,GAAGkC,KAAK1F,OAAO8d,eAAe7d,IAAK,CAC7EunB,GAAU,CACV,YAZJ9hB,MAAKue,eAAe5iB,OAAS,IAC7BmmB,GAAU,EAelB,IAAIA,EAAS,CACT,GAAIw+F,KACJA,GAAwB,iBACxB,IAAIC,GAAO,IAAMvgH,KAAK6iC,QAAQrkC,gBAAgBkX,OAC1C8qG,IACJxgH,MAAK1F,OAAOga,QAAQ0E,OAAO,SAAU5C,EAAGtY,GACpC,GAAIA,IAAMyiH,EACN,GAAmC,IAA/BvgH,KAAKue,eAAe5iB,OACpB6kH,EAAWliH,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQhP,SAIjE,KAAK,GADDiyF,GAAW/vF,KAAK1F,OAAO+O,kBAAkBrJ,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQhP,IAAI8kE,gBACzFn3D,EAAI,EAAGA,EAAIzL,KAAKue,eAAe5iB,OAAQ8P,IACxCskF,EAASvxF,gBAAgBkX,SACzB1V,KAAKue,eAAe9S,GAAGzL,KAAK1F,OAAO8d,eAAe7d,MAC4B,IAA9EimH,EAAW1zG,QAAQ9M,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQhP,MACpE0iH,EAAWliH,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQhP,MAKnF6W,KAAK3U,UACPA,KAAK1F,OAAOyhB,eAA6B,aAAE7d,eAAesiH,GAAY,GAAOF,EAAS,kBAClFtgH,KAAc,QACdA,KAAc,QAAkB,eAAEA,KAAc,QAAkB,eAAErE,QAAU2kH,EAAwB,eAAE,GAGxGtgH,KAAc,QAAIsgH,IAMtCtgH,KAAK1F,OAAuB,gBAAI,CAIhC,KAAK,GAHD0wC,GAAWhrC,KAAK1F,OAEhByc,EADW/W,KAAKksG,eAAe2E,SACd95F,MACZjZ,EAAI,EAAGA,EAAIiZ,EAAMpb,OAAQmC,IAAK,CACnC,GAAIgI,GAAUiR,EAAMjZ,GAAG4yB,QACnBn2B,EAAKuL,EAAQ29B,aAAa,KACzB5oC,qBAAkBN,IAAc,KAAPA,IAGf,aADXA,GADAA,EAAKA,EAAG4E,QAAQ6rC,EAASllC,QAAQvL,GAAI,KAC7B4E,QAAQ,eAAgB,KAE5Ba,KAAKygH,iBAAiB36G,GAAS,GAEnB,eAAPvL,GACLyF,KAAKyrG,yBAA0B,EAC/BzrG,KAAK0gH,qBAAqB56G,GAC1B9F,KAAKyrG,yBAA0B,GAEnB,UAAPlxG,EACLyF,KAAK2gH,eAAe76G,GAER,cAAPvL,GACLyF,KAAK4gH,kBAAkB96G,GACvB9F,KAAK+rG,0BAA2B,IAED,IAA1BxxG,EAAGuS,QAAQ,UAChB9M,KAAK6gH,gBAAgB/6G,GAET,aAAPvL,GACLyF,KAAK8gH,mBAAmBh7G,IAWpC,IAPK9F,KAAK+gH,aAAe/gH,KAAK1F,OAAOyhB,iBACjC/b,KAAK1F,OAAOyhB,eAAkC,kBAAEsM,OAAOroB,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,EAAG,GAC/GqE,KAAK1F,OAAO4iC,eAA4E,IAA3Dl9B,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,QAC7EqE,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAE7E7tC,KAAK1F,OAAwB,mBAE7B0F,KAAKsmB,OAAQ,CAIbtmB,KAAK1F,OAAO0I,WAAyB,aAAIhD,KAAK6iC,QAC9C7iC,KAAK1F,OAAO+J,cAAcwW,gBAAgB7a,KAAK6iC,QAC/C,IAAI7xB,IACAjT,KAAMiC,KAAK6iC,QACXlT,OAAQ,gBAEZ3vB,MAAK1F,OAAO0I,WAAWizF,qBAAqBjlF,OAI5C,IADAhR,KAAK1F,OAAO0I,WAAyB,aAAIhD,KAAKkkD,YACjB,iBAAzBlkD,KAAK1F,OAAOyd,SAA6B,CACzC,GAAIipG,GAAa9iH,YAAW8B,KAAKkkD,aAAa,EAC9C,IAAI88D,EAAWhhH,KAAK1F,OAAOmE,WAAWga,cAAc9c,OAChD,IAASmC,EAAI,EAAGA,EAAIkjH,EAAWhhH,KAAK1F,OAAOmE,WAAWga,cAAc9c,OAAQmC,IAAK,CAC7E,GAAIvD,GAAKymH,EAAWhhH,KAAK1F,OAAOmE,WAAWga,cAAc3a,GAAGG,WACxDgjH,EAAoBjhH,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMvS,EAAG0D,WAClE,KAA2B,IAAvBgjH,EAA0B,CAC1BjhH,KAAK1F,OAAO0I,WAAW64E,UAAU77E,KAAKkkD,YAAa,QAAS+8D,EAC5D,YAKRjhH,MAAK1F,OAAO0I,WAAW64E,UAAU77E,KAAKkkD,YAAa,cAIvDlkD,MAAK1F,OAAO0I,WAAW64E,UAAU77E,KAAKkkD,YAAalkD,KAAK1F,OAAO4kC,aAAa48C,eAAgB97E,KAAK1F,OAAOipD,iBAGhH,QAAO,GAEXioD,EAAW/qG,UAAUygH,eAAiB,SAAUC,EAAcC,GAC1D,OAAKvmH,oBAAkBsmH,IACZA,EAAa3hD,MAAM,SAAU6hD,EAAM5hH,GAGtC,IAAK,GAFD6hH,GAAOF,EAAgB3hH,GACvB7D,EAAMH,OAAOC,KAAK2lH,GACbvjH,EAAI,EAAGA,EAAIlC,EAAID,OAAQmC,IAC5B,GAAe,cAAXlC,EAAIkC,IAAiC,YAAXlC,EAAIkC,IAC9B,GAAIujH,EAAKzlH,EAAIkC,IAAIoD,YAAcogH,EAAK1lH,EAAIkC,IAAIoD,UACxC,OAAO,MAGV,IAAe,aAAXtF,EAAIkC,IAAqBujH,EAAKzlH,EAAIkC,MAAQwjH,EAAK1lH,EAAIkC,IACxD,OAAO,CAGf,QAAO,KAKnB0tG,EAAW/qG,UAAU8gH,sBAAwB,SAAUrmH,GACnD,GAAIogB,GAAetb,KAAK1F,OAAOmE,UAC/B,IAAKuB,KAAKsmB,OAGL,CACD,GAAI66F,GAAenhH,KAAK6iC,QAAQrkC,gBAAgBmG,QAChD3E,MAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWkG,SAAUzJ,EAAY8E,KAAK6iC,QAC3F,IAAIu+E,GAAkBphH,KAAK1F,OAAO+J,cAAc+Y,gBAAgBpd,KAAK6iC,SAAS,IAC1E7iC,KAAK1F,OAAOuqF,gBAAmBs8B,GAAgBC,GAAoBD,EAAaxlH,SAAWylH,EAAgBzlH,SACzGwlH,GAAgBC,GAAsBD,IAAiBC,GACzDphH,KAAKkhH,eAAeC,EAAcC,MAClCphH,KAAK+gH,aAAc,GAEvB/gH,KAAK1F,OAAO8J,eAAe,WAAYg9G,EAAiBphH,KAAK6iC,QAAQrkC,iBAAiB,GACtFwB,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK1F,OAAO+J,cAAc+Y,gBAAgBpd,KAAK6iC,SAAS,GAAQ7iC,KAAK6iC,QAAQrkC,iBAAiB,GACjItD,EAAWS,QAAU,GACrBqE,KAAK82G,iBAAiB92G,KAAK6iC,aAd/B7iC,MAAKkkD,YAAY5oC,EAAa3W,UAAYzJ,GAkBlDswG,EAAW/qG,UAAUqgH,mBAAqB,SAAUU,GAChD,GAEItmH,GAFAigH,EAAUqG,EAAYz7G,cAAc,GACpCugB,EAAS60F,EAAQ70F,MAEjB60F,GAAQ70F,QACR60F,EAAQt7E,UAGR3kC,EADAorB,GAAU60F,EAAQrpG,gBAAgBnW,SAAWw/G,EAAQjgH,WAAmB,OAC3DigH,EAAQjgH,WAGRigH,EAAQrpG,gBAEzB9R,KAAKuhH,sBAAsBrmH,IAE/BswG,EAAW/qG,UAAUggH,iBAAmB,SAAUgB,EAAaC,GAC3D,GAAI12E,GAAWhrC,KAAK1F,OAChBs6B,EAAa6sF,EAAY7sF,WACzB+sF,IACC3hH,MAAKsmB,SACNq7F,EAAY3hH,KAAKkkD,YAErB,KAAK,GAAIpmD,GAAI,EAAGA,EAAI82B,EAAWj5B,OAAQmC,IAAK,CACxC,GAAI+zC,GAAMjd,EAAW92B,GACjBizG,EAAel/D,EAAIhsC,cAAc,cAAgBmlC,EAASllC,QAAQvL,GAAK,OAASs3C,EAAIhsC,cAAc,iBAAmBmlC,EAASllC,QAAQvL,GAAK,MAC3IqnH,EAAcnuG,MAAM1R,KAAK8vC,EAAIzc,UAAUuY,KAAK,SAAU72B,GAAS,MAAOA,GAAMtc,UAAUC,SAAS,qBAInG,IAHImnH,IACA7Q,EAAe6Q,GAEf7Q,EAAc,CACd,GAAInrF,GAAYmrF,EAAax2G,GAAG4E,QAAQ6rC,EAASllC,QAAQvL,GAAI,IACzDy2G,EAAan/D,EAAIhsC,cAAc,IAAMmlC,EAASllC,QAAQvL,GAAKqrB,GAAW7f,cAAc,EACxF,IAAsE,eAAlE/F,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAWlE,IAAIqrD,UAA6BhgC,IAAc5lB,KAAK1F,OAAOmE,WAAWlE,GAAI,CAC3H,GAAIsnH,GAAc7Q,EAAW3xG,MAAMpB,UACnC+yG,GAAW3xG,MAAQwiH,EAEvB,GAAI5+E,GAAS+H,EAAS5lC,cAAcwgB,EAMpC,KALIA,IAAc5lB,KAAK1F,OAAOmE,WAAWzD,SACrCgD,SAASgC,KAAK6iC,QAAQjd,GAAY,MAAQ5nB,SAASgzG,EAAW3xG,MAAO,IACrEW,KAAK6iC,QAAQjd,KAAeorF,EAAW3xG,SACvCW,KAAK+gH,aAAc,GAElBlmH,oBAAkBooC,IAAYpoC,oBAAkBooC,EAAOz9B,QAAS3K,oBAAkBooC,EAAOz9B,KAAK8gD,QAU9F,GAAKzrD,oBAAkBooC,IAA+B,gBAApBA,EAAO2iB,SAQzC,CACD,GAAIhgC,IAAc5lB,KAAK1F,OAAOmE,WAAWzD,SAAU,CAC/C,GAAIu0B,GAAe1nB,WAAWgW,OAAOmzF,EAAW3xG,OAChDsiH,GAAU/7F,GAAa2J,MAGvB,IAAIvvB,KAAK1F,OAAOuH,gBAAgBlG,OAAS,GAAKq1G,EAAW3xG,QAAUumB,IAAc5lB,KAAK1F,OAAOmE,WAAW3D,WACpG8qB,IAAc5lB,KAAK1F,OAAOmE,WAAWI,mBAAoB,CACzD,GAAIqH,GAAQ0f,IAAc5lB,KAAK1F,OAAOmE,WAAW3D,UAAYkF,KAAKksG,eAAerpE,QAAyB,gBAAE/nC,UAAYkF,KAAKksG,eAAerpE,QAAyB,gBAAEhkC,iBAEvK,IADcmB,KAAK1F,OAAqB,aAAE4L,GAC5B,OAASA,EAAM3J,WAAY,CACrC,GAAI4E,GAAenB,KAAK1F,OAAqB,aAAE02G,EAAW3xG,MAC1DW,MAAK1F,OAAO+J,cAAc5C,QAAQN,EAAc6vG,EAAW3xG,OAC3DsiH,EAAU/7F,GAAaorF,EAAW3xG,UAGlCsiH,GAAU/7F,GAAaorF,EAAW3xG,UAItCsiH,GAAU/7F,GAAaorF,EAAW3xG,KAGtCW,MAAK1F,OAAOkkD,qBAAqD,gBAAtBwyD,WAC3CA,EAAW3xG,MAAQ0vD,qBAAmBC,SAASgiD,EAAW3xG,OAC1DsiH,EAAU/7F,GAAaorF,EAAW3xG,WAhClC0xG,aAAwB+Q,oBAA6C,IAAzB/Q,EAAa0O,QACzDkC,EAAU/7F,IAAa,EAGvB+7F,EAAU/7F,IAAa,MAf6E,CACxG,GAAIngB,GAAOw9B,EAAOz9B,KAAKC,IACH,iBAATA,IACPA,EAAOwrG,YAAUxrG,EAAMiwB,QACvBisF,EAAU/7F,GAAangB,EAAKsrG,EAAcC,EAAW3xG,QAGrDsiH,EAAU/7F,GAAaqd,EAAOz9B,KAAKC,KAAKsrG,EAAcC,EAAW3xG,SAyC7EW,KAAKsmB,SACAo7F,GACD1hH,KAAK+hH,yBAAyB/hH,KAAKqsG,aAAcrsG,KAAK6iC,SAE1DmI,EAAShoC,WAAWg/G,qBAAqBL,EAAW3hH,KAAK6iC,SAAS,KAG1E2oE,EAAW/qG,UAAUshH,yBAA2B,SAAUj/C,EAAYC,GAClE/iE,KAAK1F,OAAO8J,eAAe,YAAa0+D,EAAWtkE,gBAAgB1D,UAAWioE,EAASvkE,iBAAiB,GACxGwB,KAAK1F,OAAO8J,eAAe,UAAW0+D,EAAWtkE,gBAAgBzD,QAASgoE,EAASvkE,iBAAiB,GACpGwB,KAAK1F,OAAO8J,eAAe,WAAY0+D,EAAWtkE,gBAAgBxD,SAAU+nE,EAASvkE,iBAAiB,GACtGwB,KAAK1F,OAAO8J,eAAe,eAAgB0+D,EAAWtkE,gBAAgB2F,aAAc4+D,EAASvkE,iBAAiB,GAC9GwB,KAAK1F,OAAO8J,eAAe,OAAQ0+D,EAAWtkE,gBAAgBqS,KAAMkyD,EAASvkE,iBAAiB,GAC9FwB,KAAK1F,OAAO8J,eAAe,OAAQ0+D,EAAWtkE,gBAAgBwgB,SAAU+jD,EAASvkE,iBAAiB,GAClGwB,KAAK1F,OAAO8J,eAAe,WAAY0+D,EAAWtkE,gBAAgBwgB,SAAU+jD,EAASvkE,iBAAiB,GACtGwB,KAAK1F,OAAO8J,eAAe,gBAAiB0+D,EAAWtkE,gBAAgBkrD,cAAeqZ,EAASvkE,iBAAiB,GAChHwB,KAAK1F,OAAO8J,eAAe,eAAgB0+D,EAAWtkE,gBAAgBia,aAAcsqD,EAASvkE,iBAAiB,GACzG3D,oBAAkBmF,KAAK1F,OAAOmE,WAAW3D,YAC1CkF,KAAK1F,OAAO+J,cAAcC,kBAAkBy+D,EAAU,aAErDloE,oBAAkBmF,KAAK1F,OAAOmE,WAAW1D,UAC1CiF,KAAK1F,OAAO+J,cAAcC,kBAAkBy+D,EAAU,WAErDloE,oBAAkBmF,KAAK1F,OAAOmE,WAAWzD,YAC1CgF,KAAK1F,OAAO+J,cAAcC,kBAAkBy+D,EAAU,YACtD/iE,KAAK1F,OAAO8J,eAAe,eAAgB0+D,EAAWtkE,gBAAgB2F,aAAcnE,KAAK6iC,SAAS,GACpD,IAA1C7iC,KAAK6iC,QAAQrkC,gBAAgBxD,SAC7BgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAM2+D,EAASvkE,iBAAiB,GAG1EwB,KAAK1F,OAAO8J,eAAe,eAAe,EAAOpE,KAAK6iC,QAAQrkC,iBAAiB,IAGlF3D,oBAAkBmF,KAAK1F,OAAOmE,WAAWoS,OAC1C7Q,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAK6iC,QAAS,QAEzDhoC,oBAAkBmF,KAAK1F,OAAOmE,WAAWod,SAC1C7b,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAK6iC,QAAS,UAEzDhoC,oBAAkBmF,KAAK1F,OAAOmE,WAAW2R,OAC1CpQ,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAK6iC,QAAS,QAEzDhoC,oBAAkBmF,KAAK1F,OAAOmE,WAAWga,eAC1CzY,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAK6iC,QAAS,iBAGlE2oE,EAAW/qG,UAAUwhH,kBAAoB,SAAUlH,EAASmH,GAGxD,IAAK,GAFDC,GAAQpH,EAAQ1iG,KAAK1P,MAAM,KAC3BugC,EAAU,GACLprC,EAAI,EAAGA,EAAIqkH,EAAMxmH,OAAQmC,IAE9B,GADAorC,EAAsB,KAAZA,EAAiBi5E,EAAMrkH,GAAKorC,EAAU,IAAMi5E,EAAMrkH,IAC1B,IAA9BokH,EAAQp1G,QAAQo8B,GAChB,OAAQA,EAGhB,WAEJsiE,EAAW/qG,UAAUigH,qBAAuB,SAAU0B,GAClD,GAAIjH,GAAUiH,EAAWr8G,cAAc,EACnCo1G,GAAQ70F,QACR60F,EAAQt7E,SAQZ,KAAK,GAND3kC,GAAaigH,EAAQjgH,WACrBmoE,KACAg/C,KACAtuB,EAAoB,GACpBh/E,KACAqnB,KACKt+B,EAAI,EAAGA,EAAI5C,EAAWS,OAAQmC,IAAK,CACxC,GAAIi9G,GAAU7/G,EAAW4C,GACrBwkH,EAActiH,KAAKiiH,kBAAkBlH,EAAS/6G,KAAK1F,OAAOya,IAI9D,KAHIla,oBAAkBkgH,EAAQxgH,KAAQwgH,EAAQxgH,KAAO+nH,EAAY,KAAOznH,oBAAkBynH,EAAY,OAClGvH,EAAQxgH,GAAK+nH,EAAY,KAEI,IAA7BvtG,EAAIjI,QAAQiuG,EAAQxgH,IAAY,CAChC,GAA6B,gBAAzByF,KAAK1F,OAAOyd,SAA4B,CACxC,GAAIgjB,GAAgB/6B,KAAK1F,OAAOyO,SAAU/I,KAAK1F,OAAOya,IAAIjI,QAAQiuG,EAAQxgH,IACtEwgC,GAActe,kBAA4D,IAAzC2f,EAAatvB,QAAQiuB,IACtDqB,EAAa99B,KAAKy8B,GAG1B,GAAIwnF,GAASxH,EAAQxgH,GAAKwgH,EAAQ3qG,IAC9B2qG,GAAQ/rG,SAA2C,IAAjC+rG,EAAQ/rG,OAAOlC,QAAQ,KACzCy1G,GAAUxH,EAAQ/rG,OAGlBuzG,GAAW,IAAMxH,EAAQ/rG,OAE7Bq0D,EAAgB/kE,KAAKikH,GACrBxtG,EAAIzW,KAAKy8G,EAAQxgH,KAGrByF,KAAKsmB,QACD+8C,EAAgB1nE,OAAS,GACzB0mH,EAAYriH,KAAK1F,OAAO+e,kBAAkB8oD,qBAAqBkB,EAAgBp9C,KAAK,KAAMjmB,KAAK6iC,SAC/F7iC,KAAK1F,OAAO8J,eAAe,cAAei+G,EAAWriH,KAAK6iC,QAAQrkC,iBAAiB,GACnFu1F,EAAoB/zF,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0BpiE,KAAK6iC,WAGjFw/E,KACAriH,KAAK1F,OAAO8J,eAAe,cAAei+G,EAAWriH,KAAK6iC,QAAQrkC,iBAAiB,GACnFu1F,EAAoB,IAEpB/zF,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,IACvFqE,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAqB,iBAAIygC,EACxG,KAAtB23D,IAA8Bl5F,oBAAkBmF,KAAK6iC,QAAQrkC,gBAAgB6d,mBAAqBrc,KAAK6iC,QAAQrkC,gBAAgB6d,mBAAqB03E,GAAuB/zF,KAAK+gH,eAChL/gH,KAAK+gH,aAAc,IAG3B/gH,KAAK1F,OAAO8J,eAAe,mBAAoB2vF,EAAmB/zF,KAAK6iC,QAAQrkC,iBAAiB,GAChGwB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmB/zF,KAAK6iC,SACpG7iC,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmB/zF,KAAK6iC,SACtF7iC,KAAK1F,OAAO+e,kBAAkBgpD,4BAA4BriE,KAAK6iC,UAG/D7iC,KAAKkkD,YAAYlkD,KAAK1F,OAAOmE,WAAW2a,YAAciqD,EAAgB1nE,OAAS,EAAI0nE,EAAgBp9C,KAAK,KAAO,IAGvHulF,EAAW/qG,UAAUmgH,kBAAoB,SAAU4B,GAC/C,GAAIvxG,GAAQjR,KACRy+G,EAAc+D,EAAgBz8G,cAAc,EAC5C04G,IACAA,EAAYltF,KAAKsO,SAErB,IAAIy9E,GAAgBt9G,KAAKue,cACzB++F,GAAchrG,QAAQ,SAAUI,GACmB,OAA3CA,EAAKzB,EAAM3W,OAAO8d,eAAexL,QACjC8F,EAAKzB,EAAM3W,OAAO8d,eAAexL,MAAQ,KAGpB,iBAAzB5M,KAAK1F,OAAOyd,UAAgCld,oBAAkBmF,KAAK6iC,QAAQrkC,mBACvE+Y,KAAKE,UAAUzX,KAAKue,kBAAoBhH,KAAKE,UAAUzX,KAAK6iC,QAAQrkC,gBAAgBia,eACpFzY,KAAKu5F,kBAAmB,EACxBv5F,KAAKm5F,iBAAoBt+F,oBAAkBmF,KAAK6iC,QAAQrkC,gBAAgBia,iBAAgBzY,KAAK6iC,QAAQrkC,gBAAgBia,aAAapK,SAGlIrO,KAAKu5F,kBAAmB,EAGhC,IAAI2oB,KACJ,IAAIliH,KAAKsmB,OAAQ,CAKb,IAJKtmB,KAAK6iC,QAAQrkC,gBAAgBia,cAAgB6kG,EAAc3hH,SAAWqE,KAAK6iC,QAAQrkC,gBAAgBia,aAAa9c,QAChHd,oBAAkBmF,KAAK6iC,QAAQrkC,gBAAgBia,eAAiB6kG,EAAc3hH,OAAS,KACxFqE,KAAK+gH,aAAc,IAElB/gH,KAAK+gH,YACN,IAASjjH,EAAI,EAAGA,EAAIw/G,EAAc3hH,OAAQmC,IACtC,GAAIyZ,KAAKE,UAAU6lG,EAAcx/G,MAC7ByZ,KAAKE,UAAUzX,KAAK6iC,QAAQrkC,gBAAgBia,aAAa3a,IAAK,CAC9DkC,KAAK+gH,aAAc,CACnB,OAIZ/gH,KAAK1F,OAAO8J,eAAe,eAAgBk5G,EAAet9G,KAAKqsG,aAAa7tG,iBAAiB,GAC7FwB,KAAK1F,OAAO+J,cAAcC,kBAAkBtE,KAAKqsG,aAAc,gBAC/DrsG,KAAK1F,OAAO0I,WAAW21F,4BAA4B34F,KAAKqsG,aAAc,YACtErsG,KAAK82G,iBAAiB92G,KAAKqsG,cAC3BrsG,KAAK+hH,yBAAyB/hH,KAAKqsG,aAAcrsG,KAAK6iC,aAErD,CACD,IAAK,GAAI/kC,GAAI,EAAGA,EAAIw/G,EAAc3hH,OAAQmC,IACtCokH,EAAQ5jH,KAAKg/G,EAAcx/G,GAAGkC,KAAK1F,OAAO8d,eAAe7d,KACzDyF,KAAKonB,kBAAmB,CAE5BpnB,MAAKkkD,YAAYlkD,KAAK1F,OAAOmE,WAAWga,cAAgBypG,IAGhE1W,EAAW/qG,UAAUkgH,eAAiB,SAAU8B,GAC5C,GAAIz3E,GAAWhrC,KAAK1F,OAChBooH,EAAMD,EAAa18G,cAAc,EACjC/F,MAAKsmB,QACA0kB,EAAS5lC,cAAc4lC,EAASvsC,WAAW+c,OAAO2qC,mBAO/CnmD,KAAK6iC,QAAQrkC,gBAAgBgd,QAAUknG,EAAIC,WAAqD,OAAvC3iH,KAAK6iC,QAAQrkC,gBAAgBgd,OAAoC,KAAlBknG,EAAIC,WAAsB3iH,KAAK+gH,cACvI/gH,KAAK+gH,aAAc,GAEnB2B,EAAIE,UAAUl7F,SAAS,QACvB1nB,KAAK1F,OAAO8J,eAAe,QAASs+G,EAAIE,UAAW5iH,KAAK6iC,QAAQrkC,iBAAiB,GAGjFwB,KAAK1F,OAAO8J,eAAe,QAASs+G,EAAIC,UAAW3iH,KAAK6iC,QAAQrkC,iBAAiB,KAbjFwB,KAAK6iC,QAAQrkC,gBAAgBgd,QAAUknG,EAAIE,WAAqD,OAAvC5iH,KAAK6iC,QAAQrkC,gBAAgBgd,OAAoC,gBAAlBknG,EAAIE,WAAiC5iH,KAAK+gH,cAClJ/gH,KAAK+gH,aAAc,GAEvB/gH,KAAK1F,OAAO8J,eAAe,QAASs+G,EAAIE,UAAW5iH,KAAK6iC,QAAQrkC,iBAAiB,IAarFwsC,EAAS3mC,cAAcC,kBAAkBtE,KAAK6iC,QAAS,UAGlDmI,EAAS5lC,cAAc4lC,EAASvsC,WAAW+c,OAAO2qC,kBAInDnmD,KAAKkkD,YAAYlkD,KAAK1F,OAAOmE,WAAW+c,OAASknG,EAAIC,UAHrD3iH,KAAKkkD,YAAYlkD,KAAK1F,OAAOmE,WAAW+c,OAASknG,EAAIE,WAOjEpX,EAAW/qG,UAAUogH,gBAAkB,SAAUgC,GAC7C7iH,KAAKygH,iBAAiBoC,GAAe,IAElCrX,KCl6GP7gE,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAW5Bg4E,GAAmC,WACnC,QAASA,GAAkB93E,GAIvBhrC,KAAK+iH,sBAAwB,KAE7B/iH,KAAKgjH,yBAA2B,KAEhChjH,KAAK69F,iBAAmB,KAExB79F,KAAK0uB,YAAc,KACnB1uB,KAAKijH,eACLjjH,KAAKkjH,sBACLljH,KAAKmjH,0BAA2B,EAChCnjH,KAAK1F,OAAS0wC,EACdhrC,KAAKuhE,mBAAqBvhE,KAAK1F,OAAOoE,qBACtCsB,KAAK1F,OAAOma,GAAG,sBAAuBzU,KAAKojH,gCAAiCpjH,MAkoChF,MAznCA8iH,GAAkBriH,UAAU4hC,+BAAiC,SAAUjsB,GACnE,GAAItQ,GAAU9F,KAAKqjH,6BAA6BjtG,EAAEkpB,OAC7C5/B,YAAS,iDAAkDM,KAAK1F,SACjE0F,KAAKsjH,+BAA+Bx9G,IAU5Cg9G,EAAkBriH,UAAU4iH,6BAA+B,SAAU/jF,GACjE,GAAIikF,GAAWrpH,EAAaolC,ErC8CN,oBqC7ClBkkF,EAAUtpH,EAAaolC,ErCgDH,0BqC/CpBmkF,EAAiBvpH,EAAaolC,ErC6CJ,mBqC5C1BokF,EAAkBxpH,EAAaolC,ErC6CJ,wBqC5C/B,OAAIikF,IAAYC,GAAWC,GAAkBC,EAClCxpH,EAAaolC,ErCuCI,8BqCpCjB,MAUfwjF,EAAkBriH,UAAU6iH,+BAAiC,SAAUx9G,GAC/DA,EACIA,IAAY9F,KAAK2jH,uBACjB3jH,KAAK4jH,kBACL5jH,KAAK6jH,aAAa/9G,IAItB9F,KAAK4jH,mBAUbd,EAAkBriH,UAAUojH,aAAe,SAAU/9G,GACjD9F,KAAK2jH,qBAAuB79G,CAC5B,IAAIg+G,GAAch+G,EAAQD,cAAc,oBACpCi+G,IACAA,EAAYxtF,aAAa,gBAAiBt2B,KAAK1F,OAAOm5B,oBAAgC,WAAI,GAAGx1B,aASrG6kH,EAAkBriH,UAAUmjH,gBAAkB,WAC1C,GAAI5jH,KAAK2jH,qBAAsB,CAC3B,GAAIG,GAAc9jH,KAAK2jH,qBAAqB99G,cAAc,oBACtDi+G,IACAA,EAAYxtF,aAAa,eAAiBt2B,KAAK1F,OAAOm5B,+BAAmCx1B,YAE7F+B,KAAK2jH,qBAAuB,OAUpCb,EAAkBriH,UAAUsjH,6BAA+B,SAAUrmH,GAQjE,IAAK,GAPDsd,GACAhG,EACAixD,EACA74C,EACAw6C,EACAo8C,EAAQ,GAAItuE,KACZuuE,EAAejsF,SAASksF,yBACnBxhH,EAAQ,EAAGA,EAAQhF,EAAQ/B,OAAQ+G,IAGxC,GAFAsY,EAActd,EAAQgF,GACtBsS,EAAyBgG,EAAYxc,gBAAgBsd,YAIrD,IAAK,GAAI4rD,GAAmB,EAAGA,EAAmB1yD,EAAuBrZ,OAAQ+rE,IAAoB,CACjG,GAAI5rD,GAAc9G,EAAuB0yD,GAGrCK,EAAkB,SAAWjsD,EAAgB,KAAI,QAAUA,EAAc,EAI7E,IAHA9b,KAAK1F,OAAOm5B,oBAAoBi+C,wBAAwB3J,GACxD9B,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAgB,MAClFsR,EAAmBptB,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAc,MACzE9b,KAAK1F,OAAOqgB,wBAA2BsrD,GAAqBA,EAAkB/mD,UAC/EkO,GAAoBA,EAAiBlO,WACrClf,KAAK1F,OAAOqgB,wBAA0BsrD,GAAqB74C,MAC5Dw6C,EAAe5nE,KAAK1F,OAAO+e,kBAAkBsuD,0BAA0B1B,EAAmB74C,EAAkBtR,IACvGjhB,oBAAkB+sE,KAAkBo8C,EAAM5tE,IAAIwxB,EAAaG,kBAAkB,CAC9E,GAAIo8C,GAAcnkH,KAAK1F,OAAOm5B,oBAAoBs4C,yBAAyBnE,EAC3Eo8C,GAAM3yF,IAAIu2C,EAAaG,iBACvBk8C,EAAavsF,YAAYysF,IAKzC,MAAOF,IASXnB,EAAkBriH,UAAUkxD,iCAAmC,SAAU06C,GACrErsG,KAAK1F,OAAOm5B,oBAAoBi+B,6BAA6B1xD,KAAK1F,OAAO8uE,iBACzEppE,KAAK1F,OAAOm5B,oBAAoBuK,gBAAkBh+B,KAAK1F,OAAOy5B,qBAAuB/zB,KAAK1F,OAAOgd,qBAC7FtX,KAAK1F,OAAOua,eAAiB7U,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOua,eAC5E,IAAIuvG,GAAyBpkH,KAAK+jH,6BAA6B1X,EAC3D+X,IACApkH,KAAK1F,OAAOm5B,oBAAoB4C,UAAUqB,YAAY0sF,IAG9DtB,EAAkBriH,UAAU4jH,kBAAoB,SAAU7yC,GAKtD,IAAK,GAJD8yC,GAAW9yC,EAAI7oE,MAAM,KACrB47G,KACA93G,KACAC,KACKjB,EAAI,EAAGA,EAAI64G,EAAS3oH,OAAQ8P,IAAK,CACtC,GAAI+4G,MACAphD,MAAY,GACZG,GAAU,EACVF,MAAkB,GAClBC,GAAS,EACTE,EAAQ,gFACRC,EAAU6gD,EAAS74G,GAAG9C,MAAM,KAC5BpO,MAAK,EAWT,IAVuB,IAAnBkpE,EAAQ9nE,SACR8nE,EAAQ,GAAKA,EAAQ,GAAK,IAAMA,EAAQ,GACxCA,EAAQtM,OAEW,IAAnBsM,EAAQ9nE,QAAgB8nE,EAAQ,GAAG9nE,QAAU,KAC7CpB,EAAK+pH,EAAS74G,GAAGurD,UAAU,EAAG,IAC1BwM,EAAMphD,KAAK7nB,KACX+oE,GAAS,IAGbghD,EAAS74G,GAAGic,SAAS,KAAM,CAC3B,GAAI48F,EAAS74G,GAAGic,SAAS,OAAS48F,EAAS74G,GAAGic,SAAS,SAAW48F,EAAS74G,GAAGic,SAAS,QAAS,CAC5F,GAAI+8F,GAAYH,EAAS74G,GAAG9C,MAAM,UAC9B87G,GAAU9oH,OAAS,IACnB0nE,EAAkBohD,EAAUA,EAAU9oH,OAAS,IAGvD,GAAI2oH,EAAS74G,GAAGic,SAAS,MAAQ,WAAWtF,KAAKihD,GAAkB,CAC/D,GAAIU,GAAUugD,EAAS74G,GAAGqB,QAAQu2D,IACjB,IAAbU,IACAX,EAAYkhD,EAAS74G,GAAGurD,UAAU,EAAG+M,EAAU,IACjCr8C,SAAS,OACnB67C,GAAU,IAK1B,GAAID,EAAQ,CACR,GAAI36D,OAAQ,GAERq7D,MAAe,EACE,MAFrBr7D,EAAQ86D,EAAQ,GAAG96D,MAAM,MAEfhN,OACN8Q,EAAO,GAAK63G,EAAS74G,IAGrBu4D,EAAer7D,EAAM,GAAGhN,OACxB8Q,EAAO,GAAK63G,EAAS74G,GAAG4C,MAAM,IAAK21D,EAAe,IAClDv3D,EAAO,GAAK9D,EAAM,IAElB86D,EAAQ,GAAG32D,QAAQ,MAAQ,IAEN,KADrBnE,EAAQ86D,EAAQ,GAAG96D,MAAM,MACfhN,OACN8Q,EAAO,GAAK63G,EAAS74G,IAGrBu4D,EAAer7D,EAAM,GAAGhN,OACxB8Q,EAAO,GAAK63G,EAAS74G,GAAG4C,MAAM,IAAK21D,EAAe,IAClDv3D,EAAO,GAAK9D,EAAM,SAKtB46D,IAAWH,EAAU17C,SAAS,KAC9Bjb,EAAO,GAAK22D,GAGZ32D,EAAS63G,EAAS74G,GAAG9C,MAAM,KACvB27G,EAAS74G,GAAGqB,QAAQ,MAAQ,IAC5BL,EAAS63G,EAAS74G,GAAG9C,MAAM,MAIlC9N,qBAAkB4R,EAAO,OAEM,KADG,iBAAzBzM,KAAK1F,OAAOyd,SAA8B/X,KAAK1F,OAAOkf,aAAexZ,KAAK1F,OAAOya,KACnFjI,QAAQL,EAAO,KACa,IAA5BA,EAAO,GAAGK,QAAQ,MAEG,KADrBJ,EAAQD,EAAO,GAAG9D,MAAM,MACdhN,SACN+Q,EAAQD,EAAO,GAAGC,MAAM,kBAE5B83G,EAASlmH,KAAKoO,EAAM,KAGK,IAArBD,EAAO,GAAG9Q,QAAqC,IAArB8Q,EAAO,GAAG9Q,OACpC6oH,EAASlmH,KAAKmO,EAAO,IAGrB+3G,EAASlmH,KAAKmO,EAAO,GAAG4B,MAAM,GAAI,IAK1Cm2G,EAASlmH,KAAKmO,EAAO,KAG7B83G,EAAWjmH,KAAMkmH,EAASv+F,KAAK,KAEnC,MAAOs+F,IAEXzB,EAAkBriH,UAAUikH,sBAAwB,SAAU5oG,EAAavd,GAIvE,IAAK,GAFD40F,GACAp4D,EAFA+qC,EAAWvnE,EAAOsb,YAGbnX,EAAQ,EAAGA,EAAQoZ,EAAYngB,OAAQ+G,IAAS,CACrDywF,EAAYr3E,EAAYpZ,EACxB,IAAIiiH,KACwB7oG,GAAYzN,MAAM,GACxBga,OAAO3lB,EAAO,EAiCpC,KAhCA,GA+BI6V,GAASvY,KACQ,OAAdmzF,GAAoB,CACvB,GAAIyxB,GAjCM,WACV,GAAIC,KACJ,QAA2C,IAAvCF,EAAe73G,QAAQqmF,GA0BhB,QAxBHt4F,oBAAkB0d,EAAOje,OAAOm5B,oBAAoByH,cAAci4D,KACzD9zF,OAAO,IAEpB07B,EAAgBxiB,EAAOje,OAAOm5B,oBAAoByH,cAAci4D,GAAW30F,iBACtE3D,oBAAkBkgC,EAAcjf,cAAgBif,EAAcjf,YAAYngB,OAAS,GACpFo/B,EAAcjf,YAAYxJ,QAAQ,SAAUjT,GACpC07B,EAAclhB,YAAY5b,aAAeoB,EAAM0C,MAC/C8iH,EAAevmH,KAAKe,EAAM0C,KAAK9D,cAKvC6nE,EAAS7nE,aAAe88B,EAAclhB,YAAY5b,aAA+D,IAAjD4mH,EAAe/3G,QAAQg5D,EAAS7nE,aACvFoB,OAAO,IAEpBslH,EAAermH,KAAK60F,IACft4F,oBAAkBkgC,EAAcjf,cAAgBif,EAAcjf,YAAYngB,OAAS,OACpFw3F,EAAYp4D,EAAcjf,YAAY,GAAG/Z,MAGlC,YAUf,IAAuB,gBAAZ6iH,GACP,MAAOA,GAAQvlH,KACnB,IAAgB,UAAZulH,EACA,OAGZ,OAAO,GAUX9B,EAAkBriH,UAAUyqG,4BAA8B,SAAUlwF,EAAa+4E,GAC7E,GAGI+wB,GACA3xB,EAJA4xB,GAAO,EACPj/C,EAAoC,iBAAzB9lE,KAAK1F,OAAOyd,SAA8BiD,EAAYxc,gBAAgBkX,OAC/EsF,EAAYxc,gBAAgBqb,WAGlC,KAAKhf,oBAAkBk5F,IAAsBA,EAAkBp4F,OAAS,EAAG,CACvEmpH,EAAqB9kH,KAAKqkH,kBAAkBtwB,EA4F5C,KAAK,GADDx6E,GAASvZ,KACJ0C,EAAQ,EAAGA,EAAQoiH,EAAmBnpH,OAAQ+G,IAAS,CAC5D,GAAIsiH,GA5FM,SAAUtiH,GAEpB,GAAK6W,EAAOjf,OAAOqgB,uBAOf,GAAI3c,SAAS8mH,EAAmBA,EAAmBnpH,OAAS,GAAI,MAAQqf,EAAYzB,EAAOjf,OAAOmE,WAAWlE,IAAK,CAC9G,GAAIgO,GAAMgR,EAAOjf,OAAOya,IAAIjI,QAAQg4G,EAAmBA,EAAmBnpH,OAAS,IAC/EmnE,EAAavpD,EAAOjf,OAAOwX,gBAAgBvJ,EAC3Cu6D,IAAc9nD,IACd+pG,EAAOxrG,EAAOjf,OAAO+e,kBAAkBwpD,0BAA0BC,EAAY9nD,SATrF,KADkBzB,EAAO0rG,oBAAoBjqG,EAAa8pG,GAEtD,OAASzlH,OAAO,EAaxB,IACI6lH,MACAC,GAAY,CAShB,IAXkBL,EAAmBz2G,MAAM,GAG/BiE,QAAQ,SAAUjT,IACS,IAA/B6lH,EAAWp4G,QAAQzN,GACnB6lH,EAAW5mH,KAAKe,GAGhB8lH,GAAY,KAGfA,EACD,OAAS9lH,OAAO,EAGpB8zF,GAAY2xB,EAAmBpiH,EAC/B,IAAIiiH,KACwBG,GAAmBz2G,MAAM,GAC/Bga,OAAO3lB,EAAO,EA8CpC,MAAqB,OAAdywF,GAAoB,CACvB,GAAIiyB,GA9CM,WACV,GACIC,GACAtqF,EAFA8pF,IAGJ,KAA2C,IAAvCF,EAAe73G,QAAQqmF,GAsCvB,MAAO,OApCP,IAAIt4F,oBAAkB0e,EAAOjf,OAAOm5B,oBAAoByH,cAAci4D,EAAUl1F,aAC5E,OAASoB,OAAO,EAapB,IAXA07B,EAAgBxhB,EAAOjf,OAAOm5B,oBAAoByH,cAAci4D,EAAUl1F,YAAYO,iBAEjF3D,oBAAkBkgC,EAAcjf,cAAgBif,EAAcjf,YAAYngB,OAAS,GACpFo/B,EAAcjf,YAAYxJ,QAAQ,SAAUjT,EAAOI,GAC3Cs7B,EAAclhB,YAAY5b,aAAeoB,EAAM0C,OAC/C8iH,EAAevmH,KAAKe,EAAM0C,KAAK9D,YAC/BonH,EAAiB5lH,KAKzBqmE,EAAS7nE,aAAe88B,EAAclhB,YAAY5b,aACD,IAAjD4mH,EAAe/3G,QAAQg5D,EAAS7nE,YAChC,OAASoB,OAAO,EAGpB,IADAslH,EAAermH,KAAK60F,GACft4F,oBAAkBkgC,EAAcjf,gBAAgBif,EAAcjf,YAAYngB,OAAS,GAapF,MAAO,OAZP,IAAIkC,OAAS,EAOb,OANIgnH,GAAelpH,OAAS,EACxBkC,EAAS0b,EAAOmrG,sBAAsBG,EAAgB7pG,EAAYxc,iBAEnC,IAA1BqmH,EAAelpH,SACpBw3F,EAAYp4D,EAAcjf,YAAYupG,GAAgBtjH,OAE3C,IAAXlE,GACSwB,OAAO,OADpB,KAcR,IAAuB,gBAAZ+lH,GACP,MAAOA,EACX,IAAgB,UAAZA,EACA,QAKc1iH,EACtB,IAAuB,gBAAZsiH,GACP,MAAOA,GAAQ3lH,OAG3B,MAAO0lH,IAUXjC,EAAkBriH,UAAUqzF,eAAiB,SAAU94E,EAAa+4E,GAChE,GAAIuxB,GAAwBzqH,oBAAkBmgB,EAAYxc,gBAAgB6d,mBACrB,KAAjDrB,EAAYxc,gBAAgB6d,iBAC5B03E,EAAqB/4E,EAAYxc,gBAAgB6d,iBAAmB,IAAM03E,CAC9E/zF,MAAKilE,wBAAwBjqD,EAAasqG,IAS9CxC,EAAkBriH,UAAUuzF,kBAAoB,SAAUh5E,GACtDhb,KAAKmjH,0BAA2B,EAChCnjH,KAAKilE,wBAAwBjqD,EAAa,OAW9C8nG,EAAkBriH,UAAUwzF,kBAAoB,SAAUj5E,EAAa+4E,EAAmBsD,GACtF,MAAOr3F,MAAKilE,wBAAwBjqD,EAAa+4E,EAAmBsD,IAExEyrB,EAAkBriH,UAAUwkE,wBAA0B,SAAUjqD,EAAa+4E,EAAmBsD,GAC5F,GAAIzO,cAAYmL,IAAsB/zF,KAAKkrG,4BAA4BlwF,EAAa+4E,GAAoB,CACpG/zF,KAAK1F,OAAOwkB,UAAW,CACvB,IAAIwmD,KACCzqE,qBAAkBk5F,IAA4C,KAAtBA,IACzCzuB,EAAwBtlE,KAAK1F,OAAO+e,kBAAkB8oD,qBAAqB4xB,EAAmB/4E,IAElGhb,KAAK1F,OAAO8J,eAAe,cAAekhE,EAAuBtqD,EAAYxc,iBAAiB,EAC9F,IAAI+mH,GAAcvlH,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0BpnD,EAC1Ehb,MAAK1F,OAAO8J,eAAe,mBAAoBmhH,EAAavqG,EAAYxc,iBAAiB,GACzFwB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAYmsG,EAAavqG,GACzFhb,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAYmsG,EAAavqG,EAC3E,IAAIhc,KAKJ,OAJAA,GAAK2wB,OAAS0nE,GAAcA,EAAW1nE,QAAgC,gBAAtB0nE,EAAW1nE,OAA2B0nE,EAAW1nE,OAAW3vB,KAAK1F,OAAOisB,mBAAqBvmB,KAAK1F,OAAOisB,kBAA+C,6BACrMvmB,KAAKmjH,yBAA4B,sBAAwB,oBAC7DnkH,EAAKjB,KAAOid,EACZhb,KAAK1F,OAAO0I,WAAWizF,qBAAqBj3F,IACrC,EAGHgc,EAAY7c,SAAS6B,KAAK1F,OAAOmE,WAAW2a,cAC5C4B,EAAY7c,SAAS6B,KAAK1F,OAAOmE,WAAW2a,YAAc,KAE9D,IAAI+rE,GAAM4O,EAAoB,oCAAsC/zF,KAAK1F,OAAOmE,WAAWlE,GAAK,uBAAyByF,KAAK1F,OAAOmE,WAAW2a,WAAa,mDAE7J,OADApZ,MAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO61E,KACvC,GAGf29B,EAAkBriH,UAAUwkH,oBAAsB,SAAUjqG,EAAa8pG,GACrE,GAAIU,GAAcxqG,CAElB,IAAIwqG,GAAeA,EAAYh8G,aACmD,IAA1Es7G,EAAmBh4G,QAAQ04G,EAAYh8G,WAAWkM,OAAOzX,YACzD,OAAO,CAYf,KAAK,GADD8b,GAAS/Z,KACJ0T,EAAI,EAAGA,EAAIoxG,EAAmBnpH,OAAQ+X,IAAK,CAChD,GAAI+xG,GAVM,SAAU/xG,GACpB,GAAInV,GAASwb,EAAOzf,OAAOwX,gBAAgB6H,OAAO,SAAUjH,GACxD,MAAOA,IAAQA,EAAKlU,gBAAgBqb,YAAY5b,aAAe6mH,EAAmBpxG,GAAGzV,YAEzF,IAAIM,EAAO,IAAMA,EAAO,GAAGke,gBACvB,OAASpd,OAAO,IAKEqU,EACtB,IAAuB,gBAAZ+xG,GACP,MAAOA,GAAQpmH,MAEvB,OApBkB,GAsBtByjH,EAAkBriH,UAAU2iH,gCAAkC,WAC1D,GAAIpjH,KAAK1F,OAAOmE,WAAW2a,YAAcpZ,KAAK1F,OAAOs3D,0BAA2B,CAC5E,GAAI49C,GAAgBj4E,gBAAc,OAC9Bh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,yBAEjCyF,MAAK1F,OAAOwL,QAAQ4xB,YAAY83E,GAChCxvG,KAAK0lH,2BASb5C,EAAkBriH,UAAUilH,uBAAyB,WACjD,GAAIC,GAAmB,GAAIzT,WACvB/rB,OAAQ,mBACR4oB,SAAS,EACT97E,UAAWjzB,KAAK1F,OAAO24B,UACvBk2B,SAAS,EACTpsC,MAAO,MACPkyF,eAAe,EACfzpD,MAAOxlD,KAAK4lH,sBAAsBjxG,KAAK3U,MACvC0wB,QAAS,GACTm/E,UAEQxpE,MAAOrmC,KAAK6lH,yBAAyBlxG,KAAK3U,MAC1C8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,UAAW4zE,WAAW,KAGhFl+C,MAAOrmC,KAAK8lH,6BAA6BnxG,KAAK3U,MAC9C8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,aAGlE2uB,OAAQt/B,KAAK1F,OAAOwL,QACpBgpG,mBAAqBn6B,OAAQ,SAEjC38C,UAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,yBAAyB84B,UAAY,GACtFsyF,EAAiBvwC,kBAAmB,EACpCuwC,EAAiBhmE,SAAS,IAAM3/C,KAAK1F,OAAOwL,QAAQvL,GAAK,yBACzDyF,KAAK1F,OAAOgnF,wBAA0BqkC,GAE1C7C,EAAkBriH,UAAUolH,yBAA2B,WACnD,GAAIE,GAAc/lH,KAAK1F,OAAOinF,iBAC9BwkC,GAAYC,aAAarkC,wBACrB3pD,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,4BAA4BklH,QACjFsG,EAAYC,aAAatkC,WACrB1pD,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,yBAAyBklH,QAC9EsG,EAAYC,aAAavkC,YACrBzpD,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,GAAK,qBAAqBklH,QAC1Ez/G,KAAKimH,yBACLjmH,KAAK1F,OAAOgnF,wBAAwBgR,QAExCwwB,EAAkBriH,UAAUqlH,6BAA+B,WACvD9lH,KAAK1F,OAAOinF,kBAAkBykC,aAAavkC,aAAc,EACzDzhF,KAAKimH,yBACLjmH,KAAK1F,OAAOgnF,wBAAwBgR,QAExCwwB,EAAkBriH,UAAUmlH,sBAAwB,SAAUxvG,GACtD1W,WAAS,gBAAiB0W,KAC1BpW,KAAK1F,OAAOinF,kBAAkBykC,aAAavkC,aAAc,EACzDzhF,KAAKimH,2BASbnD,EAAkBriH,UAAUwlH,uBAAyB,WACjD,GAAIjnH,GAAOgB,KAAK1F,OAAOinF,kBACnBvmE,EAAchc,EAAKjB,IACvB,IAAIiB,EAAKgnH,aAAavkC,YAClBzhF,KAAK1F,OAAO0I,WAAWmmG,0BACvBnpG,KAAK1F,OAAOkb,gBAAgBqvB,gBAAgB7lC,EAAKjB,WAEhD,IAAIiB,EAAKgnH,aAAatkC,WACvB1hF,KAAKkmH,kBAAkBlrG,GACvBhb,KAAK1F,OAAO0I,WAAWmjH,iBAAiBnnH,EAAKonH,mBAE5C,IAAIpnH,EAAKgnH,aAAarkC,wBAAyB,CAChD,GAAI0kC,EACJ,IAAIrmH,KAAK1F,OAAOsuE,0BAA2B,CACvC,GAAI09C,GAAWtrG,EAAYxc,gBAAgBkX,MACvCsF,GAAYxc,gBAAgBsd,aAC5Bd,EAAYxc,gBAAgBsd,YAAYxJ,QAAQ,SAAUwJ,GACtD,GAAIwqG,IAAaxqG,EAAY/Z,KAEzB,YADAskH,EAAoBvqG,EAAYha,MAMhD9B,KAAK1F,OAAO0I,WAAWmjH,iBAAiBnnH,EAAKonH,eAC7CpmH,KAAKumH,oBAAoBF,KAGjCvD,EAAkBriH,UAAU+lH,cAAgB,SAAUC,EAAMC,GACxD,MAAID,GAAK9qH,SAAW+qH,EAAK/qH,QAGd4b,KAAKE,UAAUgvG,KACflvG,KAAKE,UAAUivG,IAG9B5D,EAAkBriH,UAAU8lH,oBAAsB,SAAUr/F,GACxD,GAAIjW,GAAQjR,IACZ,IAAIknB,EAAU,CACV,GAAIy/F,GAAW3mH,KAAK1F,OAAO4gC,cAAchU,EACzC,IAAIy/F,GAAYA,EAASnoH,iBAAmBmoH,EAASnoH,gBAAgBsd,YAAa,CAC9E9b,KAAK1F,OAAO8nC,wBAA4C,sBACxDpiC,KAAK4mH,gBAAgBD,EACrB,IAAIE,IAAgB,EAEhB99B,EAAgB/oF,KAAKijH,YAAYt1E,KAAK,SAAUj7B,GAChD,MAAOA,GAAKnY,KAAOosH,EAASnoH,gBAAgBkX,QAEhD,IAAIqzE,EAAe,CACf,GAAIoiB,GAAmBpiB,EAAc1pF,KAChBW,MAAKwmH,cAAcrb,EAAkBwb,EAASnoH,gBAAgBsd,eAE/E+qG,GAAgB,GAGLF,EAASnoH,gBAAgBsd,YAC/BxJ,QAAQ,SAAUwJ,GACvB6qG,EAASnoH,gBAAgBkX,SAAWoG,EAAY/Z,MAAQ8kH,GACxD51G,EAAMs1G,oBAAoBzqG,EAAYha,SAM1DghH,EAAkBriH,UAAUylH,kBAAoB,SAAUlrG,GAKtD,GAJAhb,KAAK+iH,sBAAwB/nG,EAAYxc,gBAAgBsd,YACpDjhB,oBAAkBmF,KAAK+iH,wBACxB/iH,KAAK8mH,mBAAmB9rG,EAAahb,KAAK+iH,uBAE1C/nG,EAAYkC,aAAavhB,OAAS,EAClC,IAAK,GAAImC,GAAI,EAAGA,EAAIkd,EAAYkC,aAAavhB,OAAQmC,IAAK,CACtD,GAAI4wB,GAAc1T,EAAYkC,aAAapf,EAC3CkC,MAAK+iH,sBAAwBr0F,EAAYlwB,gBAAgBsd,YACpDjhB,oBAAkBmF,KAAK+iH,wBACxB/iH,KAAK8mH,mBAAmBp4F,EAAa1uB,KAAK+iH,uBAE1Cr0F,EAAYxR,aAAavhB,OAAS,GAClCqE,KAAKkmH,kBAAkBx3F,OAI9B,KAAK7zB,oBAAkBmgB,EAAYxR,YAAa,CACjD,GAAI4yB,GAAep8B,KAAK1F,OAAO4gC,cAAclgB,EAAYxR,WAAWkM,OACpE1V,MAAK+iH,sBAAwB3mF,EAAa59B,gBAAgBsd,YAC1D9b,KAAK8mH,mBAAmB1qF,EAAcp8B,KAAK+iH,yBAGnDD,EAAkBriH,UAAUygH,eAAiB,SAAUG,EAAMC,GACzD,GAAIyF,GAAQtrH,OAAOC,KAAK2lH,GAAM1nG,OAAO,SAAU/d,GAAO,MAAe,WAARA,IACzDorH,EAAQvrH,OAAOC,KAAK4lH,GAAM3nG,OAAO,SAAU/d,GAAO,MAAe,WAARA,GAC7D,OAAImrH,GAAMprH,SAAWqrH,EAAMrrH,QAGpBorH,EAAMvnD,MAAM,SAAU5jE,GAAO,MAAOylH,GAAKzlH,KAAS0lH,EAAK1lH,MAElEknH,EAAkBriH,UAAUmmH,gBAAkB,SAAUroH,EAAQ0oH,GAC5D,GAAIh2G,GAAQjR,IACZ,IAAKA,KAAK1F,OAAO2H,+BAAgCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACrFnC,KAAK1F,OAAOmE,WAAW2D,kBAG1B7D,GAAsD,OAA5C5D,EAAgB4D,EAAOC,iBAA2B,CAC5D,GAAI0oH,GAAkBhpH,YAAWK,EAAOC,gBAAgBsd,gBAAiB,GACrEqrG,EAAqBnnH,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoBrrE,EAC3E,IAAI4oH,EAAmBxrH,OAAS,EAAG,CAC/BqE,KAAKonH,6BAA+BF,CAiFpC,KAAK,GADD99F,GAASppB,KACJlC,EAAI,EAAGA,EAAIqpH,EAAmBxrH,OAAQmC,KAhFjC,SAAUA,GACpB,GAAIge,GAAcqrG,EAAmBnpH,SAASF,EAAEG,WAAY,KACxDwL,EAAa2f,EAAO9uB,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,KACzEqnB,GAAO9uB,OAAOyhB,gBAAkBqN,EAAO9uB,OAAOyhB,eAAoC,qBAAgC,gBAA3BqN,EAAO9uB,OAAOyd,UAI5E,IAHTtO,EAAWjL,gBAAgBsd,YAAYnC,OAAO,SAAU0tG,GACpE,MAAOA,GAAKtlH,OAASolH,EAAmBrpH,GAAGiE,MAAQslH,EAAKvlH,KAAOqlH,EAAmBrpH,GAAGgE,KAE3EnG,QACV8N,EAAWjL,gBAAgBsd,YAAYxd,KAAK6oH,EAAmBrpH,GAGvE,IAAIkR,OAAS,EACb,KAAKvF,EAAWjL,gBAAgB1D,WAAa2O,EAAWjL,gBAAgBzD,WACnEwD,EAAOC,gBAAgB1D,WAAayD,EAAOC,gBAAgBzD,SAAU,CACtE,GAAIkJ,OAAgB,GAChBO,MAAc,GACd8jB,MAAe,GACfg/F,MAAmB,EACvB,QAAQxrG,EAAY1L,MAChB,IAAK,KACDnM,EAAgB,GAAInH,OAAM2M,EAAWjL,gBAAgBzD,SACjD0O,EAAWjL,gBAAgB1D,WAAWoG,WAC1CsD,EAAc,GAAI1H,OAAMyB,EAAOC,gBAAgB1D,WAAayD,EAAOC,gBAAgBzD,SAASmG,UAC5F,MACJ,KAAK,KACD+C,EAAgB,GAAInH,OAAM2M,EAAWjL,gBAAgB1D,WACjD2O,EAAWjL,gBAAgBzD,SAASmG,WACxCsD,EAAc,GAAI1H,OAAMyB,EAAOC,gBAAgB1D,WAAayD,EAAOC,gBAAgBzD,SAASmG,UAC5F,MACJ,KAAK,KACD+C,EAAgB,GAAInH,OAAM2M,EAAWjL,gBAAgB1D,WACjD2O,EAAWjL,gBAAgBzD,SAASmG,WACxCsD,EAAc,GAAI1H,OAAMyB,EAAOC,gBAAgBzD,SAAWwD,EAAOC,gBAAgB1D,WAAWoG,UAC5F,MACJ,KAAK,KACD+C,EAAgB,GAAInH,OAAM2M,EAAWjL,gBAAgBzD,SACjD0O,EAAWjL,gBAAgB1D,WAAWoG,WAC1CsD,EAAc,GAAI1H,OAAMyB,EAAOC,gBAAgBzD,SAAWwD,EAAOC,gBAAgB1D,WAAWoG,WAGpG,GAAI+C,EAAc/C,UAAYsD,EAAYtD,UACtC+C,EAAgBmlB,EAAOm4C,mBAAmBzgE,eAAemD,GACzDO,EAAc4kB,EAAOm4C,mBAAmBx+D,aAAayB,EAAa,MAClE8iH,GAAmB,MAElB,CACD,GAAI9kH,GAAW,GAAI1F,MAAKmH,EAAc/C,UACtC+C,GAAgBmlB,EAAOm4C,mBAAmBzgE,eAAe0D,GACzDA,EAAc4kB,EAAOm4C,mBAAmBx+D,aAAaP,EAAU,MAC/D8kH,GAAmB,EAEnBrjH,EAAc/C,UAAYsD,EAAYtD,WACtConB,EAAec,EAAOm4C,mBAAmBr8D,YAAYjB,EAAeO,EAAasX,EAAYimD,YAAY,GAAM,GAC3G34C,EAAO9uB,OAAO6J,eAAiB2X,EAAYimD,aACzCt4D,EAAWjL,gBAAgB1D,WAAaD,oBAAkB4O,EAAWjL,gBAAgBzD,UAClFF,oBAAkB4O,EAAWjL,gBAAgB1D,YAAc2O,EAAWjL,gBAAgBzD,WAC3FutB,GAA8B,GAElCtZ,EAASs4G,GAAoC,EAAhBh/F,EAAqBA,GAGlDtZ,EAAS,MAIbA,GAAS,CAEb,IAAIu4G,GAAWnoH,EAAS0c,EAAa,OAAQorG,EAAiB,OAC5C,IAAdK,IACAL,EAAgBK,GAAUv4G,OAASA,EAGvC,IAAImyD,GAAqBjjE,YAAWuL,EAAWjL,gBAAgBsd,gBAAiB,GAC5E0rG,EAAiBpoH,EAAS0c,EAAa,OAAQqlD,EAAoB,OAC/C,IAApBqmD,IACArmD,EAAmBqmD,GAAgBx4G,OAASA,GAEhDoa,EAAO9uB,OAAO8J,eAAe,cAAe+8D,EAAoB13D,EAAWjL,iBAAiB,IAIpFV,OAGX,CACD,GAAI2pH,GAAqBlpH,EAAOC,gBAAgBsd,WAC5C2rG,IACIA,EAAmB9rH,OAAS,GAC5B8rH,EAAmBn1G,QAAQ,SAAUxM,IACqB,IAAlDmL,EAAMiyG,mBAAmBp2G,QAAQhH,EAAQhE,MACX,iBAA1BmP,EAAM3W,OAAOyd,UACb9G,EAAMiyG,mBAAmB5kH,KAAKwH,EAAQhE,IACtCmP,EAAM21G,gBAAgB31G,EAAM3W,OAAO4gC,cAAejqB,EAAM3W,OAAOga,QAAQxH,QAAQ,IAAMhH,EAAQhE,IAAK7D,aAAa,IAG/GgT,EAAM21G,gBAAgB31G,EAAM3W,OAAO4gC,cAAcp1B,EAAQhE,KAAK,MAOtF,GAAKmlH,EAcDjnH,KAAK1F,OAAO8J,eAAe,cAAe8iH,EAAiB3oH,EAAOC,iBAAiB,OAVnF,IAHkC,IAA9B2oH,EAAmBxrH,SACnBqE,KAAKonH,iCAELF,GAAmBA,EAAgBvrH,OAAS,GAAKqE,KAAKonH,8BACtDpnH,KAAKonH,6BAA6BzrH,OAAS,EAAG,CAC9C,GAAI+rH,GAAkBR,EAAgB3xG,IAAI,SAAUoyG,GAChD,GAAI5+B,GAAgB93E,EAAMm2G,6BAA6Bz5E,KAAK,SAAUtyC,GAAO,MAAO4V,GAAMiwG,eAAe7lH,EAAKssH,IAC9G,OAAO5+B,GAAgBp+C,MAAao+C,GAAiB,OACtDpvE,OAAO,SAAUovE,GAAiB,MAAyB,QAAlBA,GAC5C/oF,MAAK1F,OAAO8J,eAAe,cAAesjH,EAAiBnpH,EAAOC,iBAAiB,GAM3F,GAAIu1F,GAAoB/zF,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0B7jE,EAOhF,IANAyB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmBx1F,GAC/FyB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmBx1F,GACjFyB,KAAK1F,OAAO8J,eAAe,mBAAoB2vF,EAAmBx1F,EAAOC,iBAAiB,IACP,IAA/EwB,KAAKkjH,mBAAmBp2G,QAAQvO,EAAOC,gBAAgBkX,OAAOzX,aAC9D+B,KAAKkjH,mBAAmB5kH,KAAKC,EAAOC,gBAAgBkX,OAAOzX,YAE3DM,EAAOke,gBACP,IAAS3e,EAAI,EAAGA,EAAIS,EAAO2e,aAAavhB,OAAQmC,KACuD,IAA/FkC,KAAKkjH,mBAAmBp2G,QAAQvO,EAAO2e,aAAapf,GAAGU,gBAAgBkX,OAAOzX,aAC9EM,EAAO2e,aAAapf,GAAGU,gBAAgBsd,aACvCvd,EAAO2e,aAAapf,GAAGU,gBAAgBsd,YAAYngB,OAAS,GAC5DqE,KAAK4mH,gBAAgBroH,EAAO2e,aAAapf,QAIhD,IAAIS,EAAOiL,WAAY,CACxB,GAAIA,GAAaxJ,KAAK1F,OAAO4gC,cAAc38B,EAAOiL,WAAWkM,SAC0B,IAAnF1V,KAAKkjH,mBAAmBp2G,QAAQtD,EAAWhL,gBAAgBkX,OAAOzX,aAClEuL,EAAWhL,gBAAgBsd,aAAetS,EAAWhL,gBAAgBsd,YAAYngB,OAAS,GAC1FqE,KAAK4mH,gBAAgBp9G,MAYrCs5G,EAAkBriH,UAAUqmH,mBAAqB,SAAU9rG,EAAac,GACpE,GAAIorG,GAAkBhpH,eAAe8c,EAAYxc,gBAAgBsd,aAAa,EAC9E,KAAIjhB,oBAAkBihB,GAAtB,CAIA,IAAK,GADD8rG,GAAY9rG,EAAYngB,OACnBmC,EAAI,EAAGA,EAAI8pH,EAAW9pH,IAAK,CAChC,GAAImoE,GAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYhe,GAAGiE,MACjF8lH,EAAoB3pH,eAAe+nE,EAAkBznE,gBAAgBsd,aAAa,GAClFrc,EAAQL,EAAS0c,EAAYhe,GAAI,OAAQopH,EAAiB,KAC9DA,GAAgB7+F,OAAO5oB,EAAO,EAC9B,IAAIigE,GAActgE,EAAS0c,EAAY9d,SAASF,EAAEG,WAAY,KAAM,OAAQ4pH,EAAmB,KAC/FA,GAAkBx/F,OAAOq3C,EAAa,GACtC1/D,KAAK1F,OAAO8J,eAAe,cAAeyjH,EAAmB5hD,EAAkBznE,iBAAiB,GAEpG,GAAI0oH,EAAgBvrH,SAAWqf,EAAYxc,gBAAgBsd,YAAYngB,OAAQ,CAC3EqE,KAAK1F,OAAO8J,eAAe,cAAe8iH,EAAiBlsG,EAAYxc,iBAAiB,EACxF,IAAIu1F,GAAoB/zF,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0BpnD,EAChFhb,MAAK1F,OAAO8J,eAAe,mBAAoB2vF,EAAmB/4E,EAAYxc,iBAAiB,GAC/FwB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmB/4E,GAC/Fhb,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmB/4E,MAUzF8nG,EAAkBriH,UAAUqnH,qBAAuB,SAAU9oH,GACzD,GAAI+oH,GAAkB/nH,KAAKgoH,yBAAyBhpH,EACpDgB,MAAK1F,OAAOgnF,wBAAwB3pE,eAAgB+Y,QAASq3F,IAC7D/nH,KAAK1F,OAAOgnF,wBAAwBic,QASxCulB,EAAkBriH,UAAUunH,yBAA2B,SAAUhpH,GAC7D,GAWIipH,GAXAvR,EAAU12G,KAAK1F,OAAOwL,QAAQvL,GAC9B2tH,EAAa3wF,gBAAc,OAC3BC,UAAW,wBAEXr5B,EAAWuB,WAAS,OAAQV,GAC5BmpH,EAAiBzoH,WAAS,aAAcV,GACxCopH,EAAgB1oH,WAAS,gBAAiBV,GAC1CqpH,EAAalqH,EAASK,gBAAgByoB,SACtCqhG,EAAqBtoH,KAAK1F,OAAOsN,gBAAgBzJ,EAASK,gBAAgB1D,UAAWkF,KAAK1F,OAAOqoF,YAEjG4lC,GAAcF,EADDF,EAAe3pH,gBAAgByoB,SAG1B,8BAAlBmhG,EACAH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,4BAE5B,4BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,2BAE5B,6BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,4BAE5B,4BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,2BAE5B,6BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,4BAE5B,4BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,2BAE5B,6BAAlBy3G,EACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,4BAE5B,4BAAlBy3G,IACLH,EAAiBjoH,KAAK1F,OAAOoW,UAAUC,YAAY,2BAGvD,IAAI63G,GAAa,YAAc9R,EAAU,qBADzCuR,EAAiBnpH,EAAampH,EAAgBM,IACkC,QAC5EE,EAAa,0CACwB/R,EAAU,iEAC7CA,EAAU,2BAA6BA,EAAU,gGACdA,EAAU,6DAC7CA,EAAU,8BAAgCA,EAAU,4CACpD2R,EAAa,uBAAyBC,EAAqB,0DACxB5R,EAAU,gEAC7CA,EAAU,iCAAmCA,EAAU,8BACvD2R,EAAa,uBAAyBC,EAAqB,mDAEjE,OADAJ,GAAW70F,UAAYm1F,EAAaC,EAC7BP,GAUXpF,EAAkBriH,UAAUioH,cAAgB,SAAU1tG,EAAajd,GAC/D,GACIkoE,GADAnqD,EAAc9b,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoB5uD,EAEpEhb,MAAK+iH,wBACL,IAAI4F,GACAC,EACAC,EACA/tH,EAAYkF,KAAK1F,OAAO+e,kBAAkBqtD,mBAAmB1rD,EAAac,EAE1E8sG,GADA7qH,EACgBA,EAAKS,gBAGLwc,EAAYxc,eAKhC,KAAK,GAHDzD,GAAUiF,KAAK1F,OAAOiP,uBAAyB1O,oBAAkBC,GACjE8tH,EAAc7tH,QACdiF,KAAKuhE,mBAAmB18D,WAAW/J,EAAW8tH,EAAc5tH,SAAU4tH,EAAczkH,aAAcykH,GAAe,GAC5G9qH,EAAI,EAAGA,EAAIge,EAAYngB,OAAQmC,IAAK,CACzCmoE,EAAoBjmE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYhe,GAAGiE,KACjF,IAAIqmH,GAAgB,IACpB,IAA4B,OAAxBtsG,EAAYhe,GAAGsS,KACmK,IAA9KpQ,KAAK1F,OAAOoE,qBAAqBwG,YAAYpK,EAAW8tH,EAAc9tH,UAAWkF,KAAK1F,OAAO6J,aAAcykH,EAAcjoH,eAAgBioH,EAAcpnH,aAAa,KAChKonH,EAAc9tH,UAAYA,GAC1BkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAEXQ,EAAc9tH,UAAYA,IAC/BkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,gCAIvB,IAA4B,OAAxBtsG,EAAYhe,GAAGsS,KAAe,CACnC,GAAI04G,GAAc,GAAIhsH,MAAK8rH,EAAc7tH,SACrCguH,EAAgB,GAAIjsH,MAAKhC,EACzB8tH,GAAc9tH,UAAYA,GAC1BkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAEXQ,EAAc9tH,UAAYA,GAC/BkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,2BAEXpoH,KAAK1F,OAAOiP,uBACjB1O,oBAAkB+tH,EAAc9tH,YAChCD,oBAAkB+tH,EAAc5tH,WAChC8tH,EAAYhmH,SAAS,EAAG,EAAG,EAAG,GAAKimH,EAAcjmH,SAAS,EAAG,EAAG,EAAG,IACnE9C,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAEXpoH,KAAK1F,OAAOiP,uBACjB1O,oBAAkB+tH,EAAc9tH,YAChCD,oBAAkB+tH,EAAc5tH,WAChC8tH,EAAYhmH,SAAS,EAAG,EAAG,EAAG,GAAKimH,EAAcjmH,SAAS,EAAG,EAAG,EAAG,KACnE9C,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,+BAGS,OAAxBtsG,EAAYhe,GAAGsS,KACwN,IAAxOpQ,KAAK1F,OAAOoE,qBAAqBwG,YAAYpK,EAAWmrE,EAAkBznE,gBAAgBzD,QAASiF,KAAK1F,OAAO6J,aAAc8hE,EAAkBznE,gBAAgBmC,eAAgBslE,EAAkBznE,gBAAgBgD,aAAa,KAC1NzG,GAAWkrE,EAAkBznE,gBAAgBzD,SAC7CiF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAEXrtH,EAAUkrE,EAAkBznE,gBAAgBzD,UACjDiF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAIK,OAAxBtsG,EAAYhe,GAAGsS,MACwN,IAAxOpQ,KAAK1F,OAAOoE,qBAAqBwG,YAAY+gE,EAAkBznE,gBAAgB1D,UAAWC,EAASiF,KAAK1F,OAAO6J,aAAc8hE,EAAkBznE,gBAAgBmC,eAAgBslE,EAAkBznE,gBAAgBgD,aAAa,KAC1NzG,EAAUkrE,EAAkBznE,gBAAgB1D,WAC5CkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,4BAEXrtH,GAAWkrE,EAAkBznE,gBAAgB1D,YAClDkF,KAAK+iH,sBAAsBzkH,KAAKwd,EAAY9d,SAASF,EAAEG,WAAY,MACnEmqH,EAAgB,6BAIvBvtH,oBAAkButH,IAAkBvtH,oBAAkBguH,KACvDF,EAAiB1iD,EACjB4iD,EAAcT,GAQtB,OAJI3+G,WAAYk/G,EACZp2G,KAAMyI,EACNotG,cAAeS,IAWvB/F,EAAkBriH,UAAUuoH,qBAAuB,SAAUjrH,GACzD,GAAIkrH,GAAWjpH,KAAK1F,OAAO8uE,gBAAgBrrE,EAAKuL,UAC5C4/G,EAAiBnrH,EAAKS,gBAAgBsd,YAAYzN,OAEtD,IAAI46G,GAAYA,EAASzqH,iBAAmByqH,EAASzqH,gBAAgBmV,eAAe,eAAgB,CAChG,GAAIw1G,GAAoBF,EAASzqH,gBAAgBsd,WACjD,KAAKjhB,oBAAkBsuH,GA8BnB,IAAK,GADDr6F,GAAS9uB,KACJ0T,EAAI,EAAGA,EAAIy1G,EAAkBxtH,OAAQ+X,KA7BhC,SAAUA,GACpB,GAAIuyD,GAAoBn3C,EAAOx0B,OAAOm5B,oBAAoByH,cAAciuF,EAAkBnrH,SAAS0V,EAAEzV,WAAY,KAAK8D,KACtH,IAAIkkE,IAAsBloE,EAIC,IAHTA,EAAKS,gBAAgBsd,YAAYnC,OAAO,SAAU0tG,GAC5D,MAAO8B,GAAkBz1G,GAAG3R,OAASslH,EAAKtlH,MAAQonH,EAAkBz1G,GAAG5R,KAAOulH,EAAKvlH,KAE3EnG,SACJoC,EAAKyL,YAAcslB,EAAOx0B,OAAOmE,WAAW2a,YAAcrb,EAAKS,gBAAgBsd,aAC/EgT,EAAOx0B,OAAOqgB,sBACVwuG,EAAkBz1G,GAAG3R,OAAShE,EAAKyL,WAAWkM,QAC9CyzG,EAAkBz1G,GAAG5R,KAAO/D,EAAKyL,WAAWkM,QAC5C3X,EAAKS,gBAAgBsd,YAAYxd,KAAK6qH,EAAkBnrH,SAAS0V,EAAEzV,WAAY,MAInFF,EAAKS,gBAAgBsd,YAAYxd,KAAK6qH,EAAkBnrH,SAAS0V,EAAEzV,WAAY,WAItF,CACD,GAAI4pH,GAAoB3pH,eAAe+nE,EAAkBznE,gBAAgBsd,aAAa,GAClF4jD,EAActgE,EAAS+pH,EAAkBnrH,SAAS0V,EAAEzV,WAAY,KAAM,OAAQ4pH,EAAmB,OAChF,IAAjBnoD,IACAmoD,EAAkBx/F,OAAOq3C,EAAa,GACtC5wC,EAAOx0B,OAAO8J,eAAe,cAAeyjH,EAAmB5hD,EAAkBznE,iBAAiB,MAMlGkV,EAGhB,KAAK7Y,oBAAkBquH,GAanB,IAAK,GADDE,GAASppH,KACJ6qC,EAAI,EAAGA,EAAIq+E,EAAevtH,OAAQkvC,KAZ7B,SAAUA,GACpB,GAAIo7B,GAAoBmjD,EAAO9uH,OAAOm5B,oBAAoByH,cAAcguF,EAAelrH,SAAS6sC,EAAE5sC,WAAY,KAAK8D,MAC/G8lH,EAAoB3pH,eAAe+nE,EAAkBznE,gBAAgBsd,aAAa,EAI/D,KAHT+rG,EAAkBluG,OAAO,SAAU0tG,GAC7C,MAAO6B,GAAer+E,GAAG9oC,OAASslH,EAAKtlH,MAAQmnH,EAAer+E,GAAG/oC,KAAOulH,EAAKvlH,KAErEnG,SACRksH,EAAkBvpH,KAAK4qH,EAAelrH,SAAS6sC,EAAE5sC,WAAY,MAC7DmrH,EAAO9uH,OAAO8J,eAAe,cAAeyjH,EAAmB5hD,EAAkBznE,iBAAiB,KAK9FqsC,KAaxBi4E,EAAkBriH,UAAU4oH,yBAA2B,SAAU36F,EAAajvB,GAC1E,GAAIO,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,oBAAG,CAC9E/b,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAI20C,KACJA,GAAgB,OAAI,mBACpBA,EAAyB,gBAAIxyD,aAAYwwB,OAAkB,GAC3D1uB,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+0D,EAElH,GAAI+V,GAAmB/3C,EAAYlwB,gBAAgBsd,YAC/CA,EAAc2qD,EAAiBp+C,OAAO5oB,EAAO,GAE7CooH,EADe7nH,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY,GAAG/Z,MAC3CvD,gBAAgBsd,YACjD4jD,EAActgE,EAAS0c,EAAY,GAAI,OAAQ+rG,EAAmB,KACtEA,GAAkBx/F,OAAOq3C,EAAa,EACtC,IAAIq0B,GAAoB/zF,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0B1zC,EAChF+3C,GAAiBnoE,KAAKwd,EAAY,IAClC9b,KAAK1F,OAAO8nC,wBAAwB6xD,kBAAkBvlE,EAAaqlE,IAQvE+uB,EAAkBriH,UAAUq9F,qCAAuC,WAC/D99F,KAAKgjH,yBAA2B,GAAI9Q,WAChCn1F,MAAO,QACPgyF,SAAS,EACT97E,UAAWjzB,KAAK1F,OAAO24B,UACvBvC,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,4BAC3Ck/F,UAEQxpE,MAAOrmC,KAAKspH,sBAAsB30G,KAAK3U,MACvC8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,UAAW4zE,WAAW,KAGhFl+C,MAAOrmC,KAAKupH,mBAAmB50G,KAAK3U,MACpC8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,aAGlE2uB,OAAQt/B,KAAK1F,OAAOwL,QACpBgpG,mBAAqBn6B,OAAQ,SAEjC,IAAI60C,GAAgBjyF,gBAAc,OAC9Bh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,mCAEjCyF,MAAK1F,OAAOwL,QAAQ4xB,YAAY8xF,GAChCxpH,KAAKgjH,yBAAyB5tC,kBAAmB,EACjDp1E,KAAKgjH,yBAAyBrjE,SAAS6pE,IAE3C1G,EAAkBriH,UAAU8oH,mBAAqB,WAC7CvpH,KAAKgjH,yBAAyB7rF,WAElC2rF,EAAkBriH,UAAU6oH,sBAAwB,WAChDtpH,KAAKqpH,yBAAyBrpH,KAAK0uB,YAAa1uB,KAAK69F,kBACrD79F,KAAKgjH,yBAAyB7rF,WAE3B2rF,KCvqCPn4E,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAgB5BgsD,GAAsB,WACtB,QAASA,GAAKx8F,GAmCV,GAlCA0F,KAAKypH,oBAAqB,EAC1BzpH,KAAK0pH,mBACL1pH,KAAK2pH,kBAAmB,EACxB3pH,KAAK4pH,yBAA0B,EAC/B5pH,KAAK6pH,aAAc,EACnB7pH,KAAK+jD,iBACL/jD,KAAK8pH,UAAW,EAEhB9pH,KAAK+pH,uBAEL/pH,KAAKgqH,eAAgB,EACrBhqH,KAAKwpH,cAAgB,KACrBxpH,KAAKiqH,cAAe,EACpBjqH,KAAKkqH,oBAAqB,EAC1BlqH,KAAKmqH,aAAc,EAInBnqH,KAAKunE,sBACLvnE,KAAK1F,OAASA,EACd0F,KAAK1F,OAAO+e,kBAAkB6vD,uBAC1BlpE,KAAK1F,OAAO4kC,aAAaU,cAAkD,SAAlC5/B,KAAK1F,OAAO4kC,aAAa6P,OAClE/uC,KAAKsF,eAAiB,GAAIkxF,IAASx2F,KAAK1F,SAExC0F,KAAK1F,OAAOmE,WAAW2a,aACvBpZ,KAAK1F,OAAO8nC,wBAA0B,GAAI0gF,IAAkB9iH,KAAK1F,UAEjE0F,KAAK1F,OAAO4kC,aAAa68C,aAAgB/7E,KAAK1F,OAAO4kC,aAAaU,eAC/B,WAAlC5/B,KAAK1F,OAAO4kC,aAAa6P,MAAuD,SAAlC/uC,KAAK1F,OAAO4kC,aAAa6P,SACxE/uC,KAAK2F,aAAe,GAAI6lG,IAAWxrG,KAAK1F,SAExC0F,KAAK1F,OAAO4kC,aAAaC,sBACzBn/B,KAAKiD,kBAAoB,GAAIg4F,IAAYj7F,KAAK1F,SAE9C0F,KAAK1F,OAAO4kC,aAAaulD,cAAe,CACxC,GAAI+kC,GAAgBjyF,gBAAc,OAC9Bh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,wBAEjCyF,MAAK1F,OAAOwL,QAAQ4xB,YAAY8xF,GAChCxpH,KAAKoqH,4BAETpqH,KAAK1F,OAAO4H,SAASshC,kBAAoBxjC,KAAKwjC,kBAAkB7uB,KAAK3U,MACrEA,KAAK1F,OAAO4H,SAASg9B,aAAa68C,YAAc/7E,KAAK1F,OAAO4kC,aAAa68C,YACzE/7E,KAAK1F,OAAO4H,SAASg9B,aAAaulD,cAAgBzkF,KAAK1F,OAAO4kC,aAAaulD,cAC3EzkF,KAAK1F,OAAO4H,SAASg9B,aAAawlD,wBAA0B1kF,KAAK1F,OAAO4kC,aAAawlD,wBACrF1kF,KAAK1F,OAAO4H,SAASg9B,aAAasJ,iBAAmBxoC,KAAK1F,OAAO4kC,aAAasJ,iBACxC,WAAlCxoC,KAAK1F,OAAO4kC,aAAa6P,MACzBsP,WAASw4C,OAAOonB,QAEpBj+G,KAAKqqH,6BA4mJT,MA1mJAvzB,GAAKr2F,UAAU+9E,cAAgB,WAC3B,MAAO,QAOXsY,EAAKr2F,UAAU4pH,2BAA6B,WAGxC,IAAK,GAFDC,IAAuBtqH,KAAK1F,OAAOmE,WAAWlE,GAAIyF,KAAK1F,OAAOmE,WAAW8c,SAAUvb,KAAK1F,OAAOmE,WAAWga,aAC1GzY,KAAK1F,OAAOmE,WAAW2R,KAAM,YACxBtS,EAAI,EAAGA,EAAIwsH,EAAoB3uH,OAAQmC,IAC5C,IAAKjD,oBAAkByvH,EAAoBxsH,KAAOwsH,EAAoBxsH,GAAGnC,OAAS,EAAG,CACjF,GAAIsnC,GAASjjC,KAAK1F,OAAOu6F,iBAAiBy1B,EAAoBtsH,SAASF,EAAEG,WAAY,KAAM+B,KAAK1F,OAAOs7D,eAAelX,gBAClHzb,KACIA,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWlE,GACxCyF,KAAKuqH,yBAAyBtnF,GAEzBA,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW8c,UAAY1gB,oBAAkBooC,EAAOz9B,MAClFxF,KAAKwqH,8BAA8BvnF,GAE9BA,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAWga,aAC7CzY,KAAKyqH,2BAA2BxnF,GAE3BA,EAAO9nB,QAAUnb,KAAK1F,OAAOmE,WAAW2R,MAAyB,aAAjB6yB,EAAO9nB,OAC5Dnb,KAAK0qH,2BAA2BznF,MAYpD6zD,EAAKr2F,UAAU8pH,yBAA2B,SAAUtnF,GAChD,GAAI0nF,IACAr8G,IAAK,EACLs8G,SAAU,EACV33F,UAAWjzB,KAAK1F,OAAO24B,UACvB43F,uBAAuB,EACvB36G,OAAQ,KACR46G,gBAAgB,EAEpB9qH,MAAK+qH,iBAAiB9nF,EAAQ0nF,IAQlC7zB,EAAKr2F,UAAU+pH,8BAAgC,SAAUvnF,GACrD,GAAI0nF,IACAr8G,IAAK,EACL2kB,UAAWjzB,KAAK1F,OAAO24B,UACvB23F,SAAU,EACVC,uBAAuB,EACvB5uE,IAAK,IACL/rC,OAAQ,KAEZlQ,MAAK+qH,iBAAiB9nF,EAAQ0nF,IASlC7zB,EAAKr2F,UAAUsqH,iBAAmB,SAAU9nF,EAAQ0nF,GAC5C9vH,oBAAkBooC,EAAOz9B,OACzBy9B,EAAOz9B,QACPy9B,EAAOz9B,KAAK8gD,WAEPzrD,oBAAkBooC,EAAOz9B,KAAK8gD,UACnCrjB,EAAOz9B,KAAK8gD,WAEhBpoD,SAAOysH,EAAW1nF,EAAOz9B,KAAK8gD,QAC9BrjB,EAAOz9B,KAAK8gD,OAASqkE,EACH3qH,KAAK1F,OAAOu6F,iBAAiB5xD,EAAO9nB,MAAOnb,KAAK1F,OAAO4gB,cAC7D1V,KAAOy9B,EAAOz9B,MAQ9BsxF,EAAKr2F,UAAUgqH,2BAA6B,SAAUxnF,GAElD,GADAjjC,KAAK1F,OAAOs7D,eAAezS,kBACvBnjD,KAAK1F,OAAO4kC,aAAaU,cAAgB/kC,oBAAkBooC,EAAOz9B,OAA2C,SAAlCxF,KAAK1F,OAAO4kC,aAAa6P,KAAiB,CACrH9L,EAAO2iB,SAAW,eAClB3iB,EAAOz9B,KAAOxF,KAAKgrH,mBACnB,IAAI1hE,GAActpD,KAAK1F,OAAOu6F,iBAAiB5xD,EAAO9nB,MAAOnb,KAAK1F,OAAO4gB,aACzEouC,GAAY1D,SAAW,eACvB0D,EAAY9jD,KAAOy9B,EAAOz9B,OAQlCsxF,EAAKr2F,UAAUuqH,kBAAoB,WAC/B,GAGIC,GAHAh6G,EAAQjR,KACR6lB,EAAmB7lB,KAAK1F,OAAO8d,eAC/B8yG,IAuCJ,OArCAC,eAAYt0B,OAAOu0B,qBACnBF,EAAW7jE,MAAQ,SAAUroD,GACzBiS,EAAM3W,OAAOs7D,eAAezS,mBAC5B8nE,EAAS,GAAIE,gBACTjwH,WAAY,GAAIC,eAAY8V,EAAM3W,OAAO0d,WACzCqoC,QAAU6G,KAAMrhC,EAAiBxN,KAAMhZ,MAAOwmB,EAAiBtrB,IAC/D04B,UAAWhiB,EAAM3W,OAAO24B,UACxB8b,KAAM,WACNs8E,kBAAkB,EAClBjkE,YAAa,QACbkkE,cAAe,IACfjsH,MAAO4R,EAAM3W,OAAOs7D,eAAe/M,eAAe7pD,EAAK6jC,YAEpD8c,SAAS3gD,EAAK8G,UAEzBolH,EAAWzlH,KAAO,SAAUK,GACxB,GAAIzG,GAAQyG,EAAQC,cAAc,GAAG1G,MACjC0mB,IACAlrB,qBAAkBwE,KAClBA,KAEJ,KAAK,GAAIvB,GAAI,EAAGA,EAAIuB,EAAM1D,OAAQmC,IAC9B,IAAK,GAAI2N,GAAI,EAAGA,EAAIwF,EAAM3W,OAAO0d,UAAUrc,OAAQ8P,IAC/C,GAAIwF,EAAM3W,OAAO0d,UAAUvM,GAAGoa,EAAiBtrB,MAAQ8E,EAAMvB,GAAI,CAC7DioB,EAAcznB,KAAK2S,EAAM3W,OAAO0d,UAAUvM,GAAGoa,EAAiBxN,MAC9D,OAKZ,MADApH,GAAM3W,OAAOs7D,eAAezS,eAAelyC,EAAM3W,OAAOmE,WAAWga,cAAgBpZ,EAC5E0mB,EAAcE,KAAK,MAE9BilG,EAAW/zF,QAAU,WACb8zF,GACAA,EAAO9zF,WAGR+zF,GAQXp0B,EAAKr2F,UAAUiqH,2BAA6B,SAAUznF,GAClD,GAAIjjC,KAAK1F,OAAO4kC,aAAaU,cAAgB/kC,oBAAkBooC,EAAOz9B,OAA2C,SAAlCxF,KAAK1F,OAAO4kC,aAAa6P,KAAiB,CACrH9L,EAAO2iB,SAAW,eAClB3iB,EAAOz9B,KAAOxF,KAAKurH,mBACnB,IAAIjiE,GAActpD,KAAK1F,OAAOu6F,iBAAiB5xD,EAAO9nB,MAAOnb,KAAK1F,OAAO4gB,aACzEouC,GAAY1D,SAAW,eACvB0D,EAAY9jD,KAAOy9B,EAAOz9B,OAQlCsxF,EAAKr2F,UAAU8qH,kBAAoB,WAC/B,GAEIN,GAFAh6G,EAAQjR,KACRkrH,KAEA/e,IAAWwJ,GAAM,EAAGC,MAAS,cAAiBD,GAAM,EAAGC,MAAS,cAAiBD,GAAM,EAAGC,MAAS,iBAuBvG,OAtBAsV,GAAW7jE,MAAQ,SAAUroD,GACzBiS,EAAM3W,OAAOs7D,eAAezS,mBAC5B8nE,EAAS,GAAIve,iBACTxxG,WAAY,GAAIC,eAAYgxG,GAC5Bl5E,UAAWhiB,EAAM3W,OAAO24B,UACxBotB,QAAUhhD,MAAO,SACjB+nD,YAAa,QACb/nD,MAAOK,WAAS,WAAYV,EAAK6jC,QAAQrkC,oBAEtCmhD,SAAS3gD,EAAK8G,UAEzBolH,EAAWzlH,KAAO,SAAUK,GACxB,GAAIzG,GAAQyG,EAAQC,cAAc,GAAG1G,MACjCzD,EAAMqV,EAAM3W,OAAOmE,WAAW2R,MAAQ,UAE1C,OADAa,GAAM3W,OAAOs7D,eAAezS,eAAevnD,GAAOyD,EAC3CA,GAEX6rH,EAAW/zF,QAAU,WACb8zF,GACAA,EAAO9zF,WAGR+zF,GAMXp0B,EAAKr2F,UAAUypF,oBAAsB,WACjC,GAAIhrD,GAAel/B,KAAK1F,OAAO4kC,YAwB/B,IAvBIA,EAAaU,cACT5/B,KAAK1F,OAAO0I,WAAWsC,gBAAwC,WAAtB45B,EAAa6P,MACtD/uC,KAAKsF,eAAe6xB,UACpBn3B,KAAK1F,OAAO4H,SAASshC,kBAAoBxjC,KAAKwjC,kBAAkB7uB,KAAK3U,OAEhEnF,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,iBAAyC,SAAtB45B,EAAa6P,OAC9E/uC,KAAKsF,eAAiB,GAAIkxF,IAASx2F,KAAK1F,SAExC0F,KAAK1F,OAAO0I,WAAW2C,cAAsC,SAAtBu5B,EAAa6P,KACpD/uC,KAAK1F,OAAO4H,SAASshC,sBAAoB77B,GAEpC9M,oBAAkBmF,KAAK1F,OAAO0I,WAAW2C,gBAC9C3F,KAAK2F,aAAe,GAAI6lG,IAAWxrG,KAAK1F,WAIxC0F,KAAKsF,gBACLtF,KAAKsF,eAAe6xB,UAEpBn3B,KAAK2F,cACL3F,KAAK2F,aAAawxB,WAGtB+H,EAAaulD,eAAiBvlD,EAAawlD,yBAC3C,GAAI7pF,oBAAkBmF,KAAKwpH,eAAgB,CACvC,GAAIA,GAAgBjyF,gBAAc,OAC9Bh9B,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,wBAEjCyF,MAAK1F,OAAOwL,QAAQ4xB,YAAY8xF,GAChCxpH,KAAKoqH,iCAGHlrF,GAAaulD,eAAkBvlD,EAAawlD,yBAC9C1kF,KAAKwpH,gBAAkBxpH,KAAKwpH,cAAc9qF,aAC1C1+B,KAAKwpH,cAAcryF,SAGvB+H,GAAaC,oBACTtkC,oBAAkBmF,KAAK1F,OAAO0I,WAAWC,qBACzCjD,KAAKiD,kBAAoB,GAAIg4F,IAAYj7F,KAAK1F,SAI9C0F,KAAKiD,mBACLjD,KAAKiD,kBAAkBk0B,WAInC2/D,EAAKr2F,UAAU+iC,kBAAoB,SAAUxkC,GACzC,GAAIgB,KAAK1F,OAAO4kC,aAAaU,cAAkD,WAAlC5/B,KAAK1F,OAAO4kC,aAAa6P,KAAmB,CACrF,GAAI/qC,OAAY,EAChB,IAAIhF,EAAKiiC,IAAK,CACV,GAAI/E,GAAWx8B,WAAS,WAAYV,EAAKiiC,IACzCj9B,GAAYhE,KAAK1F,OAAOwX,gBAAgBoqB,GAEvCrhC,oBAAkBmJ,IACnBhE,KAAK2F,aAAauuF,eAAelwF,GAGzChE,KAAK1F,OAAOmqB,iBAAiB+e,kBAAkBxkC,IAMnD83F,EAAKr2F,UAAU02B,QAAU,WACjBn3B,KAAKsF,gBACLtF,KAAKsF,eAAe6xB,UAEpBn3B,KAAKiD,mBACLjD,KAAKiD,kBAAkBk0B,UAEvBn3B,KAAK2F,cACL3F,KAAK2F,aAAawxB,UAElBn3B,KAAKwpH,gBAAkBxpH,KAAKwpH,cAAc9qF,aAC1C1+B,KAAKwpH,cAAcryF,WAS3B2/D,EAAKr2F,UAAUgiE,iBAAmB,SAAU1kE,GACxC,GAAIkT,GAAQjR,IAKZ,IAJIA,KAAK1F,OAAOmkD,qBAAuBz+C,KAAK1F,OAAO4kC,aAAaU,cAC5D5/B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,GAClFqE,KAAK1F,OAAO4H,SAAS29B,WAEpB7/B,KAAK1F,OAAOy8F,SAAU,CACvB,GAAIhuE,GAAQ/oB,KAAK1F,OAAOmE,UACxB,IAAI5D,oBAAkBkD,IAASlD,oBAAkBkD,EAAKgrB,EAAMxuB,KACxD,MAEJ,IAAIyJ,GAAqC,iBAAzBhE,KAAK1F,OAAOyd,SACxB/X,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAM/O,EAAKgrB,EAAMxuB,MAAQyF,KAAK1F,OAAO4gC,cAAcn9B,EAAKgrB,EAAMxuB,IAMxH,IALKM,oBAAkBmJ,EAAU+kB,EAAM9jB,cACA,IAA/BjB,EAAU+kB,EAAM9jB,aAChBjB,EAAU+kB,EAAM9jB,YAAa,GAGjCjF,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAA8B,sBAAE,SAAW0J,EAAW,CAC/IhE,KAAK1F,OAAOyhB,eAAqC,sBACjD,IAAI20C,KACJA,GAAqB,YAAM1wD,KAAK1F,OAAOisB,mBAAqBvmB,KAAK1F,OAAOisB,kBAAkB7T,KAAQ1S,KAAK1F,OAAOisB,kBAAkB7T,KAAO,eACvIg+C,EAAyB,gBAAIxyD,aAAY8F,OAAgB,GACzDhE,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+0D,EAElH,IAAK71D,oBAAkBmF,KAAK1F,OAAO0I,aAAegB,EAAW,CAGzD,GAFAhE,KAAK1F,OAAOwkB,UAAW,EACvB9e,KAAKgiH,qBAAqBjkH,EAAMiG,GAAW,GACvChE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBAAG,CACjF,GAA6B,gBAAzB/b,KAAK1F,OAAOyd,UAA8Bha,EAAsB,gBAAE+d,YA6BlE,IAAK,GADDvD,GAASvY,KACJlC,EAAI,EAAGA,EAAIC,EAAsB,gBAAE+d,YAAYngB,QAEpC,UA9BN,SAAUmC,GACpB,GAAIgkB,GAAU9d,EAAUxF,gBAAgBsd,YAAYnC,OAAO,SAAU0tG,GAUjE,MATKA,GAAKtlH,OAAShE,EAAsB,gBAAE+d,YAAYhe,GAAGiE,MACtDslH,EAAKvlH,KAAO/D,EAAsB,gBAAE+d,YAAYhe,GAAGgE,IAChD/D,EAAsB,gBAAE+d,YAAYhe,GAAGkR,SAAWq4G,EAAKr4G,SAC7CiC,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOya,IAAIjI,QAAQu6G,EAAKvlH,KACxCtD,gBAAgBsd,YAAYnC,OAAO,SAAU0tG,GAClE,MAAQA,GAAKtlH,OAAShE,EAAsB,gBAAE+d,YAAYhe,GAAGiE,MAAQslH,EAAKvlH,KAAO/D,EAAsB,gBAAE+d,YAAYhe,GAAGgE,KAEhH,GAAGkN,OAASjR,EAAsB,gBAAE+d,YAAYhe,GAAGkR,QAE5Dq4G,EAAKtlH,OAAShE,EAAsB,gBAAE+d,YAAYhe,GAAGiE,MAAQslH,EAAKtlH,OAAShE,EAAsB,gBAAE+d,YAAYhe,GAAGgE,IAE7H,IAAIggB,EAAQnmB,OAAS,EAAG,CACpB,IAAK,GAAI8P,GAAI,EAAGA,EAAIqW,EAAQnmB,OAAQ8P,IAEhC,IAAK,GADDlN,GAASga,EAAOje,OAAOyO,SAASwP,EAAOje,OAAOya,IAAIjI,QAAQgV,EAAQrW,GAAG1J,OAChEmgB,EAAI,EAAGA,EAAI3jB,EAAOC,gBAAgBsd,YAAYngB,OAAQumB,IAC3D,GAAI3jB,EAAOC,gBAAgBsd,YAAYoG,GAAGngB,OAAS+f,EAAQrW,GAAG1J,MAC1DxD,EAAOC,gBAAgBsd,YAAYoG,GAAGpgB,KAAOggB,EAAQrW,GAAG3J,GAAI,CAC5DvD,EAAOC,gBAAgBsd,YAAYuM,OAAOnG,EAAG,EAC7C,OAIZ,MAAO,UAKWpkB,GADsCA,SAM/D,KAAKC,EAAsB,gBAAE+d,aAAe9X,EAAUxF,gBAAgBsd,YACvE,IAAShe,EAAI,EAAGA,EAAIkG,EAAUxF,gBAAgBsd,YAAYngB,OAAQmC,IAAK,CACnE,GAAIvD,OAAK,EAELA,GADAyJ,EAAUxF,gBAAgBkX,OAAOzX,aAAe+F,EAAUxF,gBAAgBsd,YAAYhe,GAAGiE,KACpFiC,EAAUxF,gBAAgBsd,YAAYhe,GAAGgE,GAGzCkC,EAAUxF,gBAAgBsd,YAAYhe,GAAGiE,IAGlD,KAAK,GADDwf,GAAYvhB,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQvS,IACpDkR,EAAI,EAAGA,EAAI8V,EAAU/iB,gBAAgBsd,YAAYngB,OAAQ8P,IAC1D8V,EAAU/iB,gBAAgBsd,YAAYrQ,GAAG1J,OACzCiC,EAAUxF,gBAAgBsd,YAAYhe,GAAGiE,MACzCwf,EAAU/iB,gBAAgBsd,YAAYrQ,GAAG3J,KACrCkC,EAAUxF,gBAAgBsd,YAAYhe,GAAGgE,IAC7Cyf,EAAU/iB,gBAAgBsd,YAAYuM,OAAO5c,EAAG,GAKhEzH,EAAUxF,gBAAgBia,aAAe1a,EAAsB,gBAAE0a,aAEjE1a,EAAKiC,KAAK1F,OAAOmE,WAAWga,gBACe,IAAvCzU,EAAUxF,gBAAgBxD,UACc,cAAvCgJ,EAAUxF,gBAAgBwgB,WAA4Bhf,KAAK1F,OAA6B,sBACzF0F,KAAK1F,OAAO+J,cAAciW,uBAAuBtW,GAEhDhE,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAChF/b,KAAK24F,4BAA4B30F,EAAW,YAEhDhE,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBP,GAEtD,IAAItI,GAAOD,OAAOC,KAAKqC,EAMvB,KALuC,IAAnCrC,EAAKoR,QAAQic,EAAMjuB,aAAsD,IAAjCY,EAAKoR,QAAQic,EAAMhuB,WACzB,IAAlCW,EAAKoR,QAAQic,EAAM/tB,WACnBgF,KAAK1F,OAAO+J,cAAc8X,yBAAyBnY,EAAWA,EAAU7F,UAAU,GAEtF6B,KAAK1F,OAAO+J,cAAcwW,gBAAgB7W,GACrC4kF,cAAY7qF,EAAKiC,KAAK1F,OAAOmE,WAAW2a,cACzCrb,EAAKiC,KAAK1F,OAAOmE,WAAW2a,cAAgBpV,EAAUxF,gBAAgB6d,iBAGrE,CACD,GAAIrd,KACJA,GAAKjB,KAAOiG,EACiB,iBAAzBhE,KAAK1F,OAAOyd,WACZ/Y,EAAK2wB,OAAS,gBAElB3vB,KAAK1F,OAAO0I,WAAWizF,qBAAqBj3F,OAR5CgB,MAAK1F,OAAO8nC,wBAAwB6xD,kBAAkBjwF,EAAWjG,EAAKiC,KAAK1F,OAAOmE,WAAW2a,gBAqB7G09E,EAAKr2F,UAAUuhH,qBAAuB,SAAUjkH,EAAMiG,EAAWwI,GAM7D,IAAK,GALDw+B,GAAWhrC,KAAK1F,OAChByuB,EAAQiiB,EAASvsC,WACjB+sH,EAAqBpwH,EAAW4vC,EAAS3lC,eACzComH,KACAC,GAAyB,EACpBnwH,EAAK,EAAGwQ,EAAKtQ,OAAOC,KAAKqC,GAAOxC,EAAKwQ,EAAGpQ,OAAQJ,IAAM,CAC3D,GAAIK,GAAMmQ,EAAGxQ,EACb,IAAIwtB,EAAMjuB,YAAcc,GAAOmtB,EAAMhuB,UAAYa,GAAOmtB,EAAM/tB,WAAaY,EAAK,CAC5E,GAAIf,oBAAkBkD,EAAK,GAAKnC,MAAUovC,EAASzhC,sBAC/C,QAEJ,IAAIoiH,GAAa3nH,EAAUxF,gBACvBotH,EAAgB7iG,EAAM/tB,WAAaY,CACvC,IAAI4Q,EAAc,CACd,GAAIo/G,EACA5gF,EAAS3mC,cAAcwb,oBAAoB9hB,EAAKnC,GAAM+vH,GAClDA,EAAW3wH,SAAW,GAAK2wH,EAAWnqH,aACtCxB,KAAK1F,OAAO8J,eAAe,eAAe,EAAOunH,GAAY,OAGhE,CACD,GAAInpH,GAAgC,gBAAdzE,GAAKnC,GAAoB,GAAIkB,MAAKiB,EAAKnC,IAAQmC,EAAKnC,EACtEA,KAAQmtB,EAAMhuB,SAAWF,oBAAkB8wH,EAAW7wH,aAAeD,oBAAkBkD,EAAKgrB,EAAM/tB,YAAuC,KAAzB+C,EAAKgrB,EAAM/tB,WAAoBwN,OAAO6G,MAAMtR,EAAKgrB,EAAM/tB,cACvKwH,EAAWxC,KAAK1F,OAAO0I,WAAW2C,aAA+B,iBAAI3B,EAAUxF,gBAAgBzD,QAAUgD,EAAKgrB,EAAMhuB,UAExHiwC,EAAS5mC,eAAeonH,EAAmB5vH,GAAM4G,EAAUmpH,GAAY,IACnE3nH,EAAU+kB,EAAMjuB,YAAgBkJ,EAAU+kB,EAAMjuB,oBAAsBgC,QACtEkH,EAAU+kB,EAAMjuB,WAAa,GAAIgC,MAAKkH,EAAU+kB,EAAMjuB,cAEtDkJ,EAAU+kB,EAAMhuB,UAAciJ,EAAU+kB,EAAMhuB,kBAAoB+B,QAClEkH,EAAU+kB,EAAMhuB,SAAW,GAAI+B,MAAKkH,EAAU+kB,EAAMhuB,WAG5DiwC,EAAS3mC,cAAcC,kBAAkBN,EAAWwnH,EAAmB5vH,QAGvE6vH,GAAmBntH,KAAK1C,GACxB8vH,GAAyB,MAG5B,IAAI3iG,EAAMtQ,eAAiB7c,EAAK,CACjC,GAAI4c,GAAewyB,EAAS3mC,cAAc4X,gBAAgBle,EAC7B,kBAAzBiC,KAAK1F,OAAOyd,WACRR,KAAKE,UAAUe,KAAkBjB,KAAKE,UAAUzT,EAAUxF,gBAAgBia,eAC1EzY,KAAK1F,OAAO0I,WAAW2C,aAAa4zF,kBAAmB,EACvDv5F,KAAK1F,OAAO0I,WAAW2C,aAAawzF,iBAAoBt+F,oBAAkBmJ,EAAUxF,gBAAgBia,iBAAgBzU,EAAUxF,gBAAgBia,aAAapK,SAG3JrO,KAAK1F,OAAO0I,WAAW2C,aAAa4zF,kBAAmB,GAG1Dv5F,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,eAAoC,sBAChF/X,EAAUxF,gBAAgBia,aAAeD,GAE7CwyB,EAAS3mC,cAAcC,kBAAkBN,EAAW,oBAEnD,IAAI+kB,EAAM3P,aAAexd,OAGzB,KAEkF,KAF7EmtB,EAAMxN,SAAUwN,EAAMvN,MAAOuN,EAAM5kB,aAAc4kB,EAAMrJ,YAC7DqJ,EAAM9jB,UAAW8jB,EAAM1Q,KAAM0Q,EAAMlqB,kBACnCkqB,EAAMnqB,gBAAiBmqB,EAAMxuB,GAAIwuB,EAAMpkB,SAAUokB,EAAMzM,UAAUxP,QAAQlR,GAAa,CACtF,GAAIqnC,GAAS+H,EAAS5lC,cAAcxJ,GAEhCyD,EAAQtB,EAAKnC,EACZf,qBAAkBooC,IAAgC,mBAApBA,EAAO2iB,UAAqD,uBAApB3iB,EAAO2iB,WAC9EvmD,EAAQ2rC,EAAS3mC,cAAczB,kBAAkBvD,GAErD,IAAIwsH,GAAeL,EAAmB5vH,EACtC,QAAQA,GACJ,IAAKmtB,GAAMxuB,GACPsxH,EAAe,QACf,MACJ,KAAK9iG,GAAM1Q,KACPwzG,EAAe,UACf,MACJ,KAAK9iG,GAAMzM,SACPuvG,EAAe,UACf,MACJ,KAAK9iG,GAAM9jB,UAEP,GADA4mH,EAAe,eACVhxH,oBAAkBkuB,EAAM/tB,UAAW,CACpC,GAAIJ,GAAYoJ,EAAUxF,gBACtBgJ,EAAgBzJ,EAAKgrB,EAAM/tB,SAE3BwM,GADAnI,EACgB,EAGAmI,GAAiB,EAAI,EAAIA,EAE7CwjC,EAAS5mC,eAAe2kB,EAAM/tB,SAAUwM,EAAexD,GAAW,GAClEgnC,EAAS5mC,eAAe,WAAYoD,EAAe5M,GAAW,GAC9DowC,EAAS5mC,eAAe,YAAc2kB,EAAM/tB,SAAUwM,EAAexD,GAEzE,KACJ,KAAK+kB,GAAMpkB,SACP,GAAIX,EAAUxF,gBAAgBmG,WAC1BknH,EAAe,WAEX9tH,IAASlD,oBAAkBkD,EAAKgrB,EAAMpkB,YAAc5G,EAAKgrB,EAAMpkB,UAAUhJ,OAAS,GAC/EoC,EAAsB,iBAAKA,EAAsB,gBAAE4G,UAAU,CAC5D3E,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,sBAC9E/X,EAAUxF,gBAAgBmG,SAAW5G,EAAsB,gBAAE4G,SAEjE,IAAImnH,GAAc9nH,EAAUxF,gBAAgBmG,SAASqU,OAAO,SAAU+yG,EAAKruG,GAAW,MAAOquG,GAAMruG,EAAQ1iB,UAAa,GACpHgxH,EAAQhoH,EAAUxF,gBAAgB1D,UAElCmxH,EAAQjsH,KAAK1F,OAAO+J,cAAcQ,WAAWmnH,EAAOF,EAAa9nH,EAAUxF,gBAAgB2F,aAAcH,EAAUxF,iBAAiB,EACxIwsC,GAAS5mC,eAAe,UAAW4mC,EAAS3mC,cAAczB,kBAAkBqpH,GAAQjoH,EAAUxF,iBAAiB,IAK/H,IAAK3D,oBAAkBgxH,GAAe,CAClC,GAAIK,KACJ,IAAqB,aAAjBL,GAA+BxsH,GAASA,EAAM1D,OAAS,IAAMd,oBAAkBmJ,EAAUxF,gBAAgBmG,UAAW,CACpH,IAAK,GAAI7G,GAAI,EAAGA,EAAIuB,EAAM1D,OAAQmC,IAAK,CACnC,GAAI4f,KACAre,GAAMvB,GAAGirB,EAAMjuB,aACf4iB,EAAmB,UAAIre,EAAMvB,GAAGirB,EAAMjuB,YAEtCuE,EAAMvB,GAAGirB,EAAMhuB,WACf2iB,EAAiB,QAAIre,EAAMvB,GAAGirB,EAAMhuB,UAEpCsE,EAAMvB,GAAGirB,EAAM/tB,YACf0iB,EAAkB,SAAI7V,WAAWxI,EAAMvB,GAAGirB,EAAM/tB,YAEhDqE,EAAMvB,GAAGirB,EAAMxuB,MACfmjB,EAAY,GAAIre,EAAMvB,GAAGirB,EAAMxuB,KAEnC2xH,EAAI5tH,KAAKof,GAEbstB,EAAS5mC,eAAeynH,EAAcK,EAAKloH,EAAUxF,iBAAiB,QAGjD,aAAjBqtH,GAAiD,aAAjBA,GAA+BhxH,oBAAkBwE,KACjF2rC,EAAS5mC,eAAeynH,EAAcxsH,EAAO2E,EAAUxF,iBAAiB,GAIpF,IAAK5C,IAAQmtB,EAAMlqB,mBAAqBjD,IAAQmtB,EAAMnqB,kBACjDoF,EAAUxF,gBAAgBK,mBAAqBmF,EAAUxF,gBAAgBI,gBAAkB,CACxF+sH,EAAa3nH,EAAUxF,eAC3BwsC,GAAS5mC,eAAe,oBAAqB4mC,EAAS3mC,cAAcV,uBAAuBgoH,EAAW9sH,kBAAmB8sH,GAAaA,GAAY,EAClJ,IAAIvqH,GAAapB,KAAK1F,OAA6B,qBAAEqxH,EAAW/sH,gBAC5D+sH,GAAW/sH,iBAA6D,IAA1C+sH,EAAW/sH,gBAAgBrC,YAC1C,QAAf6E,GACA4pC,EAAS3mC,cAAc5C,QAAQL,EAAYuqH,EAAW/sH,kBAErD+sH,EAAW9sH,mBAAqB8sH,EAAW/sH,iBAC3C+sH,EAAW9sH,kBAAkBqC,UAAYyqH,EAAW/sH,gBAAgBsC,YAClErG,oBAAkB8wH,EAAW9sH,qBAC3BhE,oBAAkB8wH,EAAW7wH,YAC7B6wH,EAAW9sH,kBAAkBqC,YAAcyqH,EAAW7wH,UAAUoG,YAC5DrG,oBAAkB8wH,EAAW/sH,mBAC7B/D,oBAAkB8wH,EAAW5wH,UAC7B4wH,EAAW/sH,gBAAgBwd,uBACxBuvG,EAAW5wH,QAAQqhB,sBAC3BuvG,EAAWnqH,eACfmqH,EAAW/sH,gBAAkB+sH,EAAW9sH,mBAE5CmsC,EAAS5mC,eAAe,kBAAmB4mC,EAAS3mC,cAAcR,qBAAqB8nH,EAAW/sH,iBAAkB+sH,GAAY,GAChI3gF,EAAS5mC,eAAe,eAAgB4mC,EAAS3mC,cAAc2Y,sBAAsB2uG,GAAaA,GAAY,GAC9G3gF,EAAS5mC,eAAe,gBAAiB4mC,EAAS3mC,cAAc4Y,uBAAuB0uG,GAAaA,GAAY,IAC5G3nH,EAAU+kB,EAAMlqB,oBAAwBmF,EAAU+kB,EAAMlqB,4BAA8B/B,QACtFkH,EAAU+kB,EAAMlqB,mBAAqB,GAAI/B,MAAKkH,EAAU+kB,EAAMlqB,sBAE9DmF,EAAU+kB,EAAMnqB,kBAAsBoF,EAAU+kB,EAAMnqB,0BAA4B9B,QAClFkH,EAAU+kB,EAAMnqB,iBAAmB,GAAI9B,MAAKkH,EAAU+kB,EAAMnqB,mBAGpEosC,EAAS5mC,eAAe,YAAcxI,EAAKyD,EAAO2E,GAE9CpI,IAAQmtB,EAAMpkB,UAAY5G,IAASlD,oBAAkBkD,EAAKgrB,EAAMpkB,YAAc5G,EAAKgrB,EAAMpkB,UAAUhJ,OAAS,IACxGqE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAKhe,EAAsB,iBACtGA,EAAsB,gBAAE4G,WAC3BX,EAAUxF,gBAAgBmG,SAAW5G,EAAsB,gBAAE4G,UAEjEqmC,EAAS3mC,cAAc+Y,gBAAgBpZ,GAAW,IAEtDgnC,EAAS5mC,eAAexI,EAAKyD,EAAO2E,OAEnC,IAAI+kB,EAAMtW,aAAe7W,EAAK,CAC3ByD,EAAQtB,EAAKnC,EACjBovC,GAAS5mC,eAAe,aAAc/E,EAAO2E,EAAUxF,iBAAiB,GACxEwsC,EAAS5mC,eAAe,YAAcxI,EAAKyD,EAAO2E,GAClDgnC,EAAS5mC,eAAexI,EAAKyD,EAAO2E,OAEnC,IAAI+kB,EAAMlY,OAASjV,EACpBovC,EAAS5mC,eAAe,OAAQrG,EAAKnC,GAAMoI,EAAUxF,iBAAiB,GACtEwB,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,QACvDhE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,YACvDhE,KAAK1F,OAAO+J,cAAcC,kBAAkBN,EAAW,eAEtD,IAAIpI,IAAQmtB,EAAM3Y,KAAM,CACrB/Q,EAAQtB,EAAKnC,EACjBovC,GAAS5mC,eAAe,WAAY/E,EAAO2E,EAAUxF,iBAAiB,GACtEwsC,EAAS5mC,eAAexI,EAAKyD,EAAO2E,GACpCgnC,EAAS5mC,eAAe,YAAcxI,EAAKyD,EAAO2E,OAEjD,KAA6C,IAAzCgnC,EAASya,cAAc34C,QAAQlR,GAAa,CACjD,GAAIqnC,GAAS+H,EAAS5lC,cAAcxJ,GAEhCyD,EAAQtB,EAAKnC,EACbf,qBAAkBooC,EAAOz9B,QACD,mBAApBy9B,EAAO2iB,UAAqD,uBAApB3iB,EAAO2iB,WAC/CvmD,EAAQ2rC,EAAS3mC,cAAczB,kBAAkBvD,KAGzD2rC,EAAS5mC,eAAe,YAAcxI,EAAKyD,EAAO2E,GAClDgnC,EAAS5mC,eAAexI,EAAKyD,EAAO2E,OAE/B+kB,GAAMlN,SAAWjgB,IACtBovC,EAAS5mC,eAAe,kBAAmBrG,EAAKnC,GAAMoI,EAAUxF,iBAAiB,GACjFwB,KAAK1F,OAAO8J,eAAexI,EAAKmC,EAAKnC,GAAMoI,GAC3ChE,KAAKg2F,wBAAwBhyF,IAGjC0nH,GACA1rH,KAAKmsH,uBAAuBV,EAAoBznH,EAAWjG,IAUnE+4F,EAAKr2F,UAAUk4F,4BAA8B,SAAU36B,EAAa/6B,GAChE,GAAIroC,GAAYojE,EAAYx/D,gBACxB4tH,EAAepsH,KAAK1F,OAAO8uE,gBAC3BpqD,EAAWpkB,EAAUokB,SAAWpkB,EAAUokB,SAAWhf,KAAK1F,OAAO0kB,SAEjEre,EAAiB/F,EAAU+F,eAC3BqX,EAAahY,KAAK1F,OAAO0I,WAAW2C,cACpC3F,KAAK1F,OAAO0I,WAAW2C,aAA+B,iBAAK3F,KAAK1F,OAAO0I,WAAW2C,aAA+B,iBAC/Gq4D,EAAYx/D,gBAAgBia,YAClC,IAAK5d,oBAAkBmd,GA6Ednd,oBAAkBmd,IAA2B,kBAAbgH,GAAuD,IAAvBpkB,EAAUI,UAC/EgF,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,OA7EjD,QAAQh/C,GACJ,IAAK,YAQD,GAPKnkB,oBAAkBuxH,EAAaxxH,EAAU0O,YACzCzO,oBAAkBuxH,EAAaxxH,EAAU0O,UAAU9K,kBAE5C,OADP4tH,EAAaxxH,EAAU0O,UAAU9K,gBAAgBkrD,eAEqB,KAAnE0iE,EAAaxxH,EAAU0O,UAAU9K,gBAAgBkrD,eACrD1pD,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,GAE5B,IAArBhmD,EAAUrc,OACV,MAEKgF,IAAkBqX,EAAUrc,OAClB,aAAXsnC,GAAoC,SAAXA,EACzBjjC,KAAK1F,OAAO+J,cAAcmc,uBAAuBw9C,GAEjC,aAAX/6B,GAAoC,YAAXA,IAC9BjjC,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,GACtB,IAAvBpjE,EAAUI,UACVgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAMxJ,GAAW,IAI7D+F,GAA6B,SAAXsiC,EAIxBjjC,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,GAHjDh+D,KAAK1F,OAAO+J,cAAcuc,mBAAmBo9C,EAKjD,MACJ,KAAK,YACD,GAAyB,IAArBhmD,EAAUrc,OACV,MAEKgF,GACU,aAAXsiC,GAAoC,YAAXA,GACzBjjC,KAAK1F,OAAO+J,cAAcuc,mBAAmBo9C,GAClB,IAAvBpjE,EAAUI,UACVgF,KAAK1F,OAAO8J,eAAe,eAAe,EAAMxJ,GAAW,IAI/DoF,KAAK1F,OAAO+J,cAAcmc,uBAAuBw9C,GAItC,SAAX/6B,EACAjjC,KAAK1F,OAAO+J,cAAcuc,mBAAmBo9C,GAG7Ch+D,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,EAGzD,MACJ,KAAK,gBACD,GAAyB,IAArBhmD,EAAUrc,OAGV,WADAqE,MAAK1F,OAAO+J,cAAciW,uBAAuB0jD,EAGjDhmD,GAAUrc,QAAsB,SAAXsnC,GAEN,SAAXA,EACAjjC,KAAK1F,OAAO+J,cAAcuc,mBAAmBo9C,GAOjDh+D,KAAK1F,OAAO+J,cAAciW,uBAAuB0jD,KAUrE84B,EAAKr2F,UAAU0rH,uBAAyB,SAAUE,EAAYroH,EAAWjG,GACrE,GAAIitC,GAAWhrC,KAAK1F,MAChB+xH,GAAW1wH,OAAS,EACpBqvC,EAAS3mC,cAAc8X,yBAAyBnY,EAAWjG,GAAM,GAE5DsuH,EAAW1wH,OAAS,EACzBqE,KAAKssH,4BAA4BvuH,EAAMsuH,EAAYroH,GAGnDhE,KAAK2F,aAAa4wG,qCAAqC8V,EAAW,GAAItuH,EAAKsuH,EAAW,IAAKroH,IAGnG8yF,EAAKr2F,UAAU6rH,4BAA8B,SAAUvuH,EAAMsuH,EAAYroH,GACrE,GACIlJ,GACAC,EACAC,EAHAgwC,EAAWhrC,KAAK1F,OAIhByuB,EAAQiiB,EAASvsC,WACjB7D,EAAYoJ,EAAUxF,gBACtBgvB,EAAoBwd,EAASzhC,uBACY,IAAzC8iH,EAAWv/G,QAAQic,EAAMjuB,aACzBA,EAAYiD,EAAKgrB,EAAMjuB,aAEgB,IAAvCuxH,EAAWv/G,QAAQic,EAAMhuB,WACzBA,EAAUgD,EAAKgrB,EAAMhuB,WAEmB,IAAxCsxH,EAAWv/G,QAAQic,EAAM/tB,YACzBA,EAAW+C,EAAKgrB,EAAM/tB,WAEtBF,GAAaC,GAAYyyB,IAA+D,IAAzC6+F,EAAWv/G,QAAQic,EAAMjuB,aAChC,IAAvCuxH,EAAWv/G,QAAQic,EAAMhuB,UAC1BiwC,EAAS5mC,eAAe,YAAa4mC,EAAS3mC,cAAczB,kBAAkB9H,GAAYF,GAAW,GACrGowC,EAAS5mC,eAAe,UAAW4mC,EAAS3mC,cAAczB,kBAAkB7H,GAAUH,GAAW,GACjGowC,EAAS3mC,cAAcK,kBAAkBV,IAEpCjJ,GAAWC,GAAawyB,IACW,IAAvC6+F,EAAWv/G,QAAQic,EAAMhuB,WAA6D,IAAxCsxH,EAAWv/G,QAAQic,EAAM/tB,WACxEgwC,EAAS5mC,eAAe,UAAW4mC,EAAS3mC,cAAczB,kBAAkB7H,GAAUH,GAAW,GACjGowC,EAAS3mC,cAAcwb,oBAAoB7kB,EAAUJ,KAEhDE,GAAaE,GAAawyB,IAA+D,IAAzC6+F,EAAWv/G,QAAQic,EAAMjuB,aAClC,IAAxCuxH,EAAWv/G,QAAQic,EAAM/tB,aAC7BgwC,EAAS5mC,eAAe,YAAa4mC,EAAS3mC,cAAczB,kBAAkB9H,GAAYF,GAAW,GACrGowC,EAAS3mC,cAAcwb,oBAAoB7kB,EAAUJ,KAG7Dk8F,EAAKr2F,UAAU8rH,eAAiB,SAAUxuH,GACtC,GAAIyuH,IAAU,EACVruH,EAAWJ,EAAKS,gBAChByqH,EAAWjpH,KAAK1F,OAAO8uE,iBACvBppE,KAAK1F,OAAO8uE,gBAAgBrrE,EAAKuL,SACrC,IAAI2/G,GAAYA,EAASzqH,gBAAiB,CACtC,GAAIiuH,GAAY/sH,WAAS,4BAA6BupH,GAClDyD,EAAUhtH,WAAS,0BAA2BupH,GAC9C0D,EAAejtH,WAAS,2BAA4BupH,GACpD2D,EAAmBltH,WAAS,+BAAgCupH,GAC5DvtH,EAAOD,OAAOC,KAAKutH,EAASzqH,kBACG,IAA/B9C,EAAKoR,QAAQ,eAAoD,IAA7BpR,EAAKoR,QAAQ,aACnB,IAA9BpR,EAAKoR,QAAQ,cAAwD,IAAlCpR,EAAKoR,QAAQ,kBAC3CjS,oBAAkB4xH,KAAe5xH,oBAAkBsD,EAASrD,YAC5DD,oBAAkB6xH,KAAa7xH,oBAAkBsD,EAASpD,UAC1DF,oBAAkBsD,EAASrD,aAAeD,oBAAkB4xH,IAC5D5xH,oBAAkBsD,EAASpD,WAAaF,oBAAkB6xH,IAC1DD,GAAaA,EAAUvrH,YAAc/C,EAASrD,UAAUoG,WACrDwrH,GAAWA,EAAQxrH,YAAc/C,EAASpD,QAAQmG,YACjDrG,oBAAkB8xH,IAAiBA,IAAiBxuH,EAASnD,WAC7DH,oBAAkB8xH,IAAiBA,IAAiBxuH,EAASnD,UAC9D4xH,IAAqBzuH,EAASgG,gBAClCqoH,GAAU,GAItB,MAAOA,IAEX11B,EAAKr2F,UAAUosH,qBAAuB,SAAU9uH,GAC5C,GAAI8uH,IAAuB,EACvB5D,EAAWjpH,KAAK1F,OAAO8uE,gBAAgBrrE,EAAKuL,SAYhD,OAVI2/G,IAAYA,EAASzqH,iBAAmByqH,EAASzqH,gBAAgBmV,eAAe,iBAC5E5V,EAAKS,gBAAgB6d,mBAAqB4sG,EAASzqH,gBAAgB6d,kBACvB,KAA1Cte,EAAKS,gBAAgB6d,kBACnBxhB,oBAAkBouH,EAASzqH,gBAAgB6d,kBAI/Crc,KAAK1F,OAAO8J,eAAe,cAAe6kH,EAASzqH,gBAAgBsd,YAAa/d,EAAKS,iBAAiB,GAHtGquH,GAAuB,GAMxBA,GAQX/1B,EAAKr2F,UAAUqsH,mBAAqB,SAAU/uH,GAC1C,GAAIgvH,IAAwB,CAQ5B,OAPe/sH,MAAK1F,OAAO8uE,gBAAgBrrE,EAAKuL,WAChCtJ,KAAK1F,OAAOmE,WAAW2a,YAAcpZ,KAAK1F,OAAOs3D,2BAC7D5xD,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoB7rE,GAAMpC,OAAS,GAC7DqE,KAAKusH,eAAexuH,KACpBgvH,GAAwB,GAGzBA,GAUXj2B,EAAKr2F,UAAUusH,sBAAwB,SAAUjvH,EAAMkvH,GACnD,GAAIn/E,IAAgB,SAAU,WAAY,cAAe,WAAY,cACrEryC,QAAOC,KAAKqC,EAAKS,iBAAiB8T,QAAQ,SAAUy7B,IACR,IAApCD,EAAahhC,QAAQihC,KACrBk/E,EAAWzuH,gBAAgBuvC,GAAYhwC,EAAKS,gBAAgBuvC,OAWxE+oD,EAAKr2F,UAAUw1F,qBAAuB,SAAUj3F,GAC5C,GACIiW,GACAi4G,EAFAH,EAAwB/sH,KAAK8sH,mBAAmB9tH,EAAKjB,KAGzD,IAAKlD,oBAAkBmE,EAAKjB,KAAKyL,aAAgBujH,GAU5C,GAAI/tH,EAAKjB,KAAKmf,aAAavhB,OAAS,IAAMoxH,KAC3CA,EAAwB/sH,KAAK8sH,mBAAmB9tH,EAAKjB,QACvBiC,KAAKusH,eAAevtH,EAAKjB,MACnD,IAAK,GAAID,GAAI,EAAGA,EAAIkB,EAAKjB,KAAKmf,aAAavhB,OAAQmC,IAC3CkC,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoB5qE,EAAKjB,KAAKmf,aAAapf,IAAInC,OAAS,IACtFuxH,EAAmBpvH,EACnBivH,GAAwB,OAfpC93G,GAAajV,KAAK1F,OAAO4gC,cAAcl8B,EAAKjB,KAAKyL,WAAWkM,QAGxDq3G,KAFA/sH,KAAKusH,eAAevtH,EAAKjB,OAASiC,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoB30D,GAAYtZ,OAAS,GACtGqE,KAAK1F,OAAOs3D,6BAkBlB5xD,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAA8B,eACxG/b,KAAK1F,OAAOyhB,eAA8B,eAA+D,WAA1D/b,KAAK1F,OAAOyhB,eAA8B,cAAU,QACtC,YAA1D/b,KAAK1F,OAAOyhB,eAA8B,cAAU,UACxD/b,KAAKiqH,aAAejqH,KAAKusH,eAAevtH,EAAKjB,OAEjDiC,KAAKkqH,mBAAqBlqH,KAAK6sH,qBAAqB7tH,EAAKjB,MACrDiC,KAAKkqH,qBACLlqH,KAAK1F,OAAO6jF,uBAAwB,EACpCn+E,KAAK1F,OAAO8nC,wBAAwB4mF,qBAAqBhqH,EAAKjB,MAElE,IAAIovH,KACJ,KAAIJ,IAAyB/sH,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAClFhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAgC7DpC,KAAKiqH,eACLjqH,KAAK1F,OAAO6jF,uBAAwB,GAExCn+E,KAAKmmH,iBAAiBnnH,OAxBtB,IAHImuH,EAPCtyH,oBAAkBoa,GAGbpa,oBAAkBqyH,GAIPltH,KAAK1F,OAAO8nC,wBAAwBsmF,cAAc1pH,EAAKjB,MAHvDiC,KAAK1F,OAAO8nC,wBAAwBsmF,cAAc1pH,EAAKjB,KAAKmf,aAAagwG,GAAmBluH,EAAKjB,MAHjGiC,KAAK1F,OAAO8nC,wBAAwBsmF,cAAczzG,EAAYjW,EAAKjB,MAQxFiC,KAAK1F,OAAO6jF,uBAAwB,EAC/BtjF,oBAAkB6E,WAAS,gBAAiBytH,IAiB7CntH,KAAKmmH,iBAAiBnnH,OAjByC,CAC/D,GAAIouH,GAAUptH,KAAKqtH,kBAAkBruH,IACgB,IAAjDouH,EAAQpH,aAAarkC,0BACe,IAApCyrC,EAAQpH,aAAatkC,aACgB,IAArC0rC,EAAQpH,aAAavkC,YACrBzhF,KAAK1F,OAAO8nC,wBAAwB0lF,qBAAqBqF,IAGrDntH,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAW2C,cACjD3F,KAAK1F,OAAO0I,WAAW2C,aAAqB,QAAK3F,KAAKkqH,qBACtDlqH,KAAK4pH,yBAA0B,EAC/B5pH,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoBhpE,EAAKjB,QAAU,KAErEiC,KAAK1F,OAAO8nC,wBAAwB6jF,4BAmBpDnvB,EAAKr2F,UAAU4sH,kBAAoB,SAAUC,GACzC,GAAIF,KASJ,OARAptH,MAAKutH,oBACLvtH,KAAK1F,OAAOinF,kBAAoB6rC,EAChCA,EAAQxuF,QAAS,EACjBwuF,EAAQrvH,KAAOuvH,EAAgBvvH,KAC/BqvH,EAAQv2F,YAAc,qBACtBu2F,EAAQpH,aAAehmH,KAAK1F,OAAOknF,mBACnC4rC,EAAQhH,cAAgBkH,EACxBttH,KAAK1F,OAAOs1F,gBAAgBw9B,GACrBA,GAEXt2B,EAAKr2F,UAAU8sH,kBAAoB,WAC/BvtH,KAAK1F,OAAOknF,mBAAmBG,yBAA0B,EACzD3hF,KAAK1F,OAAOknF,mBAAmBE,YAAa,EAC5C1hF,KAAK1F,OAAOknF,mBAAmBC,aAAc,GAEjDqV,EAAKr2F,UAAU+sH,0BAA4B,WACvC,IAAK,GAAI1vH,GAAI,EAAGA,EAAIkC,KAAK1F,OAAO+e,kBAAkB6vD,oBAAoBvtE,OAAQmC,IAAK,CAC/E,GAAIgZ,GAAQ9W,KAAK1F,OAAO+e,kBAAkB6vD,oBAAoBprE,EAC1DgZ,GAAMtY,gBAAgBsd,aAAehF,EAAMtY,gBAAgBsd,YAAYngB,OAAS,IAChFqE,KAAK1F,OAAOgsE,kBAAoBxvD,EAC3B9W,KAAK4pH,0BACN5pH,KAAK6oE,aAAc,GAEvB7oE,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoBlxD,KAAW,OAUzEggF,EAAKr2F,UAAU0lH,iBAAmB,SAAUnnH,GACxC,GAAIgc,GAAchc,EAAKjB,IASvB,IARAiC,KAAKqsG,aAAerxF,GAChBhb,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,iBACvBpC,KAAKytH,wBAAwBzyG,GAE7Bhb,KAAK1F,OAAO+e,oBACZrZ,KAAK1F,OAAO+e,kBAAkBmvD,wBAA0B,KAEvDxoE,KAAK1F,OAAO6jF,uBAA0Bn+E,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,sBAAO/b,KAAK1F,OAAO2H,+BACtIjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,iBAAkB,CAyB3G,GAvBApC,KAAKwtH,4BAEDxyG,EAAYxc,gBAAgBsd,cAC5B9b,KAAK1F,OAAO+mF,kBAAoBrmE,EAAYxc,gBAAgBgD,YACxDxB,KAAKiqH,eACLjqH,KAAK1F,OAAOgsE,kBAAoBtrD,GAE/Bhb,KAAK4pH,0BACN5pH,KAAK6oE,aAAc,EACnB7oE,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoBhtD,KAAiB,IACnEhb,KAAK1F,OAAO+e,kBAAkBioD,2BAElCthE,KAAK4pH,yBAA0B,GAEnC5pH,KAAK1F,OAAO+e,kBAAkBmvD,wBAA0B,GACpDxoE,KAAK1F,OAAOqgB,uBAAyB3a,KAAK1F,OAAO+e,kBAAkBmvD,0BACnExtD,EAAYxc,gBAAgBkX,QAAUsF,EAAYyB,iBACjDzc,KAAK1F,OAAO8uE,gBAAgBpuD,EAAY1R,UAAU9K,2BAA+C,mBAAhBQ,EAAK2wB,UACrF3U,EAAYyB,iBAAoBzB,EAAYyB,iBAAmBzB,EAAYxc,gBAAgBmC,kBAC7FX,KAAK1F,OAAO+e,kBAAoC,iBAAE2B,GAClDhb,KAAKwtH,6BAETxtH,KAAK1F,OAAO+e,kBAAkBmvD,wBAA0B,GACpDxoE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBAC9E,IAAK,GAAIje,GAAI,EAAGA,EAAIkd,EAAYkC,aAAavhB,OAAQmC,IAC7Ckd,EAAYkC,aAAapf,GAAGU,gBAAgBsd,aAC5C9b,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoBhtD,EAAYkC,aAAapf,MAAQ,GAI/FkC,MAAK0tH,4BACL1tH,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlR,GAAa,GAG7D,GAAIA,EAAYxR,WAAY,EACpBxJ,KAAK1F,OAAO2H,6BAAiCjC,KAAK1F,OAAO0G,QAAUhB,KAAK1F,OAAO4H,SAASC,mBACxFnC,KAAK1F,OAAOmE,WAAW2D,iBACvBpC,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlR,GAAa,EAE7D,IAAI/F,GAAajV,KAAK1F,OAAO4gC,cAAclgB,EAAYxR,WAAWkM,OAC7D7a,qBAAkBoa,IACdA,EAAWzW,gBAAgB6d,mBAC5Brc,KAAK6oE,aAAc,EACnB7oE,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoB/yD,KAAgB,IAClEjV,KAAK0tH,6BAIb1tH,KAAK1F,OAAOsuE,2BAA6B5oE,KAAK1F,OAAO8nC,yBAA2BpjC,EAAKjB,OACrFiC,KAAK1F,OAAO8nC,wBAA4C,sBACxDpiC,KAAK1F,OAAO8nC,wBAAyC,gBAAEpjC,EAAKjB,OAEhEiC,KAAK1F,OAAO+e,kBAAsC,uBAC9Cxe,oBAAkBmF,KAAK2F,eAAkB3F,KAAK2F,eAAiB3F,KAAK2F,aAAsC,0BAC1G3F,KAAKm4F,mBAAmBn5F,IAGhC83F,EAAKr2F,UAAUitH,0BAA4B,WAGvC,IAAK,GAFDz8G,GAAQjR,KACR0uB,EAAchvB,WAAS,eAAgBM,KAAK1F,OAAO+e,mBAC9Cvb,EAAI,EAAGA,EAAI4wB,EAAY/yB,OAAQmC,IACpCkC,KAAK1F,OAAO+J,cAAc6nB,kBAAkBwC,EAAY5wB,GAExDkC,MAAK1F,OAAO0I,WAAgC,qBAAKhD,KAAK1F,OAAO0I,WAAgC,oBAAErH,OAAS,GACxGqE,KAAK1F,OAAO0I,WAAgC,oBAAEsP,QAAQ,SAAU/T,GACxDA,EAAOC,gBAAgBsd,aAAevd,EAAOC,gBAAgBsd,YAAYngB,OAAS,GAClFsV,EAAM3W,OAAO+e,kBAAkB2uD,oBAAoBzpE,KAAY,KAI3E,KAAST,EAAI,EAAGA,EAAI4wB,EAAY/yB,OAAQmC,IACpCkC,KAAK1F,OAAO+J,cAAc6nB,kBAAkBwC,EAAY5wB,GAE5DgV,YAAS,kBAAoB9S,KAAK1F,OAAO+e,mBACzCvG,WAAS,eAAiB9S,KAAK1F,OAAO+e,oBAS1Cy9E,EAAKr2F,UAAUgtH,wBAA0B,SAAU1vH,GAC/C,GAAIid,GAAcjd,GACdid,EAAYyB,kBAAmBzc,KAAKiqH,eAAgE,IAA/CjvG,EAAYhb,KAAK1F,OAAOmE,WAAWod,SAC/D,SAAzB7b,KAAK1F,OAAOshB,UAA0B/gB,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,iBAC9EtF,KAAK1F,OAAO0I,WAAWsC,eAAemxF,sBACvCz2F,KAAK1F,OAAO+e,kBAAoC,iBAAE2B,GAEjDngB,oBAAkBmF,KAAK1F,OAAO0I,WAAWsC,kBAC1CtF,KAAK1F,OAAO0I,WAAWsC,eAAemxF,sBAAuB,IAUrEK,EAAKr2F,UAAUu1F,wBAA0B,SAAUj4F,GAC/C,GAAI6mE,GAAe7mE,EAAKiC,KAAK1F,OAAOmE,WAAW3D,WAC3CF,EAAYmD,EAAKS,eAIrB,IAHIwB,KAAK1F,OAAOmE,WAAWod,QACvB7b,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWod,QAAS9d,EAAKS,gBAAgBmC,eAAgB5C,GAEhGA,EAAK0e,iBAAmB7hB,EAAU+F,eAClCX,KAAK1F,OAAO8J,eAAe,YAAaxJ,EAAUkJ,cAAelJ,GAAW,GAC5EoF,KAAK1F,OAAO8J,eAAe,UAAWxJ,EAAU0H,YAAa1H,GAAW,GACxEoF,KAAK1F,OAAO8J,eAAe,YAAaxJ,EAAUkJ,cAAe/F,GAAM,GACvEiC,KAAK1F,OAAO8J,eAAe,UAAWxJ,EAAU0H,YAAavE,GAAM,GACnEiC,KAAK1F,OAAO8J,eAAe,qBAAsBxJ,EAAUkJ,cAAe/F,GAAM,GAChFiC,KAAK1F,OAAO8J,eAAe,mBAAoBxJ,EAAU0H,YAAavE,GAAM,GAC5EiC,KAAK1F,OAAO8J,eAAe,QAASpE,KAAK1F,OAAO+J,cAAcuY,eAAe7e,GAAM,GAAOnD,GAAW,GACrGoF,KAAK1F,OAAO8J,eAAe,OAAQpE,KAAK1F,OAAO+J,cAAcwY,cAAcjiB,EAAWmD,GAAM,GAAOnD,GAAW,GAC9GoF,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAiBliB,EAAUmiB,MAAOniB,EAAU2gB,UAAW3gB,GAAW,GACxIoF,KAAK1F,OAAO+J,cAAcK,kBAAkB3G,OAE3C,IAAIA,EAAK0e,kBAAoB7hB,EAAU+F,eACxCX,KAAK1F,OAAO+J,cAAcwW,gBAAgB9c,GAC1CiC,KAAK1F,OAAO+J,cAAcK,kBAAkB3G,GAC5CiC,KAAK1F,OAAO8J,eAAe,gBAAiBxJ,EAAUkJ,cAAelJ,GAAW,GAChFoF,KAAK1F,OAAO8J,eAAe,cAAexJ,EAAU0H,YAAa1H,GAAW,GAC5EoF,KAAK1F,OAAO8J,eAAe,eAAgBpE,KAAK1F,OAAO+J,cAAcoW,sBAAsB1c,GAAOnD,GAAW,GAC7GoF,KAAK1F,OAAO+J,cAAcqW,oBAAoB3c,OAE7C,CACD,GAAIjD,GAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAe8jE,EAAc7mE,EAAKS,gBACnFwB,MAAK1F,OAAO8J,eAAe,YAAatJ,EAAWiD,EAAKS,iBAAiB,GACzEwB,KAAK1F,OAAO+J,cAAcC,kBAAkBvG,EAAM,aAClDiC,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBxG,GAClDiC,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAWod,OAAQ9d,EAAKiC,KAAK1F,OAAOmE,WAAWod,QAAS9d,GAC7GiC,KAAK1F,OAAO+J,cAAcwW,gBAAgB9c,KAUlD+4F,EAAKr2F,UAAUypG,qBAAuB,SAAUjrF,GAC5C,GAAIwQ,GAAiB,EACjBn1B,EAAS0F,KAAK1F,OAAOoP,cAAcuV,GACnC/B,EAAe5iB,EAAO4iB,aACtBywG,EAAazwG,EAAeA,EAAavhB,OAAS,EAClD2xB,EAAgB,EAChBsgG,EAAkB,EAElBhpH,EAAgB,EAChByoB,IACJ,IAAInQ,EAAc,CACd,IAAK,GAAIpf,GAAI,EAAGA,EAAI6vH,EAAY7vH,IACtBof,EAAapf,GAAGU,gBAAgBgD,cAAe0b,EAAapf,GAAG2e,kBACjE9hB,EAAgBuiB,EAAapf,GAAGU,iBAMhCovH,GAAmB,GALnBvgG,EAAiBrtB,KAAK1F,OAAO+J,cAAc8oB,kBAAkBjQ,EAAapf,IAC1EwvB,GAAiB5tB,WAAS,gBAAiB2tB,GAC3CzoB,GAAiBlF,WAAS,gBAAiB2tB,GAOnDoC,GADYk+F,EAAaC,EACI,EAAI16G,KAAKgY,MAAMoC,EAAgB1oB,GAAiB,EACzEyK,MAAMogB,KACNA,EAAiB,GAErBzvB,KAAK1F,OAAO8J,eAAe,gBAAiBpE,KAAK1F,OAAO+J,cAAcyY,iBAAiBxiB,EAAOkE,gBAAgBmC,eAAiBrG,EAAOkE,gBAAgBue,MAAQziB,EAAOkE,gBAAgB0uB,UAAWuC,GAAiBn1B,EAAOkE,iBAAiB,GACzOwB,KAAK1F,OAAO8J,eAAe,WAAY8O,KAAKsH,MAAMiV,GAAiBn1B,EAAOkE,iBAAiB,GAC3FwB,KAAK1F,OAAO8J,eAAe,gBAAiBkpB,EAAehzB,EAAOkE,iBAAiB,GACnFwB,KAAK1F,OAAO8J,eAAe,gBAAiBQ,EAAetK,EAAOkE,iBAAiB,GAEvFwB,KAAK1F,OAAO+J,cAAcyW,eAAexgB,GACrCA,EAAOkP,YACPxJ,KAAKkqG,qBAAqB5vG,EAAOkP,aAWzCstF,EAAKr2F,UAAUi4F,eAAiB,SAAU15F,GACtCgB,KAAK1F,OAAO0I,WAAWmmG,yBAAwB,GAAO,GACtDnpG,KAAK6tH,uBAQT/2B,EAAKr2F,UAAU0oG,wBAA0B,SAAU2kB,EAAgBC,GAG/D,IAAK,GAFDxuH,GAAaS,KAAK1F,OAAO8uE,gBACzB1tE,EAAOD,OAAOC,KAAK6D,GACdzB,EAAI,EAAGA,EAAIpC,EAAKC,OAAQmC,IAAK,CAClC,GAAIqf,GAAWzhB,EAAKoC,GAChBkwH,EAAWzuH,EAAW4d,GACtB8wG,EAAejuH,KAAK1F,OAAO+O,kBAAkB8T,EACjDnd,MAAKkuH,aAAaD,EAAa9vH,SAAU6vH,EAAS7vH,gBAC3C6vH,GAAS7vH,SAChB6B,KAAKkuH,aAAaD,EAAazvH,gBAAiBwvH,EAASxvH,uBAClDwvH,GAASxvH,gBAChBwB,KAAKkuH,aAAaD,EAAcD,EAChC,IAAI9xF,GAAWl8B,KAAK1F,OAAOwX,gBAAgBhF,QAAQmhH,EAInD,IAHIH,GACA9tH,KAAK1F,OAAOkb,gBAAgB0pD,WAAWhjC,GAEvC6xF,EAAe,CACf,GAAIpuD,GAAkC,gBAAzB3/D,KAAK1F,OAAOyd,SAA6Bk2G,EAAazvH,gBAAgBkX,OAASu4G,EAAazvH,gBAAgBqb,WACzH7Z,MAAK1F,OAAO4H,SAASqvB,KAAKquC,WAAWD,EAAQsuD,GACnCjuH,KAAK1F,OAAO4H,SAASqvB,KAAKuuC,oBAAoB9/D,KAAK1F,OAAO4H,SAASqvB,KAAKwuC,cAAc7jC,GAAUuH,aAAa,aACnH1lC,KAAOkwH,KAWvBn3B,EAAKr2F,UAAUytH,aAAe,SAAUC,EAAUC,GACzCvzH,oBAAkBuzH,IACnBlwH,SAAOiwH,EAAUC,IAWzBt3B,EAAKr2F,UAAU4tH,6BAA+B,SAAUrvH,KAQxD83F,EAAKr2F,UAAU03F,mBAAqB,SAAUn5F,GAC1C,GAAIiS,GAAQjR,KACRpC,IACJA,GAAUi5B,YAAc,aACxBj5B,EAAUG,KAAOiB,EAAKjB,KACtBH,EAAUghC,QAAS,EACnB5+B,KAAK6pH,aAAc,EACf7pH,KAAK1F,OAAO4iC,eAAiBl9B,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAC1KqE,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAE7EjwC,EAAUwgD,gBAAkBp+C,KAAK1F,OAAOu3D,cACnCh3D,oBAAkBmE,EAAKsgC,UACxB1hC,EAAU0hC,OAAStgC,EAAKsgC,QAE5B1hC,EAAUk0D,iBAAmBr0D,EAAYuC,KAAK1F,OAAOu3D,eAAe,GAChD,sBAAhB7yD,EAAK2wB,QAAkD,wBAAhB3wB,EAAK2wB,SAC5C/xB,EAAU+xB,OAAS3wB,EAAK2wB,OACJ,wBAAhB3wB,EAAK2wB,SACL3vB,KAAK1F,OAAO8nC,wBAAkD,0BAAI,EAC9DpiC,KAAK1F,OAAOisB,oBACZvmB,KAAK1F,OAAOisB,kBAA+C,6BAAI,IAI3E,IAAIykB,GAAWhrC,KAAK1F,OAChBg0H,EAAuB3jF,MAAa/sC,EAAUG,KAAKS,gBAAgBK,mBACnE0vH,EAAqB5jF,MAAa/sC,EAAUG,KAAKS,gBAAgBI,iBACjE4vH,EAAkB5wH,EAAUG,KAAKS,gBAAgB+c,SAEjDE,EAAiBlE,KAAKC,MAAMD,KAAKE,UAAU7Z,EAAUG,KAAKS,iBAC9DwB,MAAK1F,OAAOgc,QAAQ,cAAe1Y,EAAW,SAAU6wH,GAChDH,IAAyBG,EAAS1wH,KAAsB,gBAAEc,mBACvD0vH,IAAuBE,EAAS1wH,KAAsB,gBAAEa,kBAC3DosC,EAAS5mC,eAAe,eAAgB4mC,EAAS3mC,cAAc2Y,sBAAsByxG,EAAS1wH,KAAsB,iBAAI0wH,EAAS1wH,KAAsB,iBAAG,GAC1JitC,EAAS5mC,eAAe,gBAAiB4mC,EAAS3mC,cAAc4Y,uBAAuBwxG,EAAS1wH,KAAsB,iBAAI0wH,EAAS1wH,KAAsB,iBAAG,IAE5JkT,EAAM3W,OAAO2H,6BAA+BwZ,IAAmBgzG,EAAS1wH,KAAsB,kBAC7FlD,oBAAkB4zH,EAAS1wH,KAAiB,cAC7CkT,EAAMy8G,4BACNz8G,EAAM3W,OAAO+J,cAAc6nB,kBAAkBuiG,EAAS1wH,MAAM,GAEhE,IAAI4tH,GAAa8C,EAAS1wH,KAAsB,gBAC5CjD,EAAY6wH,EAAW7wH,UAAWC,EAAU4wH,EAAW5wH,QAAS4J,EAAWgnH,EAAWhnH,SAAUR,EAAewnH,EAAWxnH,aAAcxD,EAAiBgrH,EAAWhrH,eAAgBa,EAAcmqH,EAAWnqH,WASjN,IARI1G,GAAaC,IAAY4J,IAAasM,EAAM3W,OAAO+J,cAAsC,wBAExE,IADF4M,EAAM3W,OAAOoE,qBAAqBwG,YAAYpK,EAAWC,EAASoJ,EAAcxD,EAAgBa,GAAa,KAExHmqH,EAAWnqH,aAAc,EACzByP,EAAM3W,OAAOoE,qBAAqBgG,kBAAkB+pH,EAAS1wH,OAGrEkT,EAAM3W,OAAO+J,cAAcwW,gBAAgB4zG,EAAS1wH,OAC/ClD,oBAAkBoW,EAAM3W,OAAOmE,WAAW8c,WAAaizG,IAAoBC,EAAS1wH,KAAsB,gBAAEwd,SAAU,CACvH,GAAIwB,GAAQ0xG,EAAS1wH,KAAsB,gBAAE4C,eAAiB8tH,EAAS1wH,KAAsB,gBAAEgf,MAC3F0xG,EAAS1wH,KAAsB,gBAAEmvB,SACrCjc,GAAM3W,OAAO8J,eAAe,gBAAiB6M,EAAM3W,OAAO+J,cAAcyY,iBAAiBC,EAAO0xG,EAAS1wH,KAAsB,gBAAEwd,UAAWkzG,EAAS1wH,KAAsB,iBAAG,GAGlL,GADAkT,EAAM3W,OAAOkb,gBAAgBC,cAAcg5G,EAAS1wH,KAAsB,gBAAE4G,SAAU8pH,EAAS1wH,KAAsB,gBAAE2X,QACnH+4G,EAAS7vF,OACT3tB,EAAMk4F,0BACNl4F,EAAM3W,OAAOkb,gBAAgBqvB,gBAAgB7lC,EAAKjB,OAClDkT,EAAM48G,oBAAoBjwH,OAGzB,CAQD,GANK/C,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKbk5F,EAASrwE,gBACT,IAAK,GAAItgD,GAAI,EAAGA,EAAI2wH,EAASrwE,gBAAgBziD,OAAQmC,IACjDmT,EAAM3W,OAAO+J,cAAcyW,eAAe2zG,EAASrwE,gBAAgBtgD,GAI3E,IADA2wH,EAAS38D,iBAAmBr0D,EAAYgxH,EAASrwE,gBAAiB,KAAM,KAAMntC,EAAM3W,QAChF0C,EAAaiU,EAAM3W,OAAOY,YAAa,CACvC,GAAI6C,GAAOkT,EAAM3W,OAAOY,WACpBwzH,GACAC,eAAgBF,EAAS38D,kBAEzBh8C,EAAQ7E,EAAM3W,OAAOwb,gBAAiBC,SAAQ9E,EAAM3W,OAAOwb,MAAQ,GAAIC,SACvE64G,EAAO,KACPC,EAAc9wH,EAAKd,OACvB,IAAM4xH,YAAuBzxH,kBAAiByxH,YAAuB3xH,kBAAiBa,EAAK7C,WAAW4zH,SAGjG,CAEDF,EAAO7wH,EAAKuvF,OAAOr8E,EAAM3W,OAAOmE,WAAWlE,GAAIm0H,EAA0B,eAAG,KAAM54G,OAJlF84G,GAAO7wH,EAAKgxH,YAAYL,EAAaz9G,EAAM3W,OAAOmE,WAAWlE,GAAI,KAAMub,EAM3E84G,GAAKz4G,KAAK,SAAUC,GAAK,MAAOnF,GAAM+9G,UAAU54G,EAAGpX,KAC9CqX,MAAM,SAAUD,GAAK,MAAOnF,GAAMg+G,UAAU74G,EAAGpX,SAGpDiS,GAAMi+G,YAAYlwH,EAElBiS,GAAM3W,OAAOgd,sBAAwBrG,EAAM3W,OAAOkqB,8BAClDvT,EAAM3W,OAAOmqB,iBAAmC,mBAEhDxT,EAAM3W,OAAOyhB,iBACb9K,EAAM3W,OAAOs2D,iBAAmB1yD,YAAW+S,EAAM3W,OAAOyO,aAAc,OAIlF/I,KAAK1F,OAAOmqB,iBAAiBsf,0BAGjC+yD,EAAKr2F,UAAU0uH,mBAAqB,SAAU/4G,GAC1C,GAAIg5G,GACAjgG,CAEAigG,GADAh5G,EAAEu4G,eACQv4G,EAAEu4G,eAAuB,OAGzBv4G,EAAU,MAExB,KAAK,GAAItY,GAAI,EAAGA,EAAIsxH,EAAStxH,IAAK,CAE1BqxB,EADA/Y,EAAEu4G,eACIv4G,EAAEu4G,eAAe3wH,SAASF,EAAEG,WAAY,KAGxCmY,EAAEpY,SAASF,EAAEG,WAAY,IAGnC,KAAK,GADDoxH,GAAW5zH,OAAOC,KAAKyzB,GAAKxzB,OACvB8P,EAAI,EAAGjQ,EAAKC,OAAOC,KAAKyzB,GAAM1jB,EAAI4jH,EAAU5jH,IAAK,CACtD,GAAI7P,GAAMJ,EAAGwC,SAASyN,EAAExN,WAAY,IACpC+B,MAAK1F,OAAOu3D,cAAc7zD,SAASF,EAAEG,WAAY,KAAK,GAAKrC,GAAOuzB,EAAI,GAAKvzB,GAC3EoE,KAAK1F,OAAOu3D,cAAc7zD,SAASF,EAAEG,WAAY,KAAKE,SAAS,GAAKvC,GAAOuzB,EAAI,GAAKvzB,GAExFoE,KAAKsvH,yBAAyBngG,EAAKnvB,KAAK1F,OAAOu3D,cAAc7zD,SAASF,EAAEG,WAAY,QAI5F64F,EAAKr2F,UAAUuuH,UAAY,SAAU54G,EAAGpX,GACpCgB,KAAKmvH,mBAAmB/4G,GACxBpW,KAAKkvH,YAAYlwH,IAErB83F,EAAKr2F,UAAU6uH,yBAA2B,SAAUngG,EAAKk9E,GAGrD,IAAK,GAFDhsD,GAASrgD,KAAK1F,OAAOmE,WACrB4wH,EAAW5zH,OAAOC,KAAKyzB,GAAKxzB,OACvB8P,EAAI,EAAGjQ,EAAKC,OAAOC,KAAKyzB,GAAM1jB,EAAI4jH,EAAU5jH,IAAK,CACtD,GAAI7P,GAAMJ,EAAGwC,SAASyN,EAAExN,WAAY,IACpCouG,GAAa,GAAKzwG,GAAOuzB,EAAI,GAAKvzB,GAEpB,OAAdykD,EAAO9lD,KACP8xG,EAAa7tG,gBAAwB,OAAI2wB,EAAIkxB,EAAO9lD,KAEpC,OAAhB8lD,EAAOhoC,OACPg0F,EAAa7tG,gBAA0B,SAAI2wB,EAAIkxB,EAAOhoC,OAEjC,OAArBgoC,EAAOvlD,YACPuxG,EAAa7tG,gBAA2B,UAAI2wB,EAAIkxB,EAAOvlD,YAEpC,OAAnBulD,EAAOtlD,UACPsxG,EAAa7tG,gBAAyB,QAAI2wB,EAAIkxB,EAAOtlD,UAEjC,OAApBslD,EAAOrlD,WACPqxG,EAAa7tG,gBAA0B,SAAIqJ,WAAWsnB,EAAIkxB,EAAOrlD,YAEzC,OAAxBqlD,EAAOl8C,eACPkoG,EAAa7tG,gBAA8B,aAAI2wB,EAAIkxB,EAAOl8C,eAEtC,OAApBk8C,EAAO9kC,WACP8wF,EAAa7tG,gBAA0B,SAAI2wB,EAAIkxB,EAAO9kC,WAEhC,OAAtB8kC,EAAOjnC,aACPizF,EAAa7tG,gBAA4B,WAAI2wB,EAAIkxB,EAAOjnC,aAEpC,OAApBinC,EAAO1pC,WACP01F,EAAa7tG,gBAA0B,SAAI2wB,EAAIkxB,EAAO1pC,WAE3B,OAA3B0pC,EAAOzhD,kBACPytG,EAAa7tG,gBAAiC,gBAAI2wB,EAAIkxB,EAAOzhD,kBAEhC,OAA7ByhD,EAAOxhD,oBACPwtG,EAAa7tG,gBAAmC,kBAAI2wB,EAAIkxB,EAAOxhD,oBAEvC,OAAxBwhD,EAAO5nC,eACP4zF,EAAa7tG,gBAA2B,UAAI2wB,EAAIkxB,EAAO5nC,gBAG/Dq+E,EAAKr2F,UAAUwuH,UAAY,SAAU74G,EAAGpX,GACpC,GAAIgB,KAAKunE,mBAAmB5rE,OAAQ,CAEhC,IAAK,GADD4zH,GAAgBvvH,KAAKunE,mBAChBj0D,EAAI,EAAGA,EAAIi8G,EAAc5zH,OAAQ2X,IACtCi8G,EAAcj8G,GAAG0b,UAAW,CAEhChvB,MAAKunE,sBAETvnE,KAAKmpG,yBAAwB,GAAM,GACnCnpG,KAAK6tH,sBACL7tH,KAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO8G,KAElD0gF,EAAKr2F,UAAU+uH,iBAAmB,SAAUzxH,GAExC,IAAK,GADDgX,GAAMhX,EAAKS,gBAAgBsb,oBACtBhc,EAAI,EAAGA,EAAIiX,EAAIpZ,OAAQmC,IAAK,CACjC,GAAIi9F,GAAa/6F,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQiI,EAAIjX,GAAGG,YACjE88F,IAAcA,EAAWzxF,WAAavL,EAAKuL,WAC3CtJ,KAAKgtH,sBAAsBjvH,EAAMg9F,GACjC/6F,KAAK1F,OAAO8J,eAAe,WAAYrG,EAAKI,SAAU48F,GAAY,GAClE/6F,KAAK1F,OAAO+J,cAAcyW,eAAeigF,GACzC/6F,KAAK1F,OAAO+J,cAAc6X,mBAAmB6+E,GACxClgG,oBAAkBkgG,EAAWvxF,aAC9BxJ,KAAK1F,OAAO+J,cAAc6nB,kBAAkB6uE,EAAWvxF,eAWvEstF,EAAKr2F,UAAUyuH,YAAc,SAAUlwH,GACnC,GAAIpB,KACJ,IAAIoC,KAAK1F,OAAO0jB,iBAAiBqqE,oBAAqB,CAClD,GAAI3sC,GAAY17C,KAAK1F,OAAOu3D,aAC5B7xD,MAAK1F,OAAOsX,eAAe6pC,yBAAyBC,GAAY18C,EAAK2wB,QAEzE,GAA6B,iBAAzB3vB,KAAK1F,OAAOyd,SAA6B,CACrB,mBAAhB/Y,EAAK2wB,QAA+C,sBAAhB3wB,EAAK2wB,QAAkD,wBAAhB3wB,EAAK2wB,OAChF3vB,KAAKwvH,iBAAiBxwH,EAAKjB,MAEN,kBAAhBiB,EAAK2wB,QAA8C,gBAAhB3wB,EAAK2wB,QAA4C,iBAAhB3wB,EAAK2wB,SAC1E3vB,KAAK1F,OAAO0I,WAAW2C,aAAa4zF,kBAEpCv5F,KAAKyvH,eAAezvH,KAAK1F,OAAO0I,WAAW2C,aAAawzF,iBAAkBn6F,EAAKjB,KAAKS,gBAAgBia,aAAczZ,EAAKjB,MACvHiC,KAAKwvH,iBAAiBxwH,EAAKjB,MAC3BiC,KAAK0vH,mBAAoB,GAGzB1vH,KAAKwvH,iBAAiBxwH,EAAKjB,MAInC,KAAK,GAAImkB,GAAI,EAAGA,EAAIliB,KAAK+pH,oBAAoBpuH,OAAQumB,IACjDliB,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoB7nG,GAEzEliB,MAAK+pH,uBACL/pH,KAAK1F,OAAO0I,WAAW2C,aAAa4zF,kBAAmB,EACvDv5F,KAAK1F,OAAO0I,WAAW2C,aAAawzF,oBAExC,GAAI/+D,GAAiBp6B,KAAK1F,OAAO+/B,kBAC7Br6B,MAAK1F,OAAOggC,oBAAsBF,GAAkBA,EAAeG,yBACnEH,EAAeivD,kBAAiB,GAChCjvD,EAAeI,sBAAsBJ,EAAeG,uBAAwBH,EAAeK,6BAA6B,EAAML,EAAeM,+BAE5I16B,KAAK0vH,oBACF1vH,KAAK1F,OAAO4kC,aAAaU,cAAgB5/B,KAAK1F,OAAO4H,SAAS4D,QAAQstB,uBAAuB,qBAAqBz3B,OAAS,IACtHqE,KAAK1F,OAAO4H,SAASqvB,KAAKzrB,QAAQD,cAAc,QAAQE,cAAc,GAAGqqG,aAC1Et9F,WAAS,UAAU,EAAO9S,KAAK1F,OAAO4H,SAASqvB,MAC/CvxB,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAa,GAEvDvF,KAAK1F,OAAO4H,SAAS29B,WAEzB7/B,KAAK1F,OAAOkb,gBAAgBqvB,eAAe7kC,KAAK1F,OAAOu3D,gBAClD7xD,KAAK1F,OAAOk6B,qBAAuBx0B,KAAK1F,OAAOm6B,qBAChDz0B,KAAK1F,OAAO66B,cAAgBn1B,KAAK1F,OAAgB,QAAE84B,uBAAuB,aAAa,GAAGgC,SAAS,GAAiB,aACpHp1B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBjE,MAAMsB,OAASj1B,KAAK1F,OAAO66B,cAAgB,KACzFn1B,KAAK1F,OAAOmqB,iBAAiBiV,qBAAqB15B,KAAK1F,OAAOwX,iBAC1D9R,KAAK1F,OAAOmE,WAAW2a,YACvBpZ,KAAK1F,OAAOmqB,iBAAiBsf,2BAGhC/jC,KAAK1F,OAAO6jF,uBAA0Bn+E,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAA8B,eAC/G/b,KAAK1F,OAAOyhB,eAA8B,cAAoB,oBAAQlhB,oBAAkBmF,KAAK1F,OAAO8nC,2BACpGpiC,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO8nC,wBAAwBuvB,iCAAiC3xD,KAAK1F,OAAOu3D,eACjF7xD,KAAKquH,6BAA6BrvH,MAGrCgB,KAAK1F,OAAO4kC,aAAaC,qBAAwBn/B,KAAK1F,OAAO4kC,aAAaC,sBAC1En/B,KAAKiD,kBAAkBm4F,kBACxBx9F,EAAUi5B,YAAc,OACxBj5B,EAAUG,KAAOiB,EAAKjB,KACtBH,EAAUwgD,gBAAkBp+C,KAAK1F,OAAOu3D,cACxCj0D,EAAUk0D,iBAAmBr0D,EAAYuC,KAAK1F,OAAOu3D,cAAe,KAAM,KAAM7xD,KAAK1F,SAEhF0F,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0kE,sBACC,kBAArDh/D,KAAK1F,OAAO0kE,qBAAmC,cAC/Ch/D,KAAK2vH,iBAEJ90H,oBAAkBmE,EAAK2wB,SACxB7c,WAAS,SAAU9T,EAAK2wB,OAAQ/xB,GAEhB,mBAAhBoB,EAAK2wB,SACL/xB,EAAU8+C,kBAAoB19C,EAAK09C,mBAEvC18C,KAAKu3F,cAAcv4F,GACnBgB,KAAK1F,OAAOgc,QAAQ,iBAAkB1Y,GAClCoC,KAAK1F,OAAO2kC,yBAA2Bj/B,KAAK1F,OAAO0kE,sBAAwBh/D,KAAK1F,OAAO0kE,qBAAoC,gBAC3Hh/D,KAAK1F,OAAO0kE,qBAAoC,cAAI,MAEnDnkE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,gBAOhBv0B,KAAKiD,kBAAkBm4F,kBAAmB,EAC1Cp7F,KAAK6tH,uBAEoB,iBAAzB7tH,KAAK1F,OAAOyd,UAA+B/X,KAAK0vH,oBAChD1vH,KAAK1F,OAAO4H,SAAS+S,cACrBjV,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO+e,kBAAkB4gB,+BAA+Bj6B,KAAK1F,OAAOyO,UACzE/I,KAAK1F,OAAO4H,SAASsoF,UACrBxqF,KAAK0vH,mBAAoB,GAE7B1vH,KAAK1F,OAAOu3D,kBAEhBilC,EAAKr2F,UAAUgvH,eAAiB,SAAUG,EAAcC,EAAiBC,GACrE,GAAIC,GAAc/vH,KAAK1F,OAAOyO,SAC1BinH,EAAgBH,EAAkBA,EAAgBl0H,OAAS,EAC3Ds0H,EAAiBL,EAAeA,EAAaj0H,OAAS,CAC1D,IAAsB,IAAlBq0H,GAA0C,IAAnBC,EAA3B,CAGA,IAASxwH,EAAQ,EAAGA,EAAQuwH,EAAevwH,IAAS,CAChD,GAAI4U,KAKJ,IAHmB,SADf24E,EAAahvF,SAAS6xH,EAAgBpwH,GAAOO,KAAK1F,OAAO8d,eAAe7d,IAAK,IAAI0D,cAEjF+uF,EAAa6iC,EAAgBpwH,GAAOO,KAAK1F,OAAO8d,eAAe7d,MAE9DM,oBAAkB+0H,GACnB,IAAK,GAAI9xH,GAAI,EAAGA,EAAI8xH,EAAaj0H,OAAQmC,IAAK,CAC1C,GAAIoyH,GAAiBlyH,SAAS4xH,EAAa9xH,GAAGkC,KAAK1F,OAAO8d,eAAe7d,IAAK,IAAI0D,UAIlF,IAHuB,QAAnBiyH,IACAA,EAAiBN,EAAa9xH,GAAGkC,KAAK1F,OAAO8d,eAAe7d,KAE5D21H,IAAmBljC,EAAY,CAC/B34E,EAAY/V,KAAKR,EACjB,QAIZ,GAA2B,IAAvBuW,EAAY1Y,OAAc,CAC1B,GAAIygC,GAAe2zF,EAAY/vH,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMkgF,GAClE5wD,IACAp8B,KAAKmwH,aAAaL,EAAc1zF,OAGnC,CACD,GAAIg0F,GAAUpyH,SAASqW,EAAY,GAAGpW,WAAY,GACvB,SAAvBmyH,EAAQnyH,aACRmyH,EAAU/7G,EAAY,GAAGpW,YAE7B2xH,EAAavnG,OAAO+nG,EAAS,IAIrC,IAAK,GADDC,GAAaT,EAAeA,EAAaj0H,OAAS,EAC7C8D,EAAQ,EAAGA,EAAQ4wH,EAAY5wH,IAAS,CAC7C,GAAI6wH,GAASR,EAAatxH,gBAAgBkX,OACtCs3E,EAAa4iC,EAAanwH,GAAOO,KAAK1F,OAAO8d,eAAe7d,IAC5DgE,EAASwxH,EAAY/vH,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMkgF,GAChE,KAAKnyF,oBAAkB0D,GACnB,IAAK,GAAIkN,GAAI,EAAGA,EAAIlN,EAAO2e,aAAavhB,OAAQ8P,IACxClN,EAAO2e,aAAazR,GAAGjN,gBAAgBkX,SAAW46G,GAClDtwH,KAAKuwH,kBAAkBhyH,EAAO2e,aAAazR,IAK3D,GAAIukH,EAAgB,EAAG,CACnB,GAAIvmH,GAAazJ,KAAK1F,OAAOoP,cAAcomH,EAAatmH,WACpDC,IACIA,EAAWjL,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,mBAC1E3Q,KAAKuwH,kBAAkBT,GAKb,IAAlBE,GACAhwH,KAAKwwH,wBAAwBV,GAE7B9vH,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOyO,SAASpN,OAAS,GAAG6C,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,oBACxM3Q,KAAK1F,OAAOyO,SAASsf,OAAOroB,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,GAC7DqE,KAAK1F,OAAOwX,gBAAgBuW,OAAOroB,KAAK1F,OAAOwX,gBAAgBnW,OAAS,EAAG,GAC3EqE,KAAK1F,OAAOga,QAAQ+T,OAAOroB,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,GAC5DqE,KAAK1F,OAAOya,IAAIsT,OAAOroB,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,MAQhEm7F,EAAKr2F,UAAU+vH,wBAA0B,SAAUV,GAG/C,IAAK,GAFD73G,GAAkB,KAEbna,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOyO,SAASpN,OAAQmC,IACzCkC,KAAK1F,OAAOyO,SAASjL,GAAGU,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,oBACvFsH,EAAkBjY,KAAK1F,OAAOyO,SAASjL,GAG/C,IAAKjD,oBAAkBod,GAGlB,CAED,GAAIw4G,KACJA,GAAgBzwH,KAAK1F,OAAOmE,WAAWlE,IAAM,EAC7Ck2H,EAAgBzwH,KAAK1F,OAAOmE,WAAW4Z,MAAQrY,KAAK1F,OAAOoW,UAAUC,YAAY,iBACjF,IAAI+/G,GAAmB1wH,KAAK1F,OAAOwkB,QACnC9e,MAAK1F,OAAOwkB,UAAW,CACvB,IAAI6xG,GAAe3wH,KAAK1F,OAAO+J,cAAc4V,aAAaw2G,EAAiB,EAC3EzwH,MAAK1F,OAAOwkB,SAAW4xG,EACvB1wH,KAAK4wH,kBAAkBD,EACvB,IAAIv0F,GAAep8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOyO,SAASpN,OAAS,GAElEuvE,EADQlrE,KAAK1F,OAAOyO,SAAS+D,QAAQsvB,GACf,EAAKA,EAAalf,aAAavhB,MACzDm0H,GAAarwH,MAAQyrE,EACrB4kD,EAAal2G,MAAQwiB,EAAaxiB,MAAQ,EAC1C5Z,KAAKmwH,aAAaL,EAAc1zF,GAEnBp8B,KAAK1F,OAAOY,WAClBoD,KAAKwxH,EAAa3xH,cApBzB6B,MAAKmwH,aAAaL,EAAc73G,EAsBpC,IAAIy2G,GAAc1uH,KAAK1F,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GAC3D,MAAQA,GAAKS,gBAAgBkX,SAAWo6G,EAAatxH,gBAAgBkX,QAChE3X,EAAK0e,kBAAoBqzG,EAAarzG,kBAC5C,EACHqzG,GAAatmH,WAAaklH,EAAYllH,WACtCsmH,EAAaltD,eAAiB8rD,EAAY9rD,gBAE9Ck0B,EAAKr2F,UAAUmwH,kBAAoB,SAAUD,GACzC,GAAIE,GAAe7wH,KAAK1F,OAAOyO,SAASpN,MACxCqE,MAAK1F,OAAOwX,gBAAgBuW,OAAOwoG,EAAe,EAAG,EAAGF,GACxD3wH,KAAK1F,OAAOyO,SAASsf,OAAOwoG,EAAe,EAAG,EAAGF,GACjD3wH,KAAK1F,OAAOya,IAAIsT,OAAOwoG,EAAe,EAAG,EAAGF,EAAanyH,gBAAgBqb,YAAY5b,WACrF,IAAIyX,GAAgC,IAAvBi7G,EAAa/2G,MAAc,IAAM+2G,EAAanyH,gBAAgBkX,OAAS,IAAMi7G,EAAanyH,gBAAgBkX,MACvH1V,MAAK1F,OAAOkf,aAAa6O,OAAOwoG,EAAe,EAAG,EAAGn7G,GACrD1V,KAAK8wH,uBAAuBH,EAAc,QAE9C75B,EAAKr2F,UAAU0vH,aAAe,SAAUL,EAAc1zF,GAClD,GAAIu0F,GAAe,IACnBA,GAAezyH,eAAe4xH,GAAc,GAC5C9vH,KAAK1F,OAAO8J,eAAe,WAAYpE,KAAK1F,OAAO+J,cAA2B,YAAErE,KAAK1F,OAAOwL,QAAQvL,GAAK,UAAWo2H,GACpH3wH,KAAK1F,OAAO8J,eAAe,WAAYusH,EAAarnH,SAAUqnH,EAAanyH,iBAAiB,EAC5F,IAAI2e,GAAWwzG,EAAarnH,SAASnK,QAAQa,KAAK1F,OAAOwL,QAAQvL,GAAK,SAAU,GAChFyF,MAAK1F,OAAO8J,eAAe,cAAe+Y,EAAUwzG,GACpD3wH,KAAK1F,OAAO8J,eAAe,cAAe+Y,EAAUwzG,EAAanyH,iBAAiB,GAClFwB,KAAK1F,OAAO8J,eAAe,QAAS,EAAGusH,GACnC3wH,KAAK1F,OAAOmE,WAAWkY,UACvB3W,KAAK1F,OAAO8J,eAAe,WAAYg4B,EAAa59B,gBAAgBkX,OAAQi7G,EAAanyH,iBAAiB,GAE9GwB,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAK1F,OAAO+J,cAAckY,eAAe6f,GAAeu0F,EACjG,IAAIn0G,GAAem0G,EAAannH,WAAamnH,EAAannH,WAAWF,SAAW,IAChFtJ,MAAK1F,OAAO8J,eAAe,iBAAkBoY,EAAcm0G,GAC3Db,EAAatxH,gBAAgBsb,oBAAoBxb,KAAK6e,GACtDwzG,EAAanyH,gBAAgBsb,oBAAsBg2G,EAAatxH,gBAAgBsb,oBAChF9Z,KAAK+wH,iBAAiB30F,EAAcu0F,IAExC75B,EAAKr2F,UAAU8vH,kBAAoB,SAAUhyH,GACzC,GAAIiwG,GAAOxuG,KAAK1F,OACZyD,IAEAA,GADAiC,KAAK1F,OAAOY,qBAAsBC,gBAAe6E,KAAK1F,OAAOY,WAAWA,WAAWkkB,KAAKzjB,OAAS,EAC1FqE,KAAK1F,OAAOY,WAAWA,WAAWkkB,KAGlCpf,KAAK1F,OAAOwX,eAEvB,IAAI5W,GAAa8E,KAAK1F,OAAOY,WACzB81H,EAAazyH,EACb0yH,EAAiBjxH,KAAK1F,OAAOoP,cAAcsnH,EAAWxnH,WAC1D,IAAIwnH,EAAY,CACZ,GAAIA,EAAWxnH,WAAY,CACvB,GAAI0nH,GAAqBD,EAAiBA,EAAe/zG,gBACrDguD,EAAa,CACbgmD,IAAsBA,EAAmBv1H,OAAS,IAChB,IAA9Bu1H,EAAmBv1H,SAEnBqE,KAAK1F,OAAOy0B,YAAa,EACzBmiG,EAAmB,GAAGliG,UAAW,EACjChvB,KAAK1F,OAAO+J,cAAc6nB,kBAAkB+kG,GAC5CjxH,KAAK1F,OAAOy0B,YAAa,EACzBmiG,EAAmB,GAAGliG,UAAW,GAErCk8C,EAAagmD,EAAmBpkH,QAAQkkH,GACxCC,EAAe/zG,aAAamL,OAAO6iD,EAAY,GAE/ClrE,KAAK+pH,oBAAoBzrH,KAAK2yH,IAGtC,GAAID,EAAWxyH,gBAAgBsb,oBAAoBne,OAAQ,CACvD,GAAIw1H,GAAgBH,EAAWxyH,gBAAgBsb,oBAAoBhN,QAAQkkH,EAAWxyH,gBAAgBqb,YACtGm3G,GAAWxyH,gBAAgBsb,oBAAoBuO,OAAO8oG,EAAe,GAIzE,GAFAnxH,KAAK8wH,uBAAuBE,EAAY,WAEnChxH,KAAK1F,OAAOmE,WAAWkY,SAAU,CAClC,GAAIy6G,KACJA,GAAgB9yH,KAAK0yH,EAAWxyH,gBAAgBqb,YAAY5b,YAC/B,gBAAzB+B,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAO0I,WAAWquH,qBAAqBD,GAGpD,GAAIE,GAAkBtxH,KAAK1F,OAAOyO,SAAS+D,QAAQkkH,EACnD,IAAIxiB,EAAK/vG,WAAWkY,SAAU,CAG1B,IAAK,GAFD46G,OAAM,GACNvtH,EAAYhE,KAAK1F,OAAOwX,gBACnBhU,EAAI,EAAGA,EAAIkG,EAAUrI,OAAQmC,IAC9BkG,EAAUlG,GAAGU,gBAAgBqb,cAAgBm3G,EAAWxyH,gBAAgBqb,cACxE03G,EAAMzzH,IAGD,IAATyzH,IACIr2H,EAAWS,OAAS,GACpBT,EAAWmtB,OAAOkpG,EAAK,GAE3BxzH,EAAKsqB,OAAOkpG,EAAK,GACjBvxH,KAAK1F,OAAOyO,SAASsf,OAAOipG,EAAiB,GAC7CtxH,KAAK1F,OAAOya,IAAIsT,OAAOipG,EAAiB,GACxCtxH,KAAK1F,OAAOkf,aAAa6O,OAAOipG,EAAiB,IAGzD,GAAIj9G,GAActW,EAAK+O,QAAQkkH,EAC/B,KAAKxiB,EAAK/vG,WAAWkY,SAAU,CAC3B,GAAI66G,GAAqBxxH,KAAK1F,OAAO0I,WAAWyuH,cAAcT,EAAY,EAC1EjzH,GAAKsqB,OAAOhU,EAAam9G,EAAqB,GAC9CxxH,KAAK1F,OAAOyO,SAASsf,OAAOipG,EAAiBE,EAAqB,GAClExxH,KAAK1F,OAAOya,IAAIsT,OAAOipG,EAAiBE,EAAqB,GAC7DxxH,KAAK1F,OAAOkf,aAAa6O,OAAOipG,EAAiBE,EAAqB,GAEtER,EAAWxnH,YAAcynH,GAAkBA,EAAe/zG,eAAiB+zG,EAAe/zG,aAAavhB,SACvGqE,KAAK1F,OAAO8J,eAAe,YAAY,EAAO6sH,GAC9CjxH,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAO6sH,MAKjEn6B,EAAKr2F,UAAUswH,iBAAmB,SAAUtnB,EAAe5H,GACvD,GAGI6vB,GACAC,EAJAnjB,EAAOxuG,KAAK1F,OACZu2H,EAAe7wH,KAAK1F,OAAOyO,SAAS+D,QAAQ28F,GAC5CvsF,EAAeld,KAAK1F,OAAO0I,WAAWyuH,cAAchoB,EAAe,GAGnEhgG,EAAazJ,KAAK1F,OAAO+O,kBAAkBw4F,EAAcr4F,WAAWF,SACxE,IAAItJ,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK2F,aAAsB,SAAK3F,KAAK2F,aAAsB,QAAEisH,gBAAkB5xH,KAAK2F,aAAsB,QAAEisH,eAAej2H,OAAS,EACvN,GAAI8N,EAAWjL,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,kBAC1E+gH,EAAqB1xH,KAAK1F,OAAOga,QAAQ3Y,OAAS,MAGlD,KAAK,GAAI8P,GAAI,EAAGA,EAAIzL,KAAK2F,aAAsB,QAAEisH,eAAej2H,OAAQ8P,IAAK,CACzE,GAAIzL,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG1N,KAAK6kE,iBAAmBi/B,EAAcj/B,gBAAkBi/B,EAAcrjG,gBAAgBkX,SAAW1V,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG1N,KAAKS,gBAAgBkX,OAAQ,CAC5N,GAAIk+E,GAAU5zF,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAGhM,KAExDiyH,GAD2D,UAA5D1xH,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG8mC,SACzBqhD,EAGAA,EAAU,CAEpC,KAAS91F,EAAI,EAAGA,EAAI2rG,EAAcvsF,aAAavhB,OAAQmC,IACnD,GAAI,IAAM2rG,EAAcvsF,aAAapf,GAAGU,gBAAgBkX,SAAW1V,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAGlR,GAAI,CAE9Go3H,EAD4D,UAA5D3xH,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG8mC,SACjCz0C,EAGAA,EAAI,CAEtB,OAGR,MAEC,GAAIkC,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG1N,KAAK6kE,iBAAmBi/B,EAAcj/B,gBAAkBi/B,EAAcrjG,gBAAgBkX,SAAW1V,KAAK2F,aAAsB,QAAEisH,eAAenmH,GAAG1N,KAAKS,gBAAgBkX,OAAQ,CACjO,GAAIm8G,GAAgB7xH,KAAK1F,OAAO+O,kBAAkBw4F,EAAcr4F,WAAWF,SAC3EooH,GAAqBG,EAAcpyH,MAAQoyH,EAAc30G,aAAavhB,OAAS,CAC/E,YAKX,IAAIqE,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAKtS,EAAWjL,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,mBAAqB3Q,KAAK1F,OAAOyhB,eAA8B,cAAyB,uBAC1P,IAAK,GAAIje,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOyhB,eAA8B,cAAyB,sBAAEpgB,OAAQmC,IAC7F,GAAIkC,KAAK1F,OAAOyhB,eAA8B,cAAyB,sBAAEje,GAAGC,KAAKS,gBAAgBkX,SAAWmsF,EAAcrjG,gBAAgBkX,OAAQ,CAC1IjM,EAAWhK,MAEXkyH,GADAD,EAAqB1xH,KAAK1F,OAAOyhB,eAA8B,cAAyB,sBAAEje,GAAGC,KAAK0B,OAC/DgK,EAAWhK,MAAQ,GAGtDiyH,EAAsB72H,oBAAkBqiB,IACnB,IAAjBA,EAAsB2zG,EAAe,EACrC3zG,EAAe2zG,EAAe,EAClCc,EAAc,EAElB,YAIP,KAAK92H,oBAAkBmF,KAAKgzF,cAAgBhzF,KAAK+yF,gBAAkB0W,EAAcvsF,cAAwC,UAAxBld,KAAK+yF,eAA4B,CACnI,GAAIE,GAAkBwW,EAAcvsF,aAAald,KAAKgzF,aAClDzgD,EAAmC,UAAxBvyC,KAAK+yF,gBAAsD,UAAxB/yF,KAAK+yF,eAA6B/yF,KAAK+yF,eACrF,OACJ2+B,GAAqBz+B,EAAkBjzF,KAAKgzF,YAAc69B,EAAe,EACrE3zG,EAAe2zG,EAAe,EAClCa,EAAkC,UAAbn/E,EAAuBm/E,EAAqBA,EAAqB,MAGtFA,GAAsB72H,oBAAkBqiB,IACnB,IAAjBA,EAAsB2zG,EAAe,EACrC3zG,EAAe2zG,EAAe,CAGtC7wH,MAAK1F,OAAOwX,gBAAgBuW,OAAOqpG,EAAoB,EAAG7vB,GAC1D7hG,KAAK1F,OAAOyO,SAASsf,OAAOqpG,EAAoB,EAAG7vB,GACnD7hG,KAAK1F,OAAOya,IAAIsT,OAAOqpG,EAAoB,EAAG7vB,EAAcrjG,gBAAgBqb,YAAY5b,YACxF+B,KAAK8wH,uBAAuBjvB,EAAe,MAC3C,IAAI/7B,GAAmC,IAAxB+7B,EAAcjoF,MAAc,IAAMioF,EAAcrjG,gBAAgBkX,OAAS,IAAMmsF,EAAcrjG,gBAAgBkX,MAC5H1V,MAAK1F,OAAOkf,aAAa6O,OAAOqpG,EAAoB,EAAG5rD,GAClD2jC,EAAchtF,kBACfzc,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAMqlG,GACpDzpG,KAAK1F,OAAO8J,eAAe,YAAY,EAAMqlG,GACxCA,EAAcvsF,aAAavhB,SAC5B8tG,EAAcvsF,iBACTsxF,EAAK/vG,WAAWkY,UAAY9b,oBAAkB4uG,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWqY,UAC7F2yF,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWqY,aAItD66G,GAAe,EACfloB,EAAcvsF,aAAamL,OAAOspG,EAAa,EAAG9vB,GAGlD4H,EAAcvsF,aAAamL,OAAOohF,EAAcvsF,aAAavhB,OAAQ,EAAGkmG,GAEvEhnG,oBAAkBgnG,IAAmB7hG,KAAK1F,OAAOmE,WAAWkY,UACzD9b,oBAAkB4uG,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWqY,SACpE2yF,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWqY,OAAOuR,OAAOohF,EAAcvsF,aAAavhB,OAAQ,EAAGkmG,EAAc1jG,UAE/GtD,oBAAkBgnG,EAAcr4F,aAEjCxJ,KAAK+pH,oBAAoBzrH,KAAKmrG,IAGtC3S,EAAKr2F,UAAUotH,oBAAsB,SAAU7uH,GAC3CgB,KAAK1F,OAAOinF,qBACZvhF,KAAKutH,oBACLvtH,KAAK1F,OAAOgsE,kBAAoB,KAChCtmE,KAAK1F,OAAOwkB,UAAW,EACvB9e,KAAK1F,OAAO+e,kBAAkB6vD,uBAC9BlpE,KAAK1F,OAAO6jF,uBAAwB,EACpCn+E,KAAK1F,OAAOgsE,kBAAoB,KAChCtmE,KAAKiqH,cAAe,EACpBjqH,KAAKkqH,oBAAqB,EACrBrvH,oBAAkBmF,KAAK2F,gBAAkB9K,oBAAkBmE,KAC1DnE,oBAAkBmE,IAAiC,eAAxBA,EAAkB,aAAuBA,EAAa,UAC/EgB,KAAK2F,aAAaD,SAAW1F,KAAK2F,aAAag2E,UAAUj9C,aACzD1+B,KAAK2F,aAAag2E,UAAU2W,OAEhCtyF,KAAK2F,aAAa4sF,eAEtBvyF,KAAK1F,OAAOu7B,cACZ71B,KAAK1F,OAAO6pD,oBAAmB,IAOnC2yC,EAAKr2F,UAAU82F,cAAgB,SAAUv4F,GACrCgB,KAAK6tH,sBACe,mBAAhB7uH,EAAK2wB,OACL3vB,KAAK1F,OAAOgc,QAAQ,gBAAiBtX,GAEhB,gBAAhBA,EAAK2wB,OACV3vB,KAAK1F,OAAOgc,QAAQ,UAAWtX,GAEV,kBAAhBA,EAAK2wB,SACN3vB,KAAK2F,aAAaD,SAAW1F,KAAK2F,aAAag2E,UAAUj9C,aACzD1+B,KAAK2F,aAAag2E,UAAU2W,OAEhCtyF,KAAK2F,aAAa4sF,gBAI1BuE,EAAKr2F,UAAUqxH,WAAa,SAAU9yH,GAClCgB,KAAKmpG,0BACLnpG,KAAK1F,OAAOu7B,eAQhBihE,EAAKr2F,UAAU2pH,0BAA4B,WACvC,GAAIzuC,GAAY,GAAIu2B,WAChBn1F,MAAO,QACPgyF,SAAS,EACT5lD,SAAS,EACTl2B,UAAWjzB,KAAK1F,OAAO24B,UACvBvC,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,iBAC3Ck/F,UAEQxpE,MAAOrmC,KAAK+xH,sBAAsBp9G,KAAK3U,MACvC8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,UAAW4zE,WAAW,KAGhFl+C,MAAOrmC,KAAKgyH,mBAAmBr9G,KAAK3U,MACpC8vG,aAAep/E,QAAS1wB,KAAK1F,OAAOoW,UAAUC,YAAY,aAGlE2uB,OAAQt/B,KAAK1F,OAAOwL,QACpBgpG,mBAAqBn6B,OAAQ,SAEjCgH,GAAUh8B,SAAS,IAAM3/C,KAAK1F,OAAOwL,QAAQvL,GAAK,wBAClDyF,KAAKwpH,cAAgB7tC,GAEzBmb,EAAKr2F,UAAUuxH,mBAAqB,WAChChyH,KAAKwpH,cAAcl3B,QAEvBwE,EAAKr2F,UAAUsxH,sBAAwB,WACnC/xH,KAAKiyH,sBACLjyH,KAAKwpH,cAAcl3B,OACGtyF,KAAK1F,OAAOwL,QAAQD,cAAc,eACxCqkC,SAMpB4sD,EAAKr2F,UAAU27E,kBAAoB,WAC3Bp8E,KAAK1F,OAAO4kC,aAAaulD,gBAAkBzkF,KAAK1F,OAAOy8F,WACnD/2F,KAAK1F,OAAO4kC,aAAawlD,wBACzB1kF,KAAKwpH,cAAcjsB,QAGnBv9F,KAAKiyH,sBACiBjyH,KAAK1F,OAAOwL,QAAQD,cAAc,eACxCqkC,WAU5B4sD,EAAKr2F,UAAUyxH,sBAAwB,SAAUtuE,GAwC7C,IAAK,GAvCD3yC,GAAQjR,KACRuvH,KAqCAh2G,EAASvZ,KACJlC,EAAI,EAAGA,EAAI8lD,EAAgBjoD,OAAQmC,KArC9B,SAAUA,GACpB,GAAI8lD,EAAgB9lD,GAAG0L,WACnB,GAAsE,IAAlEo6C,EAAgB9lD,GAAGU,gBAAgBsb,oBAAoBne,OAAc,CAGrE,IAAK,GAFDoC,GAAO6lD,EAAgB9lD,GACvBiX,EAAMhX,EAAKS,gBAAgBsb,oBACtBrO,EAAI,EAAGA,EAAIsJ,EAAIpZ,OAAQ8P,KAC0B,IAAlD8N,EAAOjf,OAAOya,IAAIjI,QAAQiI,EAAItJ,GAAGxN,YACjCsxH,EAAcjxH,KAAKib,EAAOjf,OAAOyO,SAASwQ,EAAOjf,OAAOya,IAAIjI,QAAQiI,EAAItJ,GAAGxN,cAEtEsb,EAAOjf,OAAOyhB,gBAAkBxC,EAAOjf,OAAOyhB,eAAoC,qBAAKxC,EAAOjf,OAAOyhB,eAA8B,eAAiE,WAA5DxC,EAAOjf,OAAOyhB,eAA8B,cAAU,QACnMwzG,EAAcjxH,KAAKib,EAAOjf,OAAOyO,SAASwQ,EAAOjf,OAAOga,QAAQxH,QAAQ,IAAM82C,EAAgB9lD,GAAGU,gBAAgBkX,WAGpD,IAAjE6D,EAAOjf,OAAOya,IAAIjI,QAAQ/O,EAAKS,gBAAgBqb,eACiE,IAAhH01G,EAAcziH,QAAQyM,EAAOjf,OAAOyO,SAASwQ,EAAOjf,OAAOya,IAAIjI,QAAQ/O,EAAKS,gBAAgBqb,gBAC5F01G,EAAcjxH,KAAKib,EAAOjf,OAAOyO,SAASwQ,EAAOjf,OAAOya,IAAIjI,QAAQ/O,EAAKS,gBAAgBqb,mBAGxF+pC,GAAgB9lD,GAAGU,gBAAgBsb,oBAAoBne,OAAS,GACrEioD,EAAgBtxC,QAAQ,SAAU/T,GAC9BA,EAAOC,gBAAgBsb,oBAAoBxH,QAAQ,SAAU6K,GACzDoyG,EAAcjxH,KAAK2S,EAAM3W,OAAO+O,kBAAkB4H,EAAM3W,OAAOwL,QAAQvL,GAAK,SAAW4iB,YAKlG,CACD,GAAIg1G,GAAiB54G,EAAOjf,OAAOyO,SAAS4Q,OAAO,SAAU5b,GACzD,MAAQA,GAAKS,gBAAgBkX,SAAWkuC,EAAgB9lD,GAAGU,gBAAgBkX,QACvE3X,EAAK0e,kBACV,EACE5hB,qBAAkBs3H,IACnB5C,EAAcjxH,KAAK6zH,KAMnBr0H,EAEZkC,MAAKoyH,UAAU7C,IAEnBz4B,EAAKr2F,UAAU4wB,IAAM,SAAU9yB,EAAQ8zH,GAEnC,GADAA,EAAa/zH,KAAKC,GACdA,EAAOke,gBAEP,IAAK,GADD3F,GAAQvY,EAAO2e,aACVpf,EAAI,EAAGA,EAAIgZ,EAAMnb,OAAQmC,IAC9BkC,KAAKqxB,IAAIva,EAAMhZ,GAAIu0H,QAIe,IAAlCA,EAAavlH,QAAQvO,IACrB8zH,EAAa/zH,KAAKC,IAI9Bu4F,EAAKr2F,UAAUwxH,oBAAsB,WACjC,GAAKjyH,KAAKypH,mBAgBFzpH,KAAK0pH,gBAAgB/tH,SACQ,iBAAzBqE,KAAK1F,OAAOyd,SACZ/X,KAAKkyH,sBAAsBlyH,KAAK0pH,iBAGhC1pH,KAAKoyH,UAAUpyH,KAAK0pH,kBAG5B1pH,KAAKypH,oBAAqB,MAxBA,CAC1B,GAAI7lE,KACuC,UAAvC5jD,KAAK1F,OAAO2nD,kBAAkBlT,KAC9B6U,EAAkB5jD,KAAK1F,OAAO0nD,gBAAgB6B,qBAEF,SAAvC7jD,KAAK1F,OAAO2nD,kBAAkBlT,OACnC6U,EAAkB5jD,KAAK1F,OAAO0nD,gBAAgBo5B,0BAErB,iBAAzBp7E,KAAK1F,OAAOyd,SACZ/X,KAAKkyH,sBAAsBtuE,GAG3B5jD,KAAKoyH,UAAUxuE,KAsB3BkzC,EAAKr2F,UAAUg1F,aAAe,SAAUC,GACpC11F,KAAKypH,oBAAqB,CAC1B,IAAI6I,WAEJ,QADAtyH,KAAK0pH,mBACG4I,GACJ,IAAK,SACL,IAAK,SAEG,GAAI58G,GAASggF,EAAWz3F,UACK,kBAAzB+B,KAAK1F,OAAOyd,SACPld,oBAAkB6a,KAA+D,IAApD1V,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAM4I,IACrE1V,KAAK0pH,gBAAgBprH,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAM4I,KAIrF7a,oBAAkB6a,KAAgD,IAArC1V,KAAK1F,OAAOya,IAAIjI,QAAQ4I,IACtD1V,KAAK0pH,gBAAgBprH,KAAK0B,KAAK1F,OAAO4gC,cAAcxlB,GAG5D,MAER,KAAK,SACIjC,MAAMsT,QAAQ2uE,GAIf11F,KAAKuyH,sBAAsB78B,GAH3B11F,KAAK0pH,gBAAgBprH,KAAKo3F,EAAWuY,WAQjDjuG,KAAKo8E,qBAQT0a,EAAKr2F,UAAU8xH,sBAAwB,SAAUC,GAC7C,GAAIA,EAAgB72H,OAEhB,GAAqB,iBADM62H,GAAgB,GAEvCxyH,KAAK0pH,gBAAkB8I,MAIvB,KAAK,GAAI10H,GAAI,EAAGA,EAAI00H,EAAgB72H,OAAQmC,IAAK,CAC7C,GAAIvD,GAAKi4H,EAAgB10H,GAAGG,UACC,kBAAzB+B,KAAK1F,OAAOyd,SACPld,oBAAkBN,KAAuD,IAAhDyF,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMvS,IACjEyF,KAAK0pH,gBAAgBprH,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOkf,aAAa1M,QAAQ,IAAMvS,KAGpFM,oBAAkBN,KAAwC,IAAjCyF,KAAK1F,OAAOya,IAAIjI,QAAQvS,IACvDyF,KAAK0pH,gBAAgBprH,KAAK0B,KAAK1F,OAAO4gC,cAAc3gC,MAMxEu8F,EAAKr2F,UAAU2xH,UAAY,SAAUrpG,GACjC,GAAI9X,GAAQjR,KACRyyH,EAAW1pG,GAASA,EAAMptB,OAASotB,EACnC/oB,KAAK1F,OAAO0nD,gBAAgB6B,oBAEhC,IADA7jD,KAAK1F,OAAOgpD,iBAAkB,EAC1BmvE,EAAS92H,OAAQ,CAkBjB,GAjBAqE,KAAK1F,OAAOy0B,YAAa,EACzB0jG,EAASngH,QAAQ,SAAUI,GACvB,GAAIzB,EAAM3W,OAAOyhB,gBAAkB9K,EAAM3W,OAAOyhB,eAAoC,oBAAG,EAErD,gBAA1B9K,EAAM3W,OAAOyd,SACP9G,EAAM3W,OAAO4gC,cAAcxoB,EAAKlU,gBAAgBkX,QAGhDzE,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOga,QAAQxH,SAAS4F,EAAK+J,gBAAkB,IAAM,KAAO/J,EAAKlU,gBAAgBkX,UAEnHsZ,UAAW,EAEnBtc,EAAKsc,UAAW,IAES,iBAAzBhvB,KAAK1F,OAAOyd,UAAgCgR,EAAMptB,SAClD82H,MAEAzyH,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAA8B,sBAAE,UAAW,CAChI0F,KAAK1F,OAAOyhB,eAA4B,cAAM/b,KAAK1F,OAAOyhB,eAAoC,sBAC9F/b,KAAK1F,OAAOyhB,eAA4B,cACxC/b,KAAK1F,OAAOyhB,eAAkC,kBAAE,OAE/C/b,KAAK1F,OAAOyhB,eAAoC,qBACjD/b,KAAK1F,OAAOyhB,eAAqC,sBAErD,IAAIre,KACJA,GAAgB,OAAI,SACpBA,EAA+B,yBAC/BsC,KAAK1F,OAAOyhB,eAA6B,aAAE7d,eAAeu0H,GAAU,GAAO/0H,EAAS,yBACpFsC,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+B,EAkDlH,IAAK,GADDqc,GAAS/Z,KACJlC,EAAI,EAAGA,EAAI20H,EAAS92H,OAAQmC,KAhDvB,SAAUA,GACpB,GAAI23F,GAAeg9B,EAAS30H,EAC5B,KAAyD,IAArDic,EAAOwtD,mBAAmBz6D,QAAQ2oF,GAClC,MAAO,UAEX,IAAIi9B,IAAej9B,EACnB,IAA+B,iBAA3B17E,EAAOzf,OAAOyd,UAA+BgC,EAAOzf,OAAOyhB,gBAAkBhC,EAAOzf,OAAOyhB,eAAoC,qBAAK02G,EAAS30H,GAAGU,gBAAgBia,cAAgBg6G,EAAS30H,GAAGU,gBAAgBia,aAAa9c,OAAS,IAClO+2H,MACKD,EAAS30H,GAAG2e,iBAAiB,CAC9B,GAAI8jG,GAAO,IAAMkS,EAAS30H,GAAGU,gBAAgBkX,MAC7CqE,GAAOzf,OAAOga,QAAQ0E,OAAO,SAAU5C,EAAG3K,GAClC2K,IAAMmqG,GACNmS,EAAYp0H,KAAK0B,KAAK1F,OAAOyO,SAAS0C,KAE5CkJ,KAAKoF,OAGf,IAAK,GAAItO,GAAI,EAAGA,EAAIinH,EAAY/2H,OAAQ8P,IAAK,CACzC,GAAIhC,GAAasQ,EAAOzf,OAAOoP,cAAcgpH,EAAYjnH,GAAGjC,WAC5D,IAAIkpH,EAAYjnH,GAAGjC,WAAY,CAC3B,GAAIklB,OAAc,EACb7zB,qBAAkB4O,KAEyB,KAD5CilB,EAAcjlB,EAAWyT,cACQvhB,OAC7B+yB,EAAcA,EAAY/U,OAAO,SAAU5b,GAC3C,OAAQA,EAAKixB,YAEErzB,OAAS,GACxBoe,EAAOzf,OAAO+J,cAAc6nB,kBAAkBwmG,EAAYjnH,GAAGjC,YAIzE,GAAIsS,GAAc42G,EAAYjnH,GAAGjN,gBAAgBsd,YAC7C62G,GAAuB,CACI,kBAA3B54G,EAAOzf,OAAOyd,UAA+BtO,GAAcA,EAAWjL,gBAAgByoB,WACtFlN,EAAOzf,OAAOoW,UAAUC,YAAY,oBACpCgiH,GAAuB,GAEvB72G,GAAeA,EAAYngB,QAAUg3H,GACrC54G,EAAO64G,0BAA0BF,EAAYjnH,IAEjDsO,EAAOwtD,mBAAmBjpE,KAAKo0H,EAAYjnH,IACvCinH,EAAYjnH,GAAGgR,iBACf1C,EAAOm3G,mBAAmBwB,EAAYjnH,MAMtC3N,EAERkC,MAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,gBAE3Ct+C,KAAK1F,OAAO0nD,gBAAgBgQ,gBAEhC,IAAI6gE,KACJA,GAAWC,wBAA0B9yH,KAAKunE,mBAC1CsrD,EAAWE,wBAA0B/yH,KAAK1F,OAAOu3D,cACjDghE,EAAWj0F,QAAS,EACpBi0F,EAAWljG,OAAS,SACpB3vB,KAAKgzH,qBAAqBH,GAC1B7yH,KAAK1F,OAAOy0B,YAAa,EAExBl0B,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,uBAGlCy0C,EAAKr2F,UAAUmyH,0BAA4B,SAAUr0H,GAEjD,IAAK,GADDmd,GAAend,EAAOC,gBAAgBsd,YACjChe,EAAI,EAAGA,EAAI4d,EAAa/f,OAAQmC,IAAK,CAC1C,GAAIge,GAAcJ,EAAa5d,GAC3BgoE,EAAoC,iBAAzB9lE,KAAK1F,OAAOyd,SAA8BxZ,EAAOC,gBAAgBkX,OAC5EnX,EAAOC,gBAAgBqb,WAC3B,IAAIiC,EAAY/Z,KAAK9D,aAAe6nE,EAAS7nE,WAAY,CACrD,GAAI8kE,GAAW/iE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAYha,GAAG7D,WAC5E,KAAKpD,oBAAkBkoE,GAAW,CAG9B,IAAK,GAFDkwD,GAAqB/0H,eAAe6kE,EAASvkE,gBAAgBsd,aAAa,GAC1Erc,MAAQ,GACHwlC,EAAI,EAAGA,EAAIguF,EAAmBt3H,OAAQspC,IAAK,CAChD,GAAIwzC,GAAgC,iBAAzBz4E,KAAK1F,OAAOyd,SAA8BgrD,EAASvkE,gBAAgBkX,OAC1EqtD,EAASvkE,gBAAgBqb,WAC7B,IAAIo5G,EAAmBhuF,GAAGnjC,GAAG7D,aAAew6E,EAAKx6E,YAC1Cg1H,EAAmBhuF,GAAGljC,KAAK9D,aAAe6nE,EAAS7nE,WAAY,CAClEwB,EAAQwlC,CACR,QAGRguF,EAAmB5qG,OAAO5oB,EAAO,GACjCO,KAAKkzH,wBAAwBnwD,EAAUkwD,QAG1C,IAAIn3G,EAAYha,GAAG7D,aAAe6nE,EAAS7nE,WAAY,CACxD,GAAI6kE,GAAa9iE,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,KAAK9D,WAChF,KAAKpD,oBAAkBioE,GAAa,CAGhC,IAAK,GAFDqwD,GAAuBj1H,eAAe4kE,EAAWtkE,gBAAgBsd,aAAa,GAC9Erc,MAAQ,GACHwlC,EAAI,EAAGA,EAAIkuF,EAAqBx3H,OAAQspC,IAAK,CAClD,GAAIy9B,GAAkC,iBAAzB1iE,KAAK1F,OAAOyd,SAA8B+qD,EAAWtkE,gBAAgBkX,OAC9EotD,EAAWtkE,gBAAgBqb,WAC/B,IAAIs5G,EAAqBluF,GAAGljC,KAAK9D,aAAeykE,EAAOzkE,YAChDk1H,EAAqBluF,GAAGnjC,GAAG7D,aAAe6nE,EAAS7nE,WAAY,CAClEwB,EAAQwlC,CACR,SAGJ1mC,EAAO+K,WAAaw5D,EAAWF,gBAC/BrkE,EAAOqkE,iBAAmBE,EAAWx5D,UAAYtJ,KAAK1F,OAAOy0B,cAC7DokG,EAAqB9qG,OAAO5oB,EAAO,GACnCO,KAAKkzH,wBAAwBpwD,EAAYqwD,QAM7Dr8B,EAAKr2F,UAAUyyH,wBAA0B,SAAU30H,EAAQ60H,GACvDpzH,KAAK1F,OAAO8J,eAAe,cAAegvH,EAAiB70H,EAAOC,iBAAiB,EACnF,IAAIu1F,GAAoB/zF,KAAK1F,OAAO+e,kBAAkB+oD,0BAA0B7jE,EAChFyB,MAAK1F,OAAO8J,eAAe,mBAAoB2vF,EAAmBx1F,EAAOC,iBAAiB,GAC1FwB,KAAK1F,OAAO8J,eAAe,YAAcpE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmBx1F,GAC/FyB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAY26E,EAAmBx1F,IASrFu4F,EAAKr2F,UAAUyyF,aAAe,SAAUC,EAAWC,GAC/C,IAAKpzF,KAAK1F,OAAOy8F,SAAU,CACvB,GAAIs8B,GAA2B,gBAAdlgC,GAAyBA,EAAUl1F,WAAak1F,EAC7DmgC,EAAuB,gBAAVlgC,GAAqBA,EAAMn1F,WAAam1F,EACrDr+E,EAAM/U,KAAK1F,OAAOya,GACtB,KAAKla,oBAAkBw4H,KAASx4H,oBAAkBy4H,GAAM,CACpD,GAAIC,GAASx+G,EAAIjI,QAAQumH,GACrBG,EAASz+G,EAAIjI,QAAQwmH,EAEzB,KAAgB,IAAZC,GAAiBC,GAAU,EAC3B,MAEJ,IAAIC,GAAazzH,KAAK1F,OAAOyO,SAASwqH,EAQtC,IAPK14H,oBAAkB44H,KACnBzzH,KAAK1F,OAAO8J,eAAe,SAAUgvF,EAAOqgC,EAAWj1H,iBAAiB,GACxEwB,KAAK1F,OAAO8J,eAAe,cAAekvH,EAAKG,EAAWj1H,iBAAiB,GAC3EwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWlE,GAAI64F,EAAOqgC,GAAY,GACzEzzH,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWlE,GAAI64F,EAAOqgC,EAAWt1H,UAAU,IAEtF4W,EAAIw+G,GAAUD,EACVG,EAAWh3G,iBAAmBzc,KAAK1F,OAAOmE,WAAWkY,SAErD,IAAK,GADDuG,GAAeu2G,EAAWv2G,aACrBxa,EAAQ,EAAGA,EAAQwa,EAAavhB,OAAQ+G,IAAS,CACtD,GAAIgsB,GAAcxR,EAAaxa,EAC/BgsB,GAAY1uB,KAAK1F,OAAOmE,WAAWkY,UAAYy8E,EAC/CpzF,KAAK1F,OAAOkb,gBAAgBqvB,gBAAgBnW,IAGpD,GAAI1uB,KAAK1F,OAAOmE,WAAW2a,aAAeve,oBAAkB44H,EAAWj1H,gBAAgBsd,aAGnF,IAAK,GAFDJ,GAAe+3G,EAAWj1H,gBAAgBsd,YAC1C43G,MAAqB,GAChB51H,EAAI,EAAGA,EAAI4d,EAAa/f,OAAQmC,IAAK,CAC1C,GAAIge,GAAcJ,EAAa5d,EAC3Bge,GAAYha,KAAOuxH,EACnBK,EAAqB1zH,KAAK1F,OAAOyO,SAASgM,EAAIjI,QAAQgP,EAAY/Z,OAE7D+Z,EAAY/Z,OAASsxH,IAC1BK,EAAqB1zH,KAAK1F,OAAOyO,SAASgM,EAAIjI,QAAQgP,EAAYha,MAEtE9B,KAAK2zH,4BAA4BD,EAAoBL,EAAKC,GAGlEtzH,KAAK1F,OAAO4H,SAAS+S,cACrBjV,KAAK1F,OAAO4H,SAASsoF,aAIjCsM,EAAKr2F,UAAUkzH,4BAA8B,SAAUD,EAAoBL,EAAKC,GAC5E,GAAItzH,KAAK1F,OAAOyO,SAAS+D,QAAQ4mH,IAAuB,EAEpD,IAAK,GADDrM,GAAOqM,EAAmBl1H,gBAAgBsd,YACrCrQ,EAAI,EAAGA,EAAI47G,EAAK1rH,OAAQ8P,IAAK,CAClC,GAAI+lE,GAAM61C,EAAK57G,EACX+lE,GAAI1vE,KAAOuxH,EACX7hD,EAAI1vE,GAAKwxH,EAEJ9hD,EAAIzvE,OAASsxH,IAClB7hD,EAAIzvE,KAAOuxH,GAIvBtzH,KAAKkzH,wBAAwBQ,EAAoBA,EAAmBl1H,gBAAgBsd,cAExFg7E,EAAKr2F,UAAUywH,mBAAqB,SAAU3yH,GAG1C,IAAK,GAFD0S,GAAQjR,KACRkd,EAAe3e,EAAO2e,aACjB6sC,EAAI,EAAGA,EAAI7sC,EAAavhB,OAAQouD,IAAK,CAC1C,GAAIr7B,GAAcxR,EAAa6sC,EAC/B,KAAsD,IAAlD/pD,KAAKunE,mBAAmBz6D,QAAQ4hB,GAApC,CAGA,GAAI5S,GAAc4S,EAAYlwB,gBAAgBsd,YAC1C62G,GAAuB,EACvBlpH,EAAazJ,KAAK1F,OAAOoP,cAAcglB,EAAYllB,WAC1B,kBAAzBxJ,KAAK1F,OAAOyd,UAA+BtO,GAAcA,EAAWjL,gBAAgByoB,WACpFjnB,KAAK1F,OAAOoW,UAAUC,YAAY,oBAClCgiH,GAAuB,GAEvB72G,GAAeA,EAAYngB,QAAUg3H,GACrC3yH,KAAK4yH,0BAA0BlkG,IAE9B7zB,oBAAkB6zB,EAAYlwB,gBAAgBsb,sBAC/C4U,EAAYlwB,gBAAgBsb,oBAAoBne,OAAS,EACzD+yB,EAAYlwB,gBAAgBsb,oBAAoBxH,QAAQ,SAAU6K,GAC9DlM,EAAMs2D,mBAAmBjpE,KAAK2S,EAAM3W,OAAO+O,kBAAkB4H,EAAM3W,OAAOwL,QAAQvL,GAAK,SAAW4iB,MAItGnd,KAAKunE,mBAAmBjpE,KAAKowB,GAE7BA,EAAYjS,iBACZzc,KAAKkxH,mBAAmBxiG,MAIpCooE,EAAKr2F,UAAU4wH,qBAAuB,SAAUD,GAC5C,GAAIl2H,EAEAA,GADA8E,KAAK1F,OAAOY,qBAAsBC,eACrB6E,KAAK1F,OAAOY,WAAWA,WAAWkkB,KAGlCpf,KAAK1F,OAAOY,WAE7B8E,KAAK4zH,WAAW14H,EAAYk2H,GAC5BpxH,KAAKmqH,aAAc,GAEvBrzB,EAAKr2F,UAAUmzH,WAAa,SAAUC,EAAgBt1H,GAClD,IAAK,GAAIT,GAAI,EAAGA,EAAI+1H,EAAel4H,SAC3BqE,KAAKmqH,YAD8BrsH,IAIvC,IAA2F,IAAvFS,EAAOuO,QAAQpN,WAASM,KAAK1F,OAAOmE,WAAWlE,GAAIs5H,EAAe/1H,IAAIG,YAAoB,CAC1F,GAAI41H,EAAe/1H,GAAGkC,KAAK1F,OAAOmE,WAAWqY,OAAQ,CAC7CoG,EAAe22G,EAAe/1H,GAAGkC,KAAK1F,OAAOmE,WAAWqY,MAC5D9W,MAAK4zH,WAAW12G,EAAc3e,GAIlC,GAFAA,EAAO8pB,OAAO9pB,EAAOuO,QAAQpN,WAASM,KAAK1F,OAAOmE,WAAWlE,GAAIs5H,EAAe/1H,IAAIG,YAAa,GACjG41H,EAAexrG,OAAOvqB,EAAG,GACH,IAAlBS,EAAO5C,OAAc,CACrBqE,KAAKmqH,aAAc,CACnB,YAGH,IAAI0J,EAAe/1H,GAAGkC,KAAK1F,OAAOmE,WAAWqY,OAAQ,CACtD,GAAIoG,GAAe22G,EAAe/1H,GAAGkC,KAAK1F,OAAOmE,WAAWqY,MAC5D9W,MAAK4zH,WAAW12G,EAAc3e,KAI1Cu4F,EAAKr2F,UAAUuyH,qBAAuB,SAAUh0H,GAC5C,GAAIiS,GAAQjR,IACZA,MAAK1F,OAAOm7B,aACZ,IAAI73B,KACJA,GAAUi5B,YAAc,eACxBj5B,EAAUG,KAAOiB,EAAK8zH,wBACtBl1H,EAAUwgD,gBAAkBp/C,EAAK+zH,wBACjCn1H,EAAUk0D,iBAAmBr0D,EAAYuB,EAAK+zH,wBAAyB,KAAM,KAAM/yH,KAAK1F,QACxF0F,KAAK1F,OAAOgc,QAAQ,cAAe1Y,EAAW,SAAU6wH,GACpD,GAAIA,EAAS7vF,OAAQ,CAEjB,IAAK,GADD2wF,GAAgBt+G,EAAMs2D,mBACjBj0D,EAAI,EAAGA,EAAIi8G,EAAc5zH,OAAQ2X,IACtCi8G,EAAcj8G,GAAG0b,UAAW,CAEhC/d,GAAMs2D,sBACNt2D,EAAMk4F,0BACNl4F,EAAM3W,OAAO6pD,oBAAmB,GAChClzC,EAAM3W,OAAOu7B,kBASb,IANKh7B,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKbv4B,EAAaiU,EAAM3W,OAAOY,YAAa,CACvC,GAAIwrB,GAASzV,EAAM3W,OAAOY,UACtB+V,GAAM3W,OAAO8D,UACbqwH,EAASrwE,gBAAgB9rC,QAAQ,SAAUwhH,GACvCz1H,EAAYy1H,EAAgB7iH,EAAM3W,SAG1C,IAAIy5H,IACAC,eAAgBv2H,EAAYgxH,EAAS1wH,KAAM,KAAM,KAAMkT,EAAM3W,QAC7Dq0H,eAAgBF,EAAS38D,kBAEzB70D,EAAUypB,EAAOzpB,QACjBg3H,EAAUhjH,EAAM3W,OAAOwb,gBAAiBC,SAAQ9E,EAAM3W,OAAOwb,MAAQ,GAAIC,QAC7E,IAAM9Y,YAAmBG,kBAAiBH,YAAmBC,kBAAiBwpB,EAAOxrB,WAAW4zH,SAK3F,CAGD,IAAK,GADDoF,GAAa,KACRp2H,EAAI,EAAGA,EAAIi2H,EAA4B,eAAEp4H,OAAQmC,IACtDo2H,EAAaxtG,EAAO/nB,OAAOsS,EAAM3W,OAAOmE,WAAWlE,GAAIw5H,EAA4B,eAAEj2H,GAAI,KAAMm2H,EAEnGC,GAAW/9G,KAAK,WAOZ,IAAK,GAAIrY,GAAIi2H,EAA4B,eAAEp4H,OAAS,EAAGmC,GAAK,EAAGA,KALjD,SAAUA,GAChBi2H,EAA8B,eAAEtlG,KAAK,SAAUlwB,GAAU,MAAOA,GAAO0S,EAAM3W,OAAOmE,WAAWlE,MAAQw5H,EAA4B,eAAEj2H,GAAG4X,UACxIq+G,EAA4B,eAAE1rG,OAAOvqB,EAAG,IAIpCA,EAEK4oB,GAAO4mE,OAAOr8E,EAAM3W,OAAOmE,WAAWlE,GAAIw5H,EAA4B,eAAG,KAAME,GACrF99G,KAAK,WAAc,MAAOlF,GAAMkjH,cAAcn1H,KACpDqX,MAAM,SAAUD,GAAK,MAAOnF,GAAMg+G,UAAU74G,EAAGpX,OACrDqX,MAAM,SAAUD,GAAK,MAAOnF,GAAMg+G,UAAU74G,EAAGpX,SAvBvC0nB,GAAOqoG,YAAYgF,EAAe9iH,EAAM3W,OAAOmE,WAAWlE,GAAI,KAAM05H,GAC1E99G,KAAK,WAAc,MAAOlF,GAAMkjH,cAAcn1H,KAC9CqX,MAAM,SAAUD,GAAK,MAAOnF,GAAMg+G,UAAU74G,EAAGpX,SAyBxDiS,GAAMkjH,cAAcn1H,MAKpC83F,EAAKr2F,UAAU0zH,cAAgB,SAAUn1H,GAKrC,IAAK,GAJDiS,GAAQjR,KACR+I,EAAW/I,KAAK1F,OAAOyO,SACvBi1D,EAAch+D,KAAK1F,OAAOwX,gBAC1BkiH,KACKl2H,EAAI,EAAGA,EAAIkB,EAAK8zH,wBAAwBn3H,OAAQmC,IACrD,GAA6B,gBAAzBkC,KAAK1F,OAAOyd,SAA4B,CACpCxZ,EAASyB,KAAK1F,OAAO4gC,cAAcl8B,EAAK8zH,wBAAwBh1H,GAAGU,gBAAgBkX,OAClF7a,qBAAkB0D,IACnBy1H,EAAe11H,KAAKC,OAGvB,CACD,GACIke,GAAkBzd,EAAK8zH,wBAAwBh1H,GAAG2e,gBAClD23G,EAAmBp1H,EAAK8zH,wBAAwBh1H,GAAGU,gBAAgByoB,WAAajnB,KAAK1F,OAAOoW,UAAUC,YAAY,kBAClH0jH,GAAer1H,EAAK8zH,wBAAwBh1H,GAAGohB,QACnD,IAAIzC,GAAmB23G,GAAoBC,EASvC,MARKx5H,qBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKhBv0B,KAAKunE,0BACLvnE,MAAK1F,OAAO6pD,oBAAmB,EAG/BnlD,GAAK8zH,wBAAwBh1H,GAAG2e,gBAC3B,IAAMzd,EAAK8zH,wBAAwBh1H,GAAGU,gBAAgBkX,OAGtD,IAAM1W,EAAK8zH,wBAAwBh1H,GAAGU,gBAAgBkX,OAE/Ds+G,EAAe11H,KAAK0B,KAAK1F,OAAO+O,kBAAkBrK,EAAK8zH,wBAAwBh1H,GAAGwL,WAG1F,GAAI8nH,KACJ,IAAI4C,EAAer4H,OAAS,EAAG,CAC3B,GAAI0Y,OAAc,GACd9V,MAAS,EAgBb,IAfIyB,KAAK1F,OAAOgd,sBACZjD,EAAcrU,KAAK1F,OAAOyO,SAAS+D,QAAQknH,EAAeA,EAAer4H,OAAS,IAClFqE,KAAK1F,OAAO8jF,uBAAyBp+E,KAAK1F,OAAOipD,iBAAmBlvC,EACpE9V,EAASyB,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOipD,iBAAmB,GAExDvjD,KAAK1F,OAAOy6B,gBAEb/0B,KAAK1F,OAAO8jF,uBAA0B/pE,GAAe2/G,EAAer4H,OAAS,MAIjF0Y,EAAcrU,KAAK1F,OAAOwX,gBAAgBhF,QAAQknH,EAAeA,EAAer4H,OAAS,IACzFqE,KAAK1F,OAAO8jF,uBAAyBp+E,KAAK1F,OAAOipD,iBAAmBlvC,EACpE9V,EAASyB,KAAK1F,OAAOwX,gBAAgB9R,KAAK1F,OAAOipD,iBAAmB,IAEnE1oD,oBAAkB0D,GAGlB,CACD,GAAI+1H,GAAkBt0H,KAAK1F,OAAOipD,iBAAmB,CACjD+wE,IAAmB,IACnBt0H,KAAK1F,OAAO2pD,iBAAmBjkD,KAAK1F,OAAOgd,qBACvCtX,KAAK1F,OAAOyO,SAASurH,GAAmBt0H,KAAK1F,OAAOwX,gBAAgBwiH,QAN5Et0H,MAAK1F,OAAO2pD,iBAAmB1lD,EAUvCyB,KAAK+jD,cAAgBiwE,CACrB,KAASl2H,EAAI,EAAGA,EAAIk2H,EAAer4H,OAAQmC,IAAK,CAC5C,GAAI23F,GAAeu+B,EAAel2H,GAC9BihG,MAAe,GACfw1B,MAAY,EACa,kBAAzBv0H,KAAK1F,OAAOyd,SACR09E,EAAah5E,iBACbsiF,EAAe/+F,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAM2oF,EAAaj3F,gBAAgBkX,OAAOzX,YACrFs2H,EAAYv0H,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAM2oF,EAAaj3F,gBAAgBkX,OAAOzX,cAGlF8gG,EAAe/+F,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAM2oF,EAAaj3F,gBAAgBkX,OAAOzX,YACrFs2H,EAAYv0H,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAM2oF,EAAaj3F,gBAAgBkX,OAAOzX,cAItF8gG,EAAe/gC,EAAYlxD,QAAQ2oF,GACnC8+B,EAAYxrH,EAAS+D,QAAQ2oF,GAEjC,IAAI++B,GAAsBx0H,KAAK1F,OAAO4H,SAAS+S,WAAWnI,QAAQ2oF,GAC9D/9E,EAAWhY,WAAS,0BAA2BM,KAAK1F,QACpDm6H,EAAY/8G,EAAS5K,QAAQ2oF,EAAat3F,UAC1C+sE,MAAa,EAUjB,KATsB,IAAlB6zB,GACA/gC,EAAY31C,OAAO02E,EAAc,IAElB,IAAfw1B,GACAxrH,EAASsf,OAAOksG,EAAW,IAEZ,IAAfE,GACA/8G,EAAS2Q,OAAOosG,EAAW,IAE1B55H,oBAAkB46F,GAAe,CAkBlC,GAjBA27B,EAAgB9yH,KAAKm3F,EAAaj3F,gBAAgBkX,OAAOzX,aACtC,IAAfs2H,IACAv0H,KAAK1F,OAAOya,IAAIsT,OAAOksG,EAAW,GACL,iBAAzBv0H,KAAK1F,OAAOyd,WACZ/X,KAAK1F,OAAOkf,aAAa6O,OAAOksG,EAAW,GACtC9+B,EAAah5E,kBACdg5E,EAAaj3F,gBAAgBia,aAAe,WACrCg9E,GAAaj3F,gBAAgBkrD,cACpC+rC,EAAaz1F,KAAK1F,OAAOmE,WAAWga,cAAgB,KACpDg9E,EAAaj3F,gBAAgBsb,6BACtB27E,GAAat3F,SAAS6B,KAAK1F,OAAOmE,WAAWga,iBAIrC,IAAvBg9E,EAAa77E,QAAwC,IAAzB46G,GAC5Bx0H,KAAK1F,OAAO4H,SAAS+S,WAAWoT,OAAOmsG,EAAqB,GAE5D/+B,EAAajsF,WAAY,CACzB,GAAIA,GAAaxJ,KAAK1F,OAAOoP,cAAc+rF,EAAajsF,WACxD,IAAIA,EAAY,CACZ,GAAI0T,GAAe1T,EAAW0T,cAEV,KADpBguD,EAAahuD,EAAapQ,QAAQ2oF,KAE9Bv4E,EAAamL,OAAO6iD,EAAY,GAE/BhuD,EAAavhB,QACdqE,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAOoF,IAIjExJ,KAAK8wH,uBAAuBr7B,EAAc,WAG9C27B,EAAgBz1H,OAAS,GACzBqE,KAAKqxH,qBAAqBD,GAE9BpxH,KAAK2vH,gBACL,IAAI/xH,KAoBJ,IAnBAoC,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO+e,kBAAkB4gB,+BAA+Bj6B,KAAK1F,OAAOyO,UACzE/I,KAAK1F,OAAO4H,SAAS+S,cACrBjV,KAAKymB,SAAU,EACXzmB,KAAK1F,OAAO4H,SAASc,aACrBhD,KAAK1F,OAAO4H,SAASc,WAAsB,WAAI,GAEnDhD,KAAK1F,OAAO4H,SAASsoF,UACjBxqF,KAAK1F,OAAOmkD,qBACZz+C,KAAK00H,+BAGT92H,EAAUi5B,YAAc,SACxBj5B,EAAUG,KAAOiB,EAAK8zH,wBACtBl1H,EAAUwgD,gBAAkBp/C,EAAK+zH,wBACjCn1H,EAAUk0D,iBAAmBr0D,EAAYuB,EAAK+zH,wBAAyB,KAAM,KAAM/yH,KAAK1F,QACxFwY,WAAS,SAAU9T,EAAK2wB,OAAQ/xB,GAChCoC,KAAK1F,OAAOy0B,YAAa,EACI,iBAAzB/uB,KAAK1F,OAAOyd,YAAiC/X,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,kBAAoB/b,KAAK1F,OAAOyhB,eAAoC,qBAAM/b,KAAK1F,OAAOyhB,eAAoC,qBAA+D,WAA1D/b,KAAK1F,OAAOyhB,eAA8B,cAAU,SAwC3Q,IAAK,GAvCD44G,GAA8B/2H,EAAUG,KAAK4b,OAAO,SAAU5b,GAC9D,OAAQA,EAAK0e,kBAqCb2M,EAASppB,KACJlC,EAAI,EAAGA,EAAI62H,EAA4Bh5H,OAAQmC,KApC1C,SAAUA,GACpB,GAAI0xF,GAAiBpmE,EAAO9uB,OAAOyO,SAAS4Q,OAAO,SAAU5b,GACzD,MAAOA,GAAKS,gBAAgByoB,WAAahW,EAAM3W,OAAOoW,UAAUC,YAAY,oBAC7E,GACCikH,IACAplC,KACAolC,EAAcplC,EAAetyE,aAAavD,OAAO,SAAU5b,GACvD,MAAOA,GAAKS,gBAAgBkX,SAAWi/G,EAA4B72H,GAAGU,gBAAgBkX,SAG9F,IAAIjM,GAAa2f,EAAO9uB,OAAOoP,cAAcirH,EAA4B72H,GAAG0L,WACxEC,IAAcA,EAAWjL,gBAAgByoB,WACzCmC,EAAO9uB,OAAOoW,UAAUC,YAAY,mBAA4C,IAAvBikH,EAAYj5H,OACrEytB,EAAOonG,wBAAwBmE,EAA4B72H,IAErD2L,GAAgBmrH,GAAsC,IAAvBA,EAAYj5H,QACjDytB,EAAOonG,wBAAwBmE,EAA4B72H,IAE/D0xF,EAAiBpmE,EAAO9uB,OAAOyO,SAAS4Q,OAAO,SAAU5b,GACrD,MAAOA,GAAKS,gBAAgByoB,WAAahW,EAAM3W,OAAOoW,UAAUC,YAAY,oBAC7E,EACH,IAAInH,GAAa4f,EAAO9uB,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GAC5D,MAAIA,GAAKS,gBAAgBkX,SAAWi/G,EAA4B72H,GAAGU,gBAAgBkX,SAC7E3X,EAAK0e,iBAAmB1e,EAAKyL,YAC5BgmF,EAAelmF,WAAavL,EAAKyL,WAAWF,SACxCvL,EAGA,MAGXyL,GAAW,IACX4f,EAAO9uB,OAAO+J,cAAc6nB,kBAAkB1iB,EAAW,KAKrD1L,EAGhBkC,MAAK1F,OAAOgc,QAAQ,iBAAkB1Y,GACtCoC,KAAKunE,sBACLvnE,KAAK1F,OAAO6pD,oBAAmB,GAC1BtpD,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKhBv0B,KAAK1F,OAAO4H,SAASmwF,aAOzByE,EAAKr2F,UAAU8tG,aAAe,WAC1B,GAAIx5F,GAA+B,iBAAzB/U,KAAK1F,OAAOyd,SAA8B/X,KAAK1F,OAAOkf,aAAexZ,KAAK1F,OAAOya,IAEvF8/G,EADQ9/G,EAAIpZ,OACQ,CACxB,IAA6B,iBAAzBqE,KAAK1F,OAAOyd,UACZ,KAAsC,IAAlChD,EAAIjI,QAAQ,IAAM+nH,KAAuD,IAAlC9/G,EAAIjI,QAAQ,IAAM+nH,MACzDA,GAAwB,GACc,IAAlC9/G,EAAIjI,QAAQ,IAAM+nH,KAAuD,IAAlC9/G,EAAIjI,QAAQ,IAAM+nH,IACzD,GACIA,GAAwB,SACe,IAAlC9/G,EAAIjI,QAAQ,IAAM+nH,KAAuD,IAAlC9/G,EAAIjI,QAAQ,IAAM+nH,QAK1E,KAA2C,IAAvC9/G,EAAIjI,QAAQ+nH,EAAU52H,cACtB42H,GAAwB,GACmB,IAAvC9/G,EAAIjI,QAAQ+nH,EAAU52H,aACtB,GACI42H,GAAwB,SACoB,IAAvC9/G,EAAIjI,QAAQ+nH,EAAU52H,YAI3C,OAAsE,eAAlE+B,KAAK1F,OAAO8K,cAAcpF,KAAK1F,OAAOmE,WAAWlE,IAAIqrD,SAC9CivE,EAAYA,EAAU52H,WAGtB42H,GAUf/9B,EAAKr2F,UAAUq0H,sBAAwB,SAAUz5H,EAAKy3F,GAClD,GACIv4F,GACAw6H,EAFAC,EAAYh1H,KAAK1F,OAAOmE,WAGxBsW,EAAM/U,KAAK1F,OAAOya,GA+BtB,IA7BI1Z,EAAI25H,EAAUz6H,OACqC,IAA/Cwa,EAAIjI,QAAQzR,EAAI25H,EAAUz6H,IAAI0D,YAC9B5C,EAAI25H,EAAUz6H,IAAM,MAIhBw6H,EAD+B,gBAAvB15H,GAAI25H,EAAUz6H,IACRc,EAAI25H,EAAUz6H,IAGdyD,SAAS3C,EAAI25H,EAAUz6H,IAAK,IAE9Cc,EAAI25H,EAAUz6H,IAAMM,oBAAkBk6H,GAAe,KAAOA,IAG/D15H,EAAI25H,EAAUz6H,MACfA,EAAKyF,KAAKuuG,eACVlzG,EAAI25H,EAAUz6H,IAAMA,GAEnByF,KAAK1F,OAAOiP,uBAA0BlO,EAAI25H,EAAUl6H,aACrDO,EAAI25H,EAAUl6H,WAAakF,KAAK1F,OAAOwO,mBAEtC9I,KAAK1F,OAAOiP,uBAAyByrH,EAAUh6H,UAAYH,oBAAkBQ,EAAI25H,EAAUh6H,aACvFK,EAAI25H,EAAUj6H,WACfM,EAAI25H,EAAUh6H,UAAY,MAG9Bg6H,EAAUz5G,WACVlgB,EAAI25H,EAAUz5G,UAAYlgB,EAAI25H,EAAUz5G,UAAalgB,EAAI25H,EAAUz5G,UAAY,IAAM,IAAMlgB,EAAI25H,EAAUz5G,UAAa,IAErHvb,KAAK1F,OAAOiP,wBAA0BlO,EAAI25H,EAAUj6H,UAAYi6H,EAAUj6H,UACtEM,EAAI25H,EAAUh6H,UAAW,CAC1B,GAAIF,GAAYkF,KAAK1F,OAAO+J,cAAczB,kBAAkB5C,KAAK1F,OAAOwO,iBACnEjO,qBAAkBC,KACnBA,EAAU4G,QAAQ5G,EAAUuB,UAAY,GACxChB,EAAI25H,EAAUj6H,SAAWiF,KAAK1F,OAAOsN,gBAAgB9M,EAAWkF,KAAK1F,OAAO6V,oBAc5F2mF,EAAKr2F,UAAUw0H,+BAAiC,SAAU55H,EAAKue,EAAOk5E,EAAatpF,EAAY0yB,GAC3F,GAAIy0F,GAAe3wH,KAAK1F,OAAO+J,cAAc4V,aAAa5e,EAAKue,EAC/D,QAAQk5E,GACJ,IAAK,QACD69B,EAAalxH,MAAQy8B,CACrB,MACJ,KAAK,QACL,IAAK,QACDy0F,EAAalxH,MAAQy8B,EAAW,CAChC,MACJ,KAAK,SACDy0F,EAAalxH,MAAQO,KAAK1F,OAAOgd,qBAAuBtX,KAAK1F,OAAOyO,SAASpN,OAASqE,KAAK1F,OAAOwX,gBAAgBnW,MAClH,MACJ,KAAK,MACDg1H,EAAalxH,MAAQ,EAK7B,IAAK5E,oBAAkB2O,GAAa,CAChCxJ,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAK1F,OAAO+J,cAAckY,eAAe/S,GAAamnH,EAC3FuE,GAASvE,EAAannH,WAAamnH,EAAannH,WAAW/J,MAAQ,IACvEO,MAAK1F,OAAO8J,eAAe,cAAe8wH,EAAQvE,EAC9Cn0G,GAAem0G,EAAannH,WAAamnH,EAAannH,WAAWF,SAAW,IAChFtJ,MAAK1F,OAAO8J,eAAe,iBAAkBoY,EAAcm0G,GACtD91H,oBAAkBmF,KAAK1F,OAAOmE,WAAWlE,KACzCM,oBAAkBmF,KAAK1F,OAAOmE,WAAWkY,YAAag6G,EAAannH,aACvC,gBAAzBxJ,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWkY,SAAUg6G,EAAannH,WAAWkM,OAAQi7G,EAAaxyH,UAAU,GAEvH6B,KAAK1F,OAAO8J,eAAe,WAAYusH,EAAannH,WAAWkM,OAAQi7G,EAAanyH,iBAAiB,GACrGwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWkY,SAAUg6G,EAAannH,WAAWkM,OAAQi7G,GAAc,IAIlH,GADA3wH,KAAK1F,OAAOwkB,UAAW,EACnB9e,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBAC9E,GAAI1gB,EAAqB,gBAAG,CAGxB,IAAK,GAFDg3H,MACAtgC,EAAgB/xF,KAAK1F,OAAOyhB,eAA8B,cAAyB,sBAC9Eje,EAAI,EAAGA,EAAIzC,EAAkB,aAAEM,OAAQmC,IAC5CkC,KAAKqxB,IAAIh2B,EAAkB,aAAEyC,GAAIu0H,EAErC,KAAK,GAAI5mH,GAAI,EAAGA,EAAIsmF,EAAcp2F,OAAQ8P,IACtC,GAAIpQ,EAAqB,gBAAEqa,SAAWq8E,EAActmF,GAAS,KAAEjN,gBAAgBkX,OAAQ,CAC9C,UAAjCq8E,EAActmF,GAAa,SAC3BqnF,EAAc,QAEwB,UAAjCf,EAActmF,GAAa,SAChCqnF,EAAc,QAEwB,UAAjCf,EAActmF,GAAa,WAChCqnF,EAAc,SAElB9yF,KAAKm1H,8BAA8BxE,EAAc79B,EAAatpF,EAC9D,KAAS1L,EAAI,EAAGA,EAAIu0H,EAAa12H,OAAQmC,IACR,gBAAzBkC,KAAK1F,OAAOyd,SACRs6G,EAAav0H,GAAG0L,WAAWkM,SAAWi7G,EAAanyH,gBAAgBkX,SACnE28G,EAAav0H,GAAG0L,WAAW/J,MAAQkxH,EAAalxH,MAChD4yH,EAAav0H,GAAG0L,WAAWkM,OAASi7G,EAAanyH,gBAAgBkX,OACjE28G,EAAav0H,GAAG0L,WAAWF,SAAWqnH,EAAanyH,gBAAgB8K,SACnE+oH,EAAav0H,GAAG8kE,eAAiB+tD,EAAanyH,gBAAgB8K,WAIlE+oH,EAAav0H,GAAG0L,WAAW/J,MAAQkxH,EAAalxH,MAChD4yH,EAAav0H,GAAG0L,WAAWkM,OAASi7G,EAAanyH,gBAAgBqb,YACjEw4G,EAAav0H,GAAG0L,WAAWF,SAAWqnH,EAAanyH,gBAAgB8K,SACnE+oH,EAAav0H,GAAG8kE,eAAiB+tD,EAAanyH,gBAAgB8K,SAGtE,OAGRtJ,KAAKo1H,mBAAqBzE,EAC1BA,EAAaxyH,SAAS6B,KAAK1F,OAAOmE,WAAWqY,SAC7C,KAAK,GAAIoL,GAAI,EAAGA,EAAImwG,EAAa12H,OAAQumB,IAAK,CAC1CliB,KAAK1F,OAAOwkB,UAAW,CACvB,IAAIu2G,GAAYr1H,KAAK1F,OAAO+J,cAAc4V,aAAao4G,EAAanwG,GAAImwG,EAAanwG,GAAGtI,MAKxF,IAJsC,IAAlCy7G,EAAUn4G,aAAavhB,QAAgB05H,EAAUl3H,SAAS6B,KAAK1F,OAAOmE,WAAWqY,SACjFu+G,EAAUl3H,SAAS6B,KAAK1F,OAAOmE,WAAWqY,WAE9CtN,EAAaxJ,KAAK1F,OAAO4gC,cAAcm3F,EAAanwG,GAAG1Y,WAAWkM,SAC7D7a,oBAAkB2O,GAAa,CAChCxJ,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAK1F,OAAO+J,cAAckY,eAAe/S,GAAa6rH,EAC/F,IAAIH,GAASG,EAAU7rH,WAAa6rH,EAAU7rH,WAAW/J,MAAQ,IACjEO,MAAK1F,OAAO8J,eAAe,cAAe8wH,EAAQG,EAClD,IAAI74G,GAAe64G,EAAU7rH,WAAa6rH,EAAU7rH,WAAWF,SAAW,IAC1EtJ,MAAK1F,OAAO8J,eAAe,iBAAkBoY,EAAc64G,GACtDx6H,oBAAkBmF,KAAK1F,OAAOmE,WAAWlE,KACzCM,oBAAkBmF,KAAK1F,OAAOmE,WAAWkY,YAAa0+G,EAAU7rH,aACpC,gBAAzBxJ,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWkY,SAAU0+G,EAAU7rH,WAAWkM,OAAQ2/G,EAAUl3H,UAAU,GAEjH6B,KAAK1F,OAAO8J,eAAe,WAAYixH,EAAU7rH,WAAWkM,OAAQ2/G,EAAU72H,iBAAiB,GAC/FwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAWkY,SAAU0+G,EAAU7rH,WAAWkM,OAAQ2/G,GAAW,IAG5Gr1H,KAAK1F,OAAOwkB,UAAW,EACnBu2G,EAAU7rH,aAENspF,EADmC,IAAnCtpF,EAAW0T,aAAavhB,OACV,QAGA,SAGlBqE,KAAK1F,OAAOoP,cAAc2rH,EAAU7rH,YAAY0T,aAAavhB,OAAS,IACtEqE,KAAKo1H,mBAAqBp1H,KAAK1F,OAAOoP,cAAc2rH,EAAU7rH,YAAY0T,aAAald,KAAK1F,OAAOoP,cAAc2rH,EAAU7rH,YAAY0T,aAAavhB,OAAS,IAEjKqE,KAAKm1H,8BAA8BE,EAAWviC,EAAatpF,EAC3D,KAAS1L,EAAI,EAAGA,EAAIu0H,EAAa12H,OAAQmC,IACR,gBAAzBkC,KAAK1F,OAAOyd,SACRs6G,EAAav0H,GAAG0L,WAAWkM,SAAW2/G,EAAU72H,gBAAgBkX,SAChE28G,EAAav0H,GAAG0L,WAAW/J,MAAQ41H,EAAU51H,MAC7C4yH,EAAav0H,GAAG0L,WAAWkM,OAAS2/G,EAAU72H,gBAAgBkX,OAC9D28G,EAAav0H,GAAG0L,WAAWF,SAAW+rH,EAAU72H,gBAAgB8K,SAChE+oH,EAAav0H,GAAG8kE,eAAiByyD,EAAU72H,gBAAgB8K,WAI/D+oH,EAAav0H,GAAG0L,WAAW/J,MAAQkxH,EAAalxH,MAChD4yH,EAAav0H,GAAG0L,WAAWkM,OAASi7G,EAAanyH,gBAAgBqb,YACjEw4G,EAAav0H,GAAG0L,WAAWF,SAAWqnH,EAAanyH,gBAAgB8K,SACnE+oH,EAAav0H,GAAG8kE,eAAiB+tD,EAAanyH,gBAAgB8K,eAM1EtJ,MAAKm1H,8BAA8BxE,EAAc79B,EAAatpF,OAIlExJ,MAAKm1H,8BAA8BxE,EAAc79B,EAAatpF,EAclE,OAXIxJ,MAAK1F,OAAOmE,WAAW2a,YAAcu3G,EAAanyH,gBAAgB6d,mBAC7Drc,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAChF/b,KAAK1F,OAAO+e,kBAAkBooD,kCAAkCkvD,EAAcA,EAAanyH,iBAE/FwB,KAAK1F,OAAO+e,kBAAkB4rD,wBAAwB0rD,GACtD3wH,KAAK1F,OAAO+e,kBAAkBqsD,yBAAyBirD,IAEvDA,EAAannH,YAAcxJ,KAAK1F,OAAOoP,cAAcinH,EAAannH,YAAYhL,gBAAgBmC,gBAC9FX,KAAK1F,OAAO+J,cAAc6nB,kBAAkBykG,EAAannH,YAE7DxJ,KAAK1F,OAAOwkB,UAAW,EAChB6xG,GAQX75B,EAAKr2F,UAAUgxH,cAAgB,SAAUlzH,EAAQmE,GAC7C,GAAIq4B,EACJ,KAAKx8B,EAAOke,gBACR,MAAO,EAEX,KAAK,GAAI3e,GAAI,EAAGA,EAAIS,EAAO2e,aAAavhB,OAAQmC,IAE5C4E,KADAq4B,EAAgBx8B,EAAO2e,aAAapf,IAElB2e,kBACd/Z,EAAQ1C,KAAKyxH,cAAc12F,EAAer4B,GAGlD,OAAOA,IASXo0F,EAAKr2F,UAAU60H,2BAA6B,SAAUv3H,EAAM2E,EAAOnD,GAC/D,GAAI2d,GACAvhB,CACJ,IAAIoC,EAAK0e,gBAAiB,CAEtB9gB,GADAuhB,EAAenf,EAAKmf,cACEvhB,MACtB,KAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,KACqB,IAAzCyB,EAAWuN,QAAQoQ,EAAapf,KAChC4E,IAEAwa,EAAapf,GAAG2e,kBAChB/Z,EAAQ1C,KAAKs1H,2BAA2Bp4G,EAAapf,GAAI4E,EAAOnD,SAKtC,IAA9BA,EAAWuN,QAAQ/O,IACnB2E,GAGR,OAAOA,IAOXo0F,EAAKr2F,UAAU80H,iCAAmC,SAAUn5F,GAQxD,IAAK,GAJD1N,GACAmvE,EAEAh0B,EANAw3B,EAAMjlE,EAAa59B,gBAAgBsd,YAAYngB,OAC/C65H,EAAuBp5F,EAAa59B,gBACpC8mE,EAAwBkwD,EAAqB15G,YAG7C25G,KAEK/yH,EAAQ,EAAGA,EAAQ2+F,EAAK3+F,IAAS,CACtC,GAAIogE,GAAa9iE,KAAK1F,OAAO4gC,cAAcoqC,EAAsB5iE,GAAOX,MACpEghE,EAAW/iE,KAAK1F,OAAO4gC,cAAcoqC,EAAsB5iE,GAAOZ,GAEtE,MADA+nE,EAAmB7pE,KAAK1F,OAAO+e,kBAAkBwpD,0BAA0BC,EAAYC,MAC7D/iE,KAAK1F,OAAOqgB,sBAClC,GAAI2qD,EAAsB5iE,GAAOZ,KAAO0zH,EAAqB37G,YAAY5b,WAAY,CACjFywB,EAAc1uB,KAAK1F,OAAO4gC,cAAcoqC,EAAsB5iE,GAAOX,MACrE87F,EAAmBz+F,EAASkmE,EAAsB5iE,GAAQ,OAAQgsB,EAAYlwB,gBAAgBsd,YAAa,KAE3G,IAAI45G,GAA0Bx3H,YAAWwwB,EAAYlwB,gBAAgBsd,gBAAiB,EACtF45G,GAAuBrtG,OAAOw1E,EAAkB,GAChD79F,KAAK1F,OAAO8J,eAAe,cAAesxH,EAAwBhnG,EAAYlwB,iBAAiB,OAE9F,IAAI8mE,EAAsB5iE,GAAOX,OAASyzH,EAAqB37G,YAAY5b,WAAY,CAExF,GAAI03H,IADJjnG,EAAc1uB,KAAK1F,OAAO4gC,cAAcoqC,EAAsB5iE,GAAOZ,KACzCtD,gBAAgB6d,iBAAiBpe,WAAY0K,MAAM,KAC3E5J,EAAMumE,EAAsB5iE,GAAOX,KAAOujE,EAAsB5iE,GAAO0N,KACvEuiF,EAAMgjC,EAAS7oH,QAAQ/N,EAC3B42H,GAASttG,OAAOsqE,EAAK,GACrB3yF,KAAK1F,OAAO8J,eAAe,mBAAoBuxH,EAAS1vG,KAAK,KAAMyI,EAAYlwB,iBAAiB,GAChGwB,KAAK1F,OAAO8J,eAAepE,KAAK1F,OAAOmE,WAAW2a,WAAYu8G,EAAS1vG,KAAK,KAAMyI,GAClFmvE,EAAmBz+F,EAASkmE,EAAsB5iE,GAAQ,OAAQgsB,EAAYlwB,gBAAgBsd,YAAa,KAE3G,IAAI85G,GAA6B13H,YAAWwwB,EAAYlwB,gBAAgBsd,gBAAiB,EACzF85G,GAA0BvtG,OAAOw1E,EAAkB,GACnD79F,KAAK1F,OAAO8J,eAAe,cAAewxH,EAA2BlnG,EAAYlwB,iBAAiB,GAClGwB,KAAK1F,OAAO+e,kBAAkBqsD,yBAAyBh3C,IAI9Dm7C,GAAqB7pE,KAAK1F,OAAOqgB,wBAClC3a,KAAK1F,OAAO8J,eAAe,cAAeqxH,EAAoBr5F,EAAa59B,iBAAiB,GAC5FwB,KAAK1F,OAAO8J,eAAe,mBAAoB,GAAIg4B,EAAa59B,iBAAiB,KAUzFs4F,EAAKr2F,UAAU00H,8BAAgC,SAAU52H,EAAQu0F,EAAatpF,GAC1E,GAGIqsH,GACAxhH,EACAyhH,EALA/F,EAAc/vH,KAAK1F,OAAOyO,SAC1B+I,EAAkB9R,KAAK1F,OAAOwX,gBAC9BiD,EAAM/U,KAAK1F,OAAOya,GAKtB,QAAQ+9E,GACJ,IAAK,MACDi9B,EAAY1nG,OAAO,EAAG,EAAG9pB,GACzBuT,EAAgBuW,OAAO,EAAG,EAAG9pB,GAC7BwW,EAAIsT,OAAO,EAAG,EAAG9pB,EAAOC,gBAAgBqb,YAAY5b,WACpD,MACJ,KAAK,SAID,GAHA8xH,EAAYzxH,KAAKC,GACjBuT,EAAgBxT,KAAKC,GACrBwW,EAAIzW,KAAKC,EAAOC,gBAAgBqb,YAAY5b,YACf,iBAAzB+B,KAAK1F,OAAOyd,SAA6B,CACzC,GAAIrC,GAA0B,IAAjBnX,EAAOqb,MAAc,IAAMrb,EAAOC,gBAAgBkX,OAAS,IAAMnX,EAAOC,gBAAgBkX,MACrG1V,MAAK1F,OAAOkf,aAAalb,KAAKoX,GAElC,KACJ,KAAK,QAEDrB,EAAc07G,EAAYjjH,QAAQ9M,KAAKo1H,oBACvCU,EAAyBhkH,EAAgBhF,QAAQ9M,KAAKo1H,oBACtDp1H,KAAK+1H,2BApBT7qD,GAoB4C72D,EAAayhH,EAAwBv3H,EAAQiL,EAAYspF,EACjG,MACJ,KAAK,QACD+iC,EAAmB9F,EAAYjjH,QAAQ9M,KAAKo1H,oBACxCp1H,KAAKo1H,mBAAmB34G,iBAExBpI,EAAcwhH,GADVG,EAAiBh2H,KAAKyxH,cAAczxH,KAAKo1H,mBAAoB,IACf,EAClDU,EAAyBhkH,EAAgBhF,QAAQ9M,KAAKo1H,oBAClDp1H,KAAKs1H,2BAA2Bt1H,KAAKo1H,mBAAoB,EAAGtjH,GAAmB,IAGnFuC,EAAcwhH,EAAmB,EACjCC,EAAyBhkH,EAAgBhF,QAAQ9M,KAAKo1H,oBAAsB,GAEhFp1H,KAAK+1H,uBAAuB7qD,IAAgB72D,EAAayhH,EAAwBv3H,EAAQiL,EAAYspF,EACrG,MACJ,KAAK,QAED,GADA+iC,EAAmB9F,EAAYjjH,QAAQ9M,KAAKo1H,oBACxCp1H,KAAKo1H,mBAAmB34G,gBAAiB,CACzC,GAAIu5G,GAAiBh2H,KAAKyxH,cAAczxH,KAAKo1H,mBAAoB,EACjE/gH,GAAcwhH,EAAmBG,EAAiB,EAE7Ch2H,KAAKo1H,mBAAmBl2G,UAAalf,KAAK1F,OAAO6hC,oBAClDn8B,KAAK1F,OAAOs4F,WAAW5yF,KAAKo1H,mBAAmB52H,gBAAgBqb,aAEnEi8G,EAAyBhkH,EAAgBhF,QAAQ9M,KAAKo1H,oBAClDp1H,KAAKs1H,2BAA2Bt1H,KAAKo1H,mBAAoB,EAAGtjH,GAAmB,MAGnF9R,MAAK1F,OAAO8J,eAAe,mBAAmB,EAAMpE,KAAKo1H,oBACzDp1H,KAAK1F,OAAO8J,eAAe,eAAe,EAAOpE,KAAKo1H,mBAAmB52H,iBAAiB,GAC1FwB,KAAK1F,OAAO8J,eAAe,YAAY,EAAMpE,KAAKo1H,oBAClDp1H,KAAK1F,OAAO8J,eAAe,kBAAoBpE,KAAKo1H,oBACpD/gH,EAAcwhH,EAAmB,EACjCC,EAAyBhkH,EAAgBhF,QAAQ9M,KAAKo1H,oBAAsB,EACxEp1H,KAAKo1H,mBAAmB52H,gBAAgBsd,aACxC9b,KAAKu1H,iCAAiCv1H,KAAKo1H,oBAE1Cv6H,oBAAkBmF,KAAKo1H,mBAAmB52H,gBAAgBmG,YAC3D3E,KAAKo1H,mBAAmB52H,gBAAgBmG,SAAW,KAG3D3E,MAAK+1H,uBAAuB7qD,IAAgB72D,EAAayhH,EAAwBv3H,EAAQiL,EAAYspF,GAG7G9yF,KAAKi2H,uBAAyB13H,GAYlCu4F,EAAKr2F,UAAUs1H,uBAAyB,SAAU7qD,EAAY72D,EAAayhH,EAAwBv3H,EAAQiL,EAAYspF,GACnH,GAAIi9B,GAAc/vH,KAAK1F,OAAOyO,SAC1B+I,EAAkB9R,KAAK1F,OAAOwX,gBAC9BiD,EAAM/U,KAAK1F,OAAOya,GAKtB,IAHAg7G,EAAY1nG,OAAOhU,EAAa,EAAG9V,GACnCuT,EAAgBuW,OAAOytG,EAAwB,EAAGv3H,GAClDwW,EAAIsT,OAAOhU,EAAa,EAAG9V,EAAOC,gBAAgBqb,YAAY5b,YACjC,iBAAzB+B,KAAK1F,OAAOyd,SAA6B,CACzC,GAAIrC,GAA0B,IAAjBnX,EAAOqb,MAAc,IAAMrb,EAAOC,gBAAgBkX,OAAS,IAAMnX,EAAOC,gBAAgBkX,MACrG1V,MAAK1F,OAAOkf,aAAa6O,OAAOhU,EAAa,EAAGqB,GAGpD,IAAK7a,oBAAkB2O,KAEf0hE,EADgB,UAAhB4nB,EACatpF,EAAW0T,aAAapQ,QAAQ9M,KAAKo1H,oBAE7B,UAAhBtiC,EACQtpF,EAAW0T,aAAapQ,QAAQ9M,KAAKo1H,oBAAsB,EAG3D5rH,EAAW0T,aAAavhB,OAGzC6N,EAAW0T,aAAamL,OAAO6iD,EAAY,EAAG3sE,GACzCyB,KAAK1F,OAAOmE,WAAWqY,QACxB9W,KAAK1F,OAAOmE,WAAWqY,MAAQ,YAE9B9W,KAAK1F,OAAOY,qBAAsBC,gBACnCN,oBAAkB2O,EAAWrL,SAAS6B,KAAK1F,OAAOmE,WAAWkY,aAC5D9b,oBAAkBmF,KAAK1F,OAAOY,aAAa,CAC5C,GAAI4b,GAAQ9W,KAAK1F,OAAOmE,WAAWqY,KAC/BtN,GAAWrL,SAAS2Y,IAAUtN,EAAWrL,SAAS2Y,GAAOnb,OAAS,EAC9C,UAAhBm3F,GAA2C,UAAhBA,EAC3BtpF,EAAWrL,SAAS2Y,GAAOuR,OAAO6iD,EAAY,EAAG3sE,EAAOJ,UAGxDqL,EAAWrL,SAAS2Y,GAAOxY,KAAKC,EAAOJ,WAI3CqL,EAAWrL,SAAS2Y,MACpBtN,EAAWrL,SAAS2Y,GAAOxY,KAAKC,EAAOJ,WAE3C6B,KAAK2pH,kBAAmB,IAWpC7yB,EAAKr2F,UAAUy1H,4BAA8B,SAAUvF,EAAcvyE,EAAiBhY,GAClF,GAAIxoC,KAEJ,IADAA,EAAU+xB,OAAS/xB,EAAUi5B,YAAcuP,EACvCuqF,EAAah1H,OAAS,EAAG,CACzBiC,EAAUG,QACVH,EAAUu4H,eACVv4H,EAAUyW,cACV,KAASvW,EAAI,EAAGA,EAAI6yH,EAAah1H,OAAQmC,IACrCF,EAAUG,KAAKD,GAAK6yH,EAAa7yH,GAChCF,EAAUu4H,YAAYr4H,GAAOL,GAAakzH,EAAa7yH,IAAKF,EAAUG,KAAKD,GAAIF,EAAWoC,KAAK1F,QAChGsD,EAAUyW,YAAYvW,GAAK6yH,EAAa7yH,GAAG2B,UAG9C,IAA4B,IAAxBkxH,EAAah1H,OAClB,IAAK,GAAImC,GAAI,EAAGA,EAAI6yH,EAAah1H,OAAQmC,IACpCF,OAAmB+yH,EAAa7yH,GAChCF,cAA0BH,GAAakzH,EAAa7yH,IAAKF,EAAUG,KAAMH,EAAWoC,KAAK1F,QAC1FsD,EAAUyW,YAAcs8G,EAAa7yH,GAAG2B,KAKhD,OAFA7B,GAAUwgD,gBAAkBA,EAC5BxgD,EAAUk0D,iBAAmBr0D,EAAY2gD,EAAiB,KAAM,KAAMp+C,KAAK1F,QACpEsD,GAOXk5F,EAAKr2F,UAAU21H,WAAa,SAAUp3H,GAGlCgB,KAAK1F,OAAO0/B,kCACZh6B,KAAK1F,OAAOy/B,oBACZ/5B,KAAK1F,OAAO+e,kBAAkB4gB,+BAA+Bj6B,KAAK1F,OAAOyO,UACzE/I,KAAK1F,OAAO4H,SAAS+S,cACrBjV,KAAK1F,OAAOgpD,iBAAkB,EAC9BtjD,KAAK1F,OAAO4H,SAA2B,kBAAI,EAC3ClC,KAAKymB,SAAU,EACXzmB,KAAK1F,OAAO4H,SAASc,aACrBhD,KAAK1F,OAAO4H,SAASc,WAAsB,WAAI,GAEnDhD,KAAK1F,OAAO4H,SAASsoF,UACjBxqF,KAAK1F,OAAOmkD,sBACZz+C,KAAK1F,OAAO8jD,gBAAkBp/C,EAAKo/C,gBACnCp+C,KAAK1F,OAAO8jD,gBAAgB9/C,KAAKU,EAAKjB,MACtCiC,KAAK00H,gCAET10H,KAAK1F,OAAO4H,SAASmwF,aAEzByE,EAAKr2F,UAAUi0H,6BAA+B,SAAU32H,EAAMs4H,GAC1D,IAAKA,IAAYx7H,oBAAkBkD,GAC/B,IAASD,EAAIC,EAAK,GAAG0B,MAAQ,EAAG3B,EAAIkC,KAAK1F,OAAOwX,gBAAgBnW,QACxDoC,EAAK,GAAG6b,MAAQ5Z,KAAK1F,OAAOwX,gBAAgBhU,GAAG8b,MADiB9b,IAEhEkC,KAAK1F,OAAO8jD,gBAAgB9/C,KAAK0B,KAAK1F,OAAOwX,gBAAgBhU,GA4BzE,KAAK,GADDgxB,GAAS9uB,KACJlC,EAAI,EAAGA,EAAIkC,KAAK1F,OAAO8jD,gBAAgBziD,OAAQmC,KArB1C,SAAUA,GACpB,GAAImwH,GAAen/F,EAAOx0B,OAAO8jD,gBAAgBtgD,GAC7Cw4H,EAAYxnG,EAAOx0B,OAAO0kE,sBAAwBlwC,EAAOx0B,OAAOgnC,oBAAsB,EAAI,EAC1Fi1F,EAAeznG,EAAOx0B,OAAOmE,WAAWlE,GACxCi8H,EAAgB1nG,EAAOx0B,OAAOwX,gBAAgBs7B,UAAU,SAAUrvC,GAClE,MAAQA,GAAKw4H,KAAkBtI,EAAasI,IAEhD,IAAIznG,EAAOx0B,OAAO4H,SAASgzB,UAAUshG,GAAgB,CACjD,GAAIv1F,GAAMnS,EAAOx0B,OAAO4H,SAASqvB,KAAKuuC,oBAAoBhxC,EAAOx0B,OAAO4H,SAASqvB,KAAKwuC,cAAcy2D,GAAe/yF,aAAa,YAChI3U,GAAOx0B,OAAO4H,SAASu0H,aAAaC,YAChC34H,KAAMkjC,EAAIljC,KACV44H,KAAM7nG,EAAOx0B,OAAO4H,SAASgzB,UAAUshG,GAAep1B,MAAMtyE,EAAOx0B,OAAO6lD,gBAAkBm2E,GAC5FrzF,OAAQnU,EAAOx0B,OAAO4H,SAASqvB,KAAKm3D,aAAa55D,EAAOx0B,OAAO6lD,iBAC/DtpB,YAAa,mBAEjB/H,EAAOx0B,OAAO4H,SAASu0H,aAAaG,aAChC74H,KAAMkwH,EAAchtF,IAAKnS,EAAOx0B,OAAO4H,SAASgzB,UAAUshG,GAAgBp1G,UAAW0N,EAAOx0B,OAAO8mB,cAMnGtjB,IAShBg5F,EAAKr2F,UAAUo2H,qBAAuB,SAAU3yE,EAAa4uC,GACzD,GAAIr0F,GAAauB,KAAK1F,OAAOmE,WACzBvD,EAAaD,EAAgB+E,KAAK1F,QAAUoF,WAAS,SAAUM,KAAK1F,OAAOY,YAC3E8E,KAAK1F,OAAOY,UACZ8E,MAAK1F,OAAOY,qBAAsBC,iBAClCD,EAAa8E,KAAK1F,OAAOY,WAAWA,WAAWkkB,KAEnD,KAAK,GAAIthB,GAAI,EAAGA,EAAIomD,EAAYvoD,OAAQmC,KAChCjD,oBAAkBi4F,IAAgBj4F,oBAAkBmF,KAAKo1H,uBACzDtiC,EAA8B,WAAhBA,EAA2B,SAAW,OAEpC,QAAhBA,EACA53F,EAAWmtB,OAAO,EAAG,EAAG67B,EAAYpmD,GAAGK,UAElB,WAAhB20F,EACL53F,EAAWoD,KAAK4lD,EAAYpmD,GAAGK,UAG1BtD,oBAAkB4D,EAAWlE,KAAQM,oBAAkB4D,EAAWkY,WAA6B,UAAhBm8E,GAI3E9yF,KAAK2pH,kBACN3pH,KAAK82H,wBAAwB57H,EAAYgpD,EAAYpmD,GAAGK,SAAU20F,GAEtE9yF,KAAK2pH,kBAAmB,GANxBzuH,EAAWoD,KAAK4lD,EAAYpmD,GAAGK,UASvC6B,KAAKmqH,aAAc,GAU3BrzB,EAAKr2F,UAAUq2H,wBAA0B,SAAUjD,EAAgBt1H,EAAQu0F,GACvE,IAAK,GAAIh1F,GAAI,EAAGA,EAAI+1H,EAAel4H,OAAQmC,IAAK,CAC5C,GAAIgZ,GAAQ9W,KAAK1F,OAAOmE,WAAWqY,KACnC,IAAI9W,KAAKmqH,YACL,KAEJ,IAAIzqH,WAASM,KAAK1F,OAAOmE,WAAWlE,GAAIs5H,EAAe/1H,IAAIG,aACvD+B,KAAKo1H,mBAAmB52H,gBAAgBqb,YAAY5b,WAAY,CAChE,GAAIwB,OAAQ,EACZ,IAAIO,KAAK1F,OAAO0kE,sBAAwBh/D,KAAK1F,OAAO0kE,qBAAoC,eAA8B,iBAAzBh/D,KAAK1F,OAAOyd,SACrG,IAAK,GAAI0kD,GAAM,EAAGA,EAAMo3D,EAAel4H,OAAQ8gE,IAC3C,GAAIo3D,EAAep3D,GAAKz8D,KAAK1F,OAAOmE,WAAWlE,MAAQyF,KAAK1F,OAAO0kE,qBAAoC,cAAExgE,gBAAgBkX,OAAQ,CAC7HjW,EAAQg9D,CACR,OAIQ,UAAhBq2B,EACIrzF,EACAo0H,EAAexrG,OAAO5oB,EAAO,EAAGlB,GAGhCs1H,EAAexrG,OAAOvqB,EAAG,EAAGS,GAGX,UAAhBu0F,EACDrzF,EACAo0H,EAAexrG,OAAO5oB,EAAQ,EAAG,EAAGlB,GAGpCs1H,EAAexrG,OAAOvqB,EAAI,EAAG,EAAGS,GAGf,UAAhBu0F,IACD+gC,EAAe/1H,GAAGgZ,IAAU+8G,EAAe/1H,GAAGgZ,GAAOnb,OAAS,EAC9Dk4H,EAAe/1H,GAAGgZ,GAAOxY,KAAKC,IAG9Bs1H,EAAe/1H,GAAGgZ,MAClB+8G,EAAe/1H,GAAGgZ,GAAOxY,KAAKC,KAGtCyB,KAAKmqH,aAAc,CACnB,OAEC,GAAI0J,EAAe/1H,GAAGgZ,GAAQ,CAC/B,GAAIoG,GAAe22G,EAAe/1H,GAAGgZ,EACrC9W,MAAK82H,wBAAwB55G,EAAc3e,EAAQu0F,MAa/DgE,EAAKr2F,UAAUs2H,2BAA6B,SAAU3gH,EAAGpX,GAGrD,IAAK,GAFDg4H,GAAsB5gH,EAAE6gH,aAAa,GACrC5H,EAAW5zH,OAAOC,KAAKs7H,GAAqBr7H,OACvC8P,EAAI,EAAGjQ,EAAKC,OAAOC,KAAKs7H,GAAsBvrH,EAAI4jH,EAAU5jH,IAAK,CACtE,GAAI7P,GAAMJ,EAAGwC,SAASyN,EAAExN,WAAY,IACpCe,GAAKjB,KAAK,GAAKnC,GAAOo7H,EAAoB,GAAKp7H,GAEjB,OAA9BoE,KAAK1F,OAAOmE,WAAWlE,KACvByE,EAAKjB,KAAKS,gBAAwB,OAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAWlE,KAEjD,OAAhCyF,KAAK1F,OAAOmE,WAAW4Z,OACvBrZ,EAAKjB,KAAKS,gBAA0B,SAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW4Z,OAE9C,OAArCrY,KAAK1F,OAAOmE,WAAW3D,YACvBkE,EAAKjB,KAAKS,gBAA2B,UAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW3D,YAEjD,OAAnCkF,KAAK1F,OAAOmE,WAAW1D,UACvBiE,EAAKjB,KAAKS,gBAAyB,QAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW1D,UAE9C,OAApCiF,KAAK1F,OAAOmE,WAAWzD,WACvBgE,EAAKjB,KAAKS,gBAA0B,SAAIqJ,WAAWmvH,EAAoBh3H,KAAK1F,OAAOmE,WAAWzD,YAEtD,OAAxCgF,KAAK1F,OAAOmE,WAAW0F,eACvBnF,EAAKjB,KAAKS,gBAA8B,aAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW0F,eAEnD,OAApCnE,KAAK1F,OAAOmE,WAAW8c,WACvBvc,EAAKjB,KAAKS,gBAA0B,SAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW8c,WAE7C,OAAtCvb,KAAK1F,OAAOmE,WAAW2a,aACvBpa,EAAKjB,KAAKS,gBAA4B,WAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAW2a,aAEjD,OAApCpZ,KAAK1F,OAAOmE,WAAWkY,WACvB3X,EAAKjB,KAAKS,gBAA0B,SAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAWkY,WAExC,OAA3C3W,KAAK1F,OAAOmE,WAAWG,kBACvBI,EAAKjB,KAAKS,gBAAiC,gBAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAWG,kBAE7C,OAA7CoB,KAAK1F,OAAOmE,WAAWI,oBACvBG,EAAKjB,KAAKS,gBAAmC,kBAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAWI,oBAEpD,OAAxCmB,KAAK1F,OAAOmE,WAAWga,eACvBzZ,EAAKjB,KAAKS,gBAA2B,UAAIw4H,EAAoBh3H,KAAK1F,OAAOmE,WAAWga,gBAG5Fq+E,EAAKr2F,UAAUy2H,qBAAuB,SAAU34H,EAAQS,GACpD,GAAIgB,KAAK1F,OAAOyhB,kBAAoB/b,KAAK1F,OAAOyhB,eAAoC,qBAAM/b,KAAK1F,OAAOyhB,eAAoC,qBAA+D,QAA1D/b,KAAK1F,OAAOyhB,eAA8B,cAAU,QAAwC,iBAAzB/b,KAAK1F,OAAOyd,WACvN/X,KAAK1F,OAA8B,sBAAE,OAAQ,CAChDiE,EAAe,OAAI,KAUnB,KAAK,GATD44H,GAAcn4H,EAAKjB,KAAKpC,OAAS,EACjCuC,eAAec,EAAKjB,MAAM,IAASiB,EAAKjB,MACxCq5H,KAMAhO,EAASppH,KACJlC,EAAI,EAAGA,EAAIq5H,EAAYx7H,OAAQmC,KAN1B,SAAUA,GACpBs5H,EAAYhO,EAAO9uH,OAAOyO,SAAS4Q,OAAO,SAAU5b,GAChD,MAAQo5H,GAAYr5H,GAAG2B,QAAU1B,EAAK0B,OAAS03H,EAAYr5H,GAAoB,gBAAE4X,SAAW3X,EAAKS,gBAAgBkX,UAK7G5X,EAEZS,GAAqB,aAAIL,eAAek5H,GAAU,GAClDp3H,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,IAYtHu4F,EAAKr2F,UAAUo7E,UAAY,SAAU99E,EAAM+0F,EAAa52D,GACpD,GAAIjrB,GAAQjR,KACRq3H,EAAar3H,KAAK1F,OAAOmE,WAAWlE,EACxC,IAAIyF,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO4kC,aAAa68C,YAAa,CAChE/7E,KAAK1F,OAAOssB,eAAgB,EAC5B5mB,KAAK1F,OAAO4H,SAA2B,kBAAI,EAC3ClC,KAAK1F,OAAO2jF,WAAY,CACxB,IAAIq5C,KACJ,IAAIz8H,oBAAkBkD,GAClBiC,KAAKu3H,qBAAqBx5H,EAAM+0F,EAAa52D,EAAUo7F,OAEtD,IAAIv5H,YAAgB0V,OACrB,GAAIzT,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBAAG,CACjF,GAAIy7G,GAAUz5H,EACV05H,EAAWv7F,CACc,kBAAzBl8B,KAAK1F,OAAOyd,WACgB,UAAxBha,EAAK,GAAa,SAClB+0F,EAAc,QAEe,UAAxB/0F,EAAK,GAAa,SACvB+0F,EAAc,QAEe,UAAxB/0F,EAAK,GAAa,WACvB+0F,EAAc,SAElB2kC,EAAWz3H,KAAK1F,OAAOga,QAAQxH,QAAQ/O,EAAK,GAAO,GAAEE,YACrDu5H,EAAUz5H,EAAK,GAAS,MAE5BiC,KAAKu3H,qBAAqBC,EAAS1kC,EAAa2kC,EAAUH,OAG1D,KAAK,GAAIx5H,GAAI,EAAGA,EAAIC,EAAKpC,OAAQmC,IAC7BkC,KAAKu3H,qBAAqBx5H,EAAKD,GAAIg1F,EAAa52D,EAAUo7F,OAIjE,CAAA,GAAsB,mBAIvB,MAHAt3H,MAAKu3H,qBAAqBx5H,EAAM+0F,EAAa52D,EAAUo7F,GAK3D,GAAIt4H,KACJA,GAAOgB,KAAKk2H,4BAA4BoB,EAAgBt3H,KAAK1F,OAAOu3D,cAAe,aAC9Eh3D,oBAAkBi4F,KACnB9zF,EAAK8zF,YAAcA,GAEnB9yF,KAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAA8B,sBAAE,SACrH0F,KAAK1F,OAAOyhB,eAA4B,aACxC/b,KAAK1F,OAAOyhB,eAA4B,cAE5C/b,KAAK1F,OAAOyhB,eAAqC,wBAErD/b,KAAK1F,OAAOgc,QAAQ,cAAetX,EAAM,SAAUA,GAC/CiS,EAAM3W,OAAO8uE,kBACb,IACIplE,GADA+kB,EAAQ9X,EAAM3W,OAAOmE,UAmBzB,IAfQuF,EAFsB,iBAA1BiN,EAAM3W,OAAOyd,SACT/Y,EAAKjB,KAAmB,aAAEpC,OAAS,EACvBsV,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOkf,aAAa1M,QAAQ,IAAM9N,EAAKjB,KAAKgrB,EAAMxuB,MAG9E0W,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOkf,aAAa1M,QAAQ,IAAM9N,EAAKjB,KAAKgrB,EAAMxuB,MAIlF0W,EAAM3W,OAAO4gC,cAAcl8B,EAAKjB,KAAKgrB,EAAMxuB,KAEtDM,oBAAkBmJ,KACnBiN,EAAM+wG,qBAAqBhjH,EAAKm3H,YAAanyH,GAAW,GACxDiN,EAAM3W,OAAOoE,qBAAqB6F,iBAAiBP,GACnDiN,EAAM3W,OAAO+J,cAAcwW,gBAAgB7W,GAC3CiN,EAAM3W,OAAO+J,cAAc6nB,kBAAkBloB,KAE5CnJ,oBAAkBmE,EAAKjB,KAAK,GAAKs5H,KAC9Br4H,EAAKjB,KAAKs5H,KAAgBr4H,EAAKjB,KAAsB,gBAAU,OAAG,CAClE,IAAK,GAAIxC,GAAK,EAAGwQ,EAAKtQ,OAAOC,KAAKuV,EAAM3W,OAAOya,KAAMxZ,EAAKwQ,EAAGpQ,OAAQJ,IAAM,CACvE,GAAIK,GAAMmQ,EAAGxQ,EACb,IAAI0V,EAAM3W,OAAOya,IAAInZ,KAASoD,EAAKjB,KAAsB,gBAAU,OAAEE,WAAY,CAC7EgT,EAAM3W,OAAOya,IAAInZ,GAAOoD,EAAKjB,KAAKs5H,GAAYp5H,UAC9C,QAGRe,EAAKjB,KAAsB,gBAAU,OAAIiB,EAAKjB,KAAKs5H,GACnDr4H,EAAKm3H,YAAYkB,GAAcr4H,EAAKjB,KAAKs5H,GACzCr4H,EAAKjB,KAAsB,gBAAe,YAAIiB,EAAKjB,KAAKs5H,GAAYp5H,WAG5E,GAAKe,EAAK4/B,OAiKN3tB,EAAMymH,oBACNzmH,EAAMk4F,0BACNl4F,EAAM0mH,uBAnKQ,CACT98H,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,aAKjB,IAAIh3B,KACJ,IAAIvB,EAAaiU,EAAM3W,OAAOY,YAAa,CACvC,GAAI08H,GAAS3mH,EAAM3W,OAAOY,WACtB28H,GACAZ,cAAej4H,EAAKm3H,aACpBxH,eAAgB3vH,EAAK8yD,kBAGrBh8C,EAAQ7E,EAAM3W,OAAOwb,gBAAiBC,SAAQ9E,EAAM3W,OAAOwb,MAAQ,GAAIC,SACvE9Y,EAAU26H,EAAO36H,OACrB,MAAMA,YAAmBG,kBAAiBH,YAAmBC,iBACzDD,YAAmBE,oBAAmBy6H,EAAO18H,WAAW4zH,SAE7C8I,EAAO7I,YAAY8I,EAAe5mH,EAAM3W,OAAOmE,WAAWlE,GAAI,KAAMub,GAC1EK,KAAK,SAAUC,GACZA,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,aAAee,EAAKjB,KAAsB,gBAAU,SAClGiB,EAAKjB,KAAsB,gBAAU,OAAIqY,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,WACvFe,EAAKm3H,YAAYkB,GAAcjhH,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,WAC7Ee,EAAKjB,KAAsB,gBAAe,YAAIqY,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,WAC5FgT,EAAM3W,OAAOya,IAAIzW,KAAK8X,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,YAExE,IAAI65H,GAAS94H,EAAKjB,KAAKS,gBAAgBkX,OAAOzX,UAC9C,IAAIgT,EAAM3W,OAAOmE,WAAWlE,KAAOM,oBAAkBub,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,MAC3F6b,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,aAAe65H,EAAQ,CACrE7mH,EAAM3W,OAAO8J,eAAe,SAAUgS,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAKyE,EAAKjB,KAAKS,iBAAiB,GAChHyS,EAAM3W,OAAO8J,eAAe,WAAYgS,EAAE6gH,aAAa,GAAIj4H,EAAKjB,MAChEkT,EAAM3W,OAAO8J,eAAe6M,EAAM3W,OAAOmE,WAAWlE,GAAI6b,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAKyE,EAAKjB,MAC5GkT,EAAM3W,OAAO8J,eAAe,cAAegS,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,WAAYe,EAAKjB,KAAKS,iBAAiB,GAChIyS,EAAM8lH,2BAA2B3gH,EAAGpX,EACpC,IAAI+4H,GAAW9mH,EAAM3W,OAAOya,IAAIjI,QAAQgrH,IACtB,IAAdC,IACA9mH,EAAM3W,OAAOya,IAAIgjH,GAAY3hH,EAAE6gH,aAAa,GAAGhmH,EAAM3W,OAAOmE,WAAWlE,IAAI0D,YAGnFgT,EAAM+mH,gBAAgBV,EAAgBt4H,KACvCqX,MAAM,SAAUD,GACfnF,EAAMymH,oBACNzmH,EAAMg+G,UAAU74G,EAAGpX,GACnBiS,EAAM0mH,yBAGT,CAEgBC,EAAOpzE,OAAOqzE,EAA0B,aAAG,KAAM/hH,GACvDK,KAAK,SAAUC,GACtB,GAAI6gH,EAKAA,GAJCp8H,oBAAkBub,EAAE,IAINyhH,EAA4B,aAAE,GAH9BzhH,EAAE,GAKrBkhH,EAAehlH,QAAQ,SAAU/T,GACxB1D,oBAAkB0D,KACnB0S,EAAMq+G,yBAAyB2H,EAAc14H,GAC7C0S,EAAM3W,OAAO+J,cAAcyW,eAAevc,MAGlD0S,EAAM+mH,gBAAgBV,EAAgBt4H,KACvCqX,MAAM,SAAUD,GACfnF,EAAMymH,oBACNzmH,EAAMg+G,UAAU74G,EAAGpX,GACnBiS,EAAM0mH,0BAIb,CACD,GAA8B,gBAA1B1mH,EAAM3W,OAAOyd,UACb,GAAqB,QAAhB+6E,GAAyC,WAAhBA,GACR,UAAhBA,GAA2C,UAAhBA,GAA2C,UAAhBA,GAA4Bj4F,oBAAkBi4F,KAAiB9zF,EAAKjB,KAAKyL,WACjI,GAAIxK,EAAKjB,eAAgB0V,OACrBxC,EAAM4lH,qBAAqB73H,EAAKjB,KAAM+0F,OAErC,CACD,GAAImlC,KACJA,GAAO35H,KAAKU,EAAKjB,MACjBkT,EAAM4lH,qBAAqBoB,EAAQnlC,GACnC7hF,EAAM3W,OAAO2pD,iBAAmBqzE,EAAe,SAKtCr8H,EAAgBgW,EAAM3W,QAAUoF,WAAS,SAAUuR,EAAM3W,OAAOY,YAC7E+V,EAAM3W,OAAOY,YACNoD,KAAKU,EAAKjB,KAAKI,SAM9B,IAJ6B,IAAzBm5H,EAAe19G,OACf3I,EAAM3W,OAAO4H,SAAS+S,WAAWoT,OAAO,EAAG,EAAGivG,GAElDrmH,EAAM6/G,uBAAuBwG,EAAgB,OACf,iBAA1BrmH,EAAM3W,OAAOyd,UAA+B9G,EAAM3W,OAAOyhB,gBAAkB9K,EAAM3W,OAAOyhB,eAA8B,cAAG,CACzH,GAAIm8G,IAAY,CAYhB,IAXIl5H,EAAKjB,KAAsB,gBAC3Bm6H,GAAY,EAGRl5H,EAAKjB,KAAiB,YACLkT,EAAM3W,OAAO+O,kBAAkBrK,EAAKjB,KAAiB,WAAEuL,UACzD9K,gBAAgByoB,WAAahW,EAAM3W,OAAOoW,UAAUC,YAAY,oBAC3EunH,GAAY,IAIoB,IAAxCjnH,EAAM3W,OAAOga,QAAQxH,QAAQ,OAAgBmE,EAAM3W,OAAOyhB,gBAAkB9K,EAAM3W,OAAOyhB,eAAoC,qBAAgE,WAA3D9K,EAAM3W,OAAOyhB,eAA8B,cAAU,QACpLm8G,EAAW,CACd,GAAI1oC,GAAiBv+E,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOga,QAAQxH,QAAQ,OACpEqrH,EAAY3oC,EAAetyE,aAAavD,OAAO,SAAU5b,GAAQ,MAAOA,GAAKS,gBAAgBkX,SAAW1W,EAAKjB,KAAsB,gBAAE2X,QACrI1W,GAAKjB,KAAsB,kBAC3Bo6H,EAAYn5H,EAAKjB,KAAmB,aAuBxC,KAAK,GAAI0N,GAAI,EAAGA,EAAI0sH,EAAUx8H,OAAQ8P,KArBxB,SAAUA,GACpB,GAA2C,IAAvC+jF,EAAetyE,aAAavhB,OAC5BsV,EAAM3W,OAAOyO,SAASsf,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,GACjEmE,EAAM3W,OAAOya,IAAIsT,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,GAC5DmE,EAAM3W,OAAOga,QAAQ+T,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,OAE/D,CACD,GAAIrN,GAAQwR,EAAM3W,OAAOga,QAAQxH,QAAQ,IAAMqrH,EAAU1sH,GAAGjN,gBAAgBkX,QACxE0iH,EAAO,IAAMD,EAAU1sH,GAAGjN,gBAAgBkX,OAC1C4qG,EAAUrvG,EAAM3W,OAAOga,QAAQ0E,OAAO,SAAU1H,EAAG8E,EAAGtY,GAItD,MAHIsY,KAAMgiH,GACN9mH,EAAEhT,KAAKR,GAEJwT,MAEX7R,GAAQ6gH,EAAQA,EAAQ3kH,OAAS,GACjCsV,EAAM3W,OAAOga,QAAQ+T,OAAO5oB,EAAO,GACnCwR,EAAM3W,OAAOyO,SAASsf,OAAO5oB,EAAO,GACpCwR,EAAM3W,OAAOya,IAAIsT,OAAO5oB,EAAO,KAI3BgM,EAER+jF,IAA4C,iBAA1Bv+E,EAAM3W,OAAOyd,WACjB9G,EAAM3W,OAAOyO,SAASkI,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAQ,KAErEmE,EAAM3W,OAAOyO,SAASsf,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,GACjEmE,EAAM3W,OAAOya,IAAIsT,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,GAC5DmE,EAAM3W,OAAOga,QAAQ+T,OAAOpX,EAAM3W,OAAOga,QAAQxH,QAAQ,MAAO,MAKhFmE,EAAMonH,wBAAwBr5H,EAAMs4H,GACN,iBAA1BrmH,EAAM3W,OAAOyd,UAA+B9G,EAAM3W,OAAOmE,WAAWoS,MAAQ7M,GAC5EiN,EAAM3W,OAAO+J,cAAc6nB,kBAAkBloB,GAAW,GAE5DiN,EAAMimH,qBAAqB34H,EAAQS,GACnCiS,EAAM0mH,mBAEV1mH,EAAM3W,OAAO2jF,WAAY,OAUzC6Y,EAAKr2F,UAAU63H,gBAAkB,WAK7B,IAAK,GAJDC,MACAr9G,EAAelb,KAAK1F,OAAO4gB,aAC3Bs9G,EAAqBx4H,KAAK1F,OAAOmE,WACjCiX,EAAS1V,KAAK1F,OAAO0I,WAAWurG,eAC3BzwG,EAAI,EAAGA,EAAIod,EAAavf,OAAQmC,IAAK,CAC1C,GAAI8nB,GAAY1K,EAAapd,GAAGqd,KAC5ByK,KAAc4yG,EAAmBj+H,GACjCg+H,EAAW3yG,GAAalQ,EAEnBwF,EAAapd,GAAGqd,QAAUq9G,EAAmB19H,WAC9CD,oBAAkB09H,EAAWC,EAAmBz9H,UAChDw9H,EAAW3yG,GAAa5lB,KAAK1F,OAAO0I,WAAW2C,aAAa0oG,sBAG5DkqB,EAAW3yG,GAAa,GAAI9oB,MAAKy7H,EAAWC,EAAmBz9H,UAE/DiF,KAAK1F,OAAO8D,WACZm6H,EAAW3yG,GAAa5lB,KAAK1F,OAAOoE,qBAAqBC,OAAO45H,EAAW3yG,GAAY5lB,KAAK1F,OAAO8D,YAGlG8c,EAAapd,GAAGqd,QAAUq9G,EAAmBz9H,SAC9CF,oBAAkB09H,EAAWC,EAAmB19H,YAChDy9H,EAAW3yG,GAAa5lB,KAAK1F,OAAO0I,WAAW2C,aAAa0oG,sBAG5DkqB,EAAW3yG,GAAa,GAAI9oB,MAAKy7H,EAAWC,EAAmB19H,YAE/DkF,KAAK1F,OAAO8D,WACZm6H,EAAW3yG,GAAa5lB,KAAK1F,OAAOoE,qBAAqBC,OAAO45H,EAAW3yG,GAAY5lB,KAAK1F,OAAO8D,YAGlG8c,EAAapd,GAAGqd,QAAUq9G,EAAmBx9H,SAClDu9H,EAAW3yG,GAAa,EAEnB1K,EAAapd,GAAGqd,QAAUq9G,EAAmBngH,KAClDkgH,EAAW3yG,GAAa5lB,KAAK1F,OAAO0I,WAAW2C,aAAwB,UAAEgL,YAAY,kBAAoB,IAAM+E,EAE1GwF,EAAapd,GAAGqd,QAAUq9G,EAAmBj9G,SAClDg9G,EAAW3yG,GAAa,EAEnB1K,EAAapd,GAAGqd,QAAUq9G,EAAmB3nH,KAClD0nH,EAAW3yG,GAAa,EAEnB1K,EAAapd,GAAGqd,QAAUq9G,EAAmBpoH,MAAkC,aAA1B8K,EAAapd,GAAGqd,MAC1Eo9G,EAAW3yG,GAAa5lB,KAAK1F,OAAO0kB,SAE/B9D,EAAapd,GAAGqd,QAAUq9G,EAAmBvzH,UAClDszH,EAAW3yG,GAAa,KAGxB2yG,EAAWv4H,KAAK1F,OAAO4gB,aAAapd,GAAGqd,OAAS,GAGxD,MAAOo9G,IAYXzhC,EAAKr2F,UAAU82H,qBAAuB,SAAUx5H,EAAM+0F,EAAa52D,EAAUy0F,GACzE,GAAIptE,GAAmB1oD,oBAAkBqhC,IAAa7sB,MAAMrR,SAASk+B,EAASj+B,WAAY,KACtF+B,KAAK1F,OAAO0nD,gBACgC,QAAvChiD,KAAK1F,OAAO2nD,kBAAkBlT,MAAyD,SAAvC/uC,KAAK1F,OAAO2nD,kBAAkBlT,MACjB,IAA1D/uC,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,OAER,SAAvCqE,KAAK1F,OAAO2nD,kBAAkBlT,MACyC,IAAnE/uC,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,OACxDqE,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4B,GAAGjgD,SAAW,KAH1El8B,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB,GAGkC,KAAOvnB,CACpGl8B,MAAKo1H,mBAAqBv6H,oBAAkB0oD,GAAoB,KAAOvjD,KAAK1F,OAAOua,eAAe0uC,GAClGuvC,EAAcj4F,oBAAkBi4F,GAAe9yF,KAAK1F,OAAO4kC,aAAa48C,eAAiBgX,EACzF/0F,EAAOlD,oBAAkBkD,GAAQiC,KAAKs4H,kBAAoBv6H,IACpDlD,oBAAkB0oD,IAAqBA,EAAmB,GAC5D1oD,oBAAkBmF,KAAKo1H,uBAAyC,UAAhBtiC,GAC7B,UAAhBA,GACgB,UAAhBA,KAA8BA,GAAgC,UAAhBA,GAC9B,UAAhBA,GACgB,UAAhBA,GAA2C,QAAhBA,GACd,WAAhBA,KACAA,EAAc,MAElB,IACItpF,GADAoQ,EAAQ,CAEZ,QAAQk5E,GACJ,IAAK,MACL,IAAK,SAEGl5E,EADyB,iBAAzB5Z,KAAK1F,OAAOyd,SACJ,EAGA,CAEZ,MACJ,KAAK,QACL,IAAK,QACD6B,EAAQ5Z,KAAKo1H,mBAAmBx7G,MAChCpQ,EAAaxJ,KAAK1F,OAAOoP,cAAc1J,KAAKo1H,mBAAmB5rH,WAC/D,MACJ,KAAK,QACDoQ,EAAQ5Z,KAAKo1H,mBAAmBx7G,MAAQ,EACxCpQ,EAAaxJ,KAAKo1H,mBAGrBp1H,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAChF/b,KAAK80H,sBAAsB/2H,EAAM+0F,EAErC,IAAI2lC,GAAaz4H,KAAKi1H,+BAA+Bl3H,EAAM6b,EAAOk5E,EAAatpF,EAAY0yB,EAC3Fy0F,GAAaryH,KAAKm6H,IAEtB3hC,EAAKr2F,UAAUkvH,eAAiB,WAG5B,IAAK,GAFD79G,GAAkB9R,KAAK1F,OAAOwX,gBAC9B4mH,EAAW5mH,EAAgBnW,OACtB8D,EAAQ,EAAGA,EAAQi5H,EAAUj5H,IAAS,CAC3C,GAAIy8B,GAAWz8B,CAEf,IADAqS,EAAgBrS,GAAOA,MAAQy8B,EAC3BpqB,EAAgBrS,GAAO+J,YAAcsI,EAAgBrS,GAAO+J,WAAWkM,OAAQ,CAC/E,GAAI0mB,GAAep8B,KAAK1F,OAAO4gC,cAAcppB,EAAgBrS,GAAO+J,WAAWkM,OAC1E7a,qBAAkBuhC,IAAkBvhC,oBAAkBuhC,EAAa38B,QACnE5E,oBAAkBuhC,EAAaxiB,SAChC9H,EAAgBrS,GAAO+J,WAAW/J,MAAQ28B,EAAa38B,MACvDqS,EAAgBrS,GAAO+J,WAAWoQ,MAAQwiB,EAAaxiB,UAKvEk9E,EAAKr2F,UAAUu3H,gBAAkB,SAAUrH,EAAc3xH,GACrD,GAAIiS,GAAQjR,IACZ2wH,GAAar+G,QAAQ,SAAU/T,GACN,IAAjBA,EAAOqb,QACP3I,EAAM3W,OAAO4H,SAAS+S,WAAWoT,OAAO,EAAG,EAAG9pB,GAC/BmB,WAAS,0BAA2BuR,EAAM3W,QAChD+tB,OAAO,EAAG,EAAG9pB,EAAOJ,WAEjC8S,EAAM6/G,uBAAuBvyH,EAAQ,SAEzCyB,KAAK8wH,uBAAuBH,EAAc,OAC1C3wH,KAAKq4H,wBAAwBr5H,EAAM2xH,EACnC,IAAIgI,KACJ34H,MAAKk3H,qBAAqByB,EAAe35H,GACzCgB,KAAK23H,oBAOT7gC,EAAKr2F,UAAUk3H,iBAAmB,WAC9B33H,KAAK1F,OAAOwkB,UAAW,EACvB9e,KAAK1F,OAAOu7B,cACZ71B,KAAKo1H,mBAAqB,KAC1Bp1H,KAAKi2H,uBAAyB,KAC9Bj2H,KAAKmqH,aAAc,EACnBnqH,KAAK1F,OAAOwL,QAAQ25B,SAAW,EAC/Bz/B,KAAK1F,OAAO6pD,oBAAmB,IASnC2yC,EAAKr2F,UAAUqwH,uBAAyB,SAAU/yH,EAAM4xB,GACrC,QAAXA,EACA7c,WAAS,sBAAwB/U,EAAKuL,SAAUvL,EAAMiC,KAAK1F,OAAO4H,UAElD,WAAXytB,GACLuzB,eAAaxjD,WAAS,qBAAsBM,KAAK1F,OAAO4H,UAAWnE,EAAKuL,WAGhFwtF,EAAKr2F,UAAU43H,wBAA0B,SAAUr5H,EAAM2xH,GACrD,GAAI1/G,GAAQjR,IAKZ,IAJIA,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,iBACH,QAAvCt+C,KAAK1F,OAAO2nD,kBAAkBlT,MAAyD,SAAvC/uC,KAAK1F,OAAO2nD,kBAAkBlT,QAC/E/uC,KAAK1F,OAAO8jF,uBAAyBp+E,KAAK1F,OAAOwX,gBAAgBhF,QAAQ9N,EAAKjB,OAE9EiC,KAAK1F,OAAO0jB,iBAAiBqqE,oBAAqB,CAClD,GAAI3sC,KACA18C,GAAKo/C,gBAAgBziD,OAAS,GAC9B+/C,EAAY18C,EAAKjB,KAAKpC,OAAS,EAC3BuC,eAAec,EAAKjB,MAAM,IAASiB,EAAKjB,OAClCO,KAAK0Y,MAAM0kC,EAAW18C,EAAKo/C,iBAGrC1C,EAAY18C,EAAKjB,KAAKpC,OAAS,EAC3BuC,eAAec,EAAKjB,MAAM,IAASiB,EAAKjB,MAEhDiC,KAAK1F,OAAOsX,eAAe6pC,yBAAyBC,GAAY18C,EAAK2wB,QAgBzE,GAdA3vB,KAAKo2H,WAAWp3H,GAChBA,EAAOgB,KAAKk2H,4BAA4BvF,EAAc3xH,EAAKo/C,gBAAiB,OAC5Ep+C,KAAK2vH,iBACL3vH,KAAK1F,OAAOgc,QAAQ,iBAAkBtX,GACjCnE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKZv0B,KAAK2F,aAAaD,SAAW1F,KAAK2F,aAAag2E,UAAUj9C,aACzD1+B,KAAK2F,aAAag2E,UAAU2W,OAEhCtyF,KAAK2F,aAAa4sF,cACW,iBAAzBvyF,KAAK1F,OAAOyd,SACZ,GAAI44G,EAAah1H,OAAS,EACtB,IAAK,GAAImC,GAAI,EAAGA,EAAI6yH,EAAah1H,OAAQmC,IAAK,CAG1C,GAFAkB,EAAKjB,KAAKD,GAAGU,gBAAgBsb,oBAAoBxb,KAAKU,EAAKjB,KAAKD,GAC3DU,gBAAgBqb,aACjB7a,EAAKjB,KAAKD,GAAGU,gBAAgBia,aAAc,CAE3C,GAAIT,GAAY9Z,eAAec,EAAKjB,KAAKD,GAAGU,gBAAgBia,cAAc,EAC1ET,GAAUqQ,OAAO,EAAG,GACpBroB,KAAKyvH,kBAAmBz3G,EAAWhZ,EAAKjB,KAAKD,UAIxCkC,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,iBAAmB/c,EAAKjB,KAAKD,GAAoB,iBAAKkC,KAAK1F,OAAOyhB,eAAoC,sBAAM/b,KAAK1F,OAAOyhB,eAAoC,uBACxM/b,KAAKuwH,kBAAkBvxH,EAAKjB,KAAKD,IACjCkC,KAAK1F,OAAO0I,WAAWwtH,wBAAwBxxH,EAAKjB,KAAKD,IAGjE,KAASokB,EAAI,EAAGA,EAAIliB,KAAK+pH,oBAAoBpuH,OAAQumB,IACjDliB,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoB7nG,GAEzEliB,MAAK+pH,2BAGR,CACD/qH,EAAKjB,KAAKS,gBAAgBsb,oBAAoBxb,KAAKU,EAAKjB,KAAKS,gBAAgBqb,YAE7E,IAAI7V,GAAYhF,EAAKjB,KACjBS,EAAkBwF,EAAUxF,gBAC5B0e,EAAelZ,EAAUkZ,aACzB07G,EAAmB54H,KAAK1F,OAAOyhB,eAC/B88G,EAAuB,SAAUpgH,EAAcgnD,GAC/C,GAAIhnD,GAAgBA,EAAa9c,OAAS,EAAG,CACzC,GAAIqc,GAAY9Z,eAAeua,GAAc,EAC7CT,GAAUqQ,OAAO,EAAG,GAChBuwG,GAAoBA,EAAsC,sBAC1D3nH,EAAM3W,OAAO0I,WAAWgwF,gBAAcrrF,IAE1CsJ,EAAMw+G,kBAAmBz3G,EAAWynD,IAIxCjhE,GAAgBia,cAAgBja,EAAgBia,aAAa9c,OAC7Dk9H,EAAqBr6H,EAAgBia,aAAczU,GAE9CkZ,EAAavhB,OAAS,GAAKuhB,EAAa,GAAG1e,gBAAgBia,cAChEyE,EAAa,GAAG1e,gBAAgBia,aAAa9c,OAC7Ck9H,EAAqB37G,EAAa,GAAG1e,gBAAgBia,aAAczZ,EAAKjB,KAAKmf,aAAa,MAGrFld,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,iBAAmB/c,EAAKjB,KAAsB,iBAAKiC,KAAK1F,OAAOyhB,eAAoC,sBAAM/b,KAAK1F,OAAOyhB,eAAoC,uBACrM/b,KAAKuwH,kBAAkBvxH,EAAKjB,MAC5BiC,KAAK1F,OAAO0I,WAAWwtH,wBAAwBxxH,EAAKjB,MAG5D,KAAK,GAAImkB,GAAI,EAAGA,EAAIliB,KAAK+pH,oBAAoBpuH,OAAQumB,IACjDliB,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoB7nG,GAEzEliB,MAAK+pH,yBASjBjzB,EAAKr2F,UAAUi3H,kBAAoB,WAC/B,GAAI3H,GAAc/vH,KAAK1F,OAAOyO,SAC1B+I,EAAkB9R,KAAK1F,OAAOwX,gBAC9BiD,EAAM/U,KAAK1F,OAAOya,IAClB+jH,EAAmB/I,EAAYjjH,QAAQ9M,KAAKi2H,wBAC5C8C,EAAuBjnH,EAAgBhF,QAAQ9M,KAAKi2H,wBACpD8B,EAAWhjH,EAAIjI,QAAQ9M,KAAKi2H,uBAAuBz3H,gBAAgBqb,YAAY5b,WAEnF,IADAilD,eAAaljD,KAAK1F,OAAO8uE,gBAAiB2mD,EAAY+I,GAAkBxvH,UACpEtJ,KAAKi2H,uBAAuBzsH,WAAY,CACxC,GAAIA,GAAaxJ,KAAK1F,OAAOoP,cAAc1J,KAAKi2H,uBAAuBzsH,YACnEk2D,EAAcl2D,EAAW0T,aAAapQ,QAAQ9M,KAAKi2H,uBACvDzsH,GAAW0T,aAAamL,OAAOq3C,EAAa,GACL,IAAnCl2D,EAAW0T,aAAavhB,QAAgB6N,EAAWiT,kBACnDjT,EAAWiT,iBAAkB,GAGrCszG,EAAY1nG,OAAOywG,EAAkB,GACrChnH,EAAgBuW,OAAO0wG,EAAsB,GAC7ChkH,EAAIsT,OAAO0vG,EAAU,IAEzBjhC,EAAKr2F,UAAUu4H,mBAAqB,WAChC,GAAIC,GAAaj5H,KAAK1F,OAAOua,eAAe7U,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAAK,GACjG+2E,EAAiBl5H,KAAK1F,OAAO0nD,gBAAgB6B,qBAAqB,GAClEvpD,EAAS0F,KAAK1F,OAAO+hC,cAAc48F,EAAYC,EAAet/G,MAElE,OADgB5Z,MAAK1F,OAAOua,eAAe/H,QAAQxS,IAQvDw8F,EAAKr2F,UAAUgvF,OAAS,WACpB,GAGIqa,GAHArqG,EAAQO,KAAK1F,OAAOipD,iBACpBsS,IAAa71D,KAAK1F,OAAO0nD,kBAA4E,IAA1DhiD,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,QACvB,IAAnEqE,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,QAExDs9H,EAAaj5H,KAAK1F,OAAOua,eAAe7U,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAAK,GACjG+2E,EAAiBl5H,KAAK1F,OAAO0nD,gBAAgB6B,qBAAqB,EACjE7jD,MAAK1F,OAAO4kC,aAAaU,cAA0B,IAAVngC,IAA0B,IAAXA,GAAiBo2D,GACjD,iBAAzB71D,KAAK1F,OAAOyd,WAAgCld,oBAAkBmF,KAAK1F,OAAOua,eAAepV,KAAWO,KAAK1F,OAAOua,eAAepV,GAAOma,MAAQq/G,EAAWr/G,OAAU,KAK/JkwF,EADAmvB,EAAWr/G,MAAQs/G,EAAet/G,OAAU,EAChC5Z,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAAK,EAGzDniD,KAAKg5H,qBAErBh5H,KAAKm5H,kBAAkBn5H,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,IAAK2nD,EAAW,WAQnGhT,EAAKr2F,UAAUivF,QAAU,WACrB,GACIoa,GADArqG,EAAQO,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAE5D0T,IAAa71D,KAAK1F,OAAO0nD,kBAA4E,IAA1DhiD,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,QACvB,IAAnEqE,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,OAC5D,IAAKqE,KAAK1F,OAAO4kC,aAAaU,eAA2B,IAAXngC,GAA0B,IAAVA,GAAgBo2D,GACjD,iBAAzB71D,KAAK1F,OAAOyd,UAA2E,IAA5C/X,KAAK1F,OAAOua,eAAepV,GAAOma,MADjF,CAKI,GAAIw/G,GAAap5H,KAAK1F,OAAO+O,kBAAkBrJ,KAAK1F,OAAO0nD,gBAAgB6B,qBAAqB,GAAGr6C,WAAWF,SAC9GwgG,GAAY9pG,KAAK1F,OAAOua,eAAe/H,QAAQssH,GAC/Cp5H,KAAKm5H,kBAAkB15H,GAAQqqG,EAAW,WAGlDhT,EAAKr2F,UAAU04H,iBAAmB,SAAUxlC,EAAaC,EAASyQ,GAC9D,GAAIpzF,GAAQjR,IAEZ,IAAI2zF,EAAY,IAAZA,EAAJ,CACgB,UAAR0Q,IACArkG,KAAK+pG,aAAe,cAEZ,UAAR1F,IACArkG,KAAK+pG,aAAe,iBAEZ,UAAR1F,IACArkG,KAAK+pG,aAAe,gBAIxB,KAAK,GAFDp6E,OAAS,GACTpxB,KACKT,EAAI,EAAGA,EAAI61F,EAAYh4F,OAAQmC,IAChCkC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAOyhB,eAA8B,cACzH/b,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAC5Dxd,EAAOT,GAAKkC,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAEje,GAAGC,KAG7EQ,EAAOT,GAAKkC,KAAK1F,OAAOyhB,eAA8B,cAAQ,KAAEje,GAIpES,EAAOT,GAAKkC,KAAK1F,OAAOua,eAAe8+E,EAAY71F,GAG3D,IACImhD,IACAlhD,KAAMQ,EACNurG,UAAWlW,EACXmW,aAAc/pG,KAAK+pG,aAEG,mBAAtB/pG,KAAK+pG,aACLp6E,EAAS,YAEkB,kBAAtB3vB,KAAK+pG,eACVp6E,EAAS,aAEb,IAAI0pG,IACA1pG,OAAQA,EACR5xB,KAAMQ,EAAO,GACbqgC,QAAQ,EAEZ5+B,MAAK1F,OAAOgc,QAAQ,cAAe+iH,EAAY,SAAUC,GACrD,GAAKA,EAAU16F,OAgBX,YANK/jC,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOu7B,cAHb5kB,EAAM3W,OAAOi6B,cAVZ15B,qBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKjBtkB,EAAMsoH,cAAct6E,GAzBT,OA0C3B63C,EAAKr2F,UAAU84H,cAAgB,SAAUv6H,EAAMw6H,GAC3C,GAAIvoH,GAAQjR,IAIZ,IAHAA,KAAK+pG,aAAe/qG,EAAK+qG,aACzB/pG,KAAK1F,OAAmB,cACxB0F,KAAK1F,OAAmB,WAAI4D,eAAec,EAAKjB,MAAM,GAC5B,YAAtBiB,EAAK+qG,cAA8B/pG,KAAK1F,OAAO0I,WAAY,CAC3D,GAAI3H,GAAM2E,KAAK1F,OACXm/H,MAAa,EACjBz5H,MAAKypG,cAAgBpuG,EAAIwZ,eAAe7V,EAAK8qG,UAC7C,IAAIn6E,GAA+B,kBAAtB3wB,EAAK+qG,aAAmC,SAAW,SAC5D/pG,MAAK1F,OAAOyhB,iBAAmB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAA8B,sBAAEq1B,MACrHpxB,MACW,OAAIoxB,EACnBpxB,EAAuB,kBACvBA,EAA2B,mBAAIL,eAAe8B,KAAK1F,OAAO0nD,gBAAgByB,oBAAoB,GAC9FzjD,KAAK1F,OAAOyhB,eAA6B,aAAE7d,gBAAgBc,EAAKjB,OAAO,GAAM,GAAIQ,EAAQ,kBACzFA,EAAsB,cAAIL,eAAe8B,KAAKypG,eAAe,GACzDzpG,KAAK1F,OAAOyhB,eAA4B,cACxC/b,KAAK1F,OAAOyhB,eAA4B,aAAI,EAC5C/b,KAAK1F,OAAOyhB,eAAkC,qBAC9C/b,KAAK1F,OAAOyhB,eAAkC,qBAC1C/b,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAE7E7tC,KAAK1F,OAAOyhB,eAAkC,kBAAE,OAEpD/b,KAAK1F,OAAOyhB,eAAqC,uBACjD/b,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK4C,EAElH,IAAIm7H,MACAC,EAAa35H,KAAKypG,aACjBzqG,GAAKjB,KAAK,GAIX27H,EAAc16H,EAAKjB,KAHnB27H,EAAYp7H,KAAKU,EAAKjB,KAO1B,KAAK,GAFDgsD,GAAI,EACJ6vE,EAAUF,EAAY/9H,OACjBmC,EAAI,EAAGA,EAAI87H,EAAS97H,IAAK,CAI9B,GAHAkC,KAAK1F,OAAOwkB,UAAW,EACvB26G,EAAaC,EAAY57H,GACzBkC,KAAK6hG,cAAgB43B,EACK,YAAtBz5H,KAAK+pG,aAA4B,CAC7ByvB,GACAx5H,KAAK65H,eAET,IAAIhJ,GAAe7wH,KAAK85H,aAAahtH,QAAQ6sH,EAE7C,IADA35H,KAAK1F,OAAO0I,WAAW21F,4BAA4BghC,EAAY,IACrC,kBAAtB35H,KAAK+pG,aAAkC,CACvC,GAAK4vB,EAAWl9G,gBAOX,CACDstC,EAAI/pD,KAAK1F,OAAO0I,WAAWyuH,cAAckI,EAAY,GACjD35H,KAAK1F,OAAOmE,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GAC3DqE,KAAKgE,UAAUqkB,OAAOwoG,EAAe9mE,EAAI,EAAG,EAAG/pD,KAAK6hG,cAAc1jG,UAEtE6B,KAAK85H,aAAazxG,OAAOwoG,EAAe9mE,EAAI,EAAG,EAAG/pD,KAAK6hG,eACvD7hG,KAAK1F,OAAOya,IAAIsT,OAAOwoG,EAAe9mE,EAAI,EAAG,EAAG/pD,KAAK6hG,cAAcrjG,gBAAgBqb,YAAY5b,WAC/F,IAAIgiH,GAAUjgH,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK6hG,cAAc7hG,KAAK1F,OAAOmE,WAAWlE,IAAI0D,WAChFgiH,KAAY4Q,EAAe9mE,EAAI,IAC/B/pD,KAAK1F,OAAOya,IAAIsT,OAAO43F,EAAS,GAChCjgH,KAAK1F,OAAOya,IAAIsT,OAAOwoG,EAAe9mE,EAAI,EAAG,EAAG/pD,KAAK6hG,cAAc7hG,KAAK1F,OAAOmE,WAAWlE,IAAI0D,iBAhB9F+B,MAAK1F,OAAOmE,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GAC3DqE,KAAKgE,UAAUqkB,OAAOwoG,EAAe,EAAG,EAAG7wH,KAAK6hG,cAAc1jG,UAElE6B,KAAK85H,aAAazxG,OAAOwoG,EAAe,EAAG,EAAG7wH,KAAK6hG,eACnD7hG,KAAK1F,OAAOya,IAAIsT,OAAOwoG,EAAe,EAAG,EAAG7wH,KAAK6hG,cAAcrjG,gBAAgBqb,YAAY5b,WAkB/F,IAHA+B,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAK85H,aAAajJ,GAAcrnH,WAAYiwH,GACrFz5H,KAAK1F,OAAO8J,eAAe,iBAAkBpE,KAAK85H,aAAajJ,GAAcjuD,eAAgB62D,GAC7Fz5H,KAAK1F,OAAO8J,eAAe,QAASpE,KAAK85H,aAAajJ,GAAcj3G,MAAO6/G,GACvEA,EAAWh9G,gBAAiB,CAE5Bzc,KAAK+5H,uBAAuBN,EADhB,GAEZz5H,KAAKg6H,kBAAkBP,EAAY5I,EAAe9mE,EAAI,GAE1D,GAAI4vE,EAAWnwH,WAAY,CACvB,GAAIjL,GAASyB,KAAK1F,OAAOoP,cAAciwH,EAAWnwH,YAAY0T,aAC1DA,EAAe3e,EACf0rG,EAAqB/sF,EAAapQ,QAAQ6sH,GAAc,CAC5Dz8G,GAAamL,OAAO4hF,EAAoB,EAAGwvB,IAGzB,kBAAtBz5H,KAAK+pG,cACL/pG,KAAKi6H,WAAWpJ,GAEfh2H,oBAAkB4+H,EAAWjwH,aAA2E,IAA7DxJ,KAAK+pH,oBAAoBj9G,QAAQ2sH,EAAWjwH,cACxFxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK1F,OAAO+O,kBAAkBowH,EAAWjwH,WAAWF,WAG1F,GAAIzO,oBAAkB4+H,EAAWjwH,YAAa,CAC1C,GAAIuiB,GAAgB/rB,KAAK1F,OAAO4H,SAAS+S,WACrCilH,EAAiBnuG,EAAcjf,QAAQ9M,KAAKypG,cACtB,mBAAtBzpG,KAAK+pG,cACLh+E,EAAc1D,OAAO6xG,EAAiB,EAAG,EAAGT,GAGpDz5H,KAAKm6H,oBAET,GAA0B,kBAAtBn6H,KAAK+pG,aAAkC,CACvC,IAAKlvG,oBAAkB8+H,EAAWn7H,gBAAgBsd,aAE9C,IAAK,GAAIpZ,GADCi3H,EAAWn7H,gBAAgBsd,YAAYngB,OAC1B,EAAG+G,GAAS,EAAGA,IAClC,IAAK7H,oBAAkB8+H,EAAWn7H,gBAAgBsd,aAAc,CAC5D,GAAIgnD,GAAa9iE,KAAK1F,OAAO4gC,cAAcy+F,EAAWn7H,gBAAgBsd,YAAYpZ,GAAOX,MACrFghE,EAAW/iE,KAAK1F,OAAO4gC,cAAcy+F,EAAWn7H,gBAAgBsd,YAAYpZ,GAAOZ,IACnF+nE,EAAmB7pE,KAAK1F,OAAO+e,kBAAkBwpD,0BAA0BC,EAAYC,IACvF42D,EAAWn7H,gBAAgBsd,aAAiB+tD,GAAqB7pE,KAAK1F,OAAOqgB,wBAC7E3a,KAAK1F,OAAO0I,WAAW4vH,0BAA0B+G,GACjDA,EAAWn7H,gBAAgBsd,YAAYuM,OAAO3lB,EAAO,GACrDi3H,EAAWn7H,gBAAgB6d,iBAAmB,KAC9Cs9G,EAAW35H,KAAK1F,OAAOmE,WAAW2a,YAAc,KAChDugH,EAAWx7H,SAAS6B,KAAK1F,OAAOmE,WAAW2a,YAAc,MAKrEugH,EAAWn7H,gBAAgBgD,cAC3BxB,KAAK1F,OAAO8J,eAAe,eAAe,EAAOu1H,EAAWn7H,iBAAiB,GACxE3D,oBAAkB8+H,EAAWx7H,SAAS6B,KAAK1F,OAAOmE,WAAWwG,cACA,IAA1D00H,EAAWx7H,SAAS6B,KAAK1F,OAAOmE,WAAWwG,aAC3C00H,EAAWx7H,SAAS6B,KAAK1F,OAAOmE,WAAWwG,YAAa,IAKxE,IAASid,EAAI,EAAGA,EAAIliB,KAAK+pH,oBAAoBpuH,OAAQumB,IACjDliB,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoB7nG,GAEzEliB,MAAK1F,OAAOu3D,cAAcv/C,QAAQ,SAAU/T,GACxC0S,EAAM43D,aAAc,EACpB53D,EAAM3W,OAAO+e,kBAAkB2uD,oBAAoBzpE,KAAY,KAEnE,KAAK,GAAI2jB,GAAI,EAAGA,EAAIliB,KAAK+pH,oBAAoBpuH,OAAQumB,IACjDliB,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoB7nG,GAEzEliB,MAAK+pH,uBACL/pH,KAAK1F,OAAOwkB,UAAW,EAE3B9e,KAAK8pH,UAAW,EAChB9pH,KAAKo6H,cAAcp7H,IAQvB83F,EAAKr2F,UAAU25H,cAAgB,SAAUp7H,EAAMq7H,GAC3C,GAAIppH,GAAQjR,IACZ,IAAIhD,EAAagD,KAAK1F,OAAOY,YAAa,CACtC,GAAI6C,GAAOiC,KAAK1F,OAAOY,WACnBwzH,GACAC,eAAgBlxH,EAAYuC,KAAK1F,OAAOu3D,cAAe,KAAM,KAAM7xD,KAAK1F,SAExEggI,EAAat6H,KAAK1F,OAAOwb,gBAAiBC,SAAQ/V,KAAK1F,OAAOwb,MAAQ,GAAIC,SAC1E64G,EAAO,KACP3xH,EAAUc,EAAKd,OACnB,IAAMA,YAAmBG,kBAAiBH,YAAmBC,kBAAiBa,EAAK7C,WAAW4zH,SAGzF,CAEDF,EAAO7wH,EAAKuvF,OAAOttF,KAAK1F,OAAOmE,WAAWlE,GAAIm0H,EAA0B,eAAG,KAAM4L,OAJjF1L,GAAO7wH,EAAKgxH,YAAYL,EAAa1uH,KAAK1F,OAAOmE,WAAWlE,GAAI,KAAM+/H,EAM1E1L,GAAKz4G,KAAK,SAAUC,GAAK,MAAOnF,GAAMspH,cAAcnkH,EAAGpX,EAAMq7H,KACxDhkH,MAAM,SAAUD,GAAK,MAAOnF,GAAMupH,cAAcpkH,SAGrDpW,MAAKy6H,qBAAqBz7H,EAAMq7H,IAGxCvjC,EAAKr2F,UAAU85H,cAAgB,SAAUnkH,EAAGpX,EAAMq7H,GAC9Cr6H,KAAKmvH,mBAAmB/4G,GACxBpW,KAAKy6H,qBAAqBz7H,EAAMq7H,IAEpCvjC,EAAKr2F,UAAU+5H,cAAgB,SAAUpkH,GACrCpW,KAAK1F,OAAOgc,QAAQ,iBAAmBhH,MAAO8G,KAElD0gF,EAAKr2F,UAAUg6H,qBAAuB,SAAUz7H,EAAMq7H,GAsBlD,GArBAr6H,KAAK1F,OAAO4H,SAAS+S,cACjBjV,KAAK1F,OAAO4H,SAASc,aACrBhD,KAAK1F,OAAO4H,SAASc,WAAsB,WAAI,GAEnDhD,KAAK1F,OAAO4H,SAASsoF,UACjBxqF,KAAK1F,OAAOmkD,sBACZz+C,KAAK00H,6BAA6B11H,EAAKjB,KAAMs8H,GAC7Cr6H,KAAK1F,OAAOkb,gBAAgBqvB,eAAe7kC,KAAK1F,OAAOu3D,gBAEvDwoE,EACAr7H,EAAK63B,YAAc,aAGO,kBAAtB72B,KAAK+pG,aACL/qG,EAAK63B,YAAc,WAEQ,kBAAtB72B,KAAK+pG,eACV/qG,EAAK63B,YAAc,aAG3B73B,EAAKo/C,gBAAkBp+C,KAAK1F,OAAOu3D,cAC/B7xD,KAAK1F,OAAO8D,SACZ,IAAK,GAAIN,GAAI,EAAGA,EAAIkB,EAAKo/C,gBAAgBziD,OAAQmC,IAC7CO,EAAYW,EAAKo/C,gBAAgBtgD,GAAIkC,KAAK1F,OAG9C0F,MAAK8pH,WACL9pH,KAAK1F,OAAO8uE,oBAEhBppE,KAAK8pH,UAAW,EAChB9pH,KAAK1F,OAAOgc,QAAQ,iBAAkBtX,GACjCnE,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,cAKZv0B,KAAK1F,OAAO0kE,uBACZh/D,KAAK1F,OAAO0kE,qBAAoC,cAAI,OAG5D83B,EAAKr2F,UAAU05H,kBAAoB,WAC/B,GAGIziH,GACAgjH,EAJAjB,EAAaz5H,KAAK6hG,cAClB83B,EAAa35H,KAAKypG,cAClBkxB,EAAQ36H,KAAK1F,MASjB,KALIod,EADA1X,KAAK1F,OAAOY,qBAAsBC,eACvBuE,WAAS,0BAA2BM,KAAK1F,QAGzCqgI,EAAMz/H,YAERS,OAAS,IAAOd,oBAAkB8+H,KAAgBA,EAAWnwH,WAAa,CACnF,IAAK,GAAI1L,GAAI,EAAGA,EAAIrC,OAAOC,KAAKgc,GAAU/b,OAAQmC,IAC1C4Z,EAAS5Z,GAAGkC,KAAK1F,OAAOmE,WAAWqY,SAAW6iH,EAAWx7H,SAAS6B,KAAK1F,OAAOmE,WAAWqY,SACzF4jH,EAAO58H,EAGW,gBAAtBkC,KAAK+pG,aACA/pG,KAAK1F,OAAOmE,WAAWkY,UACxBe,EAAS2Q,OAAOqyG,EAAM,EAAGjB,EAAWt7H,UAGb,kBAAtB6B,KAAK+pG,eACL/pG,KAAK1F,OAAOmE,WAAWkY,UACxBe,EAAS2Q,OAAOqyG,EAAO,EAAG,EAAGjB,EAAWt7H,eAI/C,KAAK6B,KAAK1F,OAAOmE,WAAWkY,WAAc9b,oBAAkB8+H,IAAeA,EAAWnwH,aAC7D,eAAtBxJ,KAAK+pG,cAAuD,kBAAtB/pG,KAAK+pG,cAAkC,CAC7E,GAAI6wB,GAA+B,eAAtB56H,KAAK+pG,aAAgC,QAAU,OAC5D/pG,MAAK1F,OAAO0I,WAAWoyH,mBAAqBuE,CAC5C,IAAIkB,KACCpnH,OAAMsT,QAAQ0yG,GAIfoB,EAAapB,EAHboB,EAAW,GAAKpB,EAKpBz5H,KAAK1F,OAAO0I,WAAW6zH,qBAAqBgE,EAAYD,SACjD56H,MAAK1F,OAAO0I,WAAWoyH,mBAGlCp1H,KAAK1F,OAAOmE,WAAWkY,WACnB8iH,EAAWjwH,WACe,eAAtBxJ,KAAK+pG,cAAuD,kBAAtB/pG,KAAK+pG,cAC3C0vB,EAAWz5H,KAAK1F,OAAOmE,WAAWkY,UAAYgjH,EAAW35H,KAAK1F,OAAOmE,WAAWkY,UAChF8iH,EAAWt7H,SAAS6B,KAAK1F,OAAOmE,WAAWkY,UAAYgjH,EAAW35H,KAAK1F,OAAOmE,WAAWkY,UACzF8iH,EAAWj7H,gBAA0B,SAAIm7H,EAAW35H,KAAK1F,OAAOmE,WAAWkY,YAG3E8iH,EAAWz5H,KAAK1F,OAAOmE,WAAWkY,UAAYgjH,EAAW35H,KAAK1F,OAAOmE,WAAWlE,IAChFk/H,EAAWt7H,SAAS6B,KAAK1F,OAAOmE,WAAWkY,UAAYgjH,EAAW35H,KAAK1F,OAAOmE,WAAWlE,IACzFk/H,EAAWj7H,gBAA0B,SAAIm7H,EAAW35H,KAAK1F,OAAOmE,WAAWlE,MAI/Ek/H,EAAWz5H,KAAK1F,OAAOmE,WAAWkY,UAAY,KAC9C8iH,EAAWt7H,SAAS6B,KAAK1F,OAAOmE,WAAWkY,UAAY,KACvD8iH,EAAWj7H,gBAA0B,SAAI,QAIrDs4F,EAAKr2F,UAAUo5H,cAAgB,WACvB75H,KAAK1F,OAAOY,qBAAsBC,eAClC6E,KAAKgE,UAAYtE,WAAS,0BAA2BM,KAAK1F,QAG1D0F,KAAKgE,UAAY/I,EAAgB+E,KAAK1F,QAAUoF,WAAS,SAAUM,KAAK1F,OAAOY,YAC3E8E,KAAK1F,OAAOY,WAEpB8E,KAAK85H,aAAe7+H,EAAgB+E,KAAK1F,QACrCoF,WAAS,SAAUM,KAAK1F,OAAO4H,SAAShH,YAAc8E,KAAK1F,OAAO4H,SAAShH,UAC/E,IAAI4/H,GAAS96H,KAAK1F,OAAO+O,kBAAkBrJ,KAAK6hG,cAAcv4F,SAC9DtJ,MAAK+6H,cAAcD,IAEvBhkC,EAAKr2F,UAAUu6H,2BAA6B,SAAUC,GAQlD,IAAK,GAPDC,IACA5xH,SAAU2xH,EAAe3xH,SACzB4V,SAAU+7G,EAAe/7G,SACzBtF,MAAOqhH,EAAerhH,MACtBna,MAAOw7H,EAAex7H,MACtBiW,OAAQulH,EAAez8H,gBAAgBqb,aAElC/b,EAAI,EAAGA,EAAIm9H,EAAe/9G,aAAavhB,OAAQmC,IACpDkC,KAAK1F,OAAO8J,eAAe,aAAc82H,EAAkBD,EAAe/9G,aAAapf,IACvFkC,KAAK1F,OAAO8J,eAAe,iBAAkB62H,EAAe3xH,SAAU2xH,EAAe/9G,aAAapf,GAEtG,IAAIm9H,EAAex+G,gBAAiB,CAChCw+G,EAAiBA,EAAe/9G,YAChC,KAAK,GAAIzR,GAAI,EAAGA,EAAIwvH,EAAuB,OAAGxvH,IAC1CzL,KAAKg7H,2BAA2BC,EAAexvH,MAI3DqrF,EAAKr2F,UAAUw5H,WAAa,SAAUpJ,GAClC,GACIloD,GACA+oD,EAFAr2H,EAAM2E,KAAK1F,MAkBf,IAfI0F,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAOyhB,eAA8B,cAAkB,gBAC9D,UAA9E/b,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAE,GAAGw2B,SACc,UAA9EvyC,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAE,GAAGw2B,SACjEm/E,EAAqB1xH,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAE,GAAGxhB,GAAG0D,YAE9B,UAA9E+B,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAE,GAAGw2B,WACtEm/E,EAAqB1xH,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK1F,OAAOyhB,eAA8B,cAAkB,eAAE,GAAGxhB,GAAG0D,YAAc,IAInI0qE,EAAW3oE,KAAK1F,OAAO0I,WAAWyuH,cAAczxH,KAAKypG,cAAe,GACpEioB,EAAsB72H,oBAAkB8tE,IACvB,IAAbA,EAAkBkoD,EAAe,EACjCloD,EAAWkoD,EAAe,GAER,kBAAtB7wH,KAAK+pG,aAAkC,CACvC,GAAI/pG,KAAKypG,cAAcjrG,gBAAgBmC,iBAClC9F,oBAAkBmF,KAAKypG,cAAcjrG,gBAAgB6d,mBACE,KAAxDrc,KAAKypG,cAAcjrG,gBAAgB6d,iBAAyB,CAC5D,GAAIvhB,GAAYkF,KAAKypG,cAAcjrG,gBAAgB1D,SACnDkF,MAAK1F,OAAO8J,eAAe,YAAatJ,EAAWkF,KAAK6hG,cAAcrjG,iBAAiB,GACvFwB,KAAK1F,OAAOoE,qBAAqB6F,iBAAiBvE,KAAK6hG,eACvD7hG,KAAK1F,OAAO+J,cAAcyW,eAAe9a,KAAK6hG,eAC9C7hG,KAAK1F,OAAO+J,cAAmC,oBAAErE,KAAK6hG,eAQ1D,GANIxmG,EAAIoD,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GACnDqE,KAAKgE,UAAUqkB,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,cAAc1jG,UAEpE6B,KAAK85H,aAAazxG,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,eACrD7hG,KAAK1F,OAAOya,IAAIsT,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,cAAc7hG,KAAK1F,OAAOmE,WAAWlE,IAAI0D,YAC5F+B,KAAKm7H,cACDn7H,KAAK6hG,cAAcplF,kBACnBzc,KAAKg6H,kBAAkBh6H,KAAK6hG,cAAe6vB,EAAoB1xH,KAAKypG,cAAcvqF,UAC9Elf,KAAK1F,OAAOmkD,qBAAqB,CACjC,GAAIw8E,GAAiBj7H,KAAK6hG,aAC1B7hG,MAAKg7H,2BAA2BC,GAGpCpgI,oBAAkBmF,KAAK6hG,cAAcr4F,aACgC,IAArExJ,KAAK+pH,oBAAoBj9G,QAAQ9M,KAAK6hG,cAAcr4F,cACpDxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK6hG,cAAcr4F,cAI7DstF,EAAKr2F,UAAUs5H,uBAAyB,SAAUx7H,EAAQ68H,GACtD,GACIC,GADA1/H,EAAS,CAGb,IADAy/H,KACK78H,EAAOke,gBACR,MAAO,EAEX9gB,GAAS4C,EAAO2e,aAAavhB,MAC7B,KAAK,GAAI8P,GAAI,EAAGA,EAAI9P,EAAQ8P,IAAK,CAC7B4vH,EAAa98H,EAAO2e,aAAazR,EACjC,IAAIwJ,OAAa,EACjB,IAAI1W,EAAOiL,WAAY,CAEnByL,EAAajV,KAAK1F,OAAO4H,SAAW,mBAAE3D,EAAOiL,WAAWF,UAE5D+xH,EAAWzhH,MAAQrb,EAAOiL,WAAayL,EAAW2E,MAAQwhH,EAAO78H,EAAOqb,MAAQ,EAC5EyhH,EAAW5+G,kBACX2+G,IACAA,EAAOp7H,KAAK+5H,uBAAuBsB,EAAYD,IAGvD,MAAOA,IAGXtkC,EAAKr2F,UAAUu5H,kBAAoB,SAAUz7H,EAAQmE,EAAOwc,GACxD,GAAIm8G,GACAhgI,EAAM2E,KAAK1F,OACXqB,EAAS,CACb,KAAK4C,EAAOke,gBACR,MAAO,EAEX9gB,GAAS4C,EAAO2e,aAAavhB,MAC7B,KAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,IACxBu9H,EAAa98H,EAAO2e,aAAapf,GACjC4E,IACArH,EAAI0N,SAASsf,OAAO3lB,EAAO,EAAG24H,GAC9Br7H,KAAK1F,OAAOya,IAAIsT,OAAO3lB,EAAO,EAAG24H,EAAW78H,gBAAgBqb,YAAY5b,YACpE5C,EAAIoD,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GACnDqE,KAAKgE,UAAUqkB,OAAO3lB,EAAO,EAAG24H,EAAWl9H,UAE3Ck9H,EAAW5+G,kBACX/Z,EAAQ1C,KAAKg6H,kBAAkBqB,EAAY34H,GAGnD,OAAOA,IAEXo0F,EAAKr2F,UAAUs6H,cAAgB,SAAUx8H,GACrC,GACIrD,GADAG,EAAM2E,KAAK1F,MAGXY,GADA8E,KAAK1F,OAAOY,qBAAsBC,eACrBuE,WAAS,0BAA2BM,KAAK1F,QAGzC0F,KAAK1F,OAAOY,UAE7B,IAAI4/H,GAASv8H,CACb,IAAIu8H,EAAQ,CACR,GAAIQ,GAAat7H,KAAK1F,OAAOoP,cAAcoxH,EAAOtxH,WAClD,IAAIsxH,EAAOtxH,WAAY,CACnB,GAAI0T,GAAeo+G,EAAaA,EAAWp+G,gBACvCguD,EAAa,CACbhuD,IAAgBA,EAAavhB,OAAS,IACtCuvE,EAAahuD,EAAapQ,QAAQguH,GAClCQ,EAAWp+G,aAAamL,OAAO6iD,EAAY,GACtClrE,KAAK1F,OAAOmE,WAAWkY,UACxB2kH,EAAWn9H,SAAS6B,KAAK1F,OAAOmE,WAAWqY,OAAOuR,OAAO6iD,EAAY,GAGzElrE,KAAK+pH,oBAAoBzrH,KAAKg9H,IAGtC,GAAIjgI,EAAIoD,WAAWkY,SAAU,CACrBmkH,EAAOr+G,iBAAmBq+G,EAAO59G,aAAavhB,OAAS,GACvDqE,KAAKu7H,gBAAgBT,EAKzB,KAAK,GAHDJ,OAAO,GACP12H,EAAY9I,EAAWS,OAAS,EAChCT,EAAa8E,KAAK1F,OAAOwX,gBACpBhU,EAAI,EAAGA,EAAIkG,EAAUrI,OAAQmC,IAC9BkG,EAAUlG,GAAGkC,KAAK1F,OAAOmE,WAAWlE,MAAQugI,EAAO38H,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MACnFmgI,EAAO58H,EAGf,KAAc,IAAV48H,EAAa,CACTx/H,EAAWS,OAAS,GACpBT,EAAWmtB,OAAOqyG,EAAM,EAG5B,KAAK,GADDc,OAAW,GACN19H,EAAI,EAAGA,EAAIkC,KAAK85H,aAAan+H,OAAQmC,IACtCkC,KAAK85H,aAAah8H,GAAGkC,KAAK1F,OAAOmE,WAAWlE,MAAQugI,EAAO38H,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MAC3FihI,EAAW19H,EAGnBkC,MAAK85H,aAAazxG,OAAOmzG,EAAU,GACnCx7H,KAAK1F,OAAOya,IAAIsT,OAAOmzG,EAAU,IACwB,IAArDx7H,KAAK1F,OAAO4H,SAAS+S,WAAWnI,QAAQguH,IACxC96H,KAAK1F,OAAO4H,SAAS+S,WAAWoT,OAAOroB,KAAK1F,OAAO4H,SAAS+S,WAAWnI,QAAQguH,GAAS,IAIpG,GAAIW,GAAYz7H,KAAK85H,aAAahtH,QAAQguH,EAC1C,KAAKz/H,EAAIoD,WAAWkY,SAAU,CAC1B,GAAI66G,GAAqBxxH,KAAKyxH,cAAcqJ,EAAQ,EACpD96H,MAAK85H,aAAazxG,OAAOozG,EAAWjK,EAAqB,GACzDxxH,KAAK1F,OAAOya,IAAIsT,OAAOozG,EAAWjK,EAAqB,EACvD,IAAI9xD,GAAc1/D,KAAKgE,UAAU8I,QAAQguH,EAAO38H,WAC3B,IAAjBuhE,IACA1/D,KAAKgE,UAAUqkB,OAAOq3C,EAAa,GACnC1/D,KAAK1F,OAAO4H,SAAS+S,WAAWoT,OAAOq3C,EAAa,IAGxDo7D,EAAOtxH,YAAc8xH,GAAcA,EAAWp+G,eAAiBo+G,EAAWp+G,aAAavhB,SACvFqE,KAAK1F,OAAO8J,eAAe,YAAY,EAAOk3H,GAC9Ct7H,KAAK1F,OAAO8J,eAAe,mBAAmB,EAAOk3H,MAIjExkC,EAAKr2F,UAAU86H,gBAAkB,SAAUh9H,GAGvC,IAAK,GAFD88H,GACAX,EACK58H,EAAI,EAAGA,EAAIS,EAAO2e,aAAavhB,OAAQmC,IAAK,CACjDu9H,EAAa98H,EAAO2e,aAAapf,EACjC,IAAIC,OAAO,EAEPA,GADAiC,KAAK1F,OAAOY,qBAAsBC,eAC3BuE,WAAS,0BAA2BM,KAAK1F,QAGzC0F,KAAK1F,OAAOY,UAEvB,KAAK,GAAIuQ,GAAI,EAAGA,EAAI1N,EAAKpC,OAAQ8P,IACzB1N,EAAK0N,GAAGzL,KAAK1F,OAAOmE,WAAWlE,MAAQ8gI,EAAWl9H,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MAClFmgI,EAAOjvH,EAGf,KAAc,IAAVivH,EAAa,CACT38H,EAAKpC,OAAS,GACdoC,EAAKsqB,OAAOqyG,EAAM,EAGtB,KAAK,GADDc,OAAW,GACNn9D,EAAM,EAAGA,EAAMr+D,KAAK85H,aAAan+H,OAAQ0iE,IAC1Cr+D,KAAK85H,aAAaz7D,GAAKr+D,KAAK1F,OAAOmE,WAAWlE,MAAQ8gI,EAAWl9H,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MACjGihI,EAAWn9D,EAGnBr+D,MAAK85H,aAAazxG,OAAOmzG,EAAU,GACnCx7H,KAAK1F,OAAOya,IAAIsT,OAAOmzG,EAAU,GAEjCH,EAAW5+G,iBACXzc,KAAKu7H,gBAAgBF,KAIjCvkC,EAAKr2F,UAAU06H,YAAc,WACzB,GAAI9/H,GAAM2E,KAAK1F,OACXm/H,EAAaz5H,KAAK6hG,cAClB83B,EAAa35H,KAAKypG,cAClBiyB,EAAYrgI,EAAIoD,WAAWqY,KAU/B,IATK6iH,EAAWl9G,kBACZk9G,EAAWl9G,iBAAkB,EACxBk9G,EAAWz8G,aAAavhB,SACzBg+H,EAAWz8G,iBACN7hB,EAAIoD,WAAWkY,UAAY9b,oBAAkB8+H,EAAWx7H,SAASu9H,MAClE/B,EAAWx7H,SAASu9H,SAIN,kBAAtB17H,KAAK+pG,aAAkC,CACvC,GAAIvgG,GAAatL,YAAWy7H,SACrBnwH,GAAW0T,YAClB,IAAIg+G,IACA5xH,SAAUE,EAAWF,SACrB4V,SAAU1V,EAAW0V,SACrBtF,MAAOpQ,EAAWoQ,MAClBna,MAAO+J,EAAW/J,MAClBiW,OAAQlM,EAAWhL,gBAAgBqb,YAavC,IAXA7Z,KAAK1F,OAAO8J,eAAe,aAAc82H,EAAkBzB,GAC3Dz5H,KAAK1F,OAAO8J,eAAe,iBAAkBu1H,EAAWrwH,SAAUmwH,GAClEE,EAAWz8G,aAAamL,OAAOsxG,EAAWz8G,aAAavhB,OAAQ,EAAG89H,GAC7D5+H,oBAAkB4+H,IAAgBp+H,EAAIoD,WAAWkY,UACjD9b,oBAAkB8+H,EAAWx7H,SAASu9H,KACvC/B,EAAWx7H,SAAS9C,EAAIoD,WAAWqY,OAAOuR,OAAOsxG,EAAWz8G,aAAavhB,OAAQ,EAAG89H,EAAWt7H,WAE9FtD,oBAAkB8+H,EAAWn7H,gBAAgBmG,WAAag1H,EAAWn7H,gBAAgBmG,SAAShJ,OAAS,IACxGg+H,EAAWn7H,gBAAgBmG,SAAW,KACtCg1H,EAAWx7H,SAAS9C,EAAIoD,WAAWkG,UAAY,MAE9C80H,EAAWh9G,gBAGX,CAEDg9G,EAAW7/G,MAAQ+/G,EAAW//G,MAAQ,EACtC5Z,KAAK+5H,uBAAuBN,EAFhB,OAHZA,GAAW7/G,MAAQ+/G,EAAW//G,MAAQ,CAO1C+/G,GAAWz6G,UAAW,IAGvB43E,KCprJPsjB,GAAyB,WACzB,QAASA,GAAQn5C,GACbjhE,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAOunB,WAChBp+G,KAAK1F,OAAO4H,SAASg7C,gBAAkBl9C,KAAK1F,OAAO4iD,gBACnDl9C,KAAKy/C,aAqCT,MA9BA26D,GAAQ35G,UAAU+9E,cAAgB,WAC9B,MAAO,WAQX47B,EAAQ35G,UAAUg/C,WAAa,WAC3B,GAAIxuC,GAAQjR,IACZA,MAAK1F,OAAO4H,SAASy5H,gBAAkB,SAAU38H,GAC7CiS,EAAM3W,OAAOgc,QAAQ,kBAAmBtX,IAE5CgB,KAAK1F,OAAO4H,SAAS05H,WAAa,SAAU58H,GACxCiS,EAAM3W,OAAOgc,QAAQ,aAActX,IAEvCgB,KAAK1F,OAAO4H,SAAS25H,WAAa,SAAU78H,GACxCiS,EAAM3W,OAAOgc,QAAQ,aAActX,KAS3Co7G,EAAQ35G,UAAU02B,QAAU,aAGrBijF,KC9CPzvE,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAM5BqvE,GAAwB,WACxB,QAASA,GAAOl5C,GACZjhE,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAOsnB,UAChBn+G,KAAK1F,OAAO4H,SAASi7C,cAAgBn9C,KAAK1F,OAAO6iD,cACjDn9C,KAAKy/C,aA4CT,MArCA06D,GAAO15G,UAAU+9E,cAAgB,WAC7B,MAAO,UAQX27B,EAAO15G,UAAUg/C,WAAa,WAC1B,GAAIxuC,GAAQjR,IACZA,MAAK1F,OAAO4H,SAASwwE,YAAc,SAAU1zE,GACzC,GAAIiS,EAAM3W,OAAOyhB,gBAAkB9K,EAAM3W,OAA8B,sBAAE,gBAAiB,CACtF2W,EAAM3W,OAAOyhB,eAAqC,sBAClD,IAAI20C,KACJA,GAAgB,OAAI,eACpBA,EAAuB,cAAI/lB,MAAa3rC,EAAKikC,QAC7ChyB,EAAM3W,OAAOyhB,eAAkC,kBAAE9K,EAAM3W,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+0D,EAEpHz/C,EAAM3W,OAAOgc,QAAQ,cAAetX,IAExCgB,KAAK1F,OAAO4H,SAASkxE,SAAW,SAAUp0E,GACtCiS,EAAM3W,OAAOgc,QAAQ,WAAYtX,IAErCgB,KAAK1F,OAAO4H,SAASmxE,WAAa,SAAUr0E,GACxCiS,EAAM3W,OAAOgc,QAAQ,aAActX,KAS3Cm7G,EAAO15G,UAAU02B,QAAU,aAGpBgjF,KCvDPR,GAAwB,WACxB,QAASA,GAAO14C,GACZjhE,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAOinB,UAChB99G,KAAK1F,OAAO4H,SAASqgC,eAAiBviC,KAAK1F,OAAOioC,eAClDviC,KAAK87H,sBACL97H,KAAK1F,OAAO4H,SAASu3B,eAAiBmwD,sBAAoB5pF,KAAK1F,OAAOm/B,gBACtEz5B,KAAKwU,mBA2ZT,MAzZAmlG,GAAOl5G,UAAU+9E,cAAgB,WAC7B,MAAO,UAOXm7B,EAAOl5G,UAAUq7H,oBAAsB,WAEnC,IAAK,GADD73C,GAAWjkF,KAAK1F,OAAOmE,WAClBX,EAAI,EAAGA,EAAIkC,KAAK1F,OAAO4gB,aAAavf,OAAQmC,IAAK,CACtD,GAAImlC,GAASjjC,KAAK1F,OAAO4gB,aAAapd,IACZ,mBAApBmlC,EAAO2iB,UAAqD,uBAApB3iB,EAAO2iB,UAChD3iB,EAAO9nB,QAAU8oE,EAASnpF,WAAamoC,EAAO9nB,QAAU8oE,EAASlpF,SAC3DkoC,EAAO9nB,QAAU8oE,EAASplF,mBAAqBokC,EAAO9nB,QAAU8oE,EAASrlF,mBAC/EqkC,EAAO9nB,QAAU8oE,EAASjpF,UAAgC,eAApBioC,EAAO2iB,WAC9C5lD,KAAK+7H,kBAAkB/7H,KAAK1F,OAAO4gB,aAAapd,MAI5D67G,EAAOl5G,UAAUu7H,YAAc,WAC3Bh8H,KAAK1F,OAAOm/B,eAAiBz5B,KAAK1F,OAAO4H,SAASu3B,gBAEtDkgF,EAAOl5G,UAAU+T,iBAAmB,WAChCxU,KAAK1F,OAAOma,GAAG,cAAezU,KAAKg8H,YAAah8H,MAChDA,KAAK1F,OAAOma,GAAG,cAAezU,KAAKyhD,YAAazhD,MAChDA,KAAK1F,OAAOma,GAAG,iBAAkBzU,KAAK0hD,eAAgB1hD,MACtDA,KAAK1F,OAAOma,GAAG,iBAAkBzU,KAAK29C,eAAgB39C,OAE1D25G,EAAOl5G,UAAU04B,WAAa,SAAU7nB,GACpC8f,eAAaC,IAAI2G,SAAS2L,eAAeryB,GAAI,QAAStR,KAAKq8F,kBAAmBr8F,OAElF25G,EAAOl5G,UAAUs7H,kBAAoB,SAAU94F,GAC3C,GAAI+lD,GAAahpF,KAAK1F,OAAOu6F,iBAAiB5xD,EAAO9nB,MAAOnb,KAAK1F,OAAOs7D,eAAelX,gBACvFzb,GAAOV,gBAA2C,IAA1BU,EAAOV,gBAC3BU,EAAOV,gBAAuD,SAApCviC,KAAK1F,OAAOm/B,eAAerpB,MAAuD,UAApCpQ,KAAK1F,OAAOm/B,eAAerpB,MAAsB6yB,EAAOtpB,SAChIspB,EAAOtpB,QAAWktC,GAAI7mD,KAAKi8H,kBAAkBh5F,KAE7C+lD,IACAA,EAAWzmD,eAAiBU,EAAOV,eACnCymD,EAAWrvE,OAASspB,EAAOV,eAAiBU,EAAOtpB,YAS3DggG,EAAOl5G,UAAUw7H,kBAAoB,SAAUh5F,GAC3C,GAAIghD,GAAWjkF,KAAK1F,OAAOmE,WACvBy9H,IAYJ,OAXwB,mBAApBj5F,EAAO2iB,UAAkC3iB,EAAO9nB,QAAU8oE,EAASnpF,WAAamoC,EAAO9nB,QAAU8oE,EAASlpF,SACvGkoC,EAAO9nB,QAAU8oE,EAASplF,mBAAqBokC,EAAO9nB,QAAU8oE,EAASrlF,gBAGnD,uBAApBqkC,EAAO2iB,UAAsC3iB,EAAO9nB,QAAU8oE,EAASnpF,WAAamoC,EAAO9nB,QAAU8oE,EAASlpF,SAChHkoC,EAAO9nB,QAAU8oE,EAASplF,mBAAqBokC,EAAO9nB,QAAU8oE,EAASrlF,gBAGvEqkC,EAAO9nB,QAAU8oE,EAASjpF,UAAgC,eAApBioC,EAAO2iB,WAClDs2E,EAAWl8H,KAAKm8H,qBAHhBD,EAAWl8H,KAAKo8H,0BAJhBF,EAAWl8H,KAAKq8H,oBAAoBp5F,EAAO9nB,OASxC+gH,GAEXviB,EAAOl5G,UAAU47F,kBAAoB,SAAUjmF,GACvCmpB,UAAQnpB,EAAEkpB,OAAQ,mBAClBt/B,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,QAAS3f,IAGlDujG,EAAOl5G,UAAU8lC,aAAe,WAC5BnV,eAAazyB,OAAOqB,KAAK1F,OAAOwL,QAAS,QAAS9F,KAAKq8F,oBAE3Dsd,EAAOl5G,UAAU47H,oBAAsB,SAAU5zF,GAC7C,GAII6zF,GAJArrH,EAAQjR,KACR1F,EAAS0F,KAAK1F,OACdiiI,EAAa9zF,IAAenuC,EAAOmE,WAAW3D,WAAe2tC,IAAenuC,EAAOmE,WAAWI,kBAC5FvE,EAAO6I,iBAAmB7I,EAAO8I,cAqBvC,QAlBI0Q,OAAQ,SAAU9U,GACd,GAAIkR,GAASssH,sBAAoBx9H,EAAKikC,OAAO/yB,OAAQlR,EAAKikC,OAAO7yB,MAC7D02C,EAAavvB,gBAAc,SAAWC,UAAW,aACrDx4B,GAAKsgC,OAAO5H,YAAYovB,IACxBw1E,EAAmB,GAAI1vB,eAAazlD,YAAal2C,EAAM3W,OAAOoW,UAAUC,YAAY,cAAeT,OAAQA,KAC1F+iB,UAAYhiB,EAAM3W,OAAO24B,UAC1CqpG,EAAiB38E,SAASmH,IAE9BO,MAAO,SAAUroD,GACbs9H,EAAiBj9H,MAAQL,EAAKsoD,eAElC7hD,KAAM,SAAUzG,GACRs9H,EAAiBj9H,OACjBi9H,EAAiBj9H,MAAM8I,WAAWo0H,GAEtCv9H,EAAKuoD,QAAQC,eAAexoD,EAAKikC,OAAO9nB,MAAOnc,EAAKyoD,SAAU60E,EAAiBj9H,UAK3Fs6G,EAAOl5G,UAAU27H,wBAA0B,WACvC,GACIr1E,GADA91C,EAAQjR,IAkBZ,QAfI8T,OAAQ,SAAU9U,GACd,GAAIkR,GAASssH,sBAAoBx9H,EAAKikC,OAAO/yB,OAAQlR,EAAKikC,OAAO7yB,MAC7D02C,EAAavvB,gBAAc,SAAWC,UAAW,aACrDx4B,GAAKsgC,OAAO5H,YAAYovB,IACxBC,EAAe,GAAI+lD,mBAAiB3lD,YAAal2C,EAAM3W,OAAOoW,UAAUC,YAAY,cAAeT,OAAQA,KAC9F+iB,UAAYhiB,EAAM3W,OAAO24B,UACtC8zB,EAAapH,SAASmH,IAE1BO,MAAO,SAAUroD,GACb+nD,EAAa1nD,MAAQL,EAAKsoD,eAE9B7hD,KAAM,SAAUzG,GACZA,EAAKuoD,QAAQC,eAAexoD,EAAKikC,OAAO9nB,MAAOnc,EAAKyoD,SAAUV,EAAa1nD,UAKvFs6G,EAAOl5G,UAAU07H,kBAAoB,WACjC,GAEIM,GAFAxrH,EAAQjR,KACR1F,EAAS0F,KAAK1F,OAEdmhF,EAAY,EAuChB,QArCI3nE,OAAQ,SAAU9U,GACd,GAAI8nD,GAAavvB,gBAAc,SAAWC,UAAW,WACrDsvB,GAAWxwB,aAAa,cAAerlB,EAAM3W,OAAOoW,UAAUC,YAAY,eAC1E3R,EAAKsgC,OAAO5H,YAAYovB,IACxB21E,EAAkB,GAAIrvB,YACNn6E,UAAYhiB,EAAM3W,OAAO24B,UACzCwpG,EAAgB98E,SAASmH,IAE7BO,MAAO,SAAUroD,GACby9H,EAAgBp9H,MAAQL,EAAKsoD,cAAgBm0B,EAAY,IAE7Dh2E,KAAM,SAAUzG,GACZ,GAAI09H,GAAczrH,EAAM3W,OAAO+J,cAAckI,iBAAiBkwH,EAAgBp9H,OAC1Es9H,EAASj9H,WAAS,WAAYg9H,GAC9B9vH,EAAOlN,WAAS,eAAgBg9H,EACpC,IAAIC,GAAU,EAAG,CACb,GAAIC,OAAS,EACA,YAAThwH,EACAgwH,EAAmB,GAATD,EAAeriI,EAAOyM,cAElB,SAAT6F,EACLgwH,EAAmB,GAATD,EAAc,GAAMriI,EAAOyM,eAIrC61H,EAASD,EACT/vH,EAAO,OAEX5N,EAAKuoD,QAAQC,eAAexoD,EAAKikC,OAAO9nB,MAAOnc,EAAKyoD,SAAUm1E,GAC9DnhD,EAAYxqE,EAAM3W,OAAO+J,cAAckM,kBAAkBosH,EAAQ/vH,OAGjE5N,GAAKuoD,QAAQC,eAAexoD,EAAKikC,OAAO9nB,MAAOnc,EAAKyoD,SAAU,MAC9Dg0B,EAAY,QAY5Bk+B,EAAOl5G,UAAUk9C,eAAiB,SAAU3+C,GACpCgB,KAAK89C,mBAAqB9lB,SAASsO,KAAK7rC,SAASuF,KAAK89C,oBACtDn/C,SAAOqB,KAAK89C,mBAEhB99C,KAAK89C,kBAAoB,MAG7B67D,EAAOl5G,UAAUghD,YAAc,SAAUziD,KAGzC26G,EAAOl5G,UAAU+hC,0BAA4B,SAAU18B,GACnD,GAAI+2H,GAAoB7kG,SAASnyB,cAAc,2BAC3Ci3H,EAAwB9kG,SAASnyB,cAAc,8BACnD,IAAI7F,KAAK89C,mBAAqB9lB,SAASsO,KAAK7rC,SAASuF,KAAK89C,mBAAoB,CAC1E,GAAI9rB,GAAeuN,UAAQz5B,EAAS,IAAM9F,KAAK1F,OAAOwL,QAAQvL,KACvDuL,EAAQD,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,KAChDyF,KAAK89C,kBAAkBrjD,SAASqL,IAAcjL,oBAAkBm3B,MAC/DhyB,KAAK89C,kBAAkBrjD,SAASqL,IAAc9F,KAAK1F,OAAOulD,mBAAsBhlD,oBAAkBgiI,KACjGhiI,oBAAkBiiI,IAAkD,QAArBh3H,EAAQypG,UAA6C,SAArBzpG,EAAQypG,UAClE,SAArBzpG,EAAQypG,UAA8C,WAArBzpG,EAAQypG,UAA6BzpG,EAAQtL,UAAUC,SAAS,qBACtGkE,SAAOqB,KAAK89C,mBACZ99C,KAAK1F,OAAO4H,SAASqvB,KAAKwE,OAAO,qBAAuBuvB,QAAQ,IAChEtlD,KAAK89C,kBAAoB,QAIrC67D,EAAOl5G,UAAUihD,eAAiB,SAAU1iD,GAUxC,GATKnE,oBAAkBmE,EAAkB,cAChCnE,oBAAkBmE,EAAkB,YAAa,YAC7CnE,oBAAkBmE,EAAkB,YAAa,UAAW,UACrB,UAApCgB,KAAK1F,OAAOm/B,eAAerpB,MAC3BpQ,KAAKm5B,WAAWn6B,EAAkB,YAAa,UAAW,QAAEzE,IAKxEyE,EAAK63B,cAAgBkmG,kBAAiB,CACW,SAA7C/8H,KAAK1F,OAAO4H,SAASu3B,eAAerpB,KACpCpQ,KAAK89C,kBAAoBp+C,WAAS,6BAA8BV,GAGhEgB,KAAK89C,kBAAoBp+C,WAAS,gCAAiCV,GAEvEgB,KAAKg9H,yBAAyBh9H,KAAK89C,kBAAmB9+C,EAEtD,IAAIsxH,GAAStwH,KAAK1F,OAAOmE,WAAWlE,GAChCuhB,EAAc9b,KAAK1F,OAAOmE,WAAW2a,WACrCR,EAAW5Y,KAAK1F,OAAOmE,WAAWga,aAClCwkH,EAAYj9H,KAAK1F,OAAO4H,SAASqvB,KAAKnf,aACtC8qH,EAAex9H,WAAS,SAAUu9H,EACtC,IAAKj+H,EAAKypC,aAAe3sB,GAAejhB,oBAAkB6E,WAASoc,EAAaohH,KACxEl+H,EAAKypC,aAAe7vB,GAAY/d,oBAAkB6E,WAASkZ,EAAUskH,IAAiB,CAC1F,GAAIp3H,GAAU9F,KAAK89C,kBAAkBj4C,cAAc,mBAC/Cs3H,MAAc,EACbtiI,qBAAkBiL,MACnBq3H,EAAcz9H,WAAS,mBAAoBoG,IAC/BrG,MAAQ,EACpB09H,EAAYn3H,gBAGf,IAAIhH,EAAKypC,aAAe6nF,GAAUz1H,oBAAkB6E,WAAS4wH,EAAQ4M,KAA+D,SAA7Cl9H,KAAK1F,OAAO4H,SAASu3B,eAAerpB,KAAiB,CAC7I,GAAItK,GAAU9F,KAAK89C,kBAAkBj4C,cAAc,mBAC/Cs3H,EAAcz9H,WAAS,mBAAoBoG,IAC1CjL,oBAAkBsiI,IAAgBtiI,oBAAkBmF,KAAK1F,OAAO8K,cAAcpG,EAAKypC,YAAYv4B,UAChGitH,EAAYjtH,OAAS,QAKrCypG,EAAOl5G,UAAU28H,YAAc,SAAUC,EAAIC,GAEzC,GAIIv8E,GACAw8E,EACAC,EACAh8B,EACAvtC,EARAwpE,EAAUz9H,KAAK1F,OAAOwL,QAAQkgF,wBAC9B03C,EAAaD,EAAQzsG,IAAM0E,OAAOukE,QAClC0jC,EAAcF,EAAQ3/G,KAUtB8/G,GAAe,CACnB,KAAK/iI,oBAAkBmF,KAAK1F,OAAOwL,QAAQi7C,aAA6D,SAA9C/gD,KAAK1F,OAAOwL,QAAQi7C,WAAoB,QAAc,CAC5G68E,GAAe,EACf78E,EAAa/gD,KAAK1F,OAAOwL,QAAQi7C,UACjC,IAAI9kB,GAAW/oB,KAAK6P,IAAIg+B,EAAWilC,wBAAwBh1D,IAG3D,KAFAusG,EAAgBthG,EAAWvG,OAAOukE,QAAUh+D,EAAWvG,OAAOukE,QAAUvkE,OAAOukE,QAAUh+D,EAC7E8kB,EAAWptB,MAAM0kC,YACb,CACZ,GAAInlD,KAAK6P,IAAI26G,GAAcxqH,KAAK6P,IAAIw6G,GAAgB,CAChD/7B,EAAak8B,EAAaH,CAC1B,OAEJ,IAAK1iI,oBAAkBmF,KAAK1F,OAAOwL,QAAQi7C,YAAa,CACpD,GAAIA,EAAWA,qBAAsB88E,cACjC,OAEJ98E,EAAaA,EAAWA,YACTA,YAAcA,EAAWA,WAAWptB,OACnCotB,EAAWA,WAAWptB,MAAM0kC,UAGhDklE,EAAgBx8E,EAAWilC,wBAAwBh1D,IAKvD,IAFAwsG,GADAz8E,EAAa/gD,KAAK1F,OAAOwL,QAAQi7C,YACLilC,wBAAwBloE,KACvCijC,EAAWptB,MAAM67B,aACd,CACZ,GAAIt8C,KAAK6P,IAAI46G,GAAezqH,KAAK6P,IAAIy6G,GAAiB,CAClDvpE,EAAc0pE,EAAcH,CAC5B,OAEJ,IAAK3iI,oBAAkBmF,KAAK1F,OAAOwL,QAAQi7C,YAAa,CACpD,GAAIA,EAAWA,qBAAsB88E,cACjC,OAEJ98E,EAAaA,EAAWA,YACAptB,MAAM67B,WAElCguE,EAAiBz8E,EAAWilC,wBAAwBloE,MAI5D,GAAIggH,GAAQT,EAAGr3C,wBACX+3C,EAAQT,EAAGt3C,wBACXloE,EAAOggH,EAAMlqG,MAAQ8B,OAAOsoG,QAC5BhtG,EAAM4sG,EAAeE,EAAM9sG,IAAM0sG,EAAaI,EAAM9sG,IAAM0E,OAAOukE,OAerE,IAdIwjC,EAAQ7pG,MAAS9V,EAAOw/G,EAAGprG,YACtB4rG,EAAMhgH,KAAOw/G,EAAGprG,YAAeurG,EAAQ3/G,KACxCA,EAAQggH,EAAMhgH,KAAOw/G,EAAGprG,YAGxBpU,GAASA,EAAOw/G,EAAGprG,YAAeurG,EAAQ7pG,MAIxC/4B,oBAAkB2mG,IAAgB3mG,oBAAkBo5D,KAAiB2pE,IACvE9/G,EAAO5K,KAAK6P,IAAI+6G,EAAMlqG,MAAQ6pG,EAAQ3/G,MACtCkT,EAAM9d,KAAK6P,IAAI+6G,EAAM9sG,IAAMysG,EAAQzsG,MAGtCn2B,oBAAkB2mG,IAAgB3mG,oBAAkBo5D,GAmBrDqpE,EAAG3pG,MAAM3C,IAAMA,EAAM,KACrBssG,EAAG3pG,MAAM7V,KAAOA,EAAO,SApB4C,CACnE,GAAImgH,GAAkBH,EAAM9sG,IACxB/O,EAAYjiB,KAAKk+H,yBAAyBlmG,SAAS5E,uBAAuB,WAAW,GACrFnR,KACAg8G,EAAkBH,EAAM9sG,IAAMhxB,KAAK1F,OAAOwL,QAAQkgF,wBAAwBh1D,IAE9E,IAAImtG,GAAmBL,EAAM/gH,MAAQ/e,SAASq/H,EAAG3iI,cAAci5B,MAAM7V,KAAM,GAC3DggH,GAAM9sG,IAAM+sG,EAAM/sG,MAE9BitG,EAAkBjtG,GAEL+sG,EAAMjgH,OAAUggH,EAAMhgH,KAAOggH,EAAM/gH,QAC/BkF,IACjBk8G,EAAmBrgH,GAEvBw/G,EAAG3pG,MAAM3C,IAAMitG,EAAkBvoG,OAAOukE,QAAU,KAClDqjC,EAAG3pG,MAAM7V,KAAOqgH,EAAmB,OAO3CxkB,EAAOl5G,UAAUy9H,yBAA2B,SAAUp4H,GAElD,IADA,GAAIojC,GAAUpjC,EAAQpL,cACfwuC,GAAS,CACZ,GAAIvV,GAAQ+B,OAAOsnC,iBAAiB9zB,GAChCsmB,EAAa3nD,WAAW8rB,EAAM67B,WAElC,IADkB3nD,WAAW8rB,EAAMsgC,aACjB,GAAKzE,EAAa,EAAG,CACnC,GAAI4uE,IAAiB,CAIrB,OAHIl1F,GAAQC,wBAA0BnrC,SAASkrC,EAAQC,uBAA8B,MAAEpsB,MAAO,IAAM,IAChGqhH,GAAiB,GAEdA,EAEXl1F,EAAUA,EAAQxuC,cAEtB,OAAO,GAEXi/G,EAAOl5G,UAAUu8H,yBAA2B,SAAUl3H,EAAS9G,GAC3Dw/B,YAAU14B,GAAU,WACf9F,KAAK1F,OAAOulD,kBACb7nB,SAASnyB,cAAc,IAAM7F,KAAK1F,OAAOuzC,WAAWnW,YAAY5xB,EAEpE,IAAIk/B,EACAhlC,MAAK1F,OAAOylD,gBACZ/a,EAAgBhN,SAASnyB,cAAc,YAAc7F,KAAK1F,OAAOuzC,UAAY,kCAEzE/nC,EAAQ6tB,MAAMwsC,OAASn7B,EAActqC,cAAci5B,MAAMwsC,OACR,SAA7CngE,KAAK1F,OAAO4H,SAASu3B,eAAerpB,KACpCpQ,KAAKo9H,YAAYp4F,EAAetlC,WAAS,6BAA8BV,IAGvEgB,KAAKo9H,YAAYp4F,EAAetlC,WAAS,gCAAiCV,MAKlFgmC,EAAgBhlC,KAAK1F,OAAO4H,SAASqvB,KAAK8sG,uBAAuBr/H,EAAKypC,YAAY5iC,cAAc,oBAC/C,SAA7C7F,KAAK1F,OAAO4H,SAASu3B,eAAerpB,KACpCkuH,uBAAqBt5F,EAAetlC,WAAS,qBAAsBV,IAGnEs/H,uBAAqBt5F,EAAetlC,WAAS,wBAAyBV,KAG9E8G,EAAQ6tB,MAAMkB,QAAU,QACyB,SAA7C70B,KAAK1F,OAAO4H,SAASu3B,eAAerpB,MACpCtK,EAAQD,cAAc,kBAAkBqkC,QAEK,UAA7ClqC,KAAK1F,OAAO4H,SAASu3B,eAAerpB,MACjB4nB,SAASnyB,cAAc,kBAC7BqkC,SAGrByvE,EAAOl5G,UAAUg+B,oBAAsB,WAC/Bz+B,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,cAAe5xB,KAAKg8H,aACpCh8H,KAAK1F,OAAOs3B,IAAI,cAAe5xB,KAAKyhD,aACpCzhD,KAAK1F,OAAOs3B,IAAI,iBAAkB5xB,KAAK0hD,gBACvC1hD,KAAK1F,OAAOs3B,IAAI,iBAAkB5xB,KAAK29C,kBAO3Cg8D,EAAOl5G,UAAU02B,QAAU,WACvBn3B,KAAKy+B,sBACLz+B,KAAKumC,gBAEFozE,KCtaPC,GAAsB,WACtB,QAASA,GAAK34C,GACVjhE,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAO0nC,QAChBv+H,KAAK1F,OAAO4H,SAASk7C,aAAep9C,KAAK1F,OAAO8iD,aAChDp9C,KAAK1F,OAAO4H,SAAS+gD,aAAe2mC,sBAAoB5pF,KAAK1F,OAAO2oD,cACpEjjD,KAAKwU,mBA2ET,MAnEAolG,GAAKn5G,UAAU+9E,cAAgB,WAC3B,MAAO,QAMXo7B,EAAKn5G,UAAU+T,iBAAmB,WAC9BxU,KAAK1F,OAAOma,GAAG,cAAezU,KAAKg8H,YAAah8H,OAOpD45G,EAAKn5G,UAAUg+B,oBAAsB,WAC7Bz+B,KAAK1F,OAAOokC,aAGhB1+B,KAAK1F,OAAOs3B,IAAI,cAAe5xB,KAAKg8H,cAQxCpiB,EAAKn5G,UAAU02B,QAAU,WACrBn3B,KAAKy+B,uBAUTm7E,EAAKn5G,UAAU4qF,WAAa,SAAU5iD,EAAYylB,EAAWo9B,GACzDtrF,KAAK1F,OAAO4H,SAASs8H,aAAa/1F,EAAYylB,EAAWo9B,IAO7DsuB,EAAKn5G,UAAUmrF,aAAe,WAC1B5rF,KAAK1F,OAAO4H,SAAS0pF,gBAQzBguB,EAAKn5G,UAAUu7H,YAAc,WACzBh8H,KAAK1F,OAAO2oD,aAAejjD,KAAK1F,OAAO4H,SAAS+gD,cAQpD22D,EAAKn5G,UAAUkvF,iBAAmB,SAAUlnD,GACxCzoC,KAAK1F,OAAO4H,SAASqvB,KAAKo+D,iBAAiBlnD,IAExCmxE,KC/EPY,GAA2B,WAC3B,QAASA,GAAUv5C,GACfjhE,KAAKy+H,sBAAuB,EAC5Bz+H,KAAK0+H,aAAc,EACnB1+H,KAAK2+H,mBACL3+H,KAAKyjD,sBACLzjD,KAAKi9F,wBAAyB,EAC9Bj9F,KAAK4+H,WAAY,EACjB5+H,KAAK1F,OAAS2mE,EACdjhE,KAAKy/C,aACLz/C,KAAK1F,OAAO4H,SAASqhD,iBAAmBvjD,KAAK1F,OAAOipD,iBACpDvjD,KAAK1F,OAAO4H,SAASo8C,eAAiBt+C,KAAK1F,OAAOgkD,eAClDt+C,KAAK1F,OAAO4H,SAASqvB,KAAK0wB,kBAAkB6nC,aAAe9pF,KAAK1F,OAAO2nD,kBAAkB6nC,aACzF9pF,KAAK1F,OAAO4H,SAAS+/C,kBAAoB2nC,sBAAoB5pF,KAAK1F,OAAO2nD,mBACzEjiD,KAAKm5B,aAglBT,MAzkBAqhF,GAAU/5G,UAAU+9E,cAAgB,WAChC,MAAO,aAEXg8B,EAAU/5G,UAAU04B,WAAa,WAC7Bn5B,KAAK1F,OAAOma,GAAG,mBAAoBzU,KAAKmqF,iBAAkBnqF,MACtDA,KAAK1F,OAAOymC,YACZ/gC,KAAK1F,OAAOma,GAAG,kBAAmBzU,KAAKk8F,eAAgBl8F,MACvDA,KAAK1F,OAAOma,GAAG,gBAAiBzU,KAAK6+H,kBAAmB7+H,OAGxDA,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAKk8F,eAAgBl8F,OAS5Dw6G,EAAU/5G,UAAU0pF,iBAAmB,YACI,IAAlCnqF,KAAK1F,OAAOipD,mBAAmE,IAAxCvjD,KAAK1F,OAAO8jF,yBACpDp+E,KAAK2jD,WAAkD,IAAxC3jD,KAAK1F,OAAO8jF,uBAAgCp+E,KAAK1F,OAAO8jF,uBAAyBp+E,KAAK1F,OAAOipD,kBAC5GvjD,KAAK1F,OAAO8jF,wBAA0B,IAS9Co8B,EAAU/5G,UAAUg/C,WAAa,WAC7Bz/C,KAAK1F,OAAO4H,SAAS48H,aAAe9+H,KAAK8+H,aAAanqH,KAAK3U,MAC3DA,KAAK1F,OAAO4H,SAASw7G,YAAc19G,KAAK09G,YAAY/oG,KAAK3U,MACzDA,KAAK1F,OAAO4H,SAAS68H,eAAiB/+H,KAAK++H,eAAepqH,KAAK3U,MAC/DA,KAAK1F,OAAO4H,SAAS07G,cAAgB59G,KAAK49G,cAAcjpG,KAAK3U,MAC7DA,KAAK1F,OAAO4H,SAAS88H,cAAgBh/H,KAAKg/H,cAAcrqH,KAAK3U,MAC7DA,KAAK1F,OAAO4H,SAAS+8H,aAAej/H,KAAKi/H,aAAatqH,KAAK3U,MAC3DA,KAAK1F,OAAO4H,SAASg9H,gBAAkBl/H,KAAKk/H,gBAAgBvqH,KAAK3U,MACjEA,KAAK1F,OAAO4H,SAASi9H,eAAiBn/H,KAAKm/H,eAAexqH,KAAK3U,OAEnEw6G,EAAU/5G,UAAUq+H,aAAe,SAAU9/H,GACzC,IAAKgB,KAAK1F,OAAOozD,qBAEb,YADA1uD,EAAK4/B,QAAS,EAGlB5/B,GAAKogI,cAAgBp/H,KAAKq/H,oBAAsBrgI,EAAKogI,cACrDpgI,EAAKsgI,eAAiBt/H,KAAKu/H,qBAAuBvgI,EAAKsgI,eACvDtgI,EAAKsgC,OAASt/B,KAAKw/H,aACd3kI,oBAAkBmE,EAAKygI,iBAA+D,IAA5ChkI,OAAOC,KAAKsD,EAAKygI,gBAAgB9jI,cACrEqD,GAAKygI,eAEZz/H,KAAK1F,OAAO2nD,mBAAqBjiD,KAAK1F,OAAO2nD,kBAAkBC,mBAC/DliD,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAuC,uBAAI,GAEzEhiD,KAAK1F,OAAOgc,QAAQ,eAAgBtX,IAChCgB,KAAKu/H,qBAAuBv/H,KAAKq/H,sBACjCr/H,KAAKu/H,oBAAsBv/H,KAAKq/H,oBAAqB,IAG7D7kB,EAAU/5G,UAAUi9G,YAAc,SAAU1+G,GACxC,GACIS,GAAgD,aAAvCO,KAAK1F,OAAO2nD,kBAAkB7xC,MAAwBvV,oBAAkBmE,EAAe,aAC5EA,EAAKk9B,UAAzBl9B,EAAe,UAOnB,IANAgB,KAAK0/H,eAAejgI,EAAOT,EAAW,MACtCgB,KAAKyjD,mBAAqBvlD,YAAW8B,KAAKmiD,4BAA6B,GACvEniD,KAAK1F,OAAOqd,eAAgB4rC,iBAAkBvjD,KAAK1F,OAAO4H,SAASqvB,KAAKgyB,mBAAoB,GACxFvjD,KAAKu/H,sBACLv/H,KAAKyjD,mBAAqBhkD,GAE1BO,KAAK1F,OAAOgmC,eAIZ,GAHItgC,KAAK1F,OAAOkqB,+BACZxkB,KAAK1F,OAAsB,eAAI,GAE/B0E,EAAKjB,OAASlD,oBAAkBmE,EAAKjB,KAAa,QAClD,IAAK,GAAID,GAAI,EAAGA,EAAIkB,EAAKjB,KAAa,OAAGD,IACrCkC,KAAK1F,OAAOmqB,iBAAiB0c,iBAAiBniC,EAAKjB,KAAKD,GAAGU,gBAAgBsf,UAI3E9d,MAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,iBACxDvH,oBAAkB6E,WAAS,4BAA6BV,MACxDA,EAAKjB,KAAOiC,KAAK1F,OAAO4gC,cAAcl8B,EAAKjB,KAAK2X,SAEpD1V,KAAK1F,OAAOmqB,iBAAiB0c,iBAAiBzhC,WAAS,4BAA6BV,GAW5F,IARAA,EAAKsgC,OAASt/B,KAAKw/H,aACd3kI,oBAAkBmE,EAAKygI,iBAA+D,IAA5ChkI,OAAOC,KAAKsD,EAAKygI,gBAAgB9jI,cACrEqD,GAAKygI,eAEhBz/H,KAAK2/H,aAAe3gI,EAAKk9B,SACpBrhC,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,oBAAoBrjD,IAE7CnE,oBAAkBmF,KAAK1F,OAAOqtC,YAAmC,uBAAI,CACtE,GAAIi4F,GAAoB5/H,KAAK1F,OAAOqtC,YAAmC,qBACvErJ,gBAAashG,GAAoB,aACjCthG,eAAashG,GAAoB,WAErC5/H,KAAK1F,OAAOgc,QAAQ,cAAetX,IAEvCw7G,EAAU/5G,UAAUs+H,eAAiB,SAAU//H,GAC3CA,EAAKsgC,OAASt/B,KAAKw/H,aACnBxgI,EAAK6gI,aAAe7/H,KAAK6/H,aACzB7/H,KAAK1F,OAAOgc,QAAQ,iBAAkBtX,IAE1Cw7G,EAAU/5G,UAAUm9G,cAAgB,SAAU5+G,GAC1C,GAAIS,GACAqgI,CACJ,IAAoC,IAAhC9/H,KAAK2+H,gBAAgBhjI,OACrB8D,EAAQO,KAAK2+H,oBAGb,IAAK9jI,oBAAkBmE,EAAK+gI,YAcxBtgI,GAAST,EAAKk9B,cAduB,CACrC,IAAK,GAAIp+B,GAAI,EAAGA,EAAIkB,EAAK+gI,WAAWpkI,OAAQmC,IACpCkB,EAAK+gI,WAAWjiI,KAAOkB,EAAKk9B,WAC5B4jG,GAAa,EAIjBrgI,GADAqgI,EACQ9gI,EAAK+gI,YAGJ/gI,EAAKk9B,UAO1Bl8B,KAAK0/H,eAAejgI,GACpBO,KAAKyjD,mBAAqBvlD,YAAW8B,KAAKmiD,4BAA6B,GACvEniD,KAAK1F,OAAOqd,eAAgB4rC,kBAAmB,IAAK,GACb,IAAnCvjD,KAAKyjD,mBAAmB9nD,QACxBqE,KAAK1F,OAAOqd,eAAgB4rC,iBAAkBvjD,KAAKyjD,mBAAmB,KAAM,GAE3E5oD,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,sBAEa,aAAvCriD,KAAK1F,OAAO2nD,kBAAkB7xC,MAAuBpQ,KAAK1F,OAAOymC,YAC3B,IAAnC/gC,KAAKyjD,mBAAmB9nD,QAC3BqE,KAAKm7E,YAETn8E,EAAKsgC,OAASt/B,KAAKw/H,aACnBxgI,EAAK6gI,aAAe7/H,KAAK6/H,aACzB7/H,KAAK1F,OAAOgc,QAAQ,gBAAiBtX,GACrCgB,KAAK6/H,cAAe,EACpB7/H,KAAK2+H,oBAETnkB,EAAU/5G,UAAUu+H,cAAgB,SAAUhgI,GAC1C,GAAIg0E,GAAkB,GAAIC,WAI1B,OAHAjzE,MAAK1F,OAAOgc,QAAQ,gBAAiBtX,EAAM,SAAUghI,GACjDhtD,EAAgBG,QAAQ6sD,KAErBhtD,GAEXwnC,EAAU/5G,UAAUw+H,aAAe,SAAUjgI,GACzCgB,KAAK1F,OAAOgc,QAAQ,eAAgBtX,GAC/BnE,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,uBAGlCm4D,EAAU/5G,UAAUy+H,gBAAkB,SAAUlgI,GAC5CgB,KAAK1F,OAAOgc,QAAQ,kBAAmBtX,IAE3Cw7G,EAAU/5G,UAAU0+H,eAAiB,SAAUngI,GAC3CgB,KAAK1F,OAAOgc,QAAQ,iBAAkBtX,GACjCnE,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,uBAUlCm4D,EAAU/5G,UAAU28E,WAAa,SAAUp6C,EAAWsyD,GAClDt1F,KAAK1F,OAAO4H,SAASk7E,WAAWp6C,EAAWsyD,IAQ/CklB,EAAU/5G,UAAU80F,YAAc,SAAUC,GACxCx1F,KAAK1F,OAAO4H,SAASqvB,KAAKgkE,YAAYC,IAU1CglB,EAAU/5G,UAAUkjD,UAAY,SAAUlkD,EAAO61F,EAAU2qC,GACvD,GAAItjD,MAActuE,MAAM4F,KAAKjU,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiB/xB,cAAc,SAASuvB,SAC9Fp1B,MAAK1F,OAAOgd,uBAAyBtX,KAAK1F,OAAOs7D,eAAe1R,aAC/DlkD,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWyjB,WAClDhnB,EAAQO,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOyO,UAAU+D,QAAQ9M,KAAK1F,OAAOyO,SAAStJ,IAC1FO,KAAK1F,OAAOs7D,eAAe1R,aAAc,EACrClkD,KAAK1F,OAAO0I,aACZhD,KAAK1F,OAAO0I,WAAWyjB,SAAU,GAGzC,IACIy5G,GADAC,EAAcxjD,EAAShjE,OAAO,SAAUvD,GAAK,MAAOpY,UAASoY,EAAEqtB,aAAa,iBAAkB,IAAM,IAAMhkC,IAAU,IAEzG,IAAXA,GAAiB5E,oBAAkBslI,KAAiBngI,KAAK1F,OAAOgd,sBAAgE,SAAvCtX,KAAK1F,OAAO2nD,kBAAkBlT,OAGvH/uC,KAAK1F,OAAOmnC,oBAAsB5mC,oBAAkBolI,KAAoBA,GAAkBjgI,KAAK0+H,aAC3F1+H,KAAK0+H,cACL1+H,KAAK0+H,aAAc,GAEvB1+H,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgBo+E,cAAe,GAGzDpgI,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgBo+E,cAAe,EAEvDvlI,oBAAkBmF,KAAKqgI,gBAAmBrgI,KAAKqgI,gBAAkBF,GAAkB7qC,IACrF4qC,GAAY,IAEE,IAAdA,GACAlgI,KAAK1F,OAAO4H,SAASyhD,UAAUlkD,EAAO61F,GAE1Ct1F,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgBo+E,cAA0E,IAA3DpgI,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgBo+E,cACvFpgI,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgBo+E,aACtDpgI,KAAK2/H,aAAelgI,EACpBO,KAAKqgI,cAAgBF,IAQzB3lB,EAAU/5G,UAAUijD,WAAa,SAAUhmD,IAClC7C,oBAAkB6C,IAAYA,EAAQ/B,OAAS,GAChDqE,KAAK1F,OAAO4H,SAASwhD,WAAWhmD,IAQxC88G,EAAU/5G,UAAU0hD,sBAAwB,WACxC,MAAOniD,MAAK1F,OAAO4H,SAASigD,yBAOhCq4D,EAAU/5G,UAAU07E,0BAA4B,WAC5C,MAAOn8E,MAAK1F,OAAO4H,SAASi6E,6BAOhCq+B,EAAU/5G,UAAUojD,mBAAqB,WACrC,GAAI7jD,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBAAiB,CAUzE,IAAK,GATDk+H,MACAC,EAAoBvgI,KAAK1F,OAAO0nD,gBAAgBG,wBAOhD5pC,EAASvY,KACJlC,EAAI,EAAGA,EAAIyiI,EAAkB5kI,OAAQmC,KAPhC,SAAUA,GACpB,GAAIqxB,GAAM5W,EAAOje,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GACrD,MAAOA,GAAK0B,QAAU8gI,EAAkBziI,KACzC,EACHwiI,GAAahiI,KAAK6wB,IAIVrxB,EAEZ,OAAOwiI,GAGP,MAAOtgI,MAAK1F,OAAO4H,SAAS2hD,sBAQpC22D,EAAU/5G,UAAU26E,uBAAyB,WAGzC,IAAK,GAFDolD,GAAcxgI,KAAK1F,OAAO0nD,gBAAgBm6B,4BAC1CskD,KACK3iI,EAAI,EAAGA,EAAI0iI,EAAY7kI,OAAQmC,IACpC2iI,EAAoBniI,KAAK0B,KAAK1F,OAAOwX,gBAAgB0uH,EAAY1iI,GAAGo+B,UAExE,OAAOukG,IAOXjmB,EAAU/5G,UAAUigI,gBAAkB,WAClC,MAAO1gI,MAAK1F,OAAO4H,SAASw+H,mBAOhClmB,EAAU/5G,UAAUuxD,eAAiB,WACjChyD,KAAK0/H,eAAe1/H,KAAKyjD,oBACzBzjD,KAAK1F,OAAO4H,SAAS8vD,iBACrBhyD,KAAK1F,OAAOipD,kBAAoB,EAChCvjD,KAAKyjD,sBACLzjD,KAAKqgI,cAAgB,KAChBxlI,oBAAkBmF,KAAK1F,OAAO4iC,gBAC/Bl9B,KAAK1F,OAAO4iC,cAAcmlB,sBAE9BriD,KAAK6/H,cAAe,GAExBrlB,EAAU/5G,UAAUkgI,sBAAwB,SAAUvqH,EAAGwqH,GAMrD,GALA5gI,KAAKq/H,mBAAqBjpH,EAAEowB,SAAWxmC,KAAKi9F,uBAC5Cj9F,KAAKu/H,oBAAsBnpH,EAAEyqH,SAC7B7gI,KAAKw/H,aAAeppH,EAAEkpB,OACtBt/B,KAAK6/H,cAAe,EACpB7/H,KAAKy+H,qBAAuBmC,EACxBA,EAAW,CACX,GAAIT,GAAc5gG,UAAQnpB,EAAEkpB,OAAQ,kBAChCwhG,EAAS9iI,SAASmiI,EAAY18F,aAAa,iBAAkB,IAAM,EACnE6xD,EAAWt1F,KAAK1F,OAAO2nD,kBAAkB6nC,YACF,YAAvC9pF,KAAK1F,OAAO2nD,kBAAkB7xC,OAAuBpQ,KAAKq/H,qBAAuBr/H,KAAKu/H,qBAClFv/H,KAAK1F,OAAO2nD,kBAAkBC,kBAC9BliD,KAAK0/H,eAAe1/H,KAAKyjD,mBAAoBrtC,EAAQ,QAEpDpW,KAAK1F,OAAO2kC,yBAA4Bj/B,KAAK1F,OAAO2kC,yBAA4Bj/B,KAAK1F,OAAO0kE,uBAC5Fh/D,KAAK1F,OAAO0kE,qBAAoC,iBACjDh/D,KAAK0+H,aAAc,EACnB1+H,KAAK2jD,UAAUm9E,EAAQxrC,KAIvBt1F,KAAKu/H,oBACLv/H,KAAK68E,kBAAkBhiF,oBAAkBmF,KAAK2/H,cAAgBmB,EAAS9gI,KAAK2/H,aAAcmB,IAG1FhuH,WAAS,sBAAsB,EAAM9S,KAAK1F,OAAO4H,SAASqvB,KAAKywB,iBAC/DhiD,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgB++E,oBAAoBD,IAC3C9gI,KAAKyjD,mBAAmB32C,QAAQg0H,IAAW,GAE1D9gI,KAAK0/H,gBAAgBoB,GAAS1qH,EAAQ,SAM1DokG,EAAU/5G,UAAUugI,qBAAuB,SAAUzpF,EAAYquD,GAK7D,IAJA,GAAI0a,MAEA9kH,EAAM+7C,EAAaquD,GACjB9nG,EAAGy5C,EAAY0E,IAAK2pD,IAAe9nG,EAAG8nG,EAAU3pD,IAAK1E,GAAcz5C,EAAItC,EAAGsC,EAAGm+C,EAAMzgD,EAAGygD,IACrFn+C,GAAKm+C,EAAKn+C,IACbwiH,EAAQhiH,KAAKR,EAEby5C,GAAaquD,GACb0a,EAAQ/wG,UAEZvP,KAAKyjD,mBAAqB68D,GAS9B9F,EAAU/5G,UAAUo8E,kBAAoB,SAAUtlC,EAAYquD,GAC1D5lG,KAAKy+H,sBAAuB,EAC5Bz+H,KAAKghI,qBAAqBzpF,EAAYquD,GACtC5lG,KAAK0jD,WAAW1jD,KAAKyjD,qBAEzB+2D,EAAU/5G,UAAUi/H,eAAiB,SAAUhiI,EAASujI,GAC5B,qBACpBvjI,GAAWA,GAmCf,KAAK,GAjCDi/E,MAActuE,MAAM4F,KAAKjU,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiB/xB,cAAc,SAASuvB,UAgC9F7b,EAASvZ,KACJlC,EAAI,EAAGA,EAAIJ,EAAQ/B,OAAQmC,KAhCtB,SAAUA,GACpB,GAAIqiI,GAAcxjD,EAAShjE,OAAO,SAAUvD,GACxC,MAAOpY,UAASoY,EAAEqtB,aAAa,iBAAkB,IAAM,IAAM/lC,EAAQM,SAASF,EAAEG,WAAY,OAC7F,EACH,KAAKpD,oBAAkBslI,GAAc,CACjC,GAAIe,IAAU,EACVzhI,EAAQ8Z,EAAO4oC,wBAAwBr1C,QAAQpP,EAAQM,SAASF,EAAEG,WAAY,MAC9EkjI,EAAoB5nH,EAAOsqC,qBAAqBloD,MAChD4d,GAAOjf,OAAO2nD,kBAAkBC,kBAAoB3oC,EAAOjf,OAAO2nD,kBAAkB6nC,eACnFjvF,oBAAkBomI,IAAqD,aAAzC1nH,EAAOjf,OAAO2nD,kBAAkB7xC,MAC/D+wH,EAAoB,IACpBD,GAAU,GAEV3nH,EAAOjf,OAAO2nD,kBAAkB6nC,cAAgBvwE,EAAOjf,OAAO2nD,kBAAkBC,kBAC/EziD,GAAS,GAA8C,WAAzC8Z,EAAOjf,OAAO2nD,kBAAkB7xC,MAAqB8wH,GACnEzhI,GAAS,IAAQ5E,oBAAkBomI,IAAqD,aAAzC1nH,EAAOjf,OAAO2nD,kBAAkB7xC,KAChFmJ,EAAOilB,SAAS2hG,GAEXtlI,oBAAkBomI,GACvB1nH,EAAO+kB,YAAY6hG,GAEd1gI,GAAS,GACd8Z,EAAOilB,SAAS2hG,GAEhB5mH,EAAOjf,OAAO2nD,kBAAkB6nC,cAAgBrqF,GAAS,IAA+C,WAAzC8Z,EAAOjf,OAAO2nD,kBAAkB7xC,OAC7FmJ,EAAO8lH,qBAAuB9lH,EAAOgmH,sBAAyBhmH,EAAOjf,OAAO2nD,kBAAkBC,kBACpF,iBAAZ++E,GAA8B1nH,EAAOklH,sBACrCllH,EAAO+kB,YAAY6hG,KAMnBriI,IAGhB08G,EAAU/5G,UAAU+9B,SAAW,SAAU2hG,GACrC3hG,YAAU2hG,GAAc,YACxBA,EAAY7pG,aAAa,gBAAiB,SAE9CkkF,EAAU/5G,UAAU69B,YAAc,SAAU6hG,GACxC7hG,eAAa6hG,GAAc,YAC3BA,EAAYiB,gBAAgB,kBAEhC5mB,EAAU/5G,UAAU4gI,UAAY,SAAUjrH,GAClCpW,KAAKy+H,sBACL6C,oBAAkBthI,KAAK1F,OAAOwL,QAAQD,cAAc,iBAAkBuQ,EAAG,wCACnEpW,KAAKi9F,yBACFj9F,KAAK6jD,qBAAqBloD,OAAS,GAAKqE,KAAKm8E,4BAA4BxgF,OAAS,GAAM,iBAAmB,KACpHq8B,SAAS5E,uBAAuB,eAAe,GAAGO,MAAMkB,QAAU,OAClE70B,KAAK4+H,WAAY,GAEuB,IAAnC5+H,KAAKyjD,mBAAmB9nD,QAC7BqE,KAAKm7E,aAObq/B,EAAU/5G,UAAU06E,UAAY,WACxBn7E,KAAK4+H,WACL5mG,SAAS5E,uBAAuB,gBAAgB,GAAGO,MAAMkB,QAAU,OACnE70B,KAAK4+H,WAAY,GAGjB5mG,SAAS5E,uBAAuB,eAAe,GAAGO,MAAMkB,QAAU,QAG1E2lF,EAAU/5G,UAAUo+H,kBAAoB,SAAUzoH,GAC9C,GAAIkpB,GAASlpB,EAAEkpB,OACX/N,EAAOvxB,KAAK1F,OAAO4H,SAASqvB,KAC5BgwG,EAAehiG,UAAQD,EAAQ,iBAC/BC,UAAQD,EAAQ,iBAAmBC,UAAQD,EAAQ,eACvD,IAAIiiG,EAAc,CACd,GAAIC,GAAcD,EAAa17H,cAAc,eACzC05B,WAAQD,EAAQ,mBACfkiG,EAAYhnI,UAAUC,SAAS,kBAChCuF,KAAKi9F,wBAAyB,EAC9BukC,EAAYhnI,UAAU62B,IAAI,kBAErBkO,UAAQD,EAAQ,iBACrBkiG,EAAYhnI,UAAUC,SAAS,kBAC/BuF,KAAK4+H,WAAY,EACjB5+H,KAAKi9F,wBAAyB,IAG9Bj9F,KAAKm7E,YACLn7E,KAAKi9F,wBAAyB,EAC1B19D,UAAQD,EAAQ,kBAChBkiG,EAAYhnI,UAAUmE,OAAO,sBAIO,aAAvCqB,KAAK1F,OAAO2nD,kBAAkB7xC,MAAuBpQ,KAAK1F,OAAOymC,YAC5DxB,UAAQD,EAAQ,gBACsB,IAAnCt/B,KAAKyjD,mBAAmB9nD,QAAuD,QAAvCqE,KAAK1F,OAAO2nD,kBAAkBlT,MACrC,IAAzC/uC,KAAKo7E,yBAAyBz/E,QAAuD,SAAvCqE,KAAK1F,OAAO2nD,kBAAkBlT,OAC7E/uC,KAAKm7E,WAGT5pD,IACAze,WAAS,yBAA0B9S,KAAKi9F,uBAAwB1rE,EAAKywB,kBAQ7Ew4D,EAAU/5G,UAAUy7F,eAAiB,SAAU9lF,GAC3C,GAAIspB,IAAkB,EAClB+hG,EAAWzpG,SAASqG,iBAAiB,gBACrC2G,EAAgB,IAWpB,IAVI5uB,EAAEkpB,OAAOC,QAAQ,cACjByF,EAAgB5uB,EAAEkpB,OAEblpB,EAAEkpB,OAAOC,QAAQ,kBACtByF,EAAgB5uB,EAAEkpB,OAAOC,QAAQ,4BAC7BnpB,EAAEkpB,OAAOC,QAAQ,8BAAgCnpB,EAAEkpB,OAAOC,QAAQ,6BAEtEv/B,KAAK1F,OAAOqtC,aACZ3nC,KAAK1F,OAAOqtC,YAAYC,iBAAiB5C,GAEzChlC,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO4kC,aAAaC,qBAAuBn/B,KAAK1F,OAAO0I,WAAWC,kBAAmB,CACpH,GAAI02F,GAAc35F,KAAK1F,OAAO0I,WAAWC,mBACrC02F,EAAYwB,gBAAkBxB,EAAYkD,mBAC1Cn9D,GAAkB,GAG1B,IAAKA,GAAmB1/B,KAAK1F,OAAOwL,QAAQrL,SAAS2b,EAAEkpB,SAAiC,IAApBmiG,EAAS9lI,OAAe,CACxF,GAAIo0F,GAAW71F,eAAakc,EAAEkpB,OAAQ,eAClCu2B,EAAaz/C,EAAEkpB,OAAO9kC,UAAUC,SAAS,cACzC2b,EAAEkpB,OAAO9kC,UAAUC,SAAS,UAC3B2b,EAAEkpB,OAAO5kC,eACN0b,EAAEkpB,OAAO5kC,cAAcF,UAAUC,SAAS,uBAC9C2b,EAAEkpB,OAAO9kC,UAAUC,SAAS,qBAC5B2b,EAAEkpB,OAAO9kC,UAAUC,SAAS,wBAA0BI,oBAAkBk1F,EAC5E/vF,MAAK6+H,kBAAkBzoH,GACoB,SAAvCpW,KAAK1F,OAAO2nD,kBAAkBlT,MAAmB8mB,GAC7Ct2B,UAAQnpB,EAAEkpB,OAAQ,mBACdt/B,KAAK1F,OAAOgd,uBACZtX,KAAK1F,OAAO4H,SAASqvB,KAAKywB,gBAAgB69E,cAAe,GAE7D7/H,KAAK1F,OAAO4H,SAA0B,iBAAI,EAC1ClC,KAAK2gI,sBAAsBvqH,GAAG,KAG9BpW,KAAK1F,OAAO4H,SAA0B,iBAAI,EAC1ClC,KAAK2gI,sBAAsBvqH,GAAG,IAES,aAAvCpW,KAAK1F,OAAO2nD,kBAAkB7xC,MAAuBpQ,KAAK1F,OAAOymC,aAC7D/gC,KAAKyjD,mBAAmB9nD,OAAS,EACjCqE,KAAKqhI,UAAUjrH,GAGfpW,KAAKm7E,cAKbn7E,KAAKy+H,sBAAuB,IAWxCjkB,EAAU/5G,UAAU25D,wBAA0B,SAAUt8D,GACxCkC,KAAK1F,OAAO0nD,gBAAgBG,wBAAwBr1C,QAAQhP,IAC3D,GACTkC,KAAK0/H,gBAAgB5hI,KAS7B08G,EAAU/5G,UAAU02B,QAAU,WACtBn3B,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,mBAAoB5xB,KAAKmqF,kBACrCnqF,KAAK1F,OAAOymC,YACZ/gC,KAAK1F,OAAOs3B,IAAI,kBAAmB5xB,KAAKk8F,gBACxCl8F,KAAK1F,OAAOs3B,IAAI,gBAAiB5xB,KAAK6+H,oBAGtC7+H,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAKk8F,kBAGtCse,KChmBPknB,GAAyB,WACzB,QAASA,GAAQpnI,GACb0F,KAAK2hI,mBACL3hI,KAAK+W,OAAS,MAAO,OAAQ,SAAU,SAAU,SAAU,YAAa,cAAe,SACnF,eAAgB,eAAgB,SAAU,UAAW,YAAa,cAClE,YAAa,YAAa,SAAU,UAAW,gBACnD/W,KAAK1F,OAASA,EACd0F,KAAKzF,GAAKyF,KAAK1F,OAAOwL,QAAQvL,GAC9ByF,KAAK1F,OAAOma,GAAG,mBAAoBzU,KAAK4hI,gBAAiB5hI,MAylB7D,MAvlBA0hI,GAAQjhI,UAAU+9E,cAAgB,WAC9B,MAAO,WAMXkjD,EAAQjhI,UAAUmjF,cAAgB,WAE9B,IADmB5jF,KAAK1F,OAAO0tC,aACdrsC,OAAS,EAAG,CACzBqE,KAAK8F,QAAUyxB,gBAAc,OAASh9B,GAAIyF,KAAK1F,OAAOuzC,UAAY,iBAAkBrW,U5Cd3E,oB4CeLx3B,KAAK1F,OAAO4H,SAASqvB,KAAKswG,aAC1B7hI,KAAK1F,OAAOwL,QAAQomE,aAAalsE,KAAK8F,QAAS9F,KAAK1F,OAAOglD,aAAawiF,cAGxE9hI,KAAK1F,OAAOwL,QAAQ4xB,YAAY13B,KAAK8F,QAKzC,KAAK,GAAIvK,GAAK,EAAGwmI,GAHD,MAAO,OAAQ,SAAU,SAAU,SAAU,YAAa,cACtE,eAAgB,eAAgB,SAAU,UAAW,YAAa,cAAe,YACjF,YAAa,SAAU,UAAW,eAAgB,OAAQ,QACtBxmI,EAAKwmI,EAAWpmI,OAAQJ,IAAM,CAClE,GAAImX,GAAOqvH,EAAWxmI,GAClBymI,MAAU,GACVC,MAAa,EACJ,kBAATvvH,GACAsvH,EAAU,gBACVC,EAAa,iBAGbD,EAAUtvH,EAAKpI,cACf23H,EAAavvH,EAAK,GAAGpI,cAAgBoI,EAAKrE,MAAM,IAEpDrO,KAAK2hI,gBAAgBjvH,IACjBnY,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,IAAMynI,EAAS7qB,WAAY,KAAO6qB,EAC/D96E,KAAMlnD,KAAK1F,OAAOymC,WAAa,GAAK/gC,KAAK1F,OAAOoW,UAAUC,YAAYsxH,GACtE7qB,YAAap3G,KAAK1F,OAAOoW,UAAUC,YAAYsxH,IAA+B,QAAfA,GAC5C,SAAfA,GAAwC,WAAfA,EAA2BjiI,KAAK1F,OAAOoW,UAAUC,YAAY,QACtE,cAAfsxH,GAA6C,gBAAfA,EAC3BjiI,KAAK1F,OAAOoW,UAAUC,YAAY,SAAW,IACrD0mG,MAAOr3G,KAAK1F,OAAOymC,WAAa,QAAU,QAE1C/gC,KAAK1F,OAAO24B,YACC,iBAATvgB,IACA1S,KAAK2hI,gBAAgBjvH,GAAMykG,WAAa,kBAE/B,iBAATzkG,IACA1S,KAAK2hI,gBAAgBjvH,GAAMykG,WAAa,mBAIpD,GAAI+qB,GAAkBliI,KAAK1F,OAAOoW,UAAUC,YAAY,SACpD3Q,MAAK1F,OAAOymC,WACZ/gC,KAAK2hI,gBAAgBpnB,QACjBhgH,GAAIyF,KAAKzF,GAAK,gBACd48G,WAAY,gBACZC,YAAa8qB,EACb7qB,MAAO,SAIXr3G,KAAK2hI,gBAAgBpnB,QACjBhgH,GAAIyF,KAAKzF,GAAK,UACdg/C,SAAU,gEACUv5C,KAAKzF,GAAK,uEAEN2nI,EAAkB,gBACvBliI,KAAKzF,GAAK,uFACC2nI,EAAkB,qDAEhD9qB,YAAa8qB,EACb7qB,MAAO,QAAS/6F,SAAU,oBAGlCtc,KAAKmiI,kBAGbT,EAAQjhI,UAAU2hI,uBAAyB,SAAUpjI,GAC7CgB,KAAK1F,OAAOqyC,SAAW3tC,IACvBgB,KAAK1F,OAAOslD,QAAU5/C,KAAK1F,OAAOslD,QAAQopB,OAAOhqE,GACjDgB,KAAK1F,OAAO6kD,oBAGpBuiF,EAAQjhI,UAAU0hI,cAAgB,WAC9B,GAAIprH,GAAQ/W,KAAKqiI,UACjBriI,MAAKgoC,QAAU,GAAIs6F,YACfvrH,MAAOA,EACPkc,UAAWjzB,KAAK1F,OAAO24B,UACvBsvG,QAASviI,KAAKwiI,oBAAoB7tH,KAAK3U,MACvCi1B,OAAQj1B,KAAK1F,OAAOymC,WAAa,GAAK,SAE1C/gC,KAAKgoC,QAAQotC,kBAAmB,EAChCp1E,KAAKgoC,QAAQ2E,QAAU3sC,KAAK1F,OAAOqyC,QACnC3sC,KAAKgoC,QAAQvzB,GAAG,gCAAiCzU,KAAKoiI,uBAAwBpiI,MAC9EA,KAAKgoC,QAAQ2X,SAAS3/C,KAAK8F,SACvB9F,KAAK1F,OAAO4H,SAASqvB,MAAQvxB,KAAK1F,OAAOqyC,UACxC3sC,KAAK1F,OAAO4H,cAAe09C,QAAU5/C,KAAK1F,OAAOslD,QAEtD,IAAI6iF,GAAaziI,KAAK8F,QAAQD,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,WACvEmoI,EAAa1iI,KAAK8F,QAAQD,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,UACvEkoI,IACAjkG,YAAUikG,G5CnGC,U4CqGXC,GACAlkG,YAAUkkG,G5CtGC,S4CwGf,IAAInpF,IAAW,CACfv5C,MAAK1F,OAAO0tC,QAAQzyB,IAAI,SAAUa,GACpB,WAANA,IACAmjC,GAAW,KAGfv5C,KAAK1F,OAAOymC,YAAcwY,GAC1Bv5C,KAAK8F,QAAQomE,aAAalsE,KAAK2iI,sBAAuB3iI,KAAK8F,QAAQ8uB,WAAW,IAC9E50B,KAAKs7E,cAAgBt7E,KAAK8F,QAAQD,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,cACjE,GAAI6yG,YACdjmD,YAAannD,KAAK1F,OAAOoW,UAAUC,YAAY,UAC/CsiB,UAAWjzB,KAAK1F,OAAO24B,UACvBiiF,eAAgB,QAChB0tB,iBAAiB,IAEbjjF,SAAS3/C,KAAKs7E,gBAGtBt7E,KAAKs7E,cAAgBt7E,KAAK8F,QAAQD,cAAc,IAAM7F,KAAK1F,OAAOwL,QAAQvL,GAAK,cAE/EyF,KAAK1F,OAAO8X,eACZpS,KAAK6iI,YACD7iI,KAAK1F,OAAO8lD,gBACZpgD,KAAK+pF,uBAGb/pF,KAAK4tC,aAAa5tC,KAAK1F,OAAOuzC,UAAY,QAAS7tC,KAAK1F,OAAOuzC,UAAY,UAAU,GACjF7tC,KAAK1F,OAAOy8F,UACZ/2F,KAAK4tC,aAAa5tC,KAAK1F,OAAOwL,QAAQvL,GAAK,OAAQyF,KAAK1F,OAAOwL,QAAQvL,GAAK,UAAWyF,KAAK1F,OAAOwL,QAAQvL,GAAK,UAC5GyF,KAAK1F,OAAOwL,QAAQvL,GAAK,UAAWyF,KAAK1F,OAAOwL,QAAQvL,GAAK,UAAWyF,KAAK1F,OAAOwL,QAAQvL,GAAK,aAAa,IAG1HmnI,EAAQjhI,UAAUkiI,oBAAsB,WACpC,GAAI1xH,GAAQjR,KACR6xC,EAAMta,gBAAc,OAASC,UAAW,uBAAwBC,OAAQ,kBACxEqrG,EAAUvrG,gBAAc,SAAW61B,OAASh9C,KAAM,QAAU7V,GAAIyF,KAAK1F,OAAOwL,QAAQvL,GAAK,eACzFihD,EAAOjkB,gBAAc,QAAUC,UAAW,2BAO9C,OANAgkB,GAAKunF,QAAU,WACXlxF,EAAIle,MAAMkB,QAAU,OACpB5jB,EAAMnL,QAAQ8uB,WAAW,GAAGjB,MAAMkB,QAAU,SAEhDgd,EAAIna,YAAY8jB,GAChB3J,EAAIna,YAAYorG,GACTjxF,GAEX6vF,EAAQjhI,UAAUoiI,UAAY,WACtB7iI,KAAKs7E,gBACLlqD,eAAaC,IAAIrxB,KAAKs7E,cAAe,QAASt7E,KAAKgjI,aAAchjI,MACjEoxB,eAAaC,IAAIrxB,KAAKs7E,cAAe,QAASt7E,KAAKijI,aAAcjjI,MACjEoxB,eAAaC,IAAIrxB,KAAKs7E,cAAe,OAAQt7E,KAAKkjI,YAAaljI,QAGvE0hI,EAAQjhI,UAAUmhI,gBAAkB,SAAU7zF,GAC7BruC,WAAS,SAAUquC,KACjB/tC,KAAKw+E,iBAAoBx+E,KAAK1F,OAAO0tC,UAGhDhoC,KAAK8F,SAAW9F,KAAK8F,QAAQi7C,YAC7BpiD,SAAOqB,KAAK8F,SAEhB9F,KAAK4jF,gBACL5jF,KAAKqiD,wBAETq/E,EAAQjhI,UAAU0iI,YAAc,WACxBnjI,KAAKs7E,gBACLlqD,eAAazyB,OAAOqB,KAAKs7E,cAAe,QAASt7E,KAAKgjI,cACtD5xG,eAAazyB,OAAOqB,KAAKs7E,cAAe,QAASt7E,KAAKijI,cACtD7xG,eAAazyB,OAAOqB,KAAKs7E,cAAe,OAAQt7E,KAAKkjI,aACrDljI,KAAKs7E,cAAgB,MAEpBt7E,KAAK1F,OAAOokC,aACb1+B,KAAK1F,OAAOs3B,IAAI,mBAAoB5xB,KAAK4hI,kBAGjDF,EAAQjhI,UAAUuiI,aAAe,SAAU5sH,GACrB,KAAdA,EAAEwxE,SAAkB5nF,KAAK1F,OAAO8lD,eAAexkD,MAAQoE,KAAKs7E,cAAcj8E,QAC1EW,KAAK1F,OAAO8lD,eAAexkD,IAAMoE,KAAKs7E,cAAcj8E,MACpDW,KAAK1F,OAAO0L,aAGpB07H,EAAQjhI,UAAUwiI,aAAe,SAAU7sH,GACvCA,EAAEkpB,OAAO5kC,cAAcF,UAAU62B,IAAI,kBAEzCqwG,EAAQjhI,UAAUyiI,YAAc,SAAU9sH,GACtCA,EAAEkpB,OAAO5kC,cAAcF,UAAUmE,OAAO,kBAQ5C+iI,EAAQjhI,UAAUspF,oBAAsB,WAChC/pF,KAAKs7E,eAAiBt7E,KAAKs7E,cAAcj8E,QAAUW,KAAK1F,OAAO8lD,eAAexkD,MAC9EoE,KAAKs7E,cAAcj8E,MAAQW,KAAK1F,OAAO8lD,eAAexkD,MAG9D8lI,EAAQjhI,UAAU4hI,SAAW,WACzB,GAAItrH,MACA0wB,EAAeznC,KAAK1F,OAAO0tC,QAC3Bo7F,GAAe,CAOnB,IANA37F,EAAan1B,QAAQ,SAAUI,EAAMjT,IACV,oBAAqB,WAATiT,GACX,oBAA2B,WAAdA,EAAKw0C,QACtCk8E,EAAc3jI,KAGlB2jI,GAAe,EAAG,CAClB,GAAIC,GAAa57F,EAAapf,OAAO+6G,EAAa,EAClD37F,GAAanpC,KAAK+kI,EAAW,IAEjC,IAAK,GAAI9nI,GAAK,EAAG+nI,EAAiB77F,EAAclsC,EAAK+nI,EAAe3nI,OAAQJ,IAAM,CAC9E,GAAImX,GAAO4wH,EAAe/nI,EACN,iBAATmX,GACPqE,EAAMzY,KAAK0B,KAAKujI,cAAc7wH,IAG9BqE,EAAMzY,KAAK0B,KAAKwjI,QAAQ9wH,IAGhC,MAAOqE,IAEX2qH,EAAQjhI,UAAU+iI,QAAU,SAAUC,GAClC,GAAI/wH,GAAO1S,KAAK2hI,gBAAgB8B,EAAWv8E,MACvCvd,EAAcj3B,EAAOxU,SAAOwU,EAAMA,EAAM+wH,GAAcA,CAI1D,OAHK95F,GAAY0tE,QACb1tE,EAAY0tE,MAAQr3G,KAAK1F,OAAOymC,WAAa,QAAU,QAEpD4I,GAEX+3F,EAAQjhI,UAAU8iI,cAAgB,SAAUzoB,GACxC,MAAO96G,MAAK2hI,gBAAgB7mB,KAAe5zD,KAAM4zD,EAAUvgH,GAAIyF,KAAKzF,GAAK,IAAMugH,IAEnF4mB,EAAQjhI,UAAU+hI,oBAAsB,SAAUx+F,GAC9C,GAAI/yB,GAAQjR,KACRwuG,EAAOxuG,KAAK1F,OACZopI,EAAM1jI,KAAKzF,EACfyF,MAAK1F,OAAOi8B,gBAAiB,EAC7Br4B,SAAO8lC,GAAOpF,QAAQ,IACtB4vE,EAAKl4F,QCzPa,eDyPgB0tB,EAAK,SAAUhlC,GAC7C,IAAIA,EAAK4/B,OAsBL,OAlBIoF,EAAItxB,KAAiB,WAAEnY,KAAO0W,EAAM3W,OAAOwL,QAAQvL,GAAK,cAAgBypC,EAAItxB,KAAiB,WAAEnY,KAAO0W,EAAM3W,OAAOwL,QAAQvL,GAAK,mBAC3HM,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,gBAMW,IAA5BtkB,EAAM3W,OAAOymC,aACT/hC,EAAK0T,KAAKnY,KAAOmpI,EAAM,SAAW1kI,EAAK0T,KAAKnY,KAAOmpI,EAAM,QAAU1kI,EAAK0T,KAAKnY,KAAOmpI,EAAM,WACvF1kI,EAAK0T,KAAKnY,KAAOmpI,EAAM,iBAAmB1kI,EAAK0T,KAAKnY,KAAOmpI,EAAM,cACjE1kI,EAAK0T,KAAKnY,KAAOmpI,EAAM,gBACtBzyH,EAAM3W,OAAO0nD,iBAA2D,aAAxC/wC,EAAM3W,OAAO2nD,kBAAkB7xC,OAC/Da,EAAM3W,OAAO0nD,gBAAgBm5B,YAC7BnjD,SAAS5E,uBAAuB,eAAe,GAAGO,MAAMkB,QAAU,UAIrEh6B,oBAAkBmE,EAAK0T,OAAS1T,EAAK0T,KAAKnY,IAC/C,IAAKmpI,GAAM,QACHl1B,EAAKxrG,YAAcwrG,EAAKtvE,aAAaU,cACrC4uE,EAAKxrG,WAAW2C,aAAas2E,uBAEjC,MACJ,KAAKynD,GAAM,UACHl1B,EAAKxrG,YAAcwrG,EAAKxsD,gBAAgB6B,qBAAqBloD,QAC7D6yG,EAAK/e,QAET,MACJ,KAAKi0C,GAAM,iBACHl1B,EAAKl0E,mBACLk0E,EAAKl0E,oBAAqB,EAG1Bk0E,EAAKl0E,oBAAqB,CAE9B,MACJ,KAAKopG,GAAM,WACHl1B,EAAKxrG,YAAcwrG,EAAKxsD,gBAAgB6B,qBAAqBloD,QAC7D6yG,EAAK9e,SAET,MACJ,KAAKg0C,GAAM,UACPl1B,EAAKxrG,WAAWsC,eAAeC,YAAa,EAC5CipG,EAAKtsG,SAASqvB,KAAK8V,UACnB,MACJ,KAAKq8F,GAAM,UACPl1B,EAAKnZ,YACL,MACJ,KAAKquC,GAAM,OACHl1B,EAAKxrG,YAAcwrG,EAAKtvE,aAAa68C,aACrCyyB,EAAKxrG,WAAW2C,aAAaq2E,eAEjC,MACJ,KAAK0nD,GAAM,UACHzyH,EAAM3W,OAAO0nD,iBAAmB/wC,EAAM3W,OAAO0I,aACA,SAAxCiO,EAAM3W,OAAO2nD,kBAAkBlT,MAAmB99B,EAAM3W,OAAO0nD,gBAAgByB,mBAAmB9nD,QACvD,SAAxCsV,EAAM3W,OAAO2nD,kBAAkBlT,MAC/B99B,EAAM3W,OAAO0nD,gBAAgBm6B,4BAA4BxgF,SAC7DsV,EAAM3W,OAAO0I,WAAWo5E,mBAGhC,MACJ,KAAKsnD,GAAM,UAGH,GADqBhkI,WAAS,0BAA2BV,KAClCiS,EAAM3W,OAAOwL,QAAQvL,GAAK,iBAAmB0W,EAAM3W,OAAO8X,aAAc,CAC3F,GAAIiiF,GAASpjF,EAAMnL,QAAQD,cAAc,IAAMoL,EAAM3W,OAAOwL,QAAQvL,GAAK,cAAc8E,KACnF4R,GAAM3W,OAAO8lD,eAAexkD,MAAQy4F,IACpCpjF,EAAM3W,OAAO8lD,eAAexkD,IAAMy4F,EAClCpjF,EAAM3W,OAAO0L,YAGrB,KAER,KAAK09H,GAAM,gBAEH,GAAIC,GAAoB1yH,EAAMnL,QAAQD,cAAc,wBACpD89H,GAAkBjpI,cAAck6B,WAAW,GAAGjB,MAAMkB,QAAU,OAC9D8uG,EAAkBhwG,MAAMkB,QAAU,OAClC,MAER,KAAK6uG,GAAM,aACPzyH,EAAM3W,OAAOmqB,iBAAiB2gB,kBAAkB,UAChDn0B,EAAM3W,OAAOy6B,eAAgB,CAC7B,MACJ,KAAK2uG,GAAM,eACPzyH,EAAM3W,OAAOmqB,iBAAiB2gB,kBAAkB,YAChDn0B,EAAM3W,OAAOy6B,eAAgB,CAC7B,MACJ,KAAK2uG,GAAM,gBACPzyH,EAAM3W,OAAO62F,kBACb,MACJ,KAAKuyC,GAAM,gBACPzyH,EAAM3W,OAAOwzF,cACb,MACJ,KAAK41C,GAAM,UACPzyH,EAAMu8E,QACN,MACJ,KAAKk2C,GAAM,WACPzyH,EAAMw8E,SACN,MACJ,KAAKi2C,GAAM,aACPzyH,EAAMy8E,WACN,MACJ,KAAKg2C,GAAM,QACPzyH,EAAM3W,OAAOmiF,MACb,MACJ,KAAKinD,GAAM,QACPzyH,EAAM3W,OAAOoiF,WAWjCglD,EAAQjhI,UAAU+sF,OAAS,WACvBxtF,KAAK1F,OAAOsX,eAAeqwB,gBAAe,GAC1CjiC,KAAK1F,OAAOsX,eAAeC,WAAY,GAO3C6vH,EAAQjhI,UAAUitF,UAAY,WACtB1tF,KAAK1F,OAAOsX,eAAeq5B,WAC3BjrC,KAAK1F,OAAOsX,eAAeq5B,UAAW,GAE1CjrC,KAAK1F,OAAOsX,eAAe+oB,mBAC3B36B,KAAK1F,OAAOmqB,iBAAiB0c,iBAAiB,GAC9CnhC,KAAK1F,OAAOsX,eAAeO,aAAc,GAO7CuvH,EAAQjhI,UAAUgtF,QAAU,WACxBztF,KAAK1F,OAAOsX,eAAeqwB,gBAAe,GAC1CjiC,KAAK1F,OAAOsX,eAAeC,WAAY,GAQ3C6vH,EAAQjhI,UAAU4hD,oBAAsB,SAAUrjD,GAC9C,GAAIwvG,GAAOxuG,KAAK1F,OACZszC,KACAg2F,KACAp+H,EAAOgpG,EAAKtvE,aACZwkG,EAAM1jI,KAAKzF,GACXo4F,EAAM6b,EAAKjrD,gBACf,IAAIvjD,KAAK1F,OAAO6H,mBAAqBnC,KAAK1F,OAAOmE,WAAW2D,gBACxD,IAAStE,EAAI,EAAGA,EAAI0wG,EAAK35F,eAAelZ,OAAQmC,IAC5C,GAAI0wG,EAAK35F,eAAe/W,GAAG2B,QAAUkzF,EAAK,CACtCA,EAAM70F,CACN,OAIZ,GAAI+lI,GACAhuE,GAAa,CACb24C,GAAKxsD,kBACoD,IAArDwsD,EAAKxsD,gBAAgB6B,qBAAqBloD,QAA4E,IAA5D6yG,EAAKxsD,gBAAgBm6B,4BAA4BxgF,SAC3Gk6D,GAAa,IAGjB24C,EAAKxsD,iBAAmD,aAAhCwsD,EAAKvsD,kBAAkB7xC,MAAuBo+F,EAAKxsD,gBAAgByB,mBAAmB9nD,OAAS,IACvHk6D,GAAa,EAEjB,IAAItY,IAAY,CAChB,IAAIixD,EAAKxsD,iBAAmBwsD,EAAKvsD,kBAAkBC,iBAAkB,CACjE,GAAI0B,GAAkB4qD,EAAKxsD,gBAAgB6B,qBAAqBloD,MAChE,IAAI6yG,EAAKvsD,kBAAkBC,kBAAwC,IAApB0B,EAC3C,IAAS9lD,EAAI,EAAGA,EAAI8lD,EAAiB9lD,KAElB,KADX2B,EAAQ+uG,EAAK18F,gBAAgBhF,QAAQ0hG,EAAKxsD,gBAAgB6B,qBAAqB/lD,OAE/Ey/C,GAAY,EAIpBA,KACAsY,GAAa,GAGrB,GAAIpuB,GAAeznC,KAAKgoC,QAAUhoC,KAAKgoC,QAAQjxB,SAC3C+sH,GAAuBJ,EAAM,OAAQA,EAAM,QAASA,EAAM,UAC1DA,EAAM,UAAWA,EAAM,UAAWA,EAAM,UAAWA,EAAM,YACzDK,EAA4C,iBAAzB/jI,KAAK1F,OAAOyd,UAAgE,IAAjCrY,WAAS,aAAcV,IACzD,gBAAzBgB,KAAK1F,OAAOyd,QACnB,IAAKld,oBAAkBmF,KAAK1F,OAAO0I,YAmF/B4gI,EAAatlI,KAAKolI,EAAM,WACxBE,EAAatlI,KAAKolI,EAAM,QACxBE,EAAatlI,KAAKolI,EAAM,SACxBE,EAAatlI,KAAKolI,EAAM,WACxBE,EAAatlI,KAAKolI,EAAM,WACxBE,EAAatlI,KAAKolI,EAAM,WACxBE,EAAatlI,KAAKolI,EAAM,gBAzFoB,CAC5C,GAAIxnD,KAAYsyB,EAAKxrG,WAAWC,mBAC5BurG,EAAKxrG,WAAWC,kBAAkBi5E,UAClC8nD,EAAUx1B,EAAKzlG,UAAYylG,EAAKzlG,SAASpN,MAE7C6J,GAAKu2E,cAAgBG,EAAYtuC,EAAYtvC,KAAKolI,EAAM,QAAUE,EAAatlI,KAAKolI,EAAM,QAE1Fl+H,EAAKo6B,cAAgBmkG,GAAmBC,GAAWnuE,IAAeqmB,EAC9DtuC,EAAYtvC,KAAKolI,EAAM,SAAWE,EAAatlI,KAAKolI,EAAM,SACzDl+H,EAAKo6B,cAAwB,IAAR+yD,IAAsB,IAATA,GAAeqxC,GAAYnuE,GAAuC,iBAAzB71D,KAAK1F,OAAOyd,SAKnFld,oBAAkB2zG,EAAK35F,eAAe89E,KACJ,IAAnC6b,EAAK35F,eAAe89E,GAAK/4E,QAAeoqH,GAAY9nD,GAKpD2nD,EAAsBr1B,EAAK35F,eAAe89E,EAAM,GAC3C93F,oBAAkB2zG,EAAK35F,eAAe89E,KACtC6b,EAAK35F,eAAe89E,GAAK/4E,MAAQiqH,EAAoBjqH,OAAU,IAAe,IAAT+4E,GAIxD,IAATA,IACL/kD,EAAYtvC,KAAKolI,EAAM,WACvB91F,EAAYtvC,KAAKolI,EAAM,cALvBE,EAAatlI,KAAKolI,EAAM,WACxB91F,EAAYtvC,KAAKolI,EAAM,eAR3B91F,EAAYtvC,KAAKolI,EAAM,WACvBE,EAAatlI,KAAKolI,EAAM,cAP5BE,EAAatlI,KAAKolI,EAAM,WACxBE,EAAatlI,KAAKolI,EAAM,YAqB5B,IAAIO,KAAmBz1B,EAAKxsD,kBAAkBwsD,EAAKxsD,gBAAgB6B,qBAAqBloD,OAAS,GAC7F6yG,EAAKxsD,gBAAgBm6B,4BAA4BxgF,OAAS,EAC9D,IAAI6yG,EAAKxsD,iBAAmBwsD,EAAKvsD,kBAAkBC,iBAAkB,CAC7D3E,IACA0mF,GAAmB,EAEvB,IACIC,IADAtgF,EAAkB4qD,EAAKxsD,gBAAgB6B,sBACAloD,MAC3C,IAAI6yG,EAAKvsD,kBAAkBC,kBAAoBgiF,EAAuB,EAClE,IAAK,GAAIpmI,GAAI,EAAGA,EAAIomI,EAAsBpmI,IAAK,CAE3C,IADI2B,EAAQ+uG,EAAK18F,gBAAgBhF,QAAQ82C,EAAgB9lD,MAC5C,EAAG,CACZmmI,GAAmB,CACnB,OAGAA,GAAmB,GAWnC,GANIz+H,EAAKi/E,eAAiBu/C,GAAWC,IAAqB/nD,EACtDtuC,EAAYtvC,KAAKolI,EAAM,WAGvBE,EAAatlI,KAAKolI,EAAM,WAEG,SAA3Bl1B,EAAKtvE,aAAa6P,OAAoBl0C,oBAAkB2zG,EAAKxrG,WAAWsC,iBACrEkpG,EAAKxrG,WAAWsC,eAAeC,WAAY,EAE9CqoC,MACYtvC,KAAKolI,EAAM,UAAWA,EAAM,WACxCE,IACA,KAAS3+F,EAAI,EAAGA,EAAIwC,EAAa9rC,OAAQspC,IACjCwC,EAAaxC,GAAG1qC,KAAOmpI,EAAM,WAAaj8F,EAAaxC,GAAG1qC,KAAOmpI,EAAM,YAClB,IAArDI,EAAoBh3H,QAAQ26B,EAAaxC,GAAG1qC,KAC5CqpI,EAAatlI,KAAKmpC,EAAaxC,GAAG1qC,QAIzC,CACDqpI,EAAatlI,KAAKolI,EAAM,UAAWA,EAAM,UACzC,KAASz+F,EAAI,EAAGA,EAAIwC,EAAa9rC,OAAQspC,KACY,IAA7C2I,EAAY9gC,QAAQ26B,EAAaxC,GAAG1qC,MACU,IAA9CqpI,EAAa92H,QAAQ26B,EAAaxC,GAAG1qC,KACrCqzC,EAAYtvC,KAAKmpC,EAAaxC,GAAG1qC,KAcjD,IAAK,GAAI6b,GAAI,EAAGA,EAAIw3B,EAAYjyC,OAAQya,IAAK,CAEzC,IAAK,GADD3W,OAAQ,GACHwlC,EAAI,EAAGA,EAAIwC,EAAa9rC,OAAQspC,IACrC,GAAIwC,EAAaxC,GAAG1qC,KAAOqzC,EAAYx3B,GAAI,CACvC3W,EAAQwlC,CACR,OAGJwC,EAAa9rC,OAAS,IAAOd,oBAAkB4sC,EAAahoC,KAAWgoC,EAAahoC,GAAmB,WAAE0pD,SACzGnpD,KAAKgoC,QAAQm8F,SAAS1kI,GAAO,GAGrC,IAAK,GAAI6T,GAAI,EAAGA,EAAIswH,EAAajoI,OAAQ2X,IAAK,CAE1C,IAAK,GADD7T,OAAQ,GACHwlC,EAAI,EAAGA,EAAIwC,EAAa9rC,OAAQspC,IACrC,GAAIwC,EAAaxC,GAAG1qC,KAAOqpI,EAAatwH,GAAI,CACxC7T,EAAQwlC,CACR,OAGJwC,EAAa9rC,OAAS,GACtBqE,KAAKgoC,QAAQm8F,SAAS1kI,GAAO,KAYzCiiI,EAAQjhI,UAAUmtC,YAAc,SAAU72B,EAAO4+E,GAC7C,IAAK,GAAIp6F,GAAK,EAAG6oI,EAAUrtH,EAAOxb,EAAK6oI,EAAQzoI,OAAQJ,IAAM,CACzD,GAAImX,GAAO0xH,EAAQ7oI,GACfuK,EAAU9F,KAAK8F,QAAQD,cAAc,IAAM6M,EAC3C5M,IACA9F,KAAKgoC,QAAQ4F,YAAY9nC,EAAQpL,cAAei7F,KAW5D+rC,EAAQjhI,UAAU02B,QAAU,WACpBn3B,KAAK1F,OAAO8X,cACZpS,KAAKmjI,cAELnjI,KAAK1F,OAAOokC,cAGZ1+B,KAAKgoC,SACLhoC,KAAKgoC,QAAQpW,IAAI,gCAAiC5xB,KAAKoiI,wBAE3DpiI,KAAKgoC,QAAQ7Q,UACbx4B,SAAOqB,KAAK8F,WAET47H,KEnmBP2C,GAA+B,WAC/B,QAASA,GAAcpjE,GACnBjhE,KAAKskI,qBAAsB,EAC3BtkI,KAAK1F,OAAS2mE,EACdjhE,KAAKirF,oBAAsB,KAC3BjrF,KAAKi0B,iBAAmB,KACxBj0B,KAAKk0B,iBAAmB,KA8P5B,MAvPAmwG,GAAc5jI,UAAU8jI,0BAA4B,WAC3CvkI,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBn9B,SAASuF,KAAKirF,uBAC7DjrF,KAAKirF,oBAAsB1zD,gBAAc,OACrCC,U9CsEiB,+B8CpEjBx3B,KAAK1F,OAAOkqB,+BACZxkB,KAAKirF,oBAAoBt3D,MAAMsB,OAAS,QAE5Cj1B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBs0C,aAAalsE,KAAKirF,oBAAqBjrF,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBquD,cAS3Io+C,EAAc5jI,UAAUkyB,eAAiB,WACrC,GAAI1hB,GAAQjR,IACZ,IAAIA,KAAK1F,OAAO4S,UAAYlN,KAAK1F,OAAO4S,SAASvR,OAAS,EAAG,CACzDqE,KAAKukI,4BACAvkI,KAAKirF,oBAAoBxwF,SAASuF,KAAKi0B,oBACxCj0B,KAAKi0B,iBAAmBsD,gBAAc,OAClCC,U9CmDU,wB8CjDVx3B,KAAK1F,OAAOkqB,+BACZxkB,KAAKi0B,iBAAiBN,MAAMsB,OAAS,OACrCj1B,KAAKi0B,iBAAiBN,MAAMwsC,OAAS,MAEzCngE,KAAKirF,oBAAoBvzD,YAAY13B,KAAKi0B,kBAE9C,IAAIuwG,GAAkBxkI,KAAKykI,qBAAqB7vG,UAChD50B,MAAKi0B,iBAAiBZ,UAAY,GAClCmxG,EAAgBlyH,QAAQ,SAAUxM,GAC9BmL,EAAMgjB,iBAAiByD,YAAY5xB,EAAQu6D,WAAU,UAGpDrgE,MAAKi0B,kBAAoBj0B,KAAKi0B,iBAAiB8sB,aACpDpiD,SAAOqB,KAAKi0B,kBACRj0B,KAAKirF,qBAAsE,IAA/CjrF,KAAKirF,oBAAoBr2D,WAAWj5B,QAChEgD,SAAOqB,KAAKirF,uBASxBo5C,EAAc5jI,UAAUgkI,mBAAqB,WACzC,GAAIC,GACAC,EACA1uB,EAAY1+E,gBAAc,OAC1BtC,EAASj1B,KAAK1F,OAAO66B,cACrB8H,EAAgB,CACfpiC,qBAAkBmF,KAAK1F,OAAO4iC,gBAAmBriC,oBAAkBmF,KAAK1F,OAAO4iC,cAAcp3B,WAC9Fm3B,EAAgBj9B,KAAK1F,OAAO4iC,cAAcp3B,QAAQq3B,aAGtD,KAAK,GADDynG,GAAiB5kI,KAAK1F,OAAO8iC,YAAcH,EAAgBj9B,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBsK,aAC1Gr/B,EAAI,EAAGA,EAAIkC,KAAK1F,OAAO4S,SAASvR,OAAQmC,IAAK,CAC9CkC,KAAK1F,OAAO4S,SAASpP,GAAGiE,MAAQ/B,KAAK1F,OAAO4S,SAASpP,GAAGgE,IACxD4iI,EAAW1kI,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAO4S,SAASpP,GAAGiE,OACtF4iI,EAAS3kI,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAO4S,SAASpP,GAAGgE,KAC7EJ,QAAQijI,EAAOtoI,UAAY,GAClCqoI,EAAS5hI,SAAS,EAAG,EAAG,EAAG,GAC3B6hI,EAAO7hI,SAAS,EAAG,EAAG,EAAG,IAEpB9C,KAAK1F,OAAO4S,SAASpP,GAAGiE,MAC7B2iI,EAAW1kI,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAO4S,SAASpP,GAAGiE,OAC7Ee,SAAS,EAAG,EAAG,EAAG,GAEtB9C,KAAK1F,OAAO4S,SAASpP,GAAGgE,KAC7B4iI,EAAW1kI,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAO4S,SAASpP,GAAGgE,KAC7EgB,SAAS,EAAG,EAAG,EAAG,EAE/B,IAAIia,GAAS/c,KAAK1F,OAAO4S,SAASpP,GAAGiE,MAAQ/B,KAAK1F,OAAO4S,SAASpP,GAAGgE,GACjE9B,KAAK1F,OAAO+J,cAAc6c,aAAawjH,EAAUC,GAAU3kI,KAAK1F,OAAO0nB,YACvElE,EAAO9d,KAAK1F,OAAO+J,cAAcmd,YAAYkjH,GAAU,GAAO,GAC9DrtB,EAAQr3G,KAAK1F,OAAO24B,UAAY,SAAWnV,EAAO,MAAQ,QAAUA,EAAO,MAC3E+mH,EAAattG,gBAAc,OAC3BC,U9CLY,Y8CKmBC,OAAQ4/E,EAAQ,UAAYt6F,EAAQ,qBAEnE+nH,EAAWF,EAAiB3vG,EAAU2vG,EAAiB,EAAI3vG,EAAS,EACpEusG,EAAcjqG,gBAAc,QAC5BC,U9CRU,S8CQmBC,OAAQ,OAASqtG,EAAU,WAAc/nH,EAAQ,EAAK,QAEnFgxB,EAAW/tC,KAAK1F,OAAO6rD,kBAAoB,cAAgB,WAC/Dq7E,GAAYzzF,GAAY/tC,KAAK1F,OAAO4S,SAASpP,GAAGwyB,MAAQtwB,KAAK1F,OAAO4S,SAASpP,GAAGwyB,MAAQ,GACpFtwB,KAAK1F,OAAOkkD,qBAA0D,gBAA3BgjF,GAAYzzF,KACvDyzF,EAAYzzF,GAAYghB,qBAAmBC,SAASwyE,EAAYzzF,KAEpE82F,EAAWntG,YAAY8pG,GACnBxhI,KAAK1F,OAAO4S,SAASpP,GAAGwe,UACxBuoH,EAAWrqI,UAAU62B,IAAIrxB,KAAK1F,OAAO4S,SAASpP,GAAGwe,UAErD25F,EAAUv+E,YAAYmtG,GAE1B,MAAO5uB,IAMXouB,EAAc5jI,UAAUiyB,eAAiB,WACrC,GAAIzhB,GAAQjR,IACZ,IAAIA,KAAK1F,OAAOyqF,mBAAqB/kF,KAAK1F,OAAO0jB,iBAAiBsE,YAAa,CAC3EtiB,KAAKukI,4BACAvkI,KAAKirF,oBAAoBxwF,SAASuF,KAAKk0B,oBACxCl0B,KAAKk0B,iBAAmBqD,gBAAc,OAClCC,U9C/BU,wB8CiCVx3B,KAAK1F,OAAOkqB,+BACZxkB,KAAKk0B,iBAAiBP,MAAMsB,OAAS,OACrCj1B,KAAKk0B,iBAAiBP,MAAMwsC,OAAS,MAEzCngE,KAAKirF,oBAAoBvzD,YAAY13B,KAAKk0B,kBAE9C,IAAI6wG,GAAkB/kI,KAAKglI,qBAAqBpwG,UAChD50B,MAAKk0B,iBAAiBb,UAAY,GAClC0xG,EAAgBzyH,QAAQ,SAAUxM,GAC9BmL,EAAMijB,iBAAiBwD,YAAY5xB,EAAQu6D,WAAU,UAGpDrgE,MAAKk0B,mBACVv1B,SAAOqB,KAAKk0B,kBACRl0B,KAAKirF,qBAAsE,IAA/CjrF,KAAKirF,oBAAoBr2D,WAAWj5B,QAChEgD,SAAOqB,KAAKirF,uBASxBo5C,EAAc5jI,UAAUukI,mBAAqB,WACzC,GAAI/uB,GAAY1+E,gBAAc,OAC1BhT,EAAyBvkB,KAAK1F,OAAOkqB,8BAC4B,IAAjExkB,KAAK1F,OAAOmqB,iBAAiBC,aAAa5e,QAAQ6e,WAChD3kB,KAAK1F,OAAOmqB,iBAAiBC,aAAaE,kBAAoB,KAChE9pB,EAAakF,KAAK1F,OAAOkqB,+BAAiC3pB,oBAAkB0pB,GAC1E,GAAIznB,MAAMkD,KAAK1F,OAAOsX,eAAgC,gBAAE2S,GAAwBrjB,WAClF,GAAIpE,MAAKkD,KAAK1F,OAAOsX,eAAeiT,kBAAkB3jB,WACtDnG,EAAUiF,KAAK1F,OAAOkqB,6BAA+B,GAAI1nB,MAAMkD,KAAK1F,OAAOsX,8BAA+B1Q,WAC1G,GAAIpE,MAAKkD,KAAK1F,OAAOsX,eAAem6B,gBAAgB7qC,WACpD+jI,EAAkBjlI,KAAK1F,OAAO2S,mBAC9BqoC,GAAc,EACd4vF,GAAmB,CACvBllI,MAAKskI,qBAAsB,CAC3B,IAAI1uF,GAAS51C,KAAK1F,OAAO+J,cAAcge,iBAAiBvnB,EAAUmB,cAClE,GAAG,CACC,IAAqD,IAAjDgpI,EAAgBn4H,QAAQhS,EAAUkS,UAAkB,CACpD,GAAI8Q,GAAO9d,KAAK1F,OAAO+J,cAAcmd,YAAY1mB,GAAW,GAAO,GAC/DiiB,EAAQ/c,KAAK1F,OAAO0nB,WACxB,IAAIszB,EAAa,CACb,GAAI7yB,GAAQ,GAAI3lB,MAAKhC,EAAUoG,WAC3BmH,EAAU,GAAIvL,MAAK2lB,EAAMvhB,UAC7BmH,GAAQ3G,QAAQ2G,EAAQhM,UAAY,GACpCgM,EAAQvF,SAAS,EAAG,EAAG,EAAG,GAC1Bia,EAAQ/c,KAAK1F,OAAO+J,cAAc6c,aAAauB,EAAOpa,GACtDitC,GAAc,EAElB,IAAKM,EAAQ,CACT,GAAI1vC,GAAQ,GAAIpJ,MAAKhC,GACjBqqI,EAAU,GAAIroI,MAAKhC,EACvBoL,GAAMxE,QAAQwE,EAAM7J,UAAY,EAChC,IAAI+oI,GAAcl/H,EAAM0I,oBACpBy2H,EAAgBF,EAAQv2H,mBAC5B,IAAKs2H,EAkBDA,GAAmB,MAlBA,CACnB,GAAII,GAA4D,SAA1CtlI,KAAK1F,OAAOsX,eAAeqB,YAC0B,IAAvEjT,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,OAClB,YAA1C1C,KAAK1F,OAAOsX,eAAeqB,YAC+C,KAAvEjT,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,OACzB,SAAvC1C,KAAK1F,OAAOsX,eAAeiQ,SAC4C,IAApE7hB,KAAK1F,OAAOsX,eAAegQ,uBAAuBC,QAAQnf,OAChB,YAA1C1C,KAAK1F,OAAOsX,eAAeqB,aAC6C,KAAvEjT,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,OACa,KAAvE1C,KAAK1F,OAAOsX,eAAegQ,uBAAuB3O,WAAWvQ,MACpE1C,MAAKskI,qBACFgB,GAAkBF,EAAcC,IAChCtoH,GAAiB/c,KAAK1F,OAAO0nB,YAAc,GAC3ChiB,KAAKskI,qBAAsB,IAQ3C,GAAIjtB,GAAQr3G,KAAK1F,OAAO24B,UAAY,SAAWnV,EAAO,MAAQ,QAAUA,EAAO,MAC3EynH,EAAahuG,gBAAc,OAC3BC,U9ChHC,Y8CgHuBC,OAAQ4/E,EAAQ,UAAYt6F,EAAQ,mBAEhEk5F,GAAUv+E,YAAY6tG,GAE1BzqI,EAAU4G,QAAQ5G,EAAUuB,UAAY,GACxCvB,EAAUgI,SAAS,EAAG,EAAG,EAAG,SACvBhI,EAAYC,EACrB,OAAOk7G,IAEXouB,EAAc5jI,UAAU+kI,yBAA2B,WAC/C,GAAIvwG,GAASj1B,KAAK1F,OAAOyxF,mBACrB05C,EAAaztG,SAAS2L,eAAe3jC,KAAK1F,OAAOwL,QAAQvL,IACzD0iC,EAAgB,CACfpiC,qBAAkBmF,KAAK1F,OAAO4iC,gBAAmBriC,oBAAkBmF,KAAK1F,OAAO4iC,cAAcp3B,WAC9Fm3B,EAAgBj9B,KAAK1F,OAAO4iC,cAAcp3B,QAAQq3B,aAMtD,KAAK,GAJDynG,GAAyC,SAAvB5kI,KAAK1F,OAAO26B,OAAqBwwG,EAAWtoG,aAAeF,EAAgBj9B,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBsK,aACjJn9B,KAAK1F,OAAO8iC,YAAcH,EAAgBj9B,KAAK1F,OAAOmqB,iBAAiBoO,uBAAuBsK,aAC9FnM,EAAO4zG,EAAiB3vG,EAAU2vG,EAAiB,EAAI3vG,EAAS,EAChEywG,EAAS1lI,KAAKi0B,iBAAiBoK,iBAAiB,WAC3CvgC,EAAI,EAAGA,EAAI4nI,EAAO/pI,OAAQmC,IAC/B4nI,EAAO5nI,GAAG61B,MAAM3C,IAAMoD,aAAWpD,IASzCqzG,EAAc5jI,UAAUqnF,sBAAwB,WAC5C,GAAI7yD,GAASj1B,KAAK1F,OAAOyxF,kBACrB/rF,MAAKi0B,mBACLj0B,KAAKi0B,iBAAiBN,MAAMsB,OAASb,aAAWa,GAChDj1B,KAAKwlI,4BAELxlI,KAAKk0B,mBACLl0B,KAAKk0B,iBAAiBP,MAAMsB,OAASb,aAAWa,KAQxDovG,EAAc5jI,UAAUklI,iBAAmB,WACnC3lI,KAAKi0B,kBACLt1B,SAAOqB,KAAKi0B,kBAEZj0B,KAAKk0B,kBACLv1B,SAAOqB,KAAKk0B,kBAEZl0B,KAAKirF,qBACLtsF,SAAOqB,KAAKirF,sBAGbo5C,KCrQP15E,GAA6B,WAC7B,QAASA,GAAYsW,GACjBjhE,KAAK1F,OAAS2mE,EACdjhE,KAAKm0B,sBAAwB,KA0GjC,MApGAw2B,GAAYlqD,UAAU+xB,mBAAqB,WACnCxyB,KAAK1F,OAAOqY,cAAgB3S,KAAK1F,OAAOqY,aAAahX,OAAS,GACzDqE,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBn9B,SAASuF,KAAKm0B,yBAC7Dn0B,KAAKm0B,sBAAwBoD,gBAAc,OACvCC,U/CsEe,8B+CpEnBx3B,KAAKm0B,sBAAsBmC,aAAa,OAAQ,QAChDt2B,KAAK1F,OAAOmqB,iBAAiBmT,iBAAiBF,YAAY13B,KAAKm0B,wBAEnEn0B,KAAKm0B,sBAAsBd,UAAY,GACvCrzB,KAAK4lI,wBAAwB5lI,KAAKm0B,wBAGlCn0B,KAAK6lI,mBAObl7E,EAAYlqD,UAAUolI,gBAAkB,WAChC7lI,KAAKm0B,wBACLx1B,SAAOqB,KAAKm0B,uBACZn0B,KAAKm0B,sBAAwB,OASrCw2B,EAAYlqD,UAAUmlI,wBAA0B,SAAU3vB,GAMtD,IAAK,GALDn4F,GACAgoH,EACAtE,EACAuE,EACAC,KACKloI,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOqY,aAAahX,OAAQmC,IACjD,IAAKjD,oBAAkBmF,KAAK1F,OAAOqY,aAAa7U,GAAG1B,KAAM,CACrD4D,KAAK1F,OAA0B,mBAAI,EACnCwjB,EAAO9d,KAAK1F,OAAO+J,cAAcmd,YAAYxhB,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAOqY,aAAa7U,GAAG1B,KAAK,IAAO,GAAO,GAC/I4D,KAAK1F,OAA0B,mBAAI,EACnC0rI,EAAsB1nI,MAAO/D,GAAIuD,EAAGggB,KAAMA,EAAMwS,MAAOtwB,KAAK1F,OAAOqY,aAAa7U,GAAGwyB,MAC/Ev0B,KAAMiE,KAAK1F,OAAOoE,qBAAqBkE,kBAAkB5C,KAAK1F,OAAOqY,aAAa7U,GAAG1B,KAAK,IAC9F,IAAIi7G,OAAQ,EAWZ,IATIA,EADAr3G,KAAK1F,OAAO24B,UACJ,SAAWnV,EAAO,MAGlB,QAAUA,EAAO,MAE7BgoH,EAAqBvuG,gBAAc,OAC/BC,U/CsBW,kB+CtBuBC,OAAQ4/E,EAAQ,iBAClD98G,GAAI,YAAcuD,IAElBkC,KAAK1F,OAAOqY,aAAa7U,GAAGwyB,MAAO,CACnCkxG,EAAcjqG,gBAAc,OACxBC,U/CkBM,gB+ChBV,IAAIuW,GAAW/tC,KAAK1F,OAAO6rD,kBAAoB,cAAgB,WAC/Dq7E,GAAYzzF,GAAY/tC,KAAK1F,OAAOqY,aAAa7U,GAAGwyB,MAChDtwB,KAAK1F,OAAOkkD,qBAA0D,gBAA3BgjF,GAAYzzF,KACvDyzF,EAAYzzF,GAAYghB,qBAAmBC,SAASwyE,EAAYzzF,KAEhE/tC,KAAK1F,OAAO24B,UACZuuG,EAAY7tG,MAAMC,MAAQ,MAG1B4tG,EAAY7tG,MAAM7V,KAAO,MAE7BgoH,EAAmBpuG,YAAY8pG,GAC/BuE,EAAaxuG,gBAAc,OACvBC,UAAW,wBAEfsuG,EAAmBpuG,YAAYquG,GAE/B/lI,KAAK1F,OAAOqY,aAAa7U,GAAGwe,UAC5BwpH,EAAmBtrI,UAAU62B,IAAIrxB,KAAK1F,OAAOqY,aAAa7U,GAAGwe,UAEjEwpH,EAAmBxvG,aAAa,WAAY,MAC5CwvG,EAAmBxvG,aAAa,aAAct2B,KAAK1F,OAAOoW,UAAUC,YAAY,gBAAkB,KAChD,gBAApC3Q,MAAK1F,OAAOqY,aAAa7U,GAAG1B,IAClC4D,KAAK1F,OAAOqY,aAAa7U,GAAG1B,IAC5B4D,KAAK1F,OAAOsN,gBAAgB5H,KAAK1F,OAAOqY,aAAa7U,GAAG1B,MAC1D,IAAM4D,KAAK1F,OAAOqY,aAAa7U,GAAGwyB,OACxC2lF,EAAUv+E,YAAYouG,GAG9B9lI,KAAK1F,OAAOgkF,sBAAwB0nD,GAMxCr7E,EAAYlqD,UAAUqnF,sBAAwB,WACtC9nF,KAAKm0B,wBACLn0B,KAAKm0B,sBAAsBR,MAAMsB,OAASb,aAAWp0B,KAAK1F,OAAOyxF,sBAGlEphC,KCzGPs7E,GAA4B,WAC5B,QAASA,GAAW3rI,GAChB0F,KAAK1F,OAASA,EACd0F,KAAKyyB,oBAAsB,GAAI4xG,IAAcrkI,KAAK1F,QAClD0F,KAAKkmI,kBAAoB,GAAIv7E,IAAY3qD,KAAK1F,QAC9C0F,KAAKm5B,aA6DT,MA3DA8sG,GAAWxlI,UAAU04B,WAAa,WAC9Bn5B,KAAK1F,OAAOma,GAAG,oBAAqBzU,KAAKmmI,eAAgBnmI,MACzDA,KAAK1F,OAAOma,GAAG,eAAgBzU,KAAKomI,aAAcpmI,MAClDA,KAAK1F,OAAOma,GAAG,YAAazU,KAAK4hI,gBAAiB5hI,OAEtDimI,EAAWxlI,UAAUmhI,gBAAkB,SAAU7zF,GAE7C,IAAK,GADDryC,GAAOD,OAAOC,KAAKgE,WAAS,aAAcquC,IACrCjwC,EAAI,EAAGA,EAAIpC,EAAKC,OAAQmC,IAE7B,OADUpC,EAAKoC,IAEX,IAAK,eACDkC,KAAKkmI,kBAAkB1zG,qBACvBxyB,KAAKomI,cACL,MACJ,KAAK,oBACDpmI,KAAKyyB,oBAAoBC,iBACzB1yB,KAAKomI,cACL,MACJ,KAAK,WACDpmI,KAAKyyB,oBAAoBE,iBACzB3yB,KAAKomI,iBAKrBH,EAAWxlI,UAAU0lI,eAAiB,WAClCnmI,KAAKyyB,oBAAoBC,iBACzB1yB,KAAKyyB,oBAAoBE,iBACK,aAA1B3yB,KAAK1F,OAAOg4B,WAAsD,SAA1BtyB,KAAK1F,OAAOg4B,WACpDtyB,KAAK1F,OAAiC,2BAE1C0F,KAAKkmI,kBAAkB1zG,sBAE3ByzG,EAAWxlI,UAAU2lI,aAAe,WAChCpmI,KAAKyyB,oBAAoBq1D,wBACzB9nF,KAAKkmI,kBAAkBp+C,yBAO3Bm+C,EAAWxlI,UAAU+9E,cAAgB,WACjC,MAAO,cAMXynD,EAAWxlI,UAAU02B,QAAU,WACvBn3B,KAAK1F,OAAOokC,cAGhB1+B,KAAKyyB,oBAAoBkzG,mBACzB3lI,KAAKkmI,kBAAkBL,kBACvB7lI,KAAK1F,OAAOs3B,IAAI,oBAAqB5xB,KAAKmmI,gBAC1CnmI,KAAK1F,OAAOs3B,IAAI,eAAgB5xB,KAAKomI,cACrCpmI,KAAK1F,OAAOs3B,IAAI,YAAa5xB,KAAK4hI,mBAE/BqE,KCpEPI,GAA8B,WAC9B,QAASA,GAAa/rI,GAClB0F,KAAKsmI,gBACLtmI,KAAKumI,yBACLvmI,KAAKwmI,iBACLxmI,KAAK1F,OAASA,EA02BlB,MAx2BA+rI,GAAa5lI,UAAU+yF,iBAAmB,WACtC,MAAOxzF,MAAKwmI,eAEhBH,EAAa5lI,UAAU4oF,iBAAmB,SAAUvhB,GAChD,GAAI2+D,GAAWzmI,KAAK1F,OAAOya,IACvBs9G,EAAeryH,KAAK1F,OAAOyO,QAC/B,IAAI++D,GAAc9nE,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,CAC/CqE,KAAK1F,OAAOggC,oBAAqB,CACjC,IAAIvO,GAAgB/rB,KAAK1F,OAAO4H,SAAS+S,WACrClS,EAAegpB,EAAc,GAAGvtB,gBAAgBzD,QAChD2rI,EAAiB,EAEjBC,KACAC,KACAC,KACAhpC,EAAmB,EACnBipC,KACAC,KACAxnI,KACAynI,KACAC,KACAC,IACJlnI,MAAKwmI,iBAEDz6G,EAAc,GAAGvtB,gBAAgB8D,YAAcypB,EAAc,GAAGvtB,gBAAgBzD,UAAYgxB,EAAc,GAAGvtB,gBAAgBmC,iBAC7HoC,EAAegpB,EAAc,GAAGvtB,gBAAgB8D,YAGpD,KAASxE,EAAI,EAAGA,EAAIiuB,EAAcpwB,OAAQmC,IAClCiuB,EAAcjuB,GAAGU,gBAAgBzD,SAAWgI,IAC5CA,EAAegpB,EAAcjuB,GAAGU,gBAAgBzD,SAE/CgxB,EAAcjuB,GAAGU,gBAAgBmC,gBAC9BorB,EAAcjuB,GAAGU,gBAAgB8D,aAAeS,IAChDA,EAAegpB,EAAcjuB,GAAGU,gBAAgB8D,YAI5DtC,MAAKmR,WAAapO,CAGlB,KAAK,GAAI0I,GAAI,EAAGA,EAAI4mH,EAAa12H,OAAQ8P,IACrC4mH,EAAa5mH,GAAGq8D,YAAa,EAC7BuqD,EAAa5mH,GAAGjN,gBAAgBspE,YAAa,EAE7C4+D,EAAiB1mI,KAAK1F,OAAO+J,cAAca,YAAYmtH,EAAa5mH,GAAGjN,gBAAgBzD,QAASgI,EAAcsvH,EAAa5mH,GAAGjN,gBAAgB2F,aAAckuH,EAAa5mH,GAAGjN,gBAAgBmC,eAAgB0xH,EAAa5mH,GAAGjN,gBAAgBgD,aAC5O6wH,EAAa5mH,GAAG07H,MAAQT,EAAiB,IAAMrU,EAAa5mH,GAAGjN,gBAAgB2F,aAC/EkuH,EAAa5mH,GAAGjN,gBAAgB2oI,MAAQT,EAAiB,IAAMrU,EAAa5mH,GAAGjN,gBAAgB2F,aAC3FkuH,EAAa5mH,GAAGjN,gBAAgBzD,SAAWgI,GAC3C4jI,EAAqBroI,KAAK+zH,EAAa5mH,GAAGjN,gBAAgBkX,QAE1D28G,EAAa5mH,GAAGjN,gBAAgBsd,aAC2B,IAAvDu2G,EAAa5mH,GAAGjN,gBAAgBsd,YAAYngB,SAC5CirI,EAA4BtoI,KAAK+zH,EAAa5mH,IAC9Co7H,EAA8BvoI,KAAM+zH,EAAa5mH,GAAGjN,wBAIhE,IAA6B,iBAAzBwB,KAAK1F,OAAOyd,SACZ,IAAK,GAAIja,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOga,QAAQ3Y,OAAQmC,IAC5CkC,KAAKumI,sBAAsBzoI,GAAKkC,KAAK1F,OAAOga,QAAQxW,GAAGuQ,MAAM,EAgCrE,KAAK,GAFDkK,GAASvY,KAEJkiB,EAAI,EAAGA,EAAIykH,EAAqBhrI,OAAQumB,KA7BnC,SAAUA,GACpB,IAAwE,IAApE2kH,EAA8B/5H,QAAQ65H,EAAqBzkH,IAAY,CACvE,GAA+B,gBAA3B3J,EAAOje,OAAOyd,SACd8lF,EAAmB4oC,EAAS35H,QAAQ65H,EAAqBzkH,GAAGjkB,gBAM5D,KAAK,GAHDmpI,GAAiB7uH,EAAOje,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GAChE,MAAOC,UAASD,EAAKS,gBAAgBkX,OAAQ,MAAQixH,EAAqBzkH,KAErEpkB,EAAI,EAAGA,EAAIspI,EAAezrI,OAAQmC,KAClCspI,EAAetpI,GAAG2e,iBACnB2qH,EAAetpI,GAAGU,gBAAgBzD,SAAWwd,EAAOpH,aACpD0sF,EAAmBupC,EAAetpI,GAAG2B,MAI7C4yH,GAAax0B,GAAkBr/F,gBAAgB+c,SAAW,MAC1D82G,EAAax0B,GAAkB/1B,YAAa,EAC5CuqD,EAAax0B,GAAkBr/F,gBAAgBspE,YAAa,GAEhEuqD,EAAax0B,GAAyB,MAAI,KAAUw0B,EAAax0B,GAAkBr/F,gBAAgB2F,aACnG2iI,EAAkBxoI,KAAKqoI,EAAqBzkH,QAG5C6kH,GAA6BzoI,KAAKqoI,EAAqBzkH,KAMnDA,EAKZ,KAAK,GAHDg6F,GAAoB0qB,EAA4BjrI,OAChD0rI,KAEKrtH,EAAI,EAAGA,EAAIkiG,EAAmBliG,IAAK,CAWxC,IAAK,GAVDlY,IAAM,EACNC,GAAQ,EACRulI,GAAiB,EACjBC,GAAmB,EAEnBxoC,EAAe/kF,EACf8B,EAAc8qH,EAA4B5sH,GAAGxb,gBAAgBsd,YAC7D0rH,EAA8BZ,EAA4B5sH,GAAGxb,gBAAgBsd,YAAYngB,OAEzF8rI,EAAWb,EAA4B5sH,GAAGxb,gBAAwB,OAC7Du4E,EAAI,EAAGA,EAAIywD,EAA6BzwD,KACxC1nE,MAAM7G,OAAOsT,EAAYi7D,GAAGh1E,QAA8B,oBAGrDsN,MAAM7G,OAAOsT,EAAYi7D,GAAGh1E,OAIrB+Z,EAAYi7D,GAAGh1E,MANf/D,SAAU8d,EAAYi7D,QAAU,OAQ9B0wD,KACH,IAAR3lI,EACKga,EAAYi7D,GAAG/nE,QAKhBlN,EAAKga,EAAYi7D,GAAGj1E,GAAK,IAAMga,EAAYi7D,GAAG/nE,OAAS8M,EAAYi7D,GAAGhV,WACtEulE,EAAgBxrH,EAAYi7D,GAAG3mE,OAL/BtO,EAAKga,EAAYi7D,GAAGj1E,GACpBwlI,EAAgBxrH,EAAYi7D,GAAG3mE,MAQ9B0L,EAAYi7D,GAAG/nE,QAKhBlN,EAAKA,EAAK,IAAMga,EAAYi7D,GAAGj1E,GAAK,IAAMga,EAAYi7D,GAAG/nE,OACrD8M,EAAYi7D,GAAGhV,WACnBulE,EAAgBA,EAAgB,IAAMxrH,EAAYi7D,GAAG3mE,OANrDtO,EAAKA,EAAK,IAAMga,EAAYi7D,GAAGj1E,GAC/BwlI,EAAgBA,EAAgB,IAAMxrH,EAAYi7D,GAAG3mE,QAS5Df,MAAM7G,OAAOsT,EAAYi7D,GAAGj1E,MAA4B,oBAGnDuN,MAAM7G,OAAOsT,EAAYi7D,GAAGj1E,KAIrBga,EAAYi7D,GAAGj1E,IANf9D,SAAU8d,EAAYi7D,MAAQ,OAQ5B0wD,KACD,IAAV1lI,EACK+Z,EAAYi7D,GAAG/nE,QAKhBjN,EAAO+Z,EAAYi7D,GAAGh1E,KAAO,IAAM+Z,EAAYi7D,GAAG/nE,OAC9C8M,EAAYi7D,GAAGhV,WACnBwlE,EAAkBzrH,EAAYi7D,GAAG3mE,OANjCrO,EAAO+Z,EAAYi7D,GAAGh1E,KACtBwlI,EAAkBzrH,EAAYi7D,GAAG3mE,MAShC0L,EAAYi7D,GAAG/nE,QAKhBjN,EAAOA,EAAO,IAAM+Z,EAAYi7D,GAAGh1E,KAAO,IAAM+Z,EAAYi7D,GAAG/nE,OAC3D8M,EAAYi7D,GAAGhV,WACnBwlE,EAAkBA,EAAkB,IAAMzrH,EAAYi7D,GAAG3mE,OANzDrO,EAAOA,EAAO,IAAM+Z,EAAYi7D,GAAGh1E,KACnCwlI,EAAkBA,EAAkB,IAAMzrH,EAAYi7D,GAAG3mE,QAU3D,IAAVrO,IACAA,EAAO,KACPwlI,EAAkB,OAEV,IAARzlI,IACAA,EAAK,KACLwlI,EAAgB,MAGpB/nI,EAAWjB,MAAOyD,KAAMA,EAAMwlI,gBAAiBA,EAAiBE,OAAQA,EAAQ3lI,GAAIA,EAAIwlI,cAAeA,EAAevoC,aAAcA,EAAcooC,MAAO,KAAMttF,QAAS,OACxKmtF,EAAiB1oI,KAAKmpI,GAM1B,IAAK,GAJDC,GAAmBnoI,EAAW5D,OAC9BgsI,EAAe,EACfp/H,MAAM,GAEDq/H,EAAI,EAAGA,EAAIF,EAAkBE,IAClC,IAAKroI,EAAWqoI,GAAO,GAAG,CACtBr/H,EAAMhJ,EAAWqoI,GAAW,OAExBD,EADyB,gBAAzB3nI,KAAK1F,OAAOyd,SACG0uH,EAAS35H,QAAQvE,EAAItK,YAGrB+B,KAAKumI,sBAAsBz5H,QAAQvE,EAAItK,WAE1D,IAAI8K,GAAWspH,EAAasV,GAAcnpI,eAC1CkoI,GAAiB1mI,KAAK1F,OAAO+J,cAAca,YAAY6D,EAAShO,QAASgI,EAAc,SAAUgG,EAASpI,eAAgBoI,EAASvH,aACnIjC,EAAWqoI,GAAU,MAAIlB,EACzBnnI,EAAWqoI,GAAO,IAAK,EACvBroI,EAAWqoI,GAAY,QAAI7+H,EAAShO,QACpCssI,EAAQ/oI,MACJupI,SAAUtoI,EAAWqoI,GAAS,KAAGE,SAAUvoI,EAAWqoI,GAAW,OACjEG,oBAAqBxoI,EAAWqoI,GAAoB,kBAIhE,IAAS1lH,EAAI,EAAGA,EAAImlH,EAAQ1rI,OAAQumB,IAChC+kH,EAAe3oI,KAAK+oI,EAAQnlH,IAC5BliB,KAAKgoI,iBAAiBf,EAAgB1nI,EAAYynI,EAAkBjkI,EAAcsvH,EAAcoU,EAEpGS,GAAkBlnI,KAAKioI,kBAAkB1oI,EAAYunI,EAAmBzU,EAAcoU,EAAU1jI,GAChG/C,KAAKsmI,gBACLtmI,KAAKu6B,uBAAyB2sG,EAC9BlnI,KAAKy6B,4BAA8Bl7B,EACnCS,KAAK06B,6BAA+BssG,EAExC,IAAmB,IAAfl/D,GAAwB9nE,KAAK1F,OAAOyO,SAASpN,OAAS,EAAG,CACzD,GAAIusI,OAAY,EAChBloI,MAAK1F,OAAOggC,oBAAqB,CACjC,KAASstG,EAAI,EAAGA,EAAI5nI,KAAKu6B,uBAAuB5+B,OAAQisI,IACpDM,EAAYzB,EAAS35H,QAAQ9M,KAAKu6B,uBAAuBqtG,GAAG3pI,YAC5Do0H,EAAa6V,GAAWpgE,YAAa,CAEzC9nE,MAAKu6B,0BACLv6B,KAAKy6B,+BACLz6B,KAAK06B,kCAIb2rG,EAAa5lI,UAAUunI,iBAAmB,SAAUf,EAAgB1nI,EAAYynI,EAAkBjkI,EAAcgtH,EAAaoY,GACzH,GAAIC,GAAgBnB,EAAe,GAAa,SAAEt+H,MAAM,KACpDo/H,EAAsBd,EAAe,GAAwB,oBAAEt+H,MAAM,IAEzEq+H,IADAA,EAAmBA,EAAiB/oI,YACA0K,MAAM,IAU1C,KAAK,GARD0/H,GACAC,EACAC,EACAC,EACA9B,EACA+B,EACAC,EACAC,EARAC,KASK9qI,EAAI,EAAGA,EAAIsqI,EAAczsI,OAAQmC,IAAK,CAC3C8qI,EAAiBR,EAActqI,GAAG6K,MAAM,KACxC0/H,EAAkBrB,EAAiBl6H,QAAS87H,EAAe,GAAG3qI,YAC9DuqI,EAAWxB,EAAiBl6H,QAASm6H,EAAe,GAAa,SAAEhpI,YACtC,gBAAzB+B,KAAK1F,OAAOyd,UACZuwH,EAAkBH,EAAer7H,QAAQ87H,EAAe,GAAG3qI,YAC3DsqI,EAAgBJ,EAAer7H,QAAQm6H,EAAe,GAAa,SAAEhpI,cAGrEqqI,EAAkBtoI,KAAKumI,sBAAsBz5H,QAAQ87H,EAAe,GAAG3qI,YACvEsqI,EAAgBvoI,KAAKumI,sBAAsBz5H,QAAQm6H,EAAe,GAAa,SAAEhpI,YAErF,IAAI4qI,OAAiB,IACI,IAArBP,IACAO,EAAiB9Y,EAAYuY,GAAiB9pI,gBAElD,IAAIsqI,GAAe/Y,EAAYwY,GAAe/pI,eAY9C,IAXIoqI,EAAejtI,OAAS,IAEpB+sI,GADuC,IAAvCE,EAAe,GAAG97H,QAAQ,QACwB,GAAhCjF,WAAW+gI,EAAe,KAED,IAAtCA,EAAe,GAAG97H,QAAQ,OACbjF,WAAW+gI,EAAe,KAAO5oI,KAAK1F,OAAOyM,cAAgB,MAAQ,GAGrEc,WAAW+gI,EAAe,KAGhDC,IAAuC,IAArBR,IAEa,OAA3BN,EAAoBjqI,KAEhB4oI,EADAmC,EAAe9tI,QAAU+tI,EAAahuI,WACnBkF,KAAK1F,OAAO+J,cAAca,YAAY4jI,EAAahuI,UAAW+tI,EAAe9tI,QAAS,SAAU8tI,EAAeloI,eAAgBkoI,EAAernI,aAGhJxB,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe9tI,QAAS+tI,EAAahuI,UAAW,SAAU+tI,EAAeloI,eAAgBkoI,EAAernI,aAG/J3G,oBAAkB0E,EAAW8oI,GAAwB,OAEjDO,EAAejtI,QAAU,IACrB4D,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,GAK1EnnI,EAAW8oI,GAAwB,MAAI3B,GACH,IAAzCnnI,EAAW8oI,GAAwB,OAE/BO,EAAejtI,QAAU,IACrB4D,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,GAK/EkC,EAAejtI,OAAS,IACxB4D,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,EACvEnnI,EAAW8oI,GAAwB,MAAI9oI,EAAW8oI,GAAwB,QACtE9oI,EAAW8oI,GAAwB,OAAK,IACxC9oI,EAAW8oI,GAAwB,MAAI,IAG/C9oI,EAAW8oI,GAAqB,GAAI,EACpC9oI,EAAW8oI,GAA0B,QAAI9oI,EAAW8oI,GAAwB,MAC5E9oI,EAAW8oI,GAA0B,QAAIQ,EAAe/tI,UACpD+tI,EAAe9tI,SAAWgI,IAC1BxD,EAAW8oI,GAAwB,MAAI,IAIhB,OAA3BN,EAAoBjqI,KAEhB+qI,EAAeloI,gBAEX+lI,EADAmC,EAAe/tI,UAAYguI,EAAahuI,WACrBkF,KAAK1F,OAAO+J,cAAca,YAAY4jI,EAAa/tI,QAAS8tI,EAAe/tI,UAAW,SAAU+tI,EAAeloI,eAAgBkoI,EAAernI,aAGhJxB,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe/tI,UAAWguI,EAAahuI,UAAW,SAAU+tI,EAAeloI,eAAgBkoI,EAAernI,aAGjK3G,oBAAkB0E,EAAW8oI,GAAwB,OACjDO,EAAejtI,QAAU,IACrB4D,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,GAK1EnnI,EAAW8oI,GAAwB,MAAI3B,GACH,IAAzCnnI,EAAW8oI,GAAwB,OAC/BO,EAAejtI,QAAU,IACrB4D,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,GAK/EkC,EAAejtI,OAAS,IACxB4D,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,EACvEnnI,EAAW8oI,GAAwB,MAAI9oI,EAAW8oI,GAAwB,QACtE9oI,EAAW8oI,GAAwB,OAAK,IACxC9oI,EAAW8oI,GAAwB,MAAI,IAG/C9oI,EAAW8oI,GAAqB,GAAI,EACpC9oI,EAAW8oI,GAA0B,QAAI9oI,EAAW8oI,GAAwB,MAC5E9oI,EAAW8oI,GAA0B,QAAIQ,EAAe/tI,WAGlD+tI,EAAeloI,iBACrB+lI,EAAiB1mI,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IAC/FztI,oBAAkB0E,EAAW8oI,GAAwB,OACrD9oI,EAAW8oI,GAAwB,MAAI3B,EAElCnnI,EAAW8oI,GAAwB,MAAI3B,GACH,IAAzCnnI,EAAW8oI,GAAwB,QACnC9oI,EAAW8oI,GAAwB,MAAI3B,IAG3CmC,EAAe9tI,SAAWgI,GAAgB8lI,EAAe9tI,SAAWgI,IACpExD,EAAW8oI,GAAwB,MAAI,IAIhB,OAA3BN,EAAoBjqI,KAEe,IAA/ByB,EAAWipI,GAAc,IAA0C,IAA/BjpI,EAAWipI,GAAc,KAC7B,IAAhCjpI,EAAWipI,GAAc,KACU,IAA/BjpI,EAAWipI,GAAc,IAA0C,IAA/BjpI,EAAWipI,GAAc,KAC7DC,EAAkBK,EAAa/tI,QAC/B4tI,EAAUppI,EAAWipI,GAAiB,QAEN,IAAhCjpI,EAAWipI,GAAc,KACzBC,EAAkBlpI,EAAWipI,GAAmB,QAChDG,EAAUppI,EAAWipI,GAAiB,OAGtC9B,EADA+B,EAAkBI,EAAe9tI,SACdiF,KAAK+oI,iBAAiBF,EAAe9tI,QAAS0tI,EAAiB,SAAU1Y,EAAYuY,IAGvFtoI,KAAK+oI,iBAAiBN,EAAiBI,EAAe9tI,QAAS,SAAUg1H,EAAYuY,IAGtGztI,oBAAkB0E,EAAW8oI,GAAwB,OAEjDO,EAAejtI,QAAU,IAErB4D,EAAW8oI,GAAwB,MADnCM,EAAUjC,EAAiB,EACY,EAGAiC,EAAUjC,GAKpDnnI,EAAW8oI,GAAwB,MAAI3B,GAA2D,IAAzCnnI,EAAW8oI,GAAwB,OAE7FO,EAAejtI,QAAU,IAErB4D,EAAW8oI,GAAwB,MADnCM,EAAUjC,EAAiB,EACY,EAGAiC,EAAUjC,GAKzDkC,EAAejtI,OAAS,IACxB4D,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,EACvEnnI,EAAW8oI,GAAwB,MAAI9oI,EAAW8oI,GAAwB,QACtE9oI,EAAW8oI,GAAwB,OAAK,IACxC9oI,EAAW8oI,GAAwB,MAAI,IAG/C9oI,EAAW8oI,GAAqB,GAAI,EACpC9oI,EAAW8oI,GAA0B,QAAII,EACzClpI,EAAW8oI,GAA0B,QAAIM,GAEzCE,EAAe9tI,SAAWgI,GAAgB8lI,EAAe9tI,SAAWgI,IACpExD,EAAW8oI,GAAwB,MAAI,IAIhB,OAA3BN,EAAoBjqI,KAEhB+qI,EAAeloI,eAEX9F,oBAAkB0E,EAAW8oI,GAAwB,QAEjDO,EAAejtI,QAAU,EAErBd,oBAAkB0E,EAAWipI,GAAc,KAC3C9B,EAAiB1mI,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IACnG/oI,EAAW8oI,GAAwB,MAAI3B,GAGjC7rI,oBAAkB0E,EAAWipI,GAAc,MAE7C9B,EADAoC,EAAa/tI,QAAU8tI,EAAe/tI,WACnBkF,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe/tI,UAAWguI,EAAa/tI,QAAS,SAAU8tI,EAAeloI,eAAgBkoI,EAAernI,aAGhJxB,KAAK+oI,iBAAiBD,EAAa/tI,QAAS8tI,EAAe/tI,UAAW,SAAUi1H,EAAYuY,IAE7G/oI,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,GAK1EkC,EAAejtI,OAAS,IAGrB+qI,EAFJoC,EAAa/tI,SAAW8tI,EAAe9tI,QACnC8tI,EAAe/tI,UAAYguI,EAAa/tI,SACrBiF,KAAK+oI,iBAAiBD,EAAa/tI,QAAS8tI,EAAe/tI,UAAW,SAAUi1H,EAAYuY,IAG9FtoI,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe/tI,UAAWguI,EAAa/tI,QAAS,SAAU8tI,EAAeloI,eAAgBkoI,EAAernI,aAIlJxB,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IAEvG/oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,EACvEnnI,EAAW8oI,GAAwB,MAAI9oI,EAAW8oI,GAAwB,QACtE9oI,EAAW8oI,GAAwB,OAAK,IACxC9oI,EAAW8oI,GAAwB,MAAI,IAG/C9oI,EAAW8oI,GAAqB,GAAI,EACpC9oI,EAAW8oI,GAA0B,QAAI9oI,EAAW8oI,GAAwB,MAC5E9oI,EAAW8oI,GAA0B,QAAIQ,EAAe/tI,YAGpD8tI,EAAejtI,QAAU,GACrBd,oBAAkB0E,EAAWipI,GAAc,IAC3C9B,EAAiB1mI,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IAE7FztI,oBAAkB0E,EAAWipI,GAAc,MAE7C9B,EADAoC,EAAa/tI,QAAU8tI,EAAe/tI,WACnBkF,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe/tI,UAAWguI,EAAa/tI,QAAS,SAAU8tI,EAAeloI,eAAgBkoI,EAAernI,aAGhJxB,KAAK+oI,iBAAiBD,EAAa/tI,QAAS8tI,EAAe/tI,UAAW,SAAUi1H,EAAYuY,KAIjH/oI,EAAW8oI,GAAwB,MAAI3B,GAA2D,IAAzCnnI,EAAW8oI,GAAwB,QACxFxtI,oBAAkB0E,EAAWipI,GAAc,IAC3CjpI,EAAW8oI,GAAwB,MAAI3B,EAEjC7rI,oBAAkB0E,EAAWipI,GAAc,MAC7CjpI,EAAWipI,GAAiB,MAAI9B,GAAkB,EAClDnnI,EAAW8oI,GAAwB,MAAI,EAGvC9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,KAK9EkC,EAAejtI,OAAS,IAGrB+qI,EAFJoC,EAAa/tI,QAAU8tI,EAAe9tI,QAClC8tI,EAAe/tI,UAAYguI,EAAa/tI,SACrBiF,KAAK+oI,iBAAiBD,EAAa/tI,QAAS8tI,EAAe/tI,UAAW,SAAUi1H,EAAYuY,IAG9FtoI,KAAK1F,OAAO+J,cAAca,YAAY2jI,EAAe/tI,UAAWguI,EAAa/tI,QAAS,SAAU8tI,EAAeloI,eAAgBkoI,EAAernI,aAIlJxB,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IAGnG/oI,EAAW8oI,GAAwB,MAAI3B,GAA2D,IAAzCnnI,EAAW8oI,GAAwB,QAC5F9oI,EAAW8oI,GAAwB,MAAI9oI,EAAWipI,GAAiB,MAAI9B,EACvEnnI,EAAW8oI,GAAwB,MAAI9oI,EAAW8oI,GAAwB,QACtE9oI,EAAW8oI,GAAwB,OAAK,IACxC9oI,EAAW8oI,GAAwB,MAAI,KAInD9oI,EAAW8oI,GAAqB,GAAI,EACpC9oI,EAAW8oI,GAA0B,QAAI9oI,EAAW8oI,GAAwB,MAC5E9oI,EAAW8oI,GAA0B,QAAIQ,EAAe/tI,WAItD+tI,EAAeloI,iBACrB+lI,EAAiB1mI,KAAK+oI,iBAAiBF,EAAe9tI,QAASgI,EAAc,SAAUgtH,EAAYuY,IAC/FztI,oBAAkB0E,EAAW8oI,GAAwB,OACrD9oI,EAAW8oI,GAAwB,MAAI3B,EAElCnnI,EAAW8oI,GAAwB,MAAI3B,GAA2D,IAAzCnnI,EAAW8oI,GAAwB,QACjG9oI,EAAW8oI,GAAwB,MAAI3B,IAG3CmC,EAAe9tI,SAAWgI,GAAgB8lI,EAAe9tI,SAAWgI,IACpExD,EAAW8oI,GAAwB,MAAI,IAG3C9oI,EAAW8oI,GAAuB,MAAG,CACrC,GAAItqI,KACJA,GAAKO,MACDupI,SAAUtoI,EAAW8oI,GAAuB,KAAGP,SAAUvoI,EAAW8oI,GAAyB,OAC7FN,oBAAqBxoI,EAAW8oI,GAAkC,kBAEtEroI,KAAKgoI,iBAAiBjqI,EAAMwB,EAAYynI,EAAkBjkI,EAAcgtH,EAAaoY,MAKrG9B,EAAa5lI,UAAUsoI,iBAAmB,SAAU7iI,EAAOC,EAAOhC,EAAc5F,GAC5E,GAAIzD,GAAYkF,KAAK1F,OAAOoE,qBAAqBoC,eAAe,GAAIhE,MAAKoJ,IACrEnL,EAAUiF,KAAK1F,OAAOoE,qBAAqBqE,aAAa,GAAIjG,MAAKqJ,GACrE,OAAInG,MAAK1F,OAAO+J,cAAiC,kBAAEvJ,EAAWC,GAAS,IAAS,EACrE,EAGAiF,KAAK1F,OAAO+J,cAAca,YAAYpK,EAAWC,EAASoJ,EAAc5F,EAAOC,gBAAgBmC,gBAAgB,IAI9H0lI,EAAa5lI,UAAUuoI,oBAAsB,SAAUzqI,EAAQ2oI,GAC3D,IAAK,GAAIppI,GAAI,EAAGA,EAAIS,EAAOC,gBAAgBsd,YAAYngB,OAAQmC,IAAK,CAChE,GAAIglE,OAAa,EACjB,IAA6B,gBAAzB9iE,KAAK1F,OAAOyd,SACZ+qD,EAAa9iE,KAAK1F,OAAO4gC,cAAc38B,EAAOC,gBAAgBsd,YAAYhe,GAAGiE,UAE5E,CACD,GAAIknI,GAAgBjpI,KAAKumI,sBAAsBz5H,QAAQvO,EAAOC,gBAAgBsd,YAAYhe,GAAGiE,KAAK9D,WAClG6kE,GAAa9iE,KAAK1F,OAAOyO,SAASkgI,GAEtC,GAAI1/D,OAAe,EACfhrE,GAAOC,gBAAgBzD,SAAWwD,EAAOC,gBAAgBzD,QAAQmG,WAAalB,KAAKmR,WAAWjQ,YAC9F3C,EAAOC,gBAAgB2oI,MAAQ5oI,EAAO4oI,MAAQ,KAAU5oI,EAAOC,gBAAgB2F,aAC3E5F,EAAOC,gBAAgB+c,SAAW,MAClChd,EAAOupE,YAAa,EACpBvpE,EAAOC,gBAAgBspE,YAAa,GAC4B,IAA5Do/D,EAAgBp6H,QAAQvO,EAAOC,gBAAgBkX,SAC/CwxH,EAAgB5oI,KAAKC,EAAOC,gBAAgBkX,UAIpDotD,IACmD,OAA/CvkE,EAAOC,gBAAgBsd,YAAYhe,GAAGsS,KACtCm5D,EAAevpE,KAAK1F,OAAO+J,cAAca,YAAY49D,EAAWtkE,gBAAgBzD,QAASwD,EAAOC,gBAAgB1D,UAAWgoE,EAAWtkE,gBAAgB2F,aAAc2+D,EAAWtkE,gBAAgBmC,gBAAgB,GAE3J,OAA/CpC,EAAOC,gBAAgBsd,YAAYhe,GAAGsS,KAC3Cm5D,EAAevpE,KAAK1F,OAAO+J,cAAca,YAAY49D,EAAWtkE,gBAAgB1D,UAAWyD,EAAOC,gBAAgB1D,UAAWgoE,EAAWtkE,gBAAgB2F,aAAc2+D,EAAWtkE,gBAAgBmC,gBAAgB,GAE7J,OAA/CpC,EAAOC,gBAAgBsd,YAAYhe,GAAGsS,KAC3Cm5D,EAAevpE,KAAK1F,OAAO+J,cAAca,YAAY49D,EAAWtkE,gBAAgBzD,QAASwD,EAAOC,gBAAgBzD,QAAS+nE,EAAWtkE,gBAAgB2F,aAAc2+D,EAAWtkE,gBAAgBmC,gBAAgB,GAEzJ,OAA/CpC,EAAOC,gBAAgBsd,YAAYhe,GAAGsS,OAC3Cm5D,EAAevpE,KAAK1F,OAAO+J,cAAca,YAAY3G,EAAOC,gBAAgBzD,QAAS+nE,EAAWtkE,gBAAgB1D,UAAWgoE,EAAWtkE,gBAAgB2F,aAAc2+D,EAAWtkE,gBAAgBmC,gBAAgB,IAE/M4oE,GAAgB,IAAqF,IAAhFvpE,KAAKsmI,aAAax5H,QAAQ9O,SAAS8kE,EAAWtkE,gBAAgBkX,OAAQ,MAC3FotD,EAAWtkE,gBAAgBkX,SAAWnX,EAAOC,gBAAgBkX,SAC7DotD,EAAWtkE,gBAAgB2oI,MAAQ5oI,EAAOC,gBAAgB2oI,MAC1DrkE,EAAWqkE,MAAQ5oI,EAAO4oI,MAC1BrkE,EAAWgF,WAAavpE,EAAOC,gBAAgBspE,WAC/ChF,EAAWtkE,gBAAgBspE,WAAavpE,EAAOC,gBAAgBspE,YACK,IAAhEo/D,EAAgBp6H,QAAQg2D,EAAWtkE,gBAAgBkX,SAAkBotD,EAAWtkE,gBAAgBspE,YAChGhF,EAAWtkE,gBAAgB+c,SAAW,MACtC2rH,EAAgB5oI,KAAKwkE,EAAWtkE,gBAAgBkX,QAChD1V,KAAKsmI,aAAahoI,KAAKN,SAAS8kE,EAAWtkE,gBAAgBkX,OAAQ,MACnB,IAA5C1V,KAAKwmI,cAAc15H,QAAQg2D,IAC3B9iE,KAAKwmI,cAAcloI,KAAKwkE,IAG5BA,EAAWtkE,gBAAgB6d,kBAC3Brc,KAAKgpI,oBAAoBlmE,EAAYokE,OAOzDb,EAAa5lI,UAAUwnI,kBAAoB,SAAU1oI,EAAYunI,EAAmB/W,EAAaoY,EAAgBplI,GAK7G,IAAK,GAFDtD,GADAynI,KAGKltH,EAAIza,EAAW5D,OAAS,EAAGqe,GAAK,EAAGA,IAAK,CAO7C,GAAIkiG,GAAoB6T,EALpBtwH,EADyB,gBAAzBO,KAAK1F,OAAOyd,SACJowH,EAAer7H,QAAQvN,EAAWya,GAAW,OAAE/b,YAG/C+B,KAAKumI,sBAAsBz5H,QAAQvN,EAAWya,GAAW,OAAE/b,aAE5BO,gBAAgBsd,YACvDotH,EAAe,KAAUnZ,EAAYtwH,GAAOjB,gBAAgB2F,YAChE,IAAI+3G,GAAqBA,EAAkBvgH,OAAS,EAChD,IAASmC,EAAIo+G,EAAkBvgH,OAAS,EAAGmC,GAAK,EAAGA,IAAK,CACpD,GAAIqrI,OAAO,EAEPA,GADyB,gBAAzBnpI,KAAK1F,OAAOyd,SACL/X,KAAK1F,OAAOya,IAAIjI,QAAQovG,EAAkBp+G,GAAGgE,IAG7C9B,KAAKumI,sBAAsBz5H,QAAQovG,EAAkBp+G,GAAGgE,GAEnE,IAAI4kI,OAAiB,GACjB1oE,EAAc+xD,EAAYtwH,GAAOjB,iBACvB,IAAV2qI,IACkC,OAA9BjtB,EAAkBp+G,GAAGsS,KACjB8rG,EAAkBp+G,GAAGgE,KAAOk8D,EAAYtoD,OAAOzX,aAC3Ci+G,EAAkBp+G,GAAGgE,KAAOk8D,EAAYtoD,OAAOzX,YAAuC,iBAAzB+B,KAAK1F,OAAOyd,SAEzE2uH,EAAiB1mI,KAAK1F,OAAO+J,cAAca,YAAY84D,EAAYjjE,QAASg1H,EAAYoZ,GAAM3qI,gBAAgB1D,UAAWkjE,EAAY75D,aAAc65D,EAAYr9D,eAAgBq9D,EAAYx8D,cAI7K,KADd2nI,EAAOnpI,KAAK1F,OAAOya,IAAIjI,QAAQovG,EAAkBp+G,GAAGiE,QAGzB,KADvB2kI,EAAiB1mI,KAAK1F,OAAO+J,cAAca,YAAY6qH,EAAYoZ,GAAM3qI,gBAAgBzD,QAASijE,EAAYljE,UAAWkjE,EAAY75D,aAAc65D,EAAYr9D,eAAgBq9D,EAAYx8D,eAC/J/B,IAAU0pI,GAAQpZ,EAAYtwH,GAAO0nI,QAAU+B,IACvEnZ,EAAYoZ,GAAMhC,MAAQpX,EAAYtwH,GAAO0nI,MAC7CpX,EAAYoZ,GAAM3qI,gBAAgB2oI,MAAQpX,EAAYtwH,GAAO0nI,QAI3D,IAAVgC,IACuB,IAAnBzC,GAAwBjnI,IAAU0pI,GAAQpZ,EAAYtwH,GAAO0nI,QAAU+B,GACvEnZ,EAAYtwH,GAAO0nI,MAAQpX,EAAYoZ,GAAMhC,MAC7CpX,EAAYtwH,GAAOjB,gBAAgB2oI,MAAQpX,EAAYoZ,GAAMhC,OAErC,IAAnBT,GAAwBjnI,IAAU0pI,GAAQpZ,EAAYoZ,GAAMrhE,aACjEioD,EAAYtwH,GAAO0nI,MAAQT,EAAiB,IAAM3W,EAAYtwH,GAAOjB,gBAAgB2F,aACrF4rH,EAAYtwH,GAAOjB,gBAAgB2oI,MAAQT,EAAiB,IAAM3W,EAAYtwH,GAAOjB,gBAAgB2F,gBAOjHuiI,EAFmC,OAA9BxqB,EAAkBp+G,GAAGsS,KAETpQ,KAAK1F,OAAO+J,cAAca,YAAY84D,EAAYljE,UAAWi1H,EAAYoZ,GAAM3qI,gBAAgBzD,QAASijE,EAAY75D,aAAc65D,EAAYr9D,eAAgBq9D,EAAYx8D,aAExJ,OAA9B06G,EAAkBp+G,GAAGsS,KAETpQ,KAAK1F,OAAO+J,cAAca,YAAY84D,EAAYljE,UAAWi1H,EAAYoZ,GAAM3qI,gBAAgB1D,UAAWkjE,EAAY75D,aAAc65D,EAAYr9D,eAAgBq9D,EAAYx8D,aAI5KxB,KAAK1F,OAAO+J,cAAca,YAAY84D,EAAYjjE,QAASg1H,EAAYoZ,GAAM3qI,gBAAgBzD,QAASijE,EAAY75D,aAAc65D,EAAYr9D,eAAgBq9D,EAAYx8D,cAE9H,gBAAnDuuH,GAAYtwH,GAAOO,KAAK1F,OAAOmE,WAAWlE,IAChCyD,SAASk+G,EAAkBp+G,GAAGiE,KAAM,IAGpCm6G,EAAkBp+G,GAAGiE,QAEnBguH,EAAYtwH,GAAOO,KAAK1F,OAAOmE,WAAWlE,KAC9Dw1H,EAAYoZ,GAAMhC,QAAU+B,GAAgBxC,GAAkB,IAC9D3W,EAAYtwH,GAAO0nI,MAAQ+B,EAC3BnZ,EAAYtwH,GAAOjB,gBAAgB2oI,MAAQ+B,IAKvDnZ,EAAYtwH,GAAO0nI,QAAU+B,GACzBnZ,EAAYtwH,GAAOjB,gBAAgB+c,SAAW,MAC9Cw0G,EAAYtwH,GAAOqoE,YAAa,EAChCioD,EAAYtwH,GAAOjB,gBAAgBspE,YAAa,GACQ,IAApD9nE,KAAKwmI,cAAc15H,QAAQijH,EAAYtwH,KACvCO,KAAKwmI,cAAcloI,KAAKyxH,EAAYtwH,KAEkB,IAAtDynI,EAAgBp6H,QAAQvN,EAAWya,GAAW,SAC9CktH,EAAgB5oI,KAAKiB,EAAWya,GAAW,SAInD+1G,EAAYtwH,GAAOjB,gBAAgBsd,aACnCi0G,EAAYtwH,GAAOjB,gBAAgBsd,YAAYngB,OAAS,GACxDqE,KAAKgpI,oBAAoBjZ,EAAYtwH,GAAQynI,GAGrD,GAAIJ,EAAkBnrI,OAAS,EAC3B,IAAK,GAAImC,GAAI,EAAGA,EAAIgpI,EAAkBnrI,OAAQmC,KAO3B,KALX2B,EADyB,gBAAzBO,KAAK1F,OAAOyd,SACJowH,EAAer7H,QAAQg6H,EAAkBhpI,GAAGG,YAG5C+B,KAAKumI,sBAAsBz5H,QAAQg6H,EAAkBhpI,GAAGG,cAEhD8xH,EAAYtwH,GAAOjB,gBAAgB+c,SAAW,MAC9Dvb,KAAKwmI,cAAcloI,KAAKyxH,EAAYtwH,KACmB,IAAnDynI,EAAgBp6H,QAAQg6H,EAAkBhpI,MAC1CopI,EAAkBA,EAAgBl+D,OAAO89D,EAAkBhpI,KAK3E,OAAOopI,IAGXb,EAAa5lI,UAAU+5B,sBAAwB,SAAU0sG,EAAiB3nI,EAAY2gI,EAAW8G,GAC7FhnI,KAAK1F,OAAO6sF,0BAyDZ,KAAK,GADD5tE,GAASvZ,KACJlC,EAAI,EAAGA,EAAIopI,EAAgBvrI,OAAQmC,KAxD9B,SAAUA,GACpB,GAAIsrI,EACJ,IAA+B,gBAA3B7vH,EAAOjf,OAAOyd,SACdqxH,EAAe7vH,EAAOjf,OAAOyO,SAASwQ,EAAOjf,OAAOya,IAAIjI,QAAQo6H,EAAgBppI,GAAGG,iBAMnF,KAAK,GAHDmpI,GAAiB7tH,EAAOjf,OAAOyO,SAAS4Q,OAAO,SAAU5b,GACzD,MAAQA,GAAKS,uBAAwBP,aAAeipI,EAAgBppI,GAAGG,aAElEw+D,EAAM,EAAGA,EAAM2qE,EAAezrI,OAAQ8gE,KACvC2qE,EAAe3qE,GAAKj+D,gBAAgBspE,YACpCs/D,EAAe3qE,GAAKj+D,gBAAgBzD,SAAWwe,EAAOpI,cACtDi4H,EAAehC,EAAe3qE,GAI1C,IAAIh9D,GAAQ8Z,EAAOjf,OAAOwX,gBAAgBhF,QAAQs8H,GAC9CtjI,EAAUyT,EAAOjf,OAAO06B,cAAcv1B,GACtC4pI,MAAY,GACZ9xB,EAAeh+F,EAAOjf,OAAOmE,UACjC,IAAI2qI,GAAgBA,EAAa5/H,WAAY,CACzC,GAAI4yB,GAAe7iB,EAAOjf,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GAC9D,MAAOqrI,GAAa5/H,WAAWF,WAAavL,EAAKuL,WAEjDo2D,EAAcnmD,EAAOjf,OAAOyO,SAAS+D,QAAQsvB,EAAa,IAC1D1hC,EAAgB6e,EAAOjf,OAAO06B,cAAc0qC,EAChD,IAAIhlE,EAEA,IAAK,GADD4uI,GAAuB5uI,EAAc2jC,iBAAiB,6BACjDggC,EAAM,EAAGA,EAAMirE,EAAqB3tI,OAAQ0iE,IAC7CirE,EAAqBjrE,GAAK56B,aAAa,iBAAmB2lG,EAA0B,aACpF5qG,WAAS8qG,EAAqBjrE,GAAKhgC,iBAAiB,oCjDvvBtC,4CiD8vB1BgrG,EADA9vH,EAAOjf,OAAOiP,uBAAyB6/H,IAAiBA,EAAa7xB,EAAaz8G,aAAesuI,EAAa7xB,EAAax8G,UAAYquI,EAAa7xB,EAAav8G,UjD3tB5I,uCAjCS,+CiDkwB9B8K,IAAuC,gBAA3ByT,EAAOjf,OAAOyd,UAA0D,iBAA3BwB,EAAOjf,OAAOyd,WACtEqxH,EAAa3sH,mBACV3W,EAAQstB,uBAAuB,qBAAqB,IACpDoL,WAAS14B,EAAQu4B,iBAAiB,sBjDpwBvB,wBiDswBXv4B,EAAQstB,uBAAuB,mCAAmCz3B,OAAS,GAC3E6iC,WAAS14B,EAAQu4B,iBAAiB,oCjDzwBZ,4CiD2wBtBv4B,EAAQstB,uBAAuB,uCAAuCz3B,OAAS,GAC/E6iC,WAAS14B,EAAQu4B,iBAAiB,wCAAyCgrG,KAM3EvrI,EAEZ,IAA0B,IAAtByB,EAAW5D,OAOX,IAAK,GAND8D,GAAQ,EACR8pI,MAAc,GACdC,KAEAC,MAAW,GACXh9H,MAAS,GACJ3O,EAAI,EAAGA,EAAIkC,KAAKu6B,uBAAuB5+B,OAAQmC,IAGpD,GAFA2B,EAAQunI,EAAiBl6H,QAAQ9M,KAAKu6B,uBAAuBz8B,IAC7DyrI,EAAchqI,EAAWE,IACV,IAAXA,GAAgB8pI,EAAgB,GAAG,CACnCC,EAAWD,EAAgB,GAAE5gI,MAAM,IACnC,KAAK,GAAI8C,GAAI,EAAGA,EAAI+9H,EAAS7tI,OAAQ8P,IASjC,GARAgB,EAAS+8H,EAAS/9H,GAAG9C,MAAM,KACvB6gI,EAAS/9H,GAAGqB,QAAQ,MAAQ,IAC5BL,EAAS+8H,EAAS/9H,GAAG9C,MAAM,MAE/B8gI,EAAYh9H,EAAO,GAAGtN,QAAQ,IAAK,IACC,gBAAxB+nI,GAAgBz7H,KACxBg+H,EAAWzrI,SAASyO,EAAO,GAAI,MAEQ,IAAvCy6H,EAAgBp6H,QAAQ28H,GAAkB,CAC1C,GAAIC,GAAe7rH,OAAO0rH,EAAoB,QAC1CI,EAAiB9rH,OAAO4rH,EACVzpI,MAAK1F,OAAOwL,QAAQu4B,iBAAiB,uBACnDqrG,EAAavqI,QAAQ,SAAU,QAAU,QAAUwqI,EAAexqI,QAAQ,SAAU,SACxExD,OAAS,IACrB6iC,WAASx+B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,uBAAyBqrG,EAAavqI,QAAQ,SAAU,QAAU,QAC5GwqI,EAAexqI,QAAQ,SAAU,SAAS,GAAGk/B,iBAAiB,qBjDhvB5D,mBiDivBNG,WAASx+B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,uBAAyBqrG,EAAavqI,QAAQ,SAAU,QAAU,QAC5GwqI,EAAexqI,QAAQ,SAAU,SAAS,GAAGk/B,iBAAiB,2BjDjvB3D,6BiDyvBnCgoG,EAAa5lI,UAAU+9E,cAAgB,WACnC,MAAO,gBAQX6nD,EAAa5lI,UAAU02B,QAAU,YACxBn3B,KAAK1F,OAAOggC,oBAAsBt6B,KAAK1F,OAAO+/B,qBAC/Cr6B,KAAK1F,OAAO+/B,uBAAqB1yB,KAGlC0+H,KCn3BP17F,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAG5B8+F,GAA0B,WAC1B,QAASA,GAAStvI,GACd0F,KAAK6pI,qBAAsB,EAC3B7pI,KAAK2uH,kBACL3uH,KAAK8pI,qBACL9pI,KAAK+pI,qBACL/pI,KAAKgqI,aAAc,EACnBhqI,KAAKiqI,yBACLjqI,KAAK8oF,aAAe,GACpB9oF,KAAKkqI,gBAAiB,EACtBlqI,KAAKmqI,gBAAiB,EACtBnqI,KAAKoqI,oBAAsB,EAC3BpqI,KAAK1F,OAASA,EAg4BlB,MAx3BAsvI,GAASnpI,UAAU4pI,WAAa,WAC5B,GAAIp5H,GAAQjR,IACZ,IAAIA,KAAK+pI,kBAAkBpuI,OAAS,EAAG,CACnC,GAAI2uI,GAAiBtqI,KAAK+pI,kBAAkB/pI,KAAK+pI,kBAAkBpuI,OAAS,GACxE4uI,IACJ,IAAiC,WAA7BD,EAAuB,QAA+C,YAA7BA,EAAuB,QAAgD,cAA7BA,EAAuB,OAC1GC,EAAwB,OAAID,EAAuB,OACnDC,EAAsC,qBAAIrsI,eAAe8B,KAAK1F,OAAO0xC,qBAAqB,OAEzF,IAAiC,iBAA7Bs+F,EAAuB,QAAqD,qBAA7BA,EAAuB,OAC3EC,EAAwB,OAAID,EAAuB,OACnDC,EAA2C,0BAAIrsI,aAAY8B,KAAK1F,OAAOsX,eAAeiT,uBAAwB,GAAM,GACpH0lH,EAAyC,wBAAIrsI,aAAY8B,KAAK1F,OAAOsX,eAAem6B,qBAAsB,GAAM,OAE/G,IAAiC,YAA7Bu+F,EAAuB,OAC5BC,EAAwB,OAAI,UAC5BA,EAA6B,YAAIvqI,KAAKiqI,0BAErC,IAAiC,cAA7BK,EAAuB,OAC5BC,EAAwB,OAAI,YAC5BA,EAAiC,gBAAID,EAAgC,oBAEpE,IAAiC,kBAA7BA,EAAuB,OAC5BC,EAAwB,OAAID,EAAuB,OACnDC,EAA0B,SAAID,EAA2B,WACzDC,EAA4B,WAAID,EAAyB,SACzDC,EAA2B,UAAID,EAAwB,QACvDC,EAAyB,QAAID,EAA0B,cAEtD,IAAiC,WAA7BA,EAAuB,OAC5BC,EAAwB,OAAID,EAAuB,OACnDC,EAA8B,aAAIvqI,KAAK8oF,iBAEtC,IAAiC,gBAA7BwhD,EAAuB,OAC5BC,EAAwB,OAAID,EAAuB,OACnDC,EAAiC,gBAAID,EAAgC,oBAEpE,IAAiC,iBAA7BA,EAAuB,OAC5BC,EAAwB,OAAID,EAAuB,OACnDC,EAA+B,cAAI5/F,MAAa3qC,KAAK1F,OAAO4H,SAAS+Y,QAAQqvH,EAA8B,cAAE7qI,YAE5G,IAAiC,mBAA7B6qI,EAAuB,QAAuD,uBAA7BA,EAAuB,OAA4B,CAEzG,IAAK,GADD7X,MACK30H,EAAI,EAAGA,EAAIwsI,EAA2B,WAAE3uI,OAAQmC,IACxB,gBAAzBkC,KAAK1F,OAAOyd,SACZ06G,EAASn0H,KAAK0B,KAAK1F,OAAO4gC,cAAcovG,EAA2B,WAAExsI,GAAS,KAAEU,gBAAgBkX,SAGhG+8G,EAASn0H,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMw9H,EAA2B,WAAExsI,GAAS,KAAEU,gBAAgBkX,OAAOzX,aAG5IssI,GAAwB,OAAID,EAAuB,OACnDC,EAA4B,aAC5B,IAAIC,MACAxgC,EAAa9rG,gBAAgB8B,KAAK1F,OAAO4gC,cAAcovG,EAA0B,UAAEtgC,WAAWxrG,gBAAgBkX,UAAU,GAAM,EAClI80H,GAAsB,OACtB,KAAS1sI,EAAI,EAAGA,EAAIwsI,EAA0B,UAAEvsI,KAAKpC,OAAQmC,IAC5B,gBAAzBkC,KAAK1F,OAAOyd,SACZyyH,EAAsB,KAAElsI,KAAKJ,gBAAgB8B,KAAK1F,OAAO4gC,cAAcovG,EAA0B,UAAEvsI,KAAKD,GAAGU,gBAAgBkX,UAAU,GAAM,IAG3I80H,EAAsB,KAAElsI,KAAKJ,eAAe8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMw9H,EAA0B,UAAEvsI,KAAKD,GAAGU,gBAAgBkX,UAAU,GAAM,GAG/K80H,GAA4B,WAAItsI,gBAAgB8rG,IAAa,GAAM,GACnEwgC,EAA8B,aAAIF,EAA0B,UAAEvgC,aAC9DwgC,EAA2B,UAAIC,EAC/BxqI,KAAmB,aAAEyyH,EAAU8X,EAAiB,kBAE/C,IAAiC,WAA7BD,EAAuB,QAA+C,YAA7BA,EAAuB,OACrEC,EAAoC,mBAAID,EAAmC,mBAC3EC,EAA+B,cAAIrsI,gBAAgB8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAA8B,cAAE9rI,gBAAgBkX,OAAOzX,eAAe,GAAM,GAC5KssI,EAAgC,kBAChCvqI,KAAKyqI,aAAavsI,gBAAgB8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAA+B,eAAE,GAAGvsI,KAAKS,gBAAgBkX,OAAOzX,eAAe,GAAOssI,EAAiB,kBACtLA,EAAwB,OAAID,EAAuB,WAElD,IAAiC,WAA7BA,EAAuB,OAAgB,CAC5CC,EAAwB,OAAI,SAC5BA,EAA+B,gBAC/B,KAASzsI,EAAI,EAAGA,EAAIwsI,EAAsC,sBAAE3uI,OAAQmC,IAChEysI,EAA+B,cAAEjsI,KAAKgsI,EAAsC,sBAAExsI,GAAGC,UAGpF,IAAiC,QAA7BusI,EAAuB,OAAa,CACzCC,EAAwB,OAAI,MAC5BA,EAAuC,wBACnC9X,GAAW6X,EAA6B,YAC5CtqI,MAAKyqI,aAAahY,EAAU8X,EAAiB,6BAE5C,CACDA,EAAwB,OAAID,EAAuB,OACnDC,EAAiC,kBACjC,KAASzsI,EAAI,EAAGA,EAAIwsI,EAAgC,gBAAE3uI,OAAQmC,IAAK,CAC/D,GAAI2B,OAAQ,EAERA,GADyB,gBAAzBO,KAAK1F,OAAOyd,SACJ/X,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAAgC,gBAAExsI,GAAGU,gBAAgBkX,OAAOzX,YAGxFqsI,EAAgC,gBAAExsI,GAAG2e,gBAC7Bzc,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMw9H,EAAgC,gBAAExsI,GAAGU,gBAAgBkX,QAGvF1V,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMw9H,EAAgC,gBAAExsI,GAAGU,gBAAgBkX,QAGvG60H,EAAiC,gBAAEjsI,KAAKJ,aAAY8B,KAAK1F,OAAOyO,SAAStJ,QAAa,GAAM,KAOpG,GAJAO,KAAK8pI,kBAAkBxrI,KAAKisI,GAC5BvqI,KAAK6pI,qBAAsB,EAC3B7pI,KAAK2uH,kBACL3uH,KAAK+xF,cAAgBu4C,EACY,WAA7BA,EAAuB,QAA+C,YAA7BA,EAAuB,QAAgD,cAA7BA,EAAuB,OAC1GtqI,KAAK1F,OAAO0jB,iBAAiB2xB,iBAAmB26F,EAAqC,qBAAE36F,iBACvF3vC,KAAK1F,OAAO0jB,iBAAiB6wB,iBAAmBy7F,EAAqC,qBAAEz7F,iBACvF7uC,KAAK1F,OAAO0jB,iBAAiBqqE,oBAAsBiiD,EAAqC,qBAAEjiD,oBAC1FroF,KAAK1F,OAAO0jB,iBAAiB6D,QAAQjV,KAAO09H,EAAqC,qBAAEzoH,QAAQjV,KAC3F5M,KAAK1F,OAAO0jB,iBAAiB6D,QAAQnf,MAAQ4nI,EAAqC,qBAAEzoH,QAAQnf,MAC5F1C,KAAK1F,OAAO0jB,iBAAiB6D,QAAQ3R,OAASo6H,EAAqC,qBAAEzoH,QAAQ3R,OAC7FlQ,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAAO09H,EAAqC,qBAAEr3H,WAAWrG,KACjG5M,KAAK1F,OAAO0jB,iBAAiB/K,WAAWvQ,MAAQ4nI,EAAqC,qBAAEr3H,WAAWvQ,MAClG1C,KAAK1F,OAAO0jB,iBAAiB/K,WAAW/C,OAASo6H,EAAqC,qBAAEr3H,WAAW/C,OACnGlQ,KAAK1F,OAAO0jB,iBAAiB+xB,aAAeu6F,EAAqC,qBAAEv6F,aACnF/vC,KAAK1F,OAAO0jB,iBAAiBw8B,kBAAoB8vF,EAAqC,qBAAE9vF,kBACvD,cAA7B8vF,EAAuB,QACvBtqI,KAAK1F,OAAOsX,eAAew6B,sBAG9B,IAAiC,iBAA7Bk+F,EAAuB,QAAqD,qBAA7BA,EAAuB,OAC3EtqI,KAAK1F,OAAOs/B,mBAAmB0wG,EAA0C,0BAAGA,EAAwC,yBAAG,OAEtH,IAAiC,YAA7BA,EAAuB,OAG5B,GAFAtqI,KAAKkqI,gBAAiB,EACtBlqI,KAAKoqI,oBAAsB,EACvBE,EAA4B,YAAE3uI,OAAS,EACvC,IAASmC,EAAI,EAAGA,EAAIwsI,EAA4B,YAAE3uI,OAAQmC,IACtDkC,KAAK1F,OAAO4H,SAASs8H,aAAa8L,EAA4B,YAAExsI,GAAU,MAAGwsI,EAA4B,YAAExsI,GAAc,UAAGA,EAAI,OAIpIkC,MAAK1F,OAAOsxF,mBAGf,IAAiC,cAA7B0+C,EAAuB,OAAmB,CAC/CtqI,KAAKkqI,gBAAiB,CACtB,KAASpsI,EAAIkC,KAAK+pI,kBAAkBpuI,OAAS,EAAGmC,GAAK,EAAGA,IACpD,GAAIkC,KAAK+pI,kBAAkBjsI,GAAoB,gBAAG,CAE9C,IAAK,GADD4sI,MACKj/H,EAAI,EAAGA,EAAIzL,KAAK+pI,kBAAkBjsI,GAAoB,gBAAEnC,OAAQ8P,IACrEi/H,EAAapsI,KAAK0B,KAAK+pI,kBAAkBjsI,GAAoB,gBAAE2N,GAAG0P,MAEtEnb,MAAK1F,OAAOw2F,eAAe45C,QAIlC,IAAiC,kBAA7BJ,EAAuB,OAAuB,CACnDtqI,KAAKkqI,gBAAiB,CACtB,IAAIS,GAAa3qI,KAAK1F,OAAO4H,SAAS+Y,QAAQqvH,EAA0B,WAAU,MAC9EM,EAAW5qI,KAAK1F,OAAO4H,SAAS+Y,QAAQqvH,EAAwB,SAAU,KAC9EtqI,MAAK1F,OAAOk3F,eAAem5C,EAAYC,OAEtC,IAAiC,WAA7BN,EAAuB,OAC5BtqI,KAAKkqI,gBAAiB,EACtBlqI,KAAK1F,OAAOizF,OAAO+8C,EAA6B,kBAE/C,IAAiC,gBAA7BA,EAAuB,OAAqB,CACjDtqI,KAAKkqI,gBAAiB,CACtB,KAASpsI,EAAI,EAAGA,EAAIwsI,EAAgC,gBAAE3uI,OAAQmC,IACtDwsI,EAAgC,gBAAExsI,GAAGqrD,QACrCnpD,KAAK1F,OAAO46F,WAAWo1C,EAAgC,gBAAExsI,GAAGqd,MAAO,SAGnEnb,KAAK1F,OAAOy6F,WAAWu1C,EAAgC,gBAAExsI,GAAGqd,MAAO,aAI1E,IAAiC,iBAA7BmvH,EAAuB,OAC5BtqI,KAAK1F,OAAO4H,SAAS+Y,QAAQqvH,EAA8B,cAAE7qI,OAAc,MAAI6qI,EAA8B,cAAEvtH,MAC/G/c,KAAK1F,OAAO4H,SAASwnF,qBAEpB,IAAiC,mBAA7B4gD,EAAuB,QAAuD,uBAA7BA,EAAuB,OAC7E,IAASxsI,EAAI,EAAGA,EAAIwsI,EAA2B,WAAE3uI,OAAQmC,IAAK,CAC1D,GAAI+rG,OAAY,GACZjW,MAAU,EACe,iBAAzB5zF,KAAK1F,OAAOyd,UACZ8xF,EAAY7pG,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAA2B,WAAExsI,GAAGC,KAAKS,gBAAgBkX,OAAOzX,YAChG21F,EAAU5zF,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAA2B,WAAExsI,GAAO,GAAEG,cAGxE4rG,EAAY7pG,KAAK1F,OAAOya,IAAIjI,QAAQ,IAAMw9H,EAA2B,WAAExsI,GAAGC,KAAKS,gBAAgBkX,OAAOzX,YACtG21F,EAAU5zF,KAAK1F,OAAOga,QAAQxH,QAAQw9H,EAA2B,WAAExsI,GAAO,GAAEG,aAEhF+B,KAAK1F,OAAOo5F,aAAamW,GAAYjW,EAAS02C,EAA2B,WAAExsI,GAAGy0C,UAC9EvyC,KAAK1F,OAAOmoE,iBAAiB6nE,EAA2B,WAAExsI,GAAGC,MACZ,UAA7CusI,EAA0B,UAAEvgC,cAC5B/pG,KAAK1F,OAAOmoE,iBAAiB6nE,EAA0B,UAAEtgC,gBAIhE,IAAiC,WAA7BsgC,EAAuB,QAA+C,YAA7BA,EAAuB,OACrEtqI,KAAK1F,OAAOqpD,UAAU3jD,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAA+B,eAAE,GAAGvsI,KAAKS,gBAAgBkX,OAAOzX,aAC7E,WAA7BqsI,EAAuB,OACvBtqI,KAAK1F,OAAOo1F,UAGZ1vF,KAAK1F,OAAOm1F,SAEhBn7D,WAAW,WACPrjB,EAAM44H,qBAAsB,EAC5B54H,EAAM3W,OAAOmoE,iBAAiB6nE,EAA8B,eAC5Dr5H,EAAM44H,qBAAsB,QAG/B,IAAiC,WAA7BS,EAAuB,OAE5B,IAAK,GADDpuG,OAAW,GACNp+B,EAAI,EAAGA,EAAIwsI,EAAsC,sBAAE3uI,OAAQmC,IAAK,CAEjEo+B,EADyB,gBAAzBl8B,KAAK1F,OAAOyd,SACD/X,KAAK1F,OAAOya,IAAIjI,QAAQw9H,EAAsC,sBAAExsI,GAAGvD,GAAG0D,YAGtE+B,KAAK1F,OAAOga,QAAQxH,QAAQw9H,EAAsC,sBAAExsI,GAAGvD,GAAG0D,WAEzF,IAAIs0C,OAAW,EAC6C,WAAxD+3F,EAAsC,sBAAExsI,GAAGy0C,WAC3CA,EAAW,SAE6C,UAAxD+3F,EAAsC,sBAAExsI,GAAGy0C,WAC3CA,EAAW,SAE6C,UAAxD+3F,EAAsC,sBAAExsI,GAAGy0C,WAC3CA,EAAW,SAEX13C,oBAAkB03C,KAClBA,EAAW+3F,EAAsC,sBAAExsI,GAAGy0C,SAASpzC,QAAQ,KAAM,SAAU0rI,GAAQ,MAAOA,GAAK3mE,iBAE/GlkE,KAAK1F,OAAOuhF,UAAUyuD,EAAsC,sBAAExsI,GAAGC,KAAMw0C,EAAUrW,OAGpF,IAAiC,QAA7BouG,EAAuB,OAAa,CACzC,GAAIQ,GAA4B5sI,aAAY8B,KAAK1F,OAAO4kC,aAAawlD,6BAA8B,GAAM,EACzG1kF,MAAK1F,OAAO4kC,aAAawlD,yBAA0B,CACnD,IAAIqmD,GAAYT,EAA6B,YAC7C,IAA6B,iBAAzBtqI,KAAK1F,OAAOyd,UAAyE,IAA1CuyH,EAA6B,aAAE3uI,QAAgB2uI,EAA6B,aAAE,GAAG9gI,WAAY,CACxI,GAAI+X,GAAYvhB,KAAK1F,OAAO+O,kBAAkBihI,EAA6B,aAAE,GAAG9gI,WAAWF,SACrD,KAAlCiY,EAAUrE,aAAavhB,QAAuD,oBAAvC4lB,EAAU/iB,gBAAgByoB,WACjE8jH,EAAYxpH,GAGpBvhB,KAAK1F,OAAOm7F,aAAas1C,GACzB/qI,KAAK1F,OAAO4kC,aAAawlD,wBAA0BomD,MAInD,IADA9qI,KAAK1F,OAAOmoE,iBAAiBziE,KAAK+pI,kBAAkB/pI,KAAK+pI,kBAAkBpuI,OAAS,GAAoB,gBAAE,IACtG2uI,EAAiC,kBAA8B,gBAAzBtqI,KAAK1F,OAAOyd,SAClD,IAASja,EAAI,EAAGA,EAAIwsI,EAAiC,iBAAE3uI,OAAQmC,IAC3DkC,KAAK1F,OAAOmoE,iBAAiB6nE,EAAiC,iBAAExsI,GAI5E,IAAIkB,OACJA,EAAOd,gBAAgB8B,KAAK+pI,kBAAkB/pI,KAAK+pI,kBAAkBpuI,OAAS,KAAK,GAAM,IACvE,YAAI,kBACtBqE,KAAK1F,OAAOgc,QAAQ,cAAetX,GACnCgB,KAAK6pI,qBAAsB,EACvB7pI,KAAK8pI,kBAAkBnuI,OAAS,IAC5BqE,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAE7E7tC,KAAKgqI,aAAc,GAEvBhqI,KAAK+pI,kBAAkB1hH,OAAOroB,KAAK+pI,kBAAkBpuI,OAAS,EAAG,GAC3B,IAAlCqE,KAAK+pI,kBAAkBpuI,QAAgBqE,KAAK1F,OAAO4iC,eACnDl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,OAI7E7tC,MAAK+pI,kBAAkB1hH,OAAOroB,KAAK+pI,kBAAkBpuI,OAAS,EAAG,GAC3B,IAAlCqE,KAAK+pI,kBAAkBpuI,QAAgBqE,KAAK1F,OAAO4iC,eACnDl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,IAUrF+7F,EAASnpI,UAAUuqI,WAAa,WAC5B,GAAIhrI,KAAK8pI,kBAAkBnuI,OAAS,EAAG,CACnC,GAAIsvI,GAAejrI,KAAK8pI,kBAAkB9pI,KAAK8pI,kBAAkBnuI,OAAS,GACtE4uI,IACJ,IAA+B,WAA3BU,EAAqB,QAA6C,YAA3BA,EAAqB,QAA8C,cAA3BA,EAAqB,OACpGV,EAAwB,OAAIU,EAAqB,OACjDV,EAAsC,qBAAIrsI,eAAe8B,KAAK1F,OAAO0xC,qBAAqB,OAEzF,IAA+B,iBAA3Bi/F,EAAqB,QAAmD,qBAA3BA,EAAqB,OACvEV,EAAwB,OAAIU,EAAqB,OACjDV,EAA2C,0BAAIrsI,aAAY8B,KAAK1F,OAAOsX,eAAeiT,uBAAwB,GAAM,GACpH0lH,EAAyC,wBAAIrsI,aAAY8B,KAAK1F,OAAOsX,eAAem6B,qBAAsB,GAAM,OAE/G,IAA+B,YAA3Bk/F,EAAqB,OAC1BV,EAAwB,OAAI,UAC5BA,EAA6B,YAAIrsI,YAAW8B,KAAK1F,OAAO2oD,aAAahoC,YAAa,OAEjF,IAA+B,cAA3BgwH,EAAqB,OAC1BV,EAAwB,OAAI,YAC5BA,EAAiC,gBAAIU,EAA8B,oBAElE,IAA+B,kBAA3BA,EAAqB,OAC1BV,EAAwB,OAAIU,EAAqB,OACjDV,EAA0B,SAAIU,EAAyB,WACvDV,EAA4B,WAAIU,EAAuB,SACvDV,EAA2B,UAAIU,EAAsB,QACrDV,EAAyB,QAAIU,EAAwB,cAEpD,IAA+B,WAA3BA,EAAqB,OAC1BV,EAAwB,OAAIU,EAAqB,OACjDV,EAA8B,aAAIrsI,aAAY8B,KAAK1F,OAAO8lD,eAAexkD,SAAU,GAAM,OAExF,IAA+B,gBAA3BqvI,EAAqB,OAC1BV,EAAwB,OAAIU,EAAqB,OACjDV,EAAiC,gBAAIU,EAA8B,oBAElE,IAA+B,iBAA3BA,EAAqB,OAC1BV,EAAwB,OAAIU,EAAqB,OACjDV,EAA+B,cAAI5/F,MAAa3qC,KAAK1F,OAAO4H,SAAS+Y,QAAQgwH,EAA4B,cAAExrI,YAE1G,IAA+B,mBAA3BwrI,EAAqB,QAAqD,uBAA3BA,EAAqB,OAA4B,CAErG,IAAK,GADDxY,MACK30H,EAAI,EAAGA,EAAImtI,EAAyB,WAAEtvI,OAAQmC,IACtB,gBAAzBkC,KAAK1F,OAAOyd,SACZ06G,EAASn0H,KAAK0B,KAAK1F,OAAO4gC,cAAc+vG,EAAyB,WAAEntI,GAAS,KAAEU,gBAAgBkX,SAG9F+8G,EAASn0H,KAAK0B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMm+H,EAAyB,WAAEntI,GAAS,KAAEU,gBAAgBkX,OAAOzX,aAG1IssI,GAAwB,OAAIU,EAAqB,OACjDV,EAA4B,aAC5B,IAAIC,MACAxgC,MAAa,EACbihC,GAAwB,UAAEjhC,aAC1BA,EAAa9rG,gBAAgB8B,KAAK1F,OAAO4gC,cAAc+vG,EAAwB,UAAEjhC,WAAWxrG,gBAAgBkX,UAAU,GAAM,IAEhI80H,EAAsB,OACtB,KAAS1sI,EAAI,EAAGA,EAAImtI,EAAwB,UAAEltI,KAAKpC,OAAQmC,IAC1B,gBAAzBkC,KAAK1F,OAAOyd,SACZyyH,EAAsB,KAAElsI,KAAKJ,gBAAgB8B,KAAK1F,OAAO4gC,cAAc+vG,EAAwB,UAAEltI,KAAKD,GAAGU,gBAAgBkX,UAAU,GAAM,QAG/F/N,KAAtCsjI,EAAwB,UAAEltI,KAAKD,IAC/B0sI,EAAsB,KAAElsI,KAAKJ,eAAe8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMm+H,EAAwB,UAAEltI,KAAKD,GAAGU,gBAAgBkX,UAAU,GAAM,GAIjL80H,GAA4B,WAAItsI,gBAAgB8rG,IAAa,GAAM,GACnEwgC,EAA8B,aAAIS,EAAwB,UAAElhC,aAC5DwgC,EAA2B,UAAIC,EAC/BxqI,KAAmB,aAAEyyH,EAAU8X,EAAiB,kBAE/C,IAA+B,WAA3BU,EAAqB,QAA6C,YAA3BA,EAAqB,OACjEV,EAAoC,mBAAIU,EAAiC,mBACzEV,EAA+B,cAAIrsI,gBAAgB8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAA4B,cAAEzsI,gBAAgBkX,OAAOzX,eAAe,GAAM,GAC1KssI,EAAgC,kBAChCvqI,KAAKyqI,aAAavsI,gBAAgB8B,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAA6B,eAAE,GAAGltI,KAAKS,gBAAgBkX,OAAOzX,eAAe,GAAOssI,EAAiB,kBACpLA,EAAwB,OAAIU,EAAqB,WAEhD,IAA+B,WAA3BA,EAAqB,OAC1BV,EAAwB,OAAI,SAC5BA,EAAuC,yBACvCvqI,KAAmB,aAAE9B,eAAe+sI,EAA4B,eAAG,GAAOV,EAAiB,6BAE1F,IAA+B,QAA3BU,EAAqB,OAC1BV,EAAwB,OAAI,MAC5BA,EAA8B,cAAKU,EAAoC,sBAAE,GAAGltI,UAE3E,CACDwsI,EAAwB,OAAIU,EAAqB,OACjDV,EAAiC,kBACjC,KAASzsI,EAAI,EAAGA,EAAImtI,EAA8B,gBAAEtvI,OAAQmC,IAAK,CAC7D,GAAI2B,OAAQ,EAERA,GADyB,gBAAzBO,KAAK1F,OAAOyd,SACJ/X,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAA8B,gBAAEntI,GAAGU,gBAAgBkX,OAAOzX,YAGtFgtI,EAA8B,gBAAEntI,GAAG2e,gBAC3Bzc,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMm+H,EAA8B,gBAAEntI,GAAGU,gBAAgBkX,QAGrF1V,KAAK1F,OAAOga,QAAQxH,QAAQ,IAAMm+H,EAA8B,gBAAEntI,GAAGU,gBAAgBkX,QAGrG60H,EAAiC,gBAAEjsI,KAAKJ,aAAY8B,KAAK1F,OAAOyO,SAAStJ,QAAa,GAAM,KAMpG,GAHAO,KAAK+pI,kBAAkBzrI,KAAKisI,GAC5BvqI,KAAK6pI,qBAAsB,EAC3B7pI,KAAK+xF,cAAgBk5C,EACU,WAA3BA,EAAqB,QAA6C,YAA3BA,EAAqB,QAA8C,cAA3BA,EAAqB,OACrE,cAA3BA,EAAqB,OACrBjrI,KAAK1F,OAAOm5F,gBAGZzzF,KAAK1F,OAAO0jB,iBAAiB2xB,iBAAmBs7F,EAAmC,qBAAEt7F,iBACrF3vC,KAAK1F,OAAO0jB,iBAAiB6wB,iBAAmBo8F,EAAmC,qBAAEp8F,iBACrF7uC,KAAK1F,OAAO0jB,iBAAiBqqE,oBAAsB4iD,EAAmC,qBAAE5iD,oBACxFroF,KAAK1F,OAAO0jB,iBAAiB6D,QAAQjV,KAAOq+H,EAAmC,qBAAEppH,QAAQjV,KACzF5M,KAAK1F,OAAO0jB,iBAAiB6D,QAAQnf,MAAQuoI,EAAmC,qBAAEppH,QAAQnf,MAC1F1C,KAAK1F,OAAO0jB,iBAAiB6D,QAAQ3R,OAAS+6H,EAAmC,qBAAEppH,QAAQ3R,OAC3FlQ,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAAOq+H,EAAmC,qBAAEh4H,WAAWrG,KAC/F5M,KAAK1F,OAAO0jB,iBAAiB/K,WAAWvQ,MAAQuoI,EAAmC,qBAAEh4H,WAAWvQ,MAChG1C,KAAK1F,OAAO0jB,iBAAiB/K,WAAW/C,OAAS+6H,EAAmC,qBAAEh4H,WAAW/C,OACjGlQ,KAAK1F,OAAO0jB,iBAAiB+xB,aAAek7F,EAAmC,qBAAEl7F,aACjF/vC,KAAK1F,OAAO0jB,iBAAiBw8B,kBAAoBywF,EAAmC,qBAAEzwF,uBAGzF,IAA+B,iBAA3BywF,EAAqB,QAAmD,qBAA3BA,EAAqB,OACvEjrI,KAAK1F,OAAOs/B,mBAAmBqxG,EAAwC,0BAAGA,EAAsC,yBAAG,OAElH,IAA+B,YAA3BA,EAAqB,OAG1B,GAFAjrI,KAAKkqI,gBAAiB,EACtBlqI,KAAKoqI,oBAAsB,EACgB,IAAvCa,EAA0B,YAAEtvI,OAC5BqE,KAAK1F,OAAOsxF,mBAGZ,KAAS9tF,EAAI,EAAGA,EAAImtI,EAA0B,YAAEtvI,OAAQmC,IACpDkC,KAAK1F,OAAO4H,SAASs8H,aAAayM,EAA0B,YAAEntI,GAAU,MAAGmtI,EAA0B,YAAEntI,GAAc,UAAImtI,EAA0B,YAAEtvI,OAAS,OAIrK,IAA+B,gBAA3BsvI,EAAqB,OAAqB,CAC/CjrI,KAAKkqI,gBAAiB,CACtB,KAASpsI,EAAI,EAAGA,EAAImtI,EAA8B,gBAAEtvI,OAAQmC,IACpDmtI,EAA8B,gBAAEntI,GAAGqrD,QACnCnpD,KAAK1F,OAAO46F,WAAW+1C,EAA8B,gBAAEntI,GAAGqd,MAAO,SAGjEnb,KAAK1F,OAAOy6F,WAAWk2C,EAA8B,gBAAEntI,GAAGqd,MAAO,aAIxE,IAA+B,cAA3B8vH,EAAqB,OAC1B,IAAK,GAAIx/H,GAAI,EAAGA,EAAIw/H,EAA8B,gBAAEtvI,OAAQ8P,IACxDzL,KAAKkqI,gBAAiB,EACtBlqI,KAAK1F,OAAOktD,eAAeyjF,EAA8B,gBAAEx/H,GAAG0P,MAAO8vH,EAA8B,gBAAEx/H,GAAGg8C,SAAUwjF,EAA8B,gBAAEx/H,GAAGpM,MAAO4rI,EAA8B,gBAAEx/H,GAAG0kF,UAAW86C,EAA8B,gBAAEx/H,GAAG2kF,UAAW66C,EAA8B,gBAAEx/H,GAAG4kF,kBAG9R,IAA+B,kBAA3B46C,EAAqB,OAAuB,CACjDjrI,KAAKkqI,gBAAiB,CACtB,IAAIS,GAAa3qI,KAAK1F,OAAO4H,SAAS+Y,QAAQgwH,EAAwB,WAAU,MAC5EL,EAAW5qI,KAAK1F,OAAO4H,SAAS+Y,QAAQgwH,EAAsB,SAAU,KAC5EjrI,MAAK1F,OAAOk3F,eAAem5C,EAAYC,OAEtC,IAA+B,WAA3BK,EAAqB,OAC1BjrI,KAAKkqI,gBAAiB,EACtBlqI,KAAK1F,OAAOizF,OAAO09C,EAA2B,kBAE7C,IAA+B,iBAA3BA,EAAqB,OAC1BjrI,KAAK1F,OAAO4H,SAAS+Y,QAAQgwH,EAA4B,cAAExrI,OAAc,MAAIwrI,EAA4B,cAAEluH,MAC3G/c,KAAK1F,OAAO4H,SAASwnF,qBAEpB,IAA+B,mBAA3BuhD,EAAqB,QAAqD,uBAA3BA,EAAqB,OACzE,IAASntI,EAAI,EAAGA,EAAImtI,EAAyB,WAAEtvI,OAAQmC,IAAK,CACxD,GAAI+rG,OAAY,GACZjW,MAAU,EACe,iBAAzB5zF,KAAK1F,OAAOyd,UACZ8xF,EAAY7pG,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAAyB,WAAEntI,GAAGC,KAAKS,gBAAgBkX,OAAOzX,YAC9F21F,EAAU5zF,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAAyB,WAAEntI,GAAO,GAAEG,cAGtE4rG,EAAY7pG,KAAK1F,OAAOya,IAAIjI,QAAQ,IAAMm+H,EAAyB,WAAEntI,GAAGC,KAAKS,gBAAgBkX,OAAOzX,YACpG21F,EAAU5zF,KAAK1F,OAAOga,QAAQxH,QAAQm+H,EAAyB,WAAEntI,GAAO,GAAEG,aAE9E+B,KAAK1F,OAAOo5F,aAAamW,GAAYjW,EAASq3C,EAAyB,WAAEntI,GAAGy0C,cAG/E,IAA+B,WAA3B04F,EAAqB,QAA6C,YAA3BA,EAAqB,OACjEjrI,KAAK1F,OAAOqpD,UAAUsnF,EAAiC,mBAAE,IAC1B,WAA3BA,EAAqB,QACrBjrI,KAAK1F,OAAOm1F,SAEe,YAA3Bw7C,EAAqB,QACrBjrI,KAAK1F,OAAOo1F,cAGf,IAA+B,WAA3Bu7C,EAAqB,OAAgB,CAC1C,GAAIH,GAA4B5sI,aAAY8B,KAAK1F,OAAO4kC,aAAawlD,6BAA8B,GAAM,EACzG1kF,MAAK1F,OAAO4kC,aAAawlD,yBAA0B,EACnD1kF,KAAK1F,OAAOm7F,aAAaw1C,EAA4B,eACrDjrI,KAAK1F,OAAO4kC,aAAawlD,wBAA0BomD,MAElD,IAA+B,QAA3BG,EAAqB,OAC1B,GAA6B,iBAAzBjrI,KAAK1F,OAAOyd,UAA+BkzH,EAAoC,sBAAEtvI,OAAS,EAC1FqE,KAAK1F,OAAO0I,WAAW64E,UAAU39E,eAAe+sI,EAAoC,uBAAG,QAIvF,KAAK,GADD/uG,OAAW,GACNp+B,EAAI,EAAGA,EAAImtI,EAAoC,sBAAEtvI,OAAQmC,IAAK,CAE/Do+B,EADyB,gBAAzBl8B,KAAK1F,OAAOyd,SACD/X,KAAK1F,OAAOya,IAAIjI,QAAQm+H,EAAoC,sBAAEntI,GAAGvD,GAAG0D,YAGpE+B,KAAK1F,OAAOga,QAAQxH,QAAQm+H,EAAoC,sBAAEntI,GAAGvD,GAAG0D,WAEvF,IAAIs0C,OAAW,EAC2C,WAAtD04F,EAAoC,sBAAEntI,GAAGy0C,WACzCA,EAAW,SAE2C,UAAtD04F,EAAoC,sBAAEntI,GAAGy0C,WACzCA,EAAW,SAE2C,UAAtD04F,EAAoC,sBAAEntI,GAAGy0C,WACzCA,EAAW,SAE2C,WAAtD04F,EAAoC,sBAAEntI,GAAGy0C,WACzCA,EAAW,UAEfvyC,KAAK1F,OAAO0I,WAAW64E,UAAUovD,EAAoC,sBAAEntI,GAAGC,KAAMw0C,EAAUrW,OAKlGl8B,MAAK1F,OAAOmoE,iBAAiBwoE,EAA8B,gBAAE,GAEjEjrI,MAAK6pI,qBAAsB,EACvB7pI,KAAK+pI,kBAAkBpuI,OAAS,GAAKqE,KAAK1F,OAAO4iC,eACjDl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAE7E7tC,KAAK8pI,kBAAkBzhH,OAAOroB,KAAK8pI,kBAAkBnuI,OAAS,EAAG,GAC3B,IAAlCqE,KAAK8pI,kBAAkBnuI,QAAgBqE,KAAK1F,OAAO4iC,gBACnDl9B,KAAKgqI,aAAc,EACnBhqI,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,MAIrF+7F,EAASnpI,UAAUyqI,qBAAuB,WAClClrI,KAAK1F,OAAwB,gBAAI,EAAI0F,KAAK1F,OAAO6wI,oBAAsBnrI,KAAK+pI,kBAAkBpuI,SAAWqE,KAAK1F,OAAwB,kBACtI0F,KAAK+pI,kBAAkB1hH,OAAO,EAAG,GACjCroB,KAAKorI,eAELprI,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAEvC,IAAlC7tC,KAAK+pI,kBAAkBpuI,QACvBqE,KAAK+pI,kBAAkB,MACnB/pI,KAAK1F,OAAwB,gBAAI,GAAK0F,KAAK1F,OAAO6wI,oBAClDnrI,KAAK1F,OAAwB,mBAG5BmB,OAAOC,KAAKsE,KAAwB,kBAAEA,KAAwB,kBAAErE,OAAS,IAAY,OAAI,IAC9FqE,KAAK+pI,kBAAkB/pI,KAAK+pI,kBAAkBpuI,WAC1CqE,KAAK1F,OAAwB,gBAAI,GAAK0F,KAAK1F,OAAO6wI,oBAClDnrI,KAAK1F,OAAwB,oBAIzCsvI,EAASnpI,UAAU2qI,YAAc,WAC7BprI,KAAKgqI,aAAc,EACnBhqI,KAAK8pI,qBACD9pI,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,IAGjF+7F,EAASnpI,UAAUgqI,aAAe,SAAUhY,EAAU/0H,EAAS2tI,GAiT3D,IAAK,GADD9yH,GAASvY,KACJlC,EAAI,EAAGA,EAAI20H,EAAS92H,OAAQmC,KAhTvB,SAAUA,GACpB,GAAIS,KAEJ,IADAA,EAAa,KAAIk0H,EAAS30H,GACK,gBAA3Bya,EAAOje,OAAOyd,SACd,IAAK06G,EAAS30H,GAAG2e,iBAAmBg2G,EAAS30H,GAAG0L,WAE5C,IADIA,EAAa+O,EAAOje,OAAO4gC,cAAcu3F,EAAS30H,GAAG0L,WAAWkM,SACrDwH,aAAavhB,OAAS,EAAG,CAChC2vI,EAAW/yH,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,WAE5E,KADIstI,EAAiBhzH,EAAOje,OAAOyO,SAASuiI,EAAW,IACpC9hI,YACf+hI,EAAe/hI,WAAWkM,OAAOzX,aAAeuL,EAAWhL,gBAAgBkX,OAAOzX,WAClFM,EAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYqa,EAAOje,OAAOyO,SAASwP,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,YAAc,GAAGO,gBAAgBkX,YAAa,GAAM,OAElK,CACDnX,EAAiB,SAAI,OACrB,IAAIy/D,GAAczlD,EAAOje,OAAOyO,SAASwP,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,YAAc,GAChHwB,EAAQ8Y,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,YAAc,EACnFi+B,EAAWp+B,CACf,MACQ+kC,EAAU4vF,EAASv2F,EAAW,KAE7B2G,GAAWm7B,EAAYx/D,gBAAgBkX,OAAOzX,aAC3C4kC,EAAQrkC,gBAAgBkX,OAAOzX,WAC/B+/D,GAAeA,EAAYx0D,WAC3BjL,EAAW,GAAIL,aAAY8/D,EAAYx/D,gBAAgBkX,YAAa,GAAM,IAG1EnX,EAAW,GAAIL,aAAYu0H,EAAS30H,GAAG0L,WAAWkM,YAAa,GAAM,GACrEnX,EAAiB,SAAI,UAIzB29B,IACAz8B,IACAu+D,EAAczlD,EAAOje,OAAOyO,SAAStJ,WAEnClB,EAAW,SAIzBA,GAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYsL,EAAWhL,gBAAgBkX,YAAa,GAAM,OAG5E,IAAK+8G,EAAS30H,GAAG2e,iBAAoBg2G,EAAS30H,GAAG0L,YAwCjD,GAAIipH,EAAS30H,GAAG2e,kBAAoBg2G,EAAS30H,GAAG0L,WAAY,CAI7D,IAAK,GAHDk2D,OAAc,GACd1B,MAAc,GACdwtE,MAAU,GACLtpH,EAAI,EAAGA,EAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWtZ,OAAQumB,IAC1D,GAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWiN,GAAoB,gBAAExM,OAAOzX,aAAew0H,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,WAAY,CAC7HyhE,EAAcx9C,EACd87C,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWiN,EAAI,GACpDspH,EAAUtpH,EAAI,CACd,OAGR,IAAqB,IAAjBw9C,EACA,GAAoB,IAAhBA,EAAmB,CACnBnhE,EAAiB,SAAI,OACjB29B,GAAWp+B,CACf,MACQ+kC,EAAU4vF,EAASv2F,EAAW,KACjB2G,GAAWm7B,EAA6B,gBAAEtoD,OAAOzX,aAAe4kC,EAAQrkC,gBAAgBkX,OAAOzX,YACvG+/D,IACDA,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWyqD,IAEpDnhE,EAAW,GAAIL,aAAY8/D,EAA6B,gBAAEtoD,YAAa,GAAM,KAG7EwmB,IACAsvG,IACAxtE,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWu2H,WAE9CjtI,EAAW,QAGrBA,GAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYqa,EAAOje,OAAO4H,SAAS+S,WAAWyqD,EAAc,GAAGlhE,gBAAgBkX,YAAa,GAAM,OAIxH,IAAI+8G,EAAS30H,GAAG2e,iBAAmBg2G,EAAS30H,GAAG0L,WAAY,CAC5D,GAAIA,GAAa+O,EAAOje,OAAO4gC,cAAcu3F,EAAS30H,GAAG0L,WAAWkM,OACpE,IAAuC,IAAnClM,EAAW0T,aAAavhB,OACxB4C,EAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYu0H,EAAS30H,GAAG0L,WAAWkM,YAAa,GAAM,OAEpE,CAED,IAAK,GADDw1D,OAAa,GACRhpD,EAAI,EAAGA,EAAI1Y,EAAW0T,aAAavhB,OAAQumB,IAChD,GAAI1Y,EAAW0T,aAAapf,GAAGU,gBAAgBkX,OAAOzX,aAClDw0H,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,WAAY,CAC/CitE,EAAahpD,CACb,OAGHrnB,oBAAkBqwE,KACA,IAAfA,GACA3sE,EAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYsL,EAAW0T,aAAaguD,EAAa,GAAG1sE,gBAAgBkX,YAAa,GAAM,KAGtGnX,EAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAYsL,EAAW0T,aAAaguD,EAAa,GAAG1sE,gBAAgBkX,YAAa,GAAM,WAnGpD,CAC1D6C,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,cAAgBsa,EAAOje,OAAOya,IAAIpZ,OAAS,EACxG4C,EAAiB,SAAI,QAGrBA,EAAiB,SAAI,OAKzB,KAAK,GAHDmhE,OAAc,GACd1B,MAAc,GACdwtE,MAAU,GACLtpH,EAAI,EAAGA,EAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWtZ,OAAQumB,IAC1D,GAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWiN,GAAoB,gBAAExM,OAAOzX,aAAew0H,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,WAAY,CAC7HyhE,EAAcx9C,EACd87C,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWiN,EAAI,GACpDspH,EAAUtpH,EAAI,CACd,OAGJga,EAAWp+B,CACf,MACQ+kC,EAAU4vF,EAASv2F,EAAW,KACjB2G,GAAWm7B,EAA6B,gBAAEtoD,OAAOzX,aAAe4kC,EAAQrkC,gBAAgBkX,OAAOzX,WACxG+/D,EACAz/D,EAAW,GAAIL,aAAY8/D,EAA6B,gBAAEtoD,YAAa,GAAM,KAG7EsoD,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWyqD,EAAc,MAE1D1B,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWyqD,IAEpDnhE,EAAW,GAAIL,aAAY8/D,EAA6B,gBAAEtoD,YAAa,GAAM,KAIjFwmB,IACAsvG,IACAxtE,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWu2H,WAE9CjtI,EAAW,QAoEzB,IAAIk0H,EAAS30H,GAAG0L,WAAY,CACxB,GAAI4yB,OAAe,EAOnB,IAAyC,KALrCA,EADAq2F,EAAS30H,GAAG0L,WAAW/J,MACR8Y,EAAOje,OAAOyO,SAAS0pH,EAAS30H,GAAG0L,WAAW/J,OAG9C8Y,EAAOje,OAAOyO,SAASwP,EAAOje,OAAOya,IAAIjI,QAAQ2lH,EAAS30H,GAAG0L,WAAWkM,UAE1EwH,aAAavhB,OAC1B4C,EAAiB,SAAI,SACrBA,EAAW,GAAI,IAAM69B,EAAa59B,gBAAgBkX,OACnC,mBAAX21H,IACA9sI,EAAiB,SAAI,QACrBA,EAAc,MAAI69B,EAAa38B,WAGlC,CAED,IAAK,GADDs/F,OAAe,GACVtzF,EAAI,EAAGA,EAAI2wB,EAAalf,aAAavhB,OAAQ8P,IAClD,GAAI2wB,EAAalf,aAAazR,GAAGjN,gBAAgBkX,OAAOzX,aACpDw0H,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,WAAY,CAC/C8gG,EAAetzF,CACf,OAGR,GAAI8/H,GAAiBnvG,EAAalf,aAAa6hF,EAAe,EAC9D,IAAIwsC,GAAkBA,EAAe/hI,YAAc+hI,EAAe3oE,iBAAmBxmC,EAAa9yB,SAC9F/K,EAAiB,SAAI,QACrBA,EAAW,GAAIL,aAAY,IAAMqa,EAAOje,OAAOyO,SAASwP,EAAOje,OAAOga,QAAQxH,QAAQ,IAAM2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,YAAc,GAAGO,gBAAgBkX,YAAa,GAAM,GACpK,mBAAX21H,IACA9sI,EAAc,MAAIga,EAAOje,OAAOga,QAAQxH,QAAQ,IAAM2lH,EAAS30H,GAAGU,gBAAgBkX,OAAOzX,YAAc,OAG1G,CACGwB,MAAQ,EACZ,IAAIs/F,IAAiB3iE,EAAalf,aAAavhB,OAAS,EAAG,CACvD4C,EAAiB,SAAI,QACA,IAAjBwgG,GAAsB3iE,EAAalf,aAAa,GAChDzd,EAAQ28B,EAAalf,aAAa,GAAGzd,MAEhC28B,EAAalf,aAAa6hF,EAAe,KAC9Ct/F,EAAQ28B,EAAalf,aAAa6hF,EAAe,GAAGt/F,MAExD,IAAIu+D,GAAczlD,EAAOje,OAAOyO,SAAStJ,GACrC6rI,EAAW7rI,EACXy8B,EAAWp+B,CACf,MACQ+kC,EAAU4vF,EAASv2F,EAAW,KAE7B2G,GAAWm7B,EAAYx/D,gBAAgBkX,OAAOzX,aAC3C4kC,EAAQrkC,gBAAgBkX,OAAOzX,WAC/B+/D,EAAYx0D,YACZjL,EAAW,GAAIL,aAAY,IAAM8/D,EAAYx/D,gBAAgBkX,YAAa,GAAM,GACjE,mBAAX21H,IACA9sI,EAAc,MAAIL,aAAY8/D,EAAYv+D,WAAY,GAAM,GACvC,IAAjBs/F,GAAsB3iE,EAAalf,aAAa,GAAG1e,gBAAgBkX,SACnEsoD,EAAYx/D,gBAAgBkX,SAC5BnX,EAAc,MAAIA,EAAc,MAAI,MAK5CA,EAAW,GAAIL,aAAY,IAAMu0H,EAAS30H,GAAG0L,WAAWkM,YAAa,GAAM,GAC3EnX,EAAiB,SAAI,QACN,mBAAX8sI,IACA9sI,EAAc,MAAIk0H,EAAS30H,GAAG0L,WAAW/J,SAKjDy8B,IACAovG,IACAttE,EAAczlD,EAAOje,OAAOyO,SAASuiI,WAEnC/sI,EAAW,QAGjBwgG,KAAiB3iE,EAAalf,aAAavhB,OAAS,EACpD4C,EAAiB,SAAI,QAGrBA,EAAiB,SAAI,QAEzBA,EAAW,GAAI,IAAM69B,EAAalf,aAAa6hF,EAAe,GAAGvgG,gBAAgBkX,OAClE,mBAAX21H,IACA9sI,EAAc,MAAI69B,EAAalf,aAAa6hF,EAAe,GAAGt/F,aAM7E,CACD,GAAIwV,GAAasD,EAAOje,OAAO4H,SAAS+S,WAAW0E,OAAO,SAAU1E,GAChE,MAAOA,GAAWzW,gBAAgBkX,SAAW+8G,EAAS30H,GAAGU,gBAAgBkX,SAC1E,GACC+1H,EAAkBlzH,EAAOje,OAAO4H,SAAS+S,WAAWnI,QAAQmI,EAChE,IAAwB,IAApBw2H,EAAuB,CACvBltI,EAAiB,SAAI,OAGrB,KAAK,GAFDy/D,OAAc,GACdwtE,MAAU,GACLtpH,EAAI,EAAGA,EAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWtZ,OAAQumB,IAC1D,GAAI3J,EAAOje,OAAO4H,SAAS+S,WAAWiN,GAAoB,gBAAExM,SAAW+8G,EAAS30H,GAAGU,gBAAgBkX,OAAQ,CACvGsoD,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWiN,EAAI,GACpDspH,EAAUtpH,EAAI,CACd,OAGJga,EAAWp+B,CACf,GAAG,CACC,GAAI+kC,GAAU4vF,EAASv2F,EAAW,IAC7B2G,GAAYA,GAAWm7B,EAA6B,gBAAEtoD,SAAWmtB,EAAQrkC,gBAAgBkX,QAC1FnX,EAAW,GAAI,IAAMy/D,EAA6B,gBAAEtoD,OACrC,mBAAX21H,IACA9sI,EAAc,MAAIy/D,EAAmB,SAIzC9hC,IACAsvG,IACAxtE,EAAczlD,EAAOje,OAAO4H,SAAS+S,WAAWu2H,WAE9CjtI,EAAW,QAGrBA,GAAiB,SAAI,QACrBA,EAAW,GAAI,IAAMga,EAAOje,OAAO4H,SAAS+S,WAAWw2H,EAAkB,GAAoB,gBAAU,OACxF,mBAAXJ,IACA9sI,EAAc,MAAIga,EAAOje,OAAO4H,SAAS+S,WAAWw2H,EAAkB,GAAU,OAKhG,GAAe,mBAAXJ,EAA6B,CAC7B,GAAIt7C,GAAWx3E,EAAOje,OAAO+O,kBAAkB9K,EAAa,KAAEqkE,eAC9D,IAAoE,IAAhErqD,EAAOje,OAAO0I,WAAW2C,aAAa4Y,eAAe5iB,SAAqD,IAArC+B,EAAQ2tI,GAAQv+H,QAAQvO,GAC7Fb,EAAQ2tI,GAAQ/sI,KAAKC,OAGrB,KAASkN,EAAI,EAAGA,EAAI8M,EAAOje,OAAO0I,WAAW2C,aAAa4Y,eAAe5iB,OAAQ8P,IACzE8M,EAAOje,OAAO0I,WAAW2C,aAAa4Y,eAAe9S,GAAG8M,EAAOje,OAAO8d,eAAe7d,MACrFw1F,EAASvxF,gBAAgBkX,SAA+C,IAArChY,EAAQ2tI,GAAQv+H,QAAQvO,IAC3Db,EAAQ2tI,GAAQ/sI,KAAKC,OAM5Bb,GAAQ2tI,GAAQ58G,KAAK,SAAUi9G,GAAkB,MAAOA,GAAe3tI,KAAKS,gBAAgBkX,SAAWnX,EAAa,KAAEC,gBAAgBkX,UACvIhY,EAAQ2tI,GAAQ/sI,KAAKC,IAMrBT,IAGhB8rI,EAASnpI,UAAU+9E,cAAgB,WAC/B,MAAO,YAQXorD,EAASnpI,UAAU02B,QAAU,YACpBn3B,KAAK1F,OAAOuqF,gBAAkB7kF,KAAK1F,OAAOyhB,iBAC3C/b,KAAK1F,OAAOyhB,mBAAiBpU,KAG9BiiI,KC74BP1vB,GAA6B,WAC7B,QAASA,GAAY5/G,GACjB,GAAI2W,GAAQjR,IACZA,MAAK+d,cAAgB,EACrB/d,KAAK2rI,6BAA8B,EACnC3rI,KAAK4rI,uBAAyB,SAAU5sI,GACpC,GAAI4kC,GAAUrE,UAAQvgC,EAAKonC,MAAM9G,OAAQ,UACrCpP,EAAWqP,UAAQvgC,EAAKonC,MAAM9G,OAAQ,eACtCzkC,qBAAkB+oC,IAAY/oC,oBAAkBq1B,KAChDlxB,EAAKoR,KAAO,SACZa,EAAM3W,OAAOgc,QAAQ,mBAAoBtX,KAGjDgB,KAAK6rI,sBAAwB,SAAU7sI,GACnC,GAAI4kC,GAAUrE,UAAQvgC,EAAKonC,MAAM9G,OAAQ,UACrCpP,EAAWqP,UAAQvgC,EAAKonC,MAAM9G,OAAQ,eACtCzkC,qBAAkB+oC,IAAY/oC,oBAAkBq1B,IAChDlxB,EAAKoR,KAAO,SACZa,EAAM3W,OAAOgc,QAAQ,kBAAmBtX,IAGxCA,EAAK4/B,QAAS,GAGtB5+B,KAAK1F,OAASA,EACd0F,KAAK8rI,QAAUxxI,EAAOwL,QAAQvL,GAC9B8jD,WAASw4C,OAAOk1C,eAChB/rI,KAAK1F,OAAO4H,SAAS8pI,iBAAmBhsI,KAAK4rI,uBAAuBj3H,KAAK3U,MACzEA,KAAK1F,OAAO4H,SAAS+pI,gBAAkBjsI,KAAK6rI,sBAAsBl3H,KAAK3U,MACvEA,KAAKwU,mBACLxU,KAAKksI,aAuzBT,MArzBAhyB,GAAYz5G,UAAU+T,iBAAmB,WACjCxU,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOma,GAAG,uBAAwBzU,KAAKwjF,OAAQxjF,MACpDA,KAAK1F,OAAOma,GAAG,uBAAwBzU,KAAKmsI,oBAAqBnsI,MACjEA,KAAK1F,OAAOma,GAAG,mBAAoBzU,KAAKosI,qBAAsBpsI,MAC9DA,KAAK1F,OAAOma,GAAG,kBAAmBzU,KAAKqsI,sBAAuBrsI,QAElEk6G,EAAYz5G,UAAU0rI,oBAAsB,SAAU/1H,GAC9CA,EAAEuzE,SAAW3pF,KAAKw+E,iBAAmBpoE,EAAEi0E,SACnCrqF,KAAKulD,cACLvlD,KAAKulD,YAAYpuB,UACjBx4B,SAAOqB,KAAK8F,UAEhB9F,KAAKksI,aACLlsI,KAAKwjF,WAGb02B,EAAYz5G,UAAU+iF,OAAS,WAC3BxjF,KAAK8F,QAAU9F,KAAK1F,OAAOi9B,cAAc,MACrCh9B,GAAIyF,KAAK8rI,QAAU,eAAgBt0G,UnDhDxB,WmDkDfx3B,KAAK1F,OAAOwL,QAAQ4xB,YAAY13B,KAAK8F,QACrC,IAAIw5B,GAAS,IAAMt/B,KAAK8rI,OACxB9rI,MAAKulD,YAAc,GAAI+mF,gBACnBv1H,MAAO/W,KAAKusI,eACZ74F,OAAQ1zC,KAAK1F,OAAOo5C,OACpBzgB,UAAWjzB,KAAK1F,OAAO24B,UACvBqM,OAAQA,EACRwvE,mBAAqBn6B,OAAQ,QAC7Bg7B,OAAQ3vG,KAAKosI,qBAAqBz3H,KAAK3U,MACvCwsI,WAAYxsI,KAAKqsI,sBAAsB13H,KAAK3U,MAC5CysI,OAAQzsI,KAAKisI,gBAAgBt3H,KAAK3U,MAClC0sI,QAAS1sI,KAAK2sI,mBAAmBh4H,KAAK3U,MACtCsc,SAAU,YAEdtc,KAAKulD,YAAY5F,SAAS3/C,KAAK8F,SAC/B9F,KAAK1F,OAAO4H,SAASooF,iBAAmBtqF,KAAK4sI,iBAEjD1yB,EAAYz5G,UAAU2rI,qBAAuB,SAAUptI,GACnDgB,KAAK0S,KAAO1S,KAAK6sI,aAAa7tI,EAAK0T,KAAKnY,GACxC,IAAIg4C,GACAx0C,EACAuF,EACAkG,EAAa9J,WAAS,YAAaV,EAAK0T,MACxCjT,GAAS,CAgBb,QAfAT,EAAKoR,KAAO,UACZpR,EAAK6jC,QAAU7iC,KAAK6iC,QACpB7iC,KAAK1F,OAAOgc,QAAQ,mBAAoBtX,GACpCwK,IAAe3O,oBAAkB2O,EAAWjP,KAA4C,qBAArCyF,KAAK6sI,aAAarjI,EAAWjP,MAChFkF,EAAQ+J,EAAWuN,MAAMjK,QAAQ9N,EAAK0T,OAEtC1S,KAAK1F,OAAOymC,aACM,oBAAd/gC,KAAK0S,MAA4C,UAAd1S,KAAK0S,MAAkC,UAAd1S,KAAK0S,MAChD,UAAd1S,KAAK0S,MAAkC,eAAd1S,KAAK0S,MAC7B1S,KAAK1F,OAAO0nD,iBAA0D,aAAvChiD,KAAK1F,OAAO2nD,kBAAkB7xC,OAC7DpQ,KAAK1F,OAAO0nD,gBAAgBm5B,YAC5BnjD,SAAS5E,uBAAuB,eAAe,GAAGO,MAAMkB,QAAU,SAItE70B,KAAK0S,MACT,IAAK,kBACI7X,oBAAkBmF,KAAK6iC,WAC2B,gBAAxC7iC,MAAK6iC,QAAQrkC,gBAAgBkX,OACpC1V,KAAK1F,OAAO45F,eAAel0F,KAAK6iC,QAAQrkC,gBAAgBqb,aAGxD7Z,KAAK1F,OAAO45F,eAAe1rF,OAAOxI,KAAK6iC,QAAQrkC,gBAAgBqb,cAGvE,MACJ,KAAK,QACL,IAAK,QACL,IAAK,QACD,GAAKhf,oBAAkBmF,KAAK6iC,SAkCa,IAAhC7iC,KAAK1F,OAAOyO,SAASpN,QAC1BqE,KAAK1F,OAAOuhF,gBAhBZ,IAlBAtpC,EAAWvyC,KAAK0S,KAChB3U,EAAOG,eAAe8B,KAAK6iC,QAAQ1kC,UAAU,GAC7CmF,EAAatD,KAAK1F,OAAOmE,WACrBV,EAAKuF,EAAWxI,YAChBkF,KAAK1F,OAAO8J,eAAed,EAAWxI,UAAWkF,KAAK6iC,QAAQrkC,gBAAgB1D,UAAWiD,GAAM,GAE/FA,EAAKuF,EAAWvI,UAChBiF,KAAK1F,OAAO8J,eAAed,EAAWvI,QAASiF,KAAK6iC,QAAQrkC,gBAAgBzD,QAASgD,GAAM,GAE1FlD,oBAAkByI,EAAW8V,cAC9Brb,EAAKuF,EAAW8V,YAAc,OAE7Bve,oBAAkByI,EAAWwT,QAAU/Y,EAAKuF,EAAWwT,cACjD/Y,GAAKuF,EAAWwT,QAEtBjc,oBAAkByI,EAAWqT,WAAa5Y,EAAKuF,EAAWqT,YAC3D5Y,EAAKuF,EAAWqT,UAAY,MAE5B3W,KAAK6iC,QAAS,CACd,GAA6B,iBAAzB7iC,KAAK1F,OAAOyd,UAA+B/X,KAAK6iC,QAAQr5B,YACrDzL,EAAKiC,KAAK1F,OAAOmE,WAAWga,cAAe,CAC9C,GAAIq0H,GAAe9sI,KAAK1F,OAAOoP,cAAc1J,KAAK6iC,QAAQr5B,YACtDujI,EAAoB/sI,KAAK1F,OAAO8d,eAAe7d,GAE/CyyI,EADgBhtI,KAAK6iC,QAAQ1kC,SAAS6B,KAAK1F,OAAOmE,WAAWga,cAC5Bk1B,KAAK,SAAU/0B,GAChD,MAAOA,GAASm0H,KAAuBD,EAAatuI,gBAAgBkX,QAExE3X,GAAKiC,KAAK1F,OAAOmE,WAAWga,cAAgBu0H,GAAoBA,MAEpE,GAAI9wG,GAAWl8B,KAAK1F,OAAOua,eAAe/H,QAAQ9M,KAAK6iC,QACvD7iC,MAAK1F,OAAOuhF,UAAU99E,EAAMw0C,EAAUrW,GAM9C,KACJ,KAAK,YACL,IAAK,cACD,GAAKrhC,oBAAkBmF,KAAK6iC,UAGvB,GAAoC,IAAhC7iC,KAAK1F,OAAOyO,SAASpN,QAA8B,cAAdqE,KAAK0S,KAAsB,CACrE,GAAIgU,GAAS1mB,KAAK1F,OAAO0I,WAAWs1H,kBAChCh9G,EAAetb,KAAK1F,OAAOmE,UAC3BuB,MAAK1F,OAAOmE,WAAqB,WACjCioB,EAAOpL,EAAuB,UAAK,GAEnCtb,KAAK1F,OAAOmE,WAAsB,YAClCioB,EAAOpL,EAAwB,YAAK,GAExCtb,KAAK1F,OAAOuhF,UAAUn1D,QAXtB1mB,MAAK1F,OAAOw7F,mBAAmB91F,KAAK6iC,QAAQrkC,gBAAgBqb,YAahE,MACJ,KAAK,aAC2C,SAAvC7Z,KAAK1F,OAAO2nD,kBAAkBlT,MAAmB/uC,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,OAAS,GAC/D,SAAvCqE,KAAK1F,OAAO2nD,kBAAkBlT,MAAmB/uC,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,OAC7GqE,KAAK1F,OAAO0I,WAAWo5E,oBAGvBp8E,KAAK1F,OAAO0I,WAAWyyF,aAAaz1F,KAAK6iC,QAE7C,MACJ,KAAK,SACD,IAAKhoC,oBAAkBmF,KAAK6iC,SAAU,CAGlC,GAFA9kC,EAAOG,eAAe8B,KAAK6iC,QAAQ1kC,UAAU,GAC7CmF,EAAatD,KAAK1F,OAAOmE,WACpB5D,oBAAkByI,EAAWtI,UAK7B,CACD+C,EAAKuF,EAAWxI,WAAa,GAAIgC,MAAKkD,KAAK6iC,QAAQ1kC,SAASmF,EAAWxI,WACvE,IAAIC,GAAU,GAAI+B,MAAKkD,KAAK6iC,QAAQ1kC,SAASmF,EAAWxI,WACxDC,GAAQ2G,QAAQ3G,EAAQsB,UAAY,GACpC0B,EAAKuF,EAAWvI,SAAWA,MATc,CACzC,GAAIC,GAAWgD,SAASD,EAAKuF,EAAWtI,UAAW,KAAO,EAAI,EAAI+C,EAAKuF,EAAWtI,SAClF+C,GAAKuF,EAAWtI,UAAYA,EAC5BgF,KAAK1F,OAAO8J,eAAe,WAAYpJ,EAAUgF,KAAK6iC,QAAQrkC,iBAAiB,GAQ9E3D,oBAAkBkD,EAAKuF,EAAW2B,cACA,IAA/BlH,EAAKuF,EAAW2B,aAChBlH,EAAKuF,EAAW2B,YAAa,EAGrC,IAAI+Z,GAAYnkB,oBAAkBmF,KAAK6iC,QAAQrkC,gBAAgBwgB,UACzDhf,KAAK1F,OAAO0kB,SADyDhf,KAAK6iC,QAAQrkC,gBAAgBwgB,QAEvF,eAAbA,GAAyC,cAAbA,IAC5Bhf,KAAK1F,OAAO+J,cAAciW,uBAAuBta,KAAK6iC,SACjDhoC,oBAAkBkD,EAAKuF,EAAWuN,SACnC9S,EAAKuF,EAAWuN,MAAQ7Q,KAAK6iC,QAAQrkC,gBAAgBqS,OAGzD9S,EAAKuF,EAAWxI,YAChBkF,KAAK1F,OAAO8J,eAAed,EAAWxI,UAAWkF,KAAK6iC,QAAQrkC,gBAAgB1D,UAAWiD,GAAM,GAEnGiC,KAAK1F,OAAOmoE,iBAAiB1kE,GAEjC,KACJ,KAAK,SACDiC,KAAK1F,OAAO+6F,YACZ,MACJ,KAAK,OACDr1F,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAa,EACnDvF,KAAK1F,OAAO4H,SAASqvB,KAAK8V,UAC1B,MACJ,KAAK,aAAe5nC,EAChBO,KAAK2rI,6BAA8B,EACnC3rI,KAAK1F,OAAO8nC,wBAAwBinF,yBAAyBrpH,KAAK6iC,QAASpjC,EAC3E,MACJ,KAAK,OACL,IAAK,SACDO,KAAK1F,OAAOy7F,eAAe/1F,KAAK6iC,QAChC,MACJ,KAAK,SACD7iC,KAAK1F,OAAOm1F,QACZ,MACJ,KAAK,UACDzvF,KAAK1F,OAAOo1F,SACZ,MACJ,KAAK,OACL,IAAK,QACD1vF,KAAKitI,UAAUjtI,KAAK0S,KACpB,MACJ,KAAK,YACD1S,KAAKktI,cAAcluI,KAI/Bk7G,EAAYz5G,UAAUysI,cAAgB,SAAUluI,GAC5C,GAAIiS,GAAQjR,IACZA,MAAKsmB,QAAS,CACd,IAAIhL,GAAetb,KAAK1F,OAAOmE,WAC3B0uI,EAAqBntI,KAAKotI,eAAepuI,EAAK8G,QAC9CjL,qBAAkBmF,KAAK1F,OAAO0jB,iBAAiB/K,aAAgE,SAAjDjT,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,MACtGugI,EAAmBrqI,SAAS,EAAG,EAAG,EAAG,EAEzC,IAAIlF,IACAilC,QAAS7iC,KAAK6iC,QACdhM,YAAa,eACbs7B,UAAWg7E,EACXvuG,QAAQ,EACRU,OAAQt/B,KAAKglC,cAGjBhlC,MAAK1F,OAAOgc,QAAQ,cAAe1Y,EAAW,SAAUA,GAC/CA,EAAUghC,SACN/jC,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKjBtkB,EAAM3W,OAAOkb,gBAAgBy8C,UAAUhhD,EAAM4xB,QAAQvnB,EAAa/gB,IAAK4yI,GACvEl8H,EAAM3W,OAAOkb,gBAAgBC,cAAcxE,EAAM4xB,QAAQrkC,gBAAgBmG,SAAUsM,EAAM4xB,QAAQrkC,gBAAgBkX,YAI7HwkG,EAAYz5G,UAAUwsI,UAAY,SAAUv6H,GACxC,GAAIzB,GAAQjR,IACZA,MAAKsmB,QAAS,CACd,IAAIhL,GAAetb,KAAK1F,OAAOmE,WAC3BkG,EAAW3E,KAAK6iC,QAAQrkC,gBAAgBmG,SAGxC4rD,IACEM,kBAHsB,UAATn+C,EAAmB1S,KAAK+d,aAAepZ,EAAS3E,KAAK+d,aAAe,GAAGA,aAGjDkzC,mBAFZ,SAATv+C,EAAkB1S,KAAK+d,aAAepZ,EAAS3E,KAAK+d,aAAe,GAAGA,eAItFngB,GACAilC,QAAS7iC,KAAK6iC,QACdwqG,oBAAqB98E,EACrB15B,YAAa,eACb+H,QAAQ,EACRU,OAAQt/B,KAAKglC,cAEjBhlC,MAAK1F,OAAOgc,QAAQ,cAAe1Y,EAAW,SAAUA,IAC3B,IAArBA,EAAUghC,SACL/jC,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,cAKjBtkB,EAAM3W,OAAOkb,gBAAgB86C,UAAUr/C,EAAM4xB,QAAQvnB,EAAa/gB,IAAKg2D,OAcnF2pD,EAAYz5G,UAAU2sI,eAAiB,SAAUtnI,GAE7C,GAAIwnI,EAEJ,IAAIttI,KAAK1F,OAAO24B,UAAW,CACvB,GAAIqhE,GAAMt0F,KAAK1F,OAAOwL,QAAQkgF,wBAC1BrhE,EAAa+Q,OAAO8+D,aAAex8D,SAASm/C,gBAAgBxyD,YAC5DqT,SAASsO,KAAK3hB,WACd+vE,EAAa18D,SAASm/C,gBAAgBud,YAAc18D,SAASsO,KAAKouD,YAAc,CACpF44C,GAA2Bh5C,EAAIx2E,KAAO6G,EAAa+vE,MAGnD44C,GAA2BttI,KAAK1F,OAAO6nC,cAAcniC,KAAK1F,OAAOwL,SAASgY,IAE9E,IAAIyvH,GACAC,CACAxtI,MAAK1F,OAAO24B,WACZs6G,EAAWr6H,KAAK6P,IAAIuqH,EAA2BttI,KAAK1F,OAAOmqB,iBAAiB2U,aAAalH,YACrFlyB,KAAK6iC,QAAQrkC,gBAAgBsf,KAAO9d,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,YACnF6oH,EAAwBt6H,KAAK6P,IAAI/iB,KAAKytI,gBAAkBF,KAGxDA,EAAWD,EAA2BttI,KAAK1F,OAAOmqB,iBAAiB2U,aAAa2gE,WAC5E/5F,KAAK6iC,QAAQrkC,gBAAgBsf,KAAO9d,KAAK1F,OAAOmqB,iBAAiBwM,cAActM,WACnF6oH,EAAwBxtI,KAAKytI,gBAAkBF,EAEnD,IAAIG,GAAoBx6H,KAAKC,KAAKq6H,EAAwBxtI,KAAK1F,OAAO0nB,YACtE,KAAKhiB,KAAK1F,OAAO0jB,iBAAiBsE,YAAa,CAC3C,GAAIovB,GAAiB,GAAI50C,MAAKkD,KAAK6iC,QAAQrkC,gBAAgB1D,WACvDs2C,EAAuB,MAAwBpxC,KAAK1F,OAAO0nB,WAE/D,KAAKhiB,KAAK1F,OAAO0jB,iBAAiBsE,YAAa,CAC3C,GAAIU,GAAY9P,KAAKsH,MAAMgzH,EAAwBp8F,SAE/CG,EADmB,EACqBvxC,KAAK1F,OAAO2S,mBAAmBtR,OAEvE61C,EAAYt+B,KAAKsH,MAAMwI,EAAYuuB,GACnCE,EAAYzuB,EAAYuuB,CAE5BG,GAAehwC,QAAQgwC,EAAer1C,UANf,EAM2Bm1C,EAGlD,KADA,GAAIG,GAAY,EACTA,EAAYF,GACfC,EAAehwC,QAAQgwC,EAAer1C,UAAY,IACuB,IAArE2D,KAAK1F,OAAO2S,mBAAmBH,QAAQ4kC,EAAe1kC,WACtD2kC,GAGR,IAAI52C,GAAU22C,CAEdg8F,IAD0B1tI,KAAK1F,OAAOsX,eAAesR,oCAAoC,GAAIpmB,MAAKkD,KAAK6iC,QAAQrkC,gBAAgB1D,WAAYC,IAInJ,GAAID,GAAYkF,KAAK6iC,QAAQrkC,gBAAgB1D,SACxCD,qBAAkBmF,KAAK1F,OAAO0jB,iBAAiB/K,aAAgE,SAAjDjT,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,OACvG8gI,EAAoBx6H,KAAKC,KAAKq6H,EAAwBxtI,KAAK1F,OAAO0jB,iBAAiB6wB,kBACnF6+F,GAAqB,EAEzB,IAAIC,EAaJ,OAZK9yI,qBAAkBmF,KAAK1F,OAAO0jB,iBAAiB/K,aAAiE,YAAjDjT,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,MAAuE,SAAjD5M,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAMtK+gI,EACI3tI,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAW4yI,EAAmB1tI,KAAK6iC,QAAQrkC,gBAAgBxD,SAAW,EACvGgF,KAAK6iC,QAAQrkC,gBAAgB2F,aAAiE,SAAjDnE,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KACrF5M,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAAK7E,oBAC7C/H,KAAK1F,OAAO0jB,iBAAiB6D,QAAQjV,KAAK7E,oBAAqB/H,KAAK6iC,SAAS,IATrF6qG,EAAoBx6H,KAAKC,KAAKq6H,EAAwBxtI,KAAK1F,OAAO0jB,iBAAiB6wB,kBACnF6+F,GAAqB,EACrBC,EAAuB3tI,KAAK1F,OAAO+J,cAAcQ,WAAW/J,EAAW4yI,EAAmB1tI,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAAK7E,oBAAqB/H,KAAK6iC,SAAS,IASvK8qG,GAEXzzB,EAAYz5G,UAAU4rI,sBAAwB,SAAUrtI,GACpD,GAAIiS,GAAQjR,KACRs/B,EAAStgC,EAAKonC,MAAQpnC,EAAKonC,MAAM9G,OAChCt/B,KAAK1F,OAAOqtC,YACT3nC,KAAK1F,OAAOmqB,iBAAiBugB,cADNhlC,KAAK1F,OAAOqtC,YAAYkzC,qBAGjDhgF,oBAAkBmF,KAAK1F,OAAO0I,aAAehD,KAAK1F,OAAO0I,WAAWsC,gBAAkBtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAc+5B,EAAO5kC,cAAcF,UAAUC,SAAS,UAAa6kC,EAAO5kC,cAAcF,UAAUC,SAAS,4BACzOuF,KAAK1F,OAAO4H,SAAS29B,UAEpBhlC,oBAAkBmE,EAAK8G,UAAY9G,EAAK8G,QAAQvL,KAAOyF,KAAK1F,OAAOwL,QAAQvL,GAAK,iBACjFyF,KAAKytI,gBAAkB/tI,WAAS,QAASV,GAAMihC,QAEnD,IAAI+E,GAAgBzF,UAAQD,EAAQ,yBAChC0F,KACAhlC,KAAKglC,cAAgBhmC,EAAKsgC,OAAS0F,GAEvChmC,EAAK4kC,QAAUrE,UAAQD,EAAQ,UAC/BtgC,EAAKkxB,SAAWqP,UAAQD,EAAQ,eAChC,IAAIsuG,GAAcruG,UAAQD,EAAQ,WAmBlC,KAlBeC,UAAQD,EnD5QT,gBmD6QGt/B,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWsC,gBAC3DtF,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAcvF,KAAK1F,OAAO0I,WAAW2C,aAAag2E,YACvF37E,KAAK1F,OAAO0I,WAAW2C,aAAag2E,UAAUjH,OAClD10E,KAAK1F,OAAO4H,SAASqvB,KAAK8V,WAC1BrnC,KAAK1F,OAAO0I,WAAWsC,eAAeC,YAAa,GAEnDvF,KAAK1F,OAAOy8F,UACZ/2F,KAAKulD,YAAY3X,aAAa,MAAO,OAAQ,UAAW,oBAAqB,cAAe,WAAY,SAAU,UAAW,YAAa,cAAc,IAEvJ/yC,oBAAkBmE,EAAK4kC,UAAY/oC,oBAAkBmE,EAAKkxB,WAA+C,IAAjClwB,KAAK6tI,iBAAiBlyI,WAC1Fd,oBAAkBmE,EAAKwK,aAAgB3O,oBAAkB+yI,KAAiB/yI,oBAAkB0kC,UAAQD,EAAQ,eAI7GtgC,EAAK4/B,QAAS,EAHd5/B,EAAK4/B,QAAS,IAMjB5/B,EAAK4/B,OAAQ,CACd,GAAI1C,IAAY,CACZl9B,GAAK4kC,QAEL1H,EAAWl+B,SAASgB,EAAK4kC,QAAQH,aAAa,iBAAkB,GAAK,EAEhEzkC,EAAKkxB,WAEVgM,EAAWl+B,SAASgB,EAAKkxB,SAASuT,aAAa,iBAAkB,GAAK,GAEtEzjC,KAAK1F,OAAO0nD,iBAAmBhiD,KAAK1F,OAAOgkD,iBAAmBt/C,EAAKwK,aAAe3O,oBAAkBmE,EAAKkxB,WACzGlwB,KAAK1F,OAAO0nD,gBAAgB2B,UAAUznB,GAErCl9B,EAAKwK,aACNxJ,KAAK6iC,QAAU7iC,KAAK1F,OAAOmqB,iBAAiBod,kBAAkB7iC,EAAY,OAE9E,KAAK,GAAIzD,GAAK,EAAGC,EAAKwD,EAAK+X,MAAOxb,EAAKC,EAAGG,OAAQJ,IAAM,CACpD,GAAImX,GAAOlX,EAAGD,EAETmX,GAAKwhE,aACD50C,EAAO9kC,UAAUC,SAAS,gCAAqCiY,EAAKw0C,OAASlnD,KAAK8tI,UAAU,cAAkBp7H,EAAKw0C,OAASlnD,KAAK8tI,UAAU,aAI5I9tI,KAAK+tI,iBAAiBr7H,EAAM4sB,EAAQpD,GAHpCl8B,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,OAYrC,GALAloD,EAAK6jC,QAAU7iC,KAAK6iC,QACpB7jC,EAAKoR,KAAO,UACZpR,EAAK4kI,aAAe5jI,KAAK4jI,aACzB5kI,EAAKgvI,UAAYhuI,KAAKguI,UACtBhvI,EAAKivI,mBACApzI,oBAAkBmE,EAAK6jC,UAAmC,IAAvB7jC,EAAK6jC,QAAQjpB,OAAwC,iBAAzB5Z,KAAK1F,OAAOyd,SAE5E,YADA/Y,EAAK4/B,QAAS,EAGlB,IAAIu3C,GAAoB,GAAIlD,WAmB5B,OAlBAjzE,MAAK1F,OAAOgc,QAAQ,kBAAmBtX,EAAM,SAAUglC,GACnDmyC,EAAkBhD,QAAQnvC,GAC1B/yB,EAAM+8H,UAAYhqG,EAAIgqG,UACtB/8H,EAAM2yH,aAAe5/F,EAAI4/F,aACpB5/F,EAAIx6B,YAAcw6B,EAAIgqG,UAAUryI,SAAWqoC,EAAIjtB,MAAMpb,SACtDsV,EAAMi9H,mBACNlqG,EAAIpF,QAAS,GAEb3tB,EAAM+8H,UAAUryI,OAAS,GACzBsV,EAAMs0C,YAAYyoF,UAAU/8H,EAAM+8H,WAElC/8H,EAAM2yH,aAAajoI,OAAS,GAC5BsV,EAAMs0C,YAAY3X,YAAY38B,EAAM2yH,cAAc,GAElD5kI,EAAKivI,eAAetyI,OAAS,GAC7BsV,EAAMs0C,YAAYyoF,UAAUhvI,EAAKivI,kBAGlC93D,IAGf+jC,EAAYz5G,UAAUstI,iBAAmB,SAAUr7H,EAAM4sB,EAAQpD,GAC7D,GAAItgC,GAAMoE,KAAK6sI,aAAan6H,EAAKnY,IAC7B4zI,EAAW5uG,UAAQD,EnD3VT,emD4VV8uG,KACAxsG,EAAiBrC,UAAQD,EAAQ,2BACjCC,UAAQD,EAAQ,4BAA8BC,UAAQD,EAAQ,yBAClE,IAAI6uG,EACc,SAARvyI,GAA0B,WAARA,GACpBoE,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,UAI7B,QAAQtrD,GACJ,IAAK,kBACIoE,KAAK1F,OAAO4kC,aAAaU,cAAiB5/B,KAAK1F,OAAO0I,YACvDhD,KAAKquI,qBAAqB37H,EAAKw0C,MAEC,IAAhClnD,KAAK1F,OAAOyO,SAASpN,QACrBqE,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAE7B,MACJ,KAAK,MACIlnD,KAAK1F,OAAO4kC,aAAa68C,aAAgB/7E,KAAK1F,OAAO0I,YACtDhD,KAAKquI,qBAAqB37H,EAAKw0C,KAEnC,MACJ,KAAK,OACL,IAAK,SACDlnD,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KACzB,MACJ,KAAK,WACIrsD,oBAAkBmF,KAAK6iC,UAAY7iC,KAAK6iC,QAAQpmB,gBACjDzc,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,MAEnBlnD,KAAK1F,OAAO4kC,aAAaU,cAAiB5/B,KAAK1F,OAAO0I,YAIvDnI,oBAAkBmF,KAAK6iC,UAAa7iC,KAAK6iC,QAAQrkC,gBAAgBgD,YAIlE4sI,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,SAAUvuI,KAAK8tI,UAAU,YAHzEM,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,cAAevuI,KAAK8tI,UAAU,iBAKlFp7H,EAAKqE,MAAQq3H,GATbpuI,KAAKquI,qBAAqB37H,EAAKw0C,MAWC,IAAhClnD,KAAK1F,OAAOyO,SAASpN,QACrBqE,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAE7B,MACJ,KAAK,mBAEG,GAAInwC,GAAQ/W,KAAKwuI,sBACZ3zI,qBAAkBmF,KAAK6iC,WAAY7iC,KAAK6iC,QAAQpmB,iBAAoBzc,KAAK1F,OAAOqgB,sBAG3E3a,KAAK1F,OAAO4kC,aAAaulD,eAAkC,IAAjB1tE,EAAMpb,QAAiBqE,KAAK1F,OAAO0I,WAG9E+T,EAAMpb,OAAS,IACpB+W,EAAKqE,MAAQA,GAHb/W,KAAKquI,qBAAqB37H,EAAKw0C,MAH/BlnD,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAQ7B,MAER,KAAK,aACIlnD,KAAK1F,OAAO4kC,aAAaulD,eAAkBzkF,KAAK1F,OAAO0I,YACxDhD,KAAKquI,qBAAqB37H,EAAKw0C,MAEC,IAAhClnD,KAAK1F,OAAOyO,SAASpN,QACrBqE,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAE7B,MACJ,KAAK,WAC4B,WAAzBlnD,KAAK1F,OAAOshB,SACZ5b,KAAKquI,qBAAqB37H,EAAKw0C,OAG3BlnD,KAAK6iC,QAAQrkC,gBAAgBmC,eAC7BytI,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,SAAUvuI,KAAK8tI,UAAU,YAGzEM,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,OAAQvuI,KAAK8tI,UAAU,UAE3Ep7H,EAAKqE,MAAQq3H,EAEjB,MACJ,KAAK,SAEG,GAAKpuI,KAAK1F,OAAOgkD,gBAAmBt+C,KAAK1F,OAAO0I,YAAehD,KAAK1F,OAAO4kC,aAGtE,CACD,GAAIz/B,GAAQO,KAAK1F,OAAOipD,iBACpBsS,IAAa71D,KAAK1F,OAAO0nD,kBAA4E,IAA1DhiD,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,QACvB,IAAnEqE,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,QACxDs9H,EAAaj5H,KAAK1F,OAAOua,eAAe7U,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAAK,EAChGniD,MAAK1F,OAAO4kC,aAAaU,cAA0B,IAAVngC,IAA0B,IAAXA,GAAiBo2D,GACjD,iBAAzB71D,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAOua,eAAe7W,SAASyB,EAAMxB,WAAY,KAAK2b,MAAQq/G,EAAWr/G,OAAU,GACxF5Z,KAAKquI,qBAAqB37H,EAAKw0C,UAVnClnD,MAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAa7B,MAER,KAAK,UAEG,GAAKlnD,KAAK1F,OAAOgkD,gBAAmBt+C,KAAK1F,OAAO0I,YAAehD,KAAK1F,OAAO4kC,aAGtE,CACD,GAAIyzD,GAAM3yF,KAAK1F,OAAO0nD,gBAAgBG,wBAAwB,GAC1DssF,IAAWzuI,KAAK1F,OAAO0nD,kBAA4E,IAA1DhiD,KAAK1F,OAAO0nD,gBAAgByB,mBAAmB9nD,QACrB,IAAnEqE,KAAK1F,OAAO0nD,gBAAgBm6B,4BAA4BxgF,OACvDqE,MAAK1F,OAAO4kC,aAAaU,eAAyB,IAAT+yD,GAAsB,IAARA,GAAc87C,GAC7C,iBAAzBzuI,KAAK1F,OAAOyd,UAAkG,IAAnE/X,KAAK1F,OAAOua,eAAe7W,SAAS20F,EAAI10F,WAAY,KAAK2b,OACpG5Z,KAAKquI,qBAAqB37H,EAAKw0C,UARnClnD,MAAKguI,UAAU1vI,KAAKoU,EAAKw0C,KAW7B,MAER,KAAK,YAEG,GAAIwnF,IAAqB,EACrBC,GAAmB,EACnBrzH,EAAetb,KAAK1F,OAAOmE,UAC1B5D,qBAAkBmF,KAAK1F,OAAO0jB,iBAAiB/K,cAChDy7H,EAAsE,YAAjD1uI,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,KAC7D+hI,EAAoE,SAAjD3uI,KAAK1F,OAAO0jB,iBAAiB/K,WAAWrG,OAE3D5M,KAAK1F,OAAOy8F,WAAan1D,GAAkB/mC,oBAAkBygB,EAAa3W,WAC1E3E,KAAK1F,OAAOyO,SAASP,OAAO0zB,IAAWzf,iBACtCzc,KAAK1F,OAAOyO,SAASP,OAAO0zB,IAAW19B,gBAAgBxD,SAAW,IAC1D0zI,IAAsBC,IAC/B3uI,KAAKquI,qBAAqB37H,EAAKw0C,KAEnC,MAER,KAAK,YACGlnD,KAAK1F,OAAOy8F,WAAan1D,EACzB5hC,KAAKquI,qBAAqB37H,EAAKw0C,MAG/BlnD,KAAK4uI,mBAAmBtvG,EAAQ5sB,KAMpDwnG,EAAYz5G,UAAUmuI,mBAAqB,SAAUtvG,EAAQ5sB,GACzD,GAAI07H,MACA9qI,EAAatD,KAAK1F,OAAOmE,WACzB0uI,EAAqBntI,KAAKotI,eAAe9tG,EAC7Ct/B,MAAK+d,aAAe/d,KAAK1F,OAAOkb,gBAAgB46C,gBAAgB+8E,EAAoBntI,KAAK6iC,QACzF,IAAIl+B,GAAW3E,KAAK6iC,QAAQrkC,gBAAgBmG,UACvC9J,oBAAkB8J,IAAaA,EAAShJ,OAAS,EAC9Cd,oBAAkByI,EAAWqB,YAAoC,IAAvB3E,KAAK+d,aAC/C/d,KAAKquI,qBAAqB37H,EAAKw0C,OAGL,IAAtBlnD,KAAK+d,aACLqwH,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,QAASvuI,KAAK8tI,UAAU,WAEnE9tI,KAAK+d,eAAiBpZ,EAAShJ,OAAS,EAC7CyyI,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,OAAQvuI,KAAK8tI,UAAU,WAGvEM,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,QAASvuI,KAAK8tI,UAAU,WACxEM,EAAQ9vI,KAAK0B,KAAKsuI,gBAAgBC,EAAc,OAAQvuI,KAAK8tI,UAAU,WAE3Ep7H,EAAKqE,MAAQq3H,GAIjBpuI,KAAKguI,UAAU1vI,KAAKoU,EAAKw0C,OAGjCgzD,EAAYz5G,UAAU4tI,qBAAuB,SAAUnnF,KAC9BrsD,oBAAkBmF,KAAK1F,OAAOgwF,kBAE/CtqF,KAAKguI,UAAU1vI,KAAK4oD,GAGpBlnD,KAAK4jI,aAAatlI,KAAK4oD,IAG/BgzD,EAAYz5G,UAAUwrI,gBAAkB,SAAUjtI,GAC9CgB,KAAKslD,QAAS,CACd,IAAIyiC,GAAgB/nF,KAAK1F,OAAa,KAAI0E,EAAK8G,QAAQu4B,iBAAiB,yCAAyC,EAC5GxjC,qBAAkBktF,IACnBvpD,YAAUupD,GAAgB,cAGlCmyB,EAAYz5G,UAAU8rI,aAAe,WAGjC,IAAK,GAAIhxI,GAAK,EAAGszI,EAFAh0I,oBAAkBmF,KAAK1F,OAAOgwF,kBACZtqF,KAAK8uI,kBAApC9uI,KAAK1F,OAAOgwF,iBAC0B/uF,EAAKszI,EAAYlzI,OAAQJ,IAAM,CACrE,GAAImX,GAAOm8H,EAAYtzI,EACH,iBAATmX,KAA+D,IAA1C1S,KAAK8uI,kBAAkBhiI,QAAQ4F,GAC3D1S,KAAK+uI,kBAAkBr8H,GAEF,gBAATA,MACuC,IAA/C1S,KAAK8uI,kBAAkBhiI,QAAQ4F,EAAKw0C,MACpClnD,KAAK+uI,kBAAkBr8H,EAAKw0C,KAAMx0C,EAAKs8H,SnDriBjC,kBmDuiBDt8H,EAAK4sB,OACVt/B,KAAK4sI,gBAAgBtuI,KAAKoU,GAG1B1S,KAAK6tI,iBAAiBvvI,KAAKoU,IAIvC,MAAO1S,MAAK6tI,kBAEhB3zB,EAAYz5G,UAAU6tI,gBAAkB,SAAUhvG,EAAQ5sB,EAAMw0C,EAAM8nF,GAOlE,OALI9nF,KAAMA,EACN3sD,GAAIyF,KAAKivI,WAAWv8H,GACpB4sB,OAAQA,EACR0vG,QAASA,EAAU,WAAaA,EAAU,OAIlD90B,EAAYz5G,UAAUqtI,UAAY,SAAU5mF,GAExC,MADiBlnD,MAAK1F,OAAOoW,UAAUC,YAAYu2C,IAGvDgzD,EAAYz5G,UAAUsuI,kBAAoB,SAAUr8H,EAAMw8H,GACtD,GAAIC,EACJ,QAAQz8H,GACJ,IAAK,aACL,IAAK,UACL,IAAK,gBACL,IAAK,iBACD1S,KAAK4sI,gBAAgBtuI,KAAKoU,EAC1B,MACJ,KAAK,kBACDy8H,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,mBAAoB9tI,KAAKovI,WnDhkB7F,SmDgkBuHF,GAC7H,MACJ,KAAK,SACDC,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,UAAW9tI,KAAKovI,WnDlkBlF,WmDkkB8GF,GACtH,MACJ,KAAK,UACDC,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,WAAY9tI,KAAKovI,WnDpkBlF,YmDokB+GF,GACxH,MACJ,KAAK,OACDC,EAAkBnvI,KAAKsuI,gBnDzkBjB,SmDykBgD57H,EAAM1S,KAAK8tI,UAAU,QAAS9tI,KAAKovI,WnD7kBnF,SmD6kB6GF,GACnH,MACJ,KAAK,SACDC,EAAkBnvI,KAAKsuI,gBnD5kBjB,SmD4kBgD57H,EAAM1S,KAAK8tI,UAAU,UAAW9tI,KAAKovI,WnD/kBnF,WmD+kB+GF,GACvH,MACJ,KAAK,OACDC,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,OAAQ9tI,KAAKovI,WnD5kBlF,QmD4kB2GF,KAEhGn4H,SAChBo4H,EAAgBp4H,MAAMzY,KAAK0B,KAAKsuI,gBAAgBC,EAAc,QAASvuI,KAAK8tI,UAAU,SAAU9tI,KAAKovI,WnD7kB3F,cmD6kByHF,KACnIC,EAAgBp4H,MAAMzY,KAAK0B,KAAKsuI,gBAAgBC,EAAc,QAASvuI,KAAK8tI,UAAU,SAAU9tI,KAAKovI,WnD7kB3F,cmD6kByHF,KACtG,iBAAzBlvI,KAAK1F,OAAOyd,UACZo3H,EAAgBp4H,MAAMzY,KAAK0B,KAAKsuI,gBAAgBC,EAAc,QAASvuI,KAAK8tI,UAAU,WAE1FqB,EAAgBp4H,MAAMzY,KAAK0B,KAAKsuI,gBAAgBC,EAAc,YAAavuI,KAAK8tI,UAAU,cAC1F,MACJ,KAAK,aACDqB,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,cAAe9tI,KAAKovI,WnD/lBtF,WmD+lBkHF,GAC1H,MACJ,KAAK,oBACDC,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,sBAC1D/2H,SAChBo4H,EAAgBp4H,MAAMzY,QACtB,MACJ,KAAK,WACD6wI,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,aAC1D/2H,SAChBo4H,EAAgBp4H,MAAMzY,QACtB,MACJ,KAAK,YACD6wI,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,wBAC1D/2H,SAChBo4H,EAAgBp4H,MAAMzY,QACtB,MACJ,KAAK,YACD6wI,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,aAC1E,MACJ,KAAK,aACDqB,EAAkBnvI,KAAKsuI,gBAAgBC,EAAc77H,EAAM1S,KAAK8tI,UAAU,eAC1D/2H,SAChBo4H,EAAgBp4H,MAAMzY,SAE1B6wI,GACAnvI,KAAK6tI,iBAAiBvvI,KAAK6wI,IAGnCj1B,EAAYz5G,UAAU2uI,WAAa,SAAUC,EAAWC,GACpD,MAAOz0I,qBAAkBy0I,GAAcD,EAAYC,GAEvDp1B,EAAYz5G,UAAU+tI,qBAAuB,WACzCxuI,KAAK0b,aAAe1b,KAAK1F,OAAO+e,kBAAkBuwD,oBAAoB5pE,KAAK6iC,QAI3E,KAAK,GAFDw4E,GADAtkG,KAEAq+B,EAAY,EACP75C,EAAK,EAAGC,EAAKwE,KAAK0b,aAAcngB,EAAKC,EAAGG,OAAQJ,IAAM,CAC3D,GAAIugB,GAActgB,EAAGD,GAEjBX,EADYoF,KAAK1F,OAAOm5B,oBAAoByH,cAAcpf,EAAY/Z,MAChDvD,gBACtB0oD,EAAOtsD,EAAUif,YAAc,MAAQjf,EAAUqsB,SACjD1sB,EAAK,aAAe66C,GACxBimE,GAAYr7G,KAAKsuI,gBAAgBC,EAAch0I,EAAI2sD,GACnDnwC,EAAMzY,KAAK+8G,GAEf,MAAOtkG,IAEXmjG,EAAYz5G,UAAUquI,gBAAkB,WACpC,OAAQ,aAAc,UAClB,kBAAmB,aAAc,OAAQ,SACzC,gBAAiB,iBAAkB,MACnC,mBAAoB,UAAW,WAAY,SAAU,UAAW,YAAa,cAQrF50B,EAAYz5G,UAAU+9E,cAAgB,WAClC,MAAO,eAEX07B,EAAYz5G,UAAUg+B,oBAAsB,WACpCz+B,KAAK1F,OAAOokC,cAGhB1+B,KAAK1F,OAAOs3B,IAAI,uBAAwB5xB,KAAKwjF,QAC7CxjF,KAAK1F,OAAOs3B,IAAI,uBAAwB5xB,KAAKmsI,qBAC7CnsI,KAAK1F,OAAOs3B,IAAI,mBAAoB5xB,KAAKosI,sBACzCpsI,KAAK1F,OAAOs3B,IAAI,kBAAmB5xB,KAAKisI,mBAE5C/xB,EAAYz5G,UAAUksI,mBAAqB,SAAU3tI,GAE7CA,EAAK+X,MAAMpb,OAAS,GAAKqD,EAAK+X,MAAM,GAAc,oBAAau1H,gBAC/DtsI,KAAKkuI,oBAGbh0B,EAAYz5G,UAAUytI,iBAAmB,WACrCluI,KAAKulD,YAAYgqF,UAAUvvI,KAAKguI,WAChChuI,KAAKulD,YAAY3X,YAAY5tC,KAAK4jI,cAClC5jI,KAAKguI,aACLhuI,KAAK4jI,gBACL5jI,KAAKslD,QAAS,GAElB40D,EAAYz5G,UAAUyrI,WAAa,WAC/BlsI,KAAKguI,aACLhuI,KAAK4jI,gBACL5jI,KAAK4sI,mBACL5sI,KAAK6tI,oBACL7tI,KAAK0S,KAAO,MAEhBwnG,EAAYz5G,UAAUwuI,WAAa,SAAUv8H,GACzC,MAAO1S,MAAK8rI,QAAU,gBAAkBp5H,GAE5CwnG,EAAYz5G,UAAUosI,aAAe,SAAUtyI,GAC3C,GAAIi1I,GAAWxvI,KAAK8rI,QAAU,eAC9B,OAAIvxI,GAAGuS,QAAQ0iI,IAAa,EACjBj1I,EAAG4E,QAAQqwI,EAAU,IAGrB,UASft1B,EAAYz5G,UAAU02B,QAAU,WAC5Bn3B,KAAKulD,YAAYpuB,UACjBx4B,SAAOqB,KAAK8F,SACZ9F,KAAKy+B,sBACLz+B,KAAKulD,YAAc,KACnBvlD,KAAK8F,QAAU,MAEZo0G,KCz1BPU,GAA6B,WAM7B,QAASA,GAAY35C,GACjBjhE,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAO44C,eAChBzvI,KAAK1F,OAAO4H,SAASyiF,iBAAmB3kF,KAAK1F,OAAOqqF,iBACpD3kF,KAAKy/C,aAuDT,MA/CAm7D,GAAYn6G,UAAU+9E,cAAgB,WAClC,MAAO,eAQXo8B,EAAYn6G,UAAU02B,QAAU,aAShCyjF,EAAYn6G,UAAUg/C,WAAa,WAC/B,GAAIxuC,GAAQjR,IACZA,MAAK1F,OAAO4H,SAASwtI,kBAAoB,SAAU1wI,GAC/CiS,EAAM3W,OAAOgc,QAAQ,oBAAqBtX,GACrCU,WAAS,SAAUV,KACfnE,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOm7B,cAHbxkB,EAAM3W,OAAOi7B,gBAOzBv1B,KAAK1F,OAAO4H,SAASytI,mBAAqB,SAAU3wI,GAChDiS,EAAM3W,OAAOgc,QAAQ,qBAAsBtX,IAE/CgB,KAAK1F,OAAO4H,SAAS0tI,yBAA2B,SAAU5wI,GACtDiS,EAAM3W,OAAOgc,QAAQ,2BAA4BtX,IAErDgB,KAAK1F,OAAO4H,SAAS2tI,oBAAsB,SAAU7wI,GACjDiS,EAAM3W,OAAOgc,QAAQ,sBAAuBtX,GACvCnE,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOu7B,cAHb5kB,EAAM3W,OAAOi6B,gBAOlBqmF,KClEPX,GAA4B,WAC5B,QAASA,GAAW3/G,GAChB+jD,WAASw4C,OAAOi5C,cAChB9vI,KAAK1F,OAASA,EAqBlB,MAfA2/G,GAAWx5G,UAAUsvI,cAAgB,WACjC,MAAO/vI,MAAK1F,OAAO4H,SAAS8lF,iBAAiB+nD,iBAEjD91B,EAAWx5G,UAAU02B,QAAU,aAS/B8iF,EAAWx5G,UAAU+9E,cAAgB,WACjC,MAAO,cAEJy7B,KCvBPK,GAAuB,WAMvB,QAASA,GAAMr5C,GACXjhE,KAAKgwI,QAAS,EAEdhwI,KAAK+pH,uBAEL/pH,KAAKgqH,eAAgB,EACrBhqH,KAAKiwI,oBAELjwI,KAAKkwI,cAAe,EAEpBlwI,KAAKmwI,SAAU,EACfnwI,KAAK1F,OAAS2mE,EACd5iB,WAASw4C,OAAOwnB,SAChBr+G,KAAK1F,OAAO4H,SAASo/B,oBAAsBthC,KAAK1F,OAAOgnC,oBACvDthC,KAAKy/C,aA2iCT,MAniCA66D,GAAM75G,UAAU+9E,cAAgB,WAC5B,MAAO,kBAQX87B,EAAM75G,UAAU02B,QAAU,aAS1BmjF,EAAM75G,UAAUg/C,WAAa,WACzBz/C,KAAK1F,OAAO4H,SAASkuI,aAAepwI,KAAKowI,aAAaz7H,KAAK3U,MAC3DA,KAAK1F,OAAO4H,SAASmuI,mBAAqBrwI,KAAKqwI,mBAAmB17H,KAAK3U,MACvEA,KAAK1F,OAAO4H,SAASouI,QAAUtwI,KAAKswI,QAAQ37H,KAAK3U,MACjDA,KAAK1F,OAAO4H,SAASquI,QAAUvwI,KAAKuwI,QAAQ57H,KAAK3U,OAErDs6G,EAAM75G,UAAU2vI,aAAe,SAAUpxI,GACrCgB,KAAK1F,OAAOgc,QAAQ,eAAgBtX,GACpCgB,KAAK1F,OAAOwL,QAAQ6tB,MAAM4e,SAAW,YAEzC+nE,EAAM75G,UAAU6gG,aAAe,WAC3B,GAAIkvC,GAAWx4G,SAASnyB,cAAc,eACtC,IAAK2qI,MAGmBA,EAAS3qI,cAAc,gBAC/C,CAGA,GAAI4qI,GAAiBz4G,SAAST,cAAc,MAC5Ck5G,GAAej2I,UAAU62B,IAAI,mBAAoB,UAAW,cAC5D,IAAIq/G,GAAUF,EAAS3qI,cAAc,aACrC,IAAK6qI,EAAL,CAGA,GAAIhgH,GAAUggH,EAAQ97G,WAClB+7G,EAAWD,EAAQ7qI,cAAc,cACjC8qI,KACAjgH,EAAUigH,EAAS/7G,WACnB+7G,EAAShyI,UAEb+xI,EAAQr9G,UAAY,EACpB,IAAIu9G,GAAc54G,SAAST,cAAc,OACzCq5G,GAAYp5G,UAAY,aACxBo5G,EAAYj9G,MAAMsgC,YAAc,OAChCvjC,EAAQpe,QAAQ,SAAU6nB,GACtBy2G,EAAYl5G,YAAYyC,EAAKkmC,WAAU,MAE3CqwE,EAAQh5G,YAAY+4G,GACpBC,EAAQh5G,YAAYk5G,MAExBt2B,EAAM75G,UAAUghG,gBAAkB,WAC9B,GAAIC,GAAY1pE,SAASnyB,cAAc,eACnC67F,IACAA,EAAU/iG,UAGlB27G,EAAM75G,UAAU6vI,QAAU,SAAUtxI,GAChC,GAAIihE,GAAejgE,KAAK1F,OAAOwL,QAAQD,cAAc,qBACrDo6D,GAAatsC,MAAMkB,QAAU,MAC7B,IAAIg8G,GAAmB5wE,EAAaI,WAAU,EAC9CwwE,GAAiBr2I,UAAU62B,IAAI,eAC/Bw/G,EAAiBl9G,MAAMkB,QAAU,GAC7B70B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,sBAAsB1iC,QAAU,EACrEqE,KAAK1F,OAAOwL,QAAQ4xB,YAAYm5G,GAG5B74G,SAAS5E,uBAAuB,qBAAqB,GAAGiL,iBAAiB,gBAAgB1iC,OACzFqE,KAAKshG,eAGLthG,KAAKyhG,kBAGiB,SAA1BzhG,KAAK1F,OAAOg4B,WACZkM,WAASx+B,KAAK1F,OAAOwL,QAAQu4B,iBAAiB,4BAA6B,oBAE/E,IAGIvgB,GACAkT,EAJA8/G,EAAc9wI,KAAK1F,OAAOwL,QAAQD,cAAc,gBAChDkrI,EAAW/wI,KAAK1F,OAAOwL,QAAQkrI,iBAAiB,GAAGhgH,IACnDigH,EAAYjxI,KAAK1F,OAAOwL,QAAQkrI,iBAAiB,GAAGlzH,IAGpD9d,MAAK1F,OAAOymC,YAEZjjB,EAAO9e,EAAK4jC,cAAcwD,MAAMtH,QAAQ,GAAGmB,QAAUgxG,EAErDjgH,EAAMhyB,EAAK4jC,cAAcwD,MAAMtH,QAAQ,GAAGqB,QAAU4wG,IAGpDjzH,EAAOpe,WAAS,QAASV,EAAK4jC,eAAe3C,QAAUgxG,EACvDjgH,EAAMtxB,WAAS,QAASV,EAAK4jC,eAAezC,QAAU4wG,GAE1DD,EAAYn9G,MAAM7V,KAAOA,EAAO,GAAK,KACrCgzH,EAAYn9G,MAAM3C,IAAMA,EAAM,GAAK,KACnChxB,KAAK1F,OAAOgc,QAAQ,UAAWtX,IAEnCs7G,EAAM75G,UAAU4vI,mBAAqB,SAAUrxI,GAC3CgB,KAAK1F,OAAOgc,QAAQ,qBAAsBtX,GACtCgB,KAAK1F,OAAOy8F,WACZ/3F,EAAK4/B,QAAS,GAEW,iBAAzB5+B,KAAK1F,OAAOyd,UAAmE,IAApCrY,WAAS,QAASV,EAAKjB,KAAK,MACvEiB,EAAK4/B,QAAS,IAGtB07E,EAAM75G,UAAU8vI,QAAU,SAAUvxI,GAKhC,GAAI4kC,GAAUrE,UAAQvgC,EAAKsgC,OAAQ,SACnCt/B,MAAK1F,OAAmB,WAAI4D,eAAec,EAAKjB,MAAM,EACtD,IAAI+rG,GAAYlmE,EAAU5lC,SAAS4lC,EAAQH,aAAa,iBAAkB,IAAM,EAAIzkC,EAAK8qG,SACzF9qG,GAAK8qG,UAAYA,EACjB9qG,EAAKgrG,WAAahqG,KAAK1F,OAAOua,eAAe7V,EAAK8qG,WAClD9pG,KAAK1F,OAAOgc,QAAQ,UAAWtX,GACF,iBAAzBgB,KAAK1F,OAAOyd,WACc,kBAAtB/Y,EAAK+qG,eACyB,IAA1B/qG,EAAKgrG,WAAWpwF,OAAe5a,EAAKgrG,WAAW1gG,WAAa5J,WAAS,aAAcV,EAAKjB,KAAK,IAAIuL,WACjGtK,EAAK4/B,QAAS,IAGI,kBAAtB5/B,EAAK+qG,eACyB,IAA1B/qG,EAAKgrG,WAAWpwF,OAAela,WAAS,aAAcV,EAAKjB,KAAK,IAAIuL,WAAatK,EAAKgrG,WAAWxgG,WAAWF,WAC5GtK,EAAK4/B,QAAS,KAIrB5/B,EAAK4/B,SACN5/B,EAAK63B,YAAc,aACnB72B,KAAK1F,OAAOgc,QAAQ,cAAetX,GAC9BA,EAAK4/B,OAWD/jC,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOu7B,cAHZ71B,KAAK1F,OAAOi6B,eAXX15B,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,cAKhBv1B,KAAKkxI,SAASlyI,GAAM,GACpBA,EAAK4/B,QAAS,KAY1B07E,EAAM75G,UAAUywI,SAAW,SAAUlyI,EAAMw6H,GACvC,IAAKx5H,KAAK1F,OAAOy8F,SAAU,CAEvB,GADA/2F,KAAK+pG,aAAe/qG,EAAK+qG,aACC,YAAtB/qG,EAAK+qG,cAA8B/pG,KAAK1F,OAAO0I,WAAY,CAC3D,GAAIwrG,GAAOxuG,KAAK1F,MAEhB,IADA0F,KAAKypG,cAAgB+E,EAAK35F,eAAe7V,EAAK8qG,WAC1C9pG,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAA8B,sBAAE,kBAAoB,CACxF,IAAK0F,KAAK1F,OAAOyhB,eAAoC,oBAAG,CAChD/b,KAAK1F,OAAOyhB,eAA4B,cACxC/b,KAAK1F,OAAOyhB,eAA4B,cACxC/b,KAAK1F,OAAOyhB,eAAqC,yBAEhD/c,EAAKsgC,QAAUt/B,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWC,mBACjEjD,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,kBACzC18C,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,MAGzGqE,KAAK1F,OAAOyhB,eAAqC,sBASrD,KAAK,GAPDo1H,MAMA54H,EAASvY,KACJlC,EAAI,EAAGA,EAAIkB,EAAKjB,KAAKpC,OAAQmC,KANxB,SAAUA,GACpBqzI,EAAM7yI,KAAKia,EAAOje,OAAOyO,SAAS4Q,OAAO,SAAU5b,GAC/C,MAAOiB,GAAKjB,KAAKD,GAAoB,gBAAE4X,SAAW3X,EAAKS,gBAAgBkX,SACxE,KAIK5X,EAEZ,IAAI20H,GAAWv0H,eAAeizI,GAAO,GACjCzzI,IACAsB,GAAW,KACXtB,EAAgB,OAAI,iBAGpBA,EAAgB,OAAI,qBAExBA,EAAoB,aACpB,IAAI8sI,KACJA,GAA4B,WAAItsI,gBAAgBc,EAAKgrG,WAAahrG,EAAKgrG,WAAahqG,KAAKypG,gBAAgB,GAAM,GAC/G+gC,EAAsB,KAAItsI,eAAec,EAAKjB,MAAM,GAC1B,kBAAtBiB,EAAK+qG,aACLygC,EAA8B,aAAI,QAEP,eAAtBxrI,EAAK+qG,aACVygC,EAA8B,aAAI,QAEP,kBAAtBxrI,EAAK+qG,eACVygC,EAA8B,aAAI,SAEtC9sI,EAAmB,UAAI8sI,EACvBxqI,KAAK1F,OAAOyhB,eAA6B,aAAE02G,EAAU/0H,EAAS,cAC9DsC,KAAK1F,OAAOyhB,eAAkC,kBAAE/b,KAAK1F,OAAOyhB,eAAkC,kBAAEpgB,OAAS,GAAK+B,EAE9GsC,KAAK1F,OAAO4iC,eACZl9B,KAAK1F,OAAO4iC,cAAc0Q,aAAa5tC,KAAK1F,OAAOuzC,UAAY,UAAU,GAGjF,GAAIg0D,OAAgB,GAChB63B,KACAjwB,EAAgBzpG,KAAKypG,aACpBzqG,GAAKjB,KAAK,GAIX27H,EAAc16H,EAAKjB,KAHnB27H,EAAYp7H,KAAKU,EAAKjB,KAqJ1B,KAAK,GAhJD2E,GAAQ,EACR0uI,EAAa1X,EAAY/9H,OA8IzB4d,EAASvZ,KACJlC,EAAI,EAAGA,EAAIszI,EAAYtzI,IAAK,CACjC,GAAI8mH,GA/IM,SAAU9mH,GAIpB,GAHAyb,EAAOjf,OAAOwkB,UAAW,EACzB+iF,EAAgB63B,EAAY57H,GAC5Byb,EAAOsoF,cAAgBA,EACK,YAAxBtoF,EAAOwwF,aAA4B,CAOnC,GAN+B,iBAA3BxwF,EAAOjf,OAAOyd,WACdwB,EAAO83H,oBAC4B,IAA/B93H,EAAOsoF,cAAcjoF,QACrBL,EAAO+3H,eAAiB/3H,EAAOsoF,cAAcr4F,WAAWF,WAG5DiQ,EAAO22H,aACP,OAAS7wI,UAAO,GAEhBm6H,IACAjgH,EAAOsgH,eAEX,IAAIhJ,GAAet3G,EAAOugH,aAAahtH,QAAQ28F,EAI/C,IAH4B,eAAxBlwF,EAAOwwF,cACPxwF,EAAOg4H,UAAU1gB,GAEO,kBAAxBt3G,EAAOwwF,eACFxwF,EAAO22H,aAAc,CACtB,GAAKzmC,EAAchtF,iBAmBf,GAPA/Z,EAAQ6W,EAAOjf,OAAO0I,WAAWyuH,cAAchoB,EAAe,GAC1DlwF,EAAOjf,OAAOmE,WAAWkY,UAAY4C,EAAOvV,UAAUrI,OAAS,GAC/D4d,EAAOvV,UAAUqkB,OAAOwoG,EAAenuH,EAAQ,EAAG,EAAG6W,EAAOsoF,cAAc1jG,UAE9Eob,EAAOugH,aAAazxG,OAAOwoG,EAAenuH,EAAQ,EAAG,EAAG6W,EAAOsoF,eAE/DtoF,EAAOjf,OAAOya,IAAIsT,OAAOwoG,EAAenuH,EAAQ,EAAG,EAAG6W,EAAOsoF,cAAcrjG,gBAAgBqb,YAAY5b,YACxE,iBAA3Bsb,EAAOjf,OAAOyd,SAA6B,CAC3C,GAAIy5H,GAA0C,IAA/Bj4H,EAAOsoF,cAAcjoF,MAAc,IAAML,EAAOsoF,cAAcrjG,gBAAgBkX,OAAS,IAAM6D,EAAOsoF,cAAcrjG,gBAAgBkX,MACjJ6D,GAAOjf,OAAOkf,aAAa6O,OAAOwoG,EAAenuH,EAAQ,EAAG,EAAG8uI,QAfnE,IALIj4H,EAAOjf,OAAOmE,WAAWkY,UAAY4C,EAAOvV,UAAUrI,OAAS,GAC/D4d,EAAOvV,UAAUqkB,OAAOwoG,EAAe,EAAG,EAAGt3G,EAAOsoF,cAAc1jG,UAEtEob,EAAOugH,aAAazxG,OAAOwoG,EAAe,EAAG,EAAGt3G,EAAOsoF,eACvDtoF,EAAOjf,OAAOya,IAAIsT,OAAOwoG,EAAe,EAAG,EAAGt3G,EAAOsoF,cAAcrjG,gBAAgBqb,YAAY5b,YAChE,iBAA3Bsb,EAAOjf,OAAOyd,SAA6B,CAC3C,GAAIrC,GAAwC,IAA/B6D,EAAOsoF,cAAcjoF,MAAc,IAAML,EAAOsoF,cAAcrjG,gBAAgBkX,OAAS,IAAM6D,EAAOsoF,cAAcrjG,gBAAgBkX,MAC/I6D,GAAOjf,OAAOkf,aAAa6O,OAAOwoG,EAAe,EAAG,EAAGn7G,GAmB/D,GAHA6D,EAAOjf,OAAO8J,eAAe,aAAcmV,EAAOugH,aAAajJ,GAAcrnH,WAAYq4F,GACzFtoF,EAAOjf,OAAO8J,eAAe,iBAAkBmV,EAAOugH,aAAajJ,GAAcjuD,eAAgBi/B,GACjGtoF,EAAOjf,OAAO8J,eAAe,QAASmV,EAAOugH,aAAajJ,GAAcj3G,MAAOioF,GAC3EA,EAAcplF,gBAAiB,CAE/BlD,EAAOwgH,uBAAuBl4B,EADlB,GAEZtoF,EAAOygH,kBAAkBn4B,EAAegvB,EAAenuH,EAAQ,GAEnE,GAAI+mG,EAAcjgG,WAAY,CAC1B,GACI0T,GADM3D,EAAOjf,OAAOoP,cAAc+/F,EAAcjgG,YAAY0T,aAE5D+sF,EAAqB/sF,EAAapQ,QAAQ28F,GAAiB,CAC/DvsF,GAAamL,OAAO4hF,EAAoB,EAAGpI,IAWvD,GAP4B,kBAAxBtoF,EAAOwwF,eACPxwF,EAAO0gH,WAAWpJ,GACdpnB,EAAcvsF,aAAavhB,OAAS,UAC7B8tG,GAAcjrG,gBAAgBmG,eAC9B8kG,GAActrG,SAASob,EAAOjf,OAAOmE,WAAWkG,YAG5B,IAA/B4U,EAAOugH,aAAan+H,OACpB,IAAK,GAAI8gE,GAAM,EAAGA,EAAMljD,EAAOugH,aAAan+H,OAAQ8gE,IAEhD,GADAljD,EAAOugH,aAAa97H,SAASy+D,EAAIx+D,WAAY,KAAKwB,MAAQg9D,GACrD5hE,oBAAkB0e,EAAOugH,aAAa97H,SAASy+D,EAAIx+D,WAAY,KAAKuL,YAAa,CAClF,GAAIioI,GAAgB/xI,WAAS,sBAAwB6Z,EAAOugH,aAAa97H,SAASy+D,EAAIx+D,WAAY,KAAK2kE,eAAgBrpD,EAAOjf,OAAO4H,SACrIqX,GAAOugH,aAAa97H,SAASy+D,EAAIx+D,WAAY,KAAKuL,WAAW/J,MAAQgyI,EAAchyI,MAK1F5E,oBAAkBgnG,EAAcr4F,aAAgF,IAAlE+P,EAAOwwG,oBAAoBj9G,QAAQ+0F,EAAcr4F,cAChG+P,EAAOwwG,oBAAoBzrH,KAAKujG,EAAcr4F,YAGtD,IAAK+P,EAAOjf,OAAOgd,qBAAsB,CACrC,GAAIoP,GAAS8nF,EAAKzlG,SACdwuC,MAAa,GACbquD,MAAW,GACX8rC,EAAcn4H,EAAOjf,OAAOY,WAC5By2I,EAAiBp4H,EAAOjf,OAAOmE,WAAWlE,EAC9C,IAAIsnG,EAAcpiG,MAAQgqG,EAAchqG,MAAO,CAC3C83C,EAAasqD,EAAcpiG,KAU3B,KAAK,GAAI4+D,GAAM,EAAGA,EAAMqzE,EAAY/1I,QAEhB,UAXN,SAAU0iE,GACpB,GAAIL,GAAczkD,EAAOjf,OAAOwX,gBAAgB6H,OAAO,SAAUvD,GAC7D,MAAOA,GAAEu7H,KAAoBD,EAAYrzE,GAAKszE,KAC/C,EACH,IAAI3zE,GAAeA,EAAYv+D,MAAQgqG,EAAchqG,MAEjD,MADAmmG,GAAW5nC,EAAYv+D,MAChB,SAIW4+D,GADkBA,UAM3C,CACD9mB,EAAakyD,EAAchqG,KAU3B,KAAK,GAAImyI,GAAM,EAAGA,EAAMF,EAAY/1I,QAEhB,UAXN,SAAUi2I,GACpB,GAAI5zE,GAAczkD,EAAOjf,OAAOwX,gBAAgB6H,OAAO,SAAUvD,GAC7D,MAAOA,GAAEu7H,KAAoBD,EAAYE,GAAKD,KAC/C,EACH,IAAI3zE,GAAeA,EAAYv+D,MAAQoiG,EAAcpiG,MAEjD,MADAmmG,GAAW5nC,EAAYv+D,MAChB,SAIWmyI,GADkBA,MAiBhD,IAAK,GAAIC,GAAMt6F,EAAYs6F,GAAOjsC,EAAUisC,KAX9B,SAAUA,GACpB,IAAKh3I,oBAAkB6rB,EAAOmrH,MAC1BnrH,EAAOmrH,GAAKpyI,MAAQoyI,GACfh3I,oBAAkB6rB,EAAOmrH,GAAKroI,aAAa,CAC5C,GAAIioI,GAAgB/qH,EAAO/M,OAAO,SAAUvD,GACxC,MAAOA,GAAE9M,WAAaod,EAAOmrH,GAAKjvE,iBACnC,EACHl8C,GAAOmrH,GAAKroI,WAAW/J,MAAQgyI,EAAchyI,QAK7CoyI,GAGhBrjC,EAAKxvC,qBAAqBm7D,qBAIJr8H,EACtB,IAAuB,gBAAZ8mH,GACP,MAAOA,GAAQvlH,MAEvB,GAA0B,kBAAtBW,KAAK+pG,aAAkC,CACvC,GAAIN,EAAcjrG,gBAAgBsd,YAE9B,IAAK,GADDulF,GAAMoI,EAAcjrG,gBAAgBsd,YAAYngB,OAC3Cm2I,EAAU,EAAGA,EAAUzwC,EAAKywC,IACjC,GAAIroC,EAAcjrG,gBAAgBsd,aAAe2tF,EAAcjrG,gBAAgBsd,YAAYg2H,GAAU,CACjG,GAAIhvE,GAAa9iE,KAAK1F,OAAO4gC,cAAcuuE,EAAcjrG,gBAAgBsd,YAAYg2H,GAAS/vI,MAC1FghE,EAAW/iE,KAAK1F,OAAO4gC,cAAcuuE,EAAcjrG,gBAAgBsd,YAAYg2H,GAAShwI,IACxF+nE,EAAmB7pE,KAAK1F,OAAO+e,kBAAkBwpD,0BAA0BC,EAAYC,EAC3F,IAAI0mC,EAAcjrG,gBAAgBsd,eAAiB+tD,IAC9C7pE,KAAK1F,OAAOqgB,yBACb3a,KAAK1F,OAAO0I,WAAW4vH,0BAA0BnpB,GACjDA,EAAcjrG,gBAAgBsd,YAAYuM,OAAO,EAAG,GAChDohF,EAAcjrG,gBAAgB6d,kBAAkB,CAEhD,IAAK,GADD01H,GAAetoC,EAAcjrG,gBAAgB6d,iBAAiB1T,MAAM,KAC/D7K,EAAI,EAAGA,EAAIi0I,EAAap2I,OAAQmC,KACuC,IAAxEi0I,EAAaj0I,GAAGgP,QAAQ+0F,EAAcrjG,gBAAgBkX,OAAS,KAC/Dq8H,EAAa1pH,OAAOvqB,EAAG,EAG/B,IAAIk0I,GAA4BD,EAAa9rH,MAC7CwjF,GAAcjrG,gBAAgB6d,iBAAmB21H,EACjDvoC,EAAczpG,KAAK1F,OAAOmE,WAAW2a,YAAc44H,EACnDvoC,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAW2a,YAAc44H,GAM5EvoC,EAAcjrG,gBAAgBgD,cAC9BxB,KAAK1F,OAAO8J,eAAe,eAAe,EAAOqlG,EAAcjrG,iBAAiB,GAC3E3D,oBAAkB4uG,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWwG,cACA,IAA7DwkG,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWwG,aAC9CwkG,EAActrG,SAAS6B,KAAK1F,OAAOmE,WAAWwG,YAAa,IAK3E,GAA6B,iBAAzBjF,KAAK1F,OAAOyd,WAAgC/X,KAAKkwI,aAAc,CAC/D,GAAIttE,OAAiB,EAEjBA,GADsB,kBAAtB5iE,KAAK+pG,aACY/pG,KAAKypG,cAAcngG,SAGnBtJ,KAAKypG,cAAcjgG,WAChCxJ,KAAKypG,cAAcjgG,WAAWF,SAAWtJ,KAAKypG,cAAcngG,QAEpE,IAAI2oI,GAAoBjyI,KAAK1F,OAAO+O,kBAAkBu5D,GAClDw0B,IACJA,GAAUp3F,KAAK1F,OAAOmE,WAAWga,iBACjC2+E,EAAUp3F,KAAK1F,OAAOmE,WAAWga,cAAcna,KAAK2zI,EAAkBzzI,gBAAgBkX,QACtF1V,KAAKkyI,yBACL,IAAIC,GAAmBnyI,KAAK1F,OAAO+J,cAAc4X,gBAAgBm7E,GAC7DtuE,EAAc9oB,KAAK6hG,aACnBhnG,qBAAkBiuB,EAAYtqB,gBAAgBia,gBAC9CqQ,EAAYtqB,gBAAgBia,iBAEmB,oBAA/Cw5H,EAAkBzzI,gBAAgByoB,UAClC6B,EAAYtqB,gBAAgBia,gBAC5BqQ,EAAYtqB,gBAAgBsb,qBAAuBgP,EAAYtqB,gBAAgBqb,cAG/EiP,EAAYtqB,gBAAgBia,aAAana,KAAK6zI,EAAiB,IAEnEnyI,KAAKoyI,kBAAkBtpH,GAC4B,oBAA/CmpH,EAAkBzzI,gBAAgByoB,SAClCjnB,KAAKqyI,2BAGLryI,KAAKsyI,2BAGb,GAAItyI,KAAK1F,OAAOmE,WAAW2a,YAAcpZ,KAAK1F,OAAOqgB,sBAAuB,CACxE,GAEI43H,GAFAC,GAAqB,EACrB3gB,MAAgB,EAGhBA,GADAhwB,EAAcr4F,WACExJ,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ+0F,EAAcr4F,WAAWkM,SAGtEmsF,CAQpB,IAAI4wC,OAAkB,EACtB,KANIF,EADA9oC,EAAcjgG,WACDxJ,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ28F,EAAcjgG,WAAWkM,SAGtE+zF,GAGFngG,WAAauoH,EAAcvoH,UAAauoH,EAAcroH,YACjE+oI,EAAWjpI,WAAatJ,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ+kH,EAAcroH,WAAWkM,SAASpM,SAAW,CAClHmpI,EAAkBzyI,KAAK1F,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GAC3D,GAAKA,EAAKS,gBAAgBsd,aAAe/d,EAAKS,gBAAgBsd,YAAYngB,OAAS,EAC/E,IAAK,GAAImC,GAAI,EAAGA,EAAIC,EAAKS,gBAAgBsd,YAAYngB,OAAQmC,IACzD,MAAQE,UAASD,EAAKS,gBAAgBsd,YAAYhe,GAAGgE,GAAI,MACrD9D,SAASu0I,EAAW/zI,gBAAgBkX,OAAQ,KAC5C1X,SAASD,EAAKS,gBAAgBsd,YAAYhe,GAAGiE,KAAM,MAC/C/D,SAASu0I,EAAW/zI,gBAAgBkX,OAAQ,GAG5D,OAAO,OAGX,KAAK,GADDg9H,MACK50I,EAAI,EAAGA,EAAI20I,EAAgB92I,OAAQmC,IAAK,CAE7C,GADA40I,KACID,EAAgB30I,GAAGU,gBAAgBsd,YACnC,IAAK,GAAIoG,GAAI,EAAGA,EAAIuwH,EAAgB30I,GAAGU,gBAAgBsd,YAAYngB,OAAQumB,IACnElkB,SAASy0I,EAAgB30I,GAAGU,gBAAgBkX,OAAQ,MACpD1X,SAASy0I,EAAgB30I,GAAGU,gBAAgBsd,YAAYoG,GAAGngB,KAAM,IACjE2wI,EAASp0I,KAAKm0I,EAAgB30I,GAAGU,gBAAgBsd,YAAYoG,GAAGngB,MAGhE2wI,EAASp0I,KAAKm0I,EAAgB30I,GAAGU,gBAAgBsd,YAAYoG,GAAGpgB,GAgB5E,KAAK,GADDiY,GAAS/Z,KACJyL,EAAI,EAAGA,EAAIinI,EAAS/2I,OAAQ8P,KAZvB,SAAUA,GACpB,GAAI82G,GAASmwB,EAASjnI,GAAGtM,QAAQ,MAAO,IACpCwzI,EAAQ54H,EAAOzf,OAAOwX,gBAAgB6H,OAAO,SAAU5b,GACvD,MAAOC,UAASD,EAAKS,gBAAgBkX,OAAQ,MAAQ1X,SAASukH,EAAQ,OAE1EiwB,EAAqBz4H,EAAOzf,OAAO+e,kBAAkBwpD,0BAA0B4vE,EAAgB30I,GAAI60I,EAAM,OAErG54H,EAAOzf,OAAO+J,cAA+B,gBAAEouI,EAAgB30I,IAC/Dic,EAAOzf,OAAO+J,cAA+B,gBAAEsuI,EAAM,MAKjDlnI,KAMxB,IAASA,EAAI,EAAGA,EAAIzL,KAAK+pH,oBAAoBpuH,OAAQ8P,IACjDzL,KAAK1F,OAAO+J,cAAc6nB,kBAAkBlsB,KAAK+pH,oBAAoBt+G,GAEzE,IAA6B,gBAAzBzL,KAAK1F,OAAOyd,UAA8B/X,KAAK1F,OAAO0I,YACtDhD,KAAK1F,OAAO0I,WAAWC,mBAAqBjD,KAAK1F,OAAOyhB,gBACxD/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAO+e,mBACP,uBAA1DrZ,KAAK1F,OAAOyhB,eAA8B,cAAU,QACsB,UAA1E/b,KAAK1F,OAAOyhB,eAA8B,cAAc,WAAE,GAAGw2B,SAAsB,CACnF,GAAIqgG,GAAU5yI,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK1F,OAAOyhB,eAA8B,cAAa,UAAEiuF,WAAWxrG,gBAAgBkX,OAAOzX,YACtJ+B,MAAK1F,OAAO0I,WAAWC,kBAAkBC,kBAAoB0vI,EAC7D5yI,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,kBAAoB,YAC7D18C,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoB4qE,KAAa,IAC/D5yI,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,kBAAoB,KAEjE18C,KAAK+pH,uBACL/pH,KAAK1F,OAAOwkB,UAAW,EAEtBjkB,oBAAkBmF,KAAK1F,OAAO0I,aAC/BhD,KAAK1F,OAAO0I,WAAWo3H,cAAcp7H,GAAM,KAE1CgB,KAAK1F,OAAOyhB,gBAAmB/b,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,uBAC9G/b,KAAK1F,OAAOs2D,iBAAmB1yD,eAAe8B,KAAK1F,OAAOyO,UAAU,IAG5E/I,KAAK1F,OAAmB,eAE5BggH,EAAM75G,UAAU2xI,kBAAoB,SAAUtpH,GAC1C9oB,KAAK1F,OAAO+J,cAAcC,kBAAkBwkB,EAAa,gBACzD9oB,KAAK1F,OAAO0I,WAAW21F,4BAA4B7vE,EAAa,YAEhE9oB,KAAK1F,OAAO0I,WAAW2C,aAAaomG,0BAA2B,EAC/D/rG,KAAK1F,OAAO0I,WAAW2C,aAAamxG,iBAAiBhuF,GACrD9oB,KAAK1F,OAAO+J,cAAcwW,gBAAgBiO,GAC1C9oB,KAAK1F,OAAO+J,cAAcyW,eAAegO,IAE7CwxF,EAAM75G,UAAU4xI,yBAA2B,WACvC,IAAK,GAAIv0I,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOkf,aAAa7d,OAAQmC,IAC7CkC,KAAK1F,OAAOkf,aAAa1b,KAAO,IAAMkC,KAAK6hG,cAAcrjG,gBAAgBkX,SACmC,oBAAxG1V,KAAK1F,OAAO+O,kBAAkBrJ,KAAK1F,OAAOyO,SAASjL,GAAG0L,WAAWF,UAAU9K,gBAAgByoB,UAC3FjnB,KAAK+6H,cAAc/6H,KAAK1F,OAAOyO,SAASjL,IAEvCjD,oBAAkBmF,KAAK1F,OAAOyO,SAAS/K,SAASF,EAAEG,WAAY,KAAKuL,aAC+B,IAAnGxJ,KAAK+pH,oBAAoBj9G,QAAQ9M,KAAK1F,OAAOyO,SAAS/K,SAASF,EAAEG,WAAY,KAAKuL,cAClFxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK1F,OAAOyO,SAASjL,GAAG0L,cAKtE8wG,EAAM75G,UAAUyxI,wBAA0B,WACtC,GAAIW,GAAkB7yI,KAAK1F,OAAO+O,kBAAkBrJ,KAAKsxI,eACzD,IAAItxI,KAAK6hG,cAAcrjG,gBAAgBia,aACnC,IAAK,GAAI/V,GAAQ,EAAGA,EAAQ1C,KAAK6hG,cAAcrjG,gBAAgBia,aAAa9c,OAAQ+G,IAChF,GAAI1C,KAAK6hG,cAAcrjG,gBAAgBia,aAAaza,SAAS0E,EAAMzE,WAAY,KAAK+B,KAAK1F,OAAO8d,eAAe7d,MAC3Gs4I,EAAgBr0I,gBAAgBkX,OAAQ,CACxC1V,KAAK6hG,cAAcrjG,gBAAgBia,aAAa4P,OAAO3lB,EAAO,EAC9D,SAMhB43G,EAAM75G,UAAU6xI,yBAA2B,WACvC,IAAK,GAAIx0I,GAAI,EAAGA,EAAIkC,KAAK1F,OAAOkf,aAAa7d,OAAQmC,IAC7CkC,KAAK1F,OAAOkf,aAAa1b,KAAO,IAAMkC,KAAK6hG,cAAcrjG,gBAAgBkX,SACzE1V,KAAK1F,OAAO0I,WAAWgqH,sBAAsBhtH,KAAK6hG,cAAe7hG,KAAK1F,OAAOyO,SAASjL,IACtFkC,KAAK1F,OAAO+J,cAAcyW,eAAe9a,KAAK1F,OAAOyO,SAASjL,IACzDjD,oBAAkBmF,KAAK1F,OAAOyO,SAAS/K,SAASF,EAAEG,WAAY,KAAKuL,aAC+B,IAAnGxJ,KAAK+pH,oBAAoBj9G,QAAQ9M,KAAK1F,OAAOyO,SAAS/K,SAASF,EAAEG,WAAY,KAAKuL,cAClFxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK1F,OAAOyO,SAASjL,GAAG0L,cAKtE8wG,EAAM75G,UAAUqyI,uBAAyB,SAAUv0I,GAE/C,IAAK,GADDw0I,MACKj1I,EAAI,EAAGA,EAAIkC,KAAK1F,OAAOkf,aAAa7d,OAAQmC,IAC7CkC,KAAK1F,OAAOkf,aAAa1b,KAAO,IAAMS,EAAOC,gBAAgBkX,QAC7Dq9H,EAAcz0I,KAAK0B,KAAK1F,OAAOyO,SAASjL,GAGhD,OAAOi1I,IAGXz4B,EAAM75G,UAAUuyI,mBAAqB,SAAUz0I,GAC3C,GAAI0zI,GAAoBjyI,KAAK1F,OAAO+O,kBAAkBrJ,KAAK6hG,cAAcr4F,WAAWF,SACpF,IAAI/K,EAAOC,gBAAgBia,cAAgBla,EAAOC,gBAAgBia,aAAa9c,OAAS,EAAG,CACvF,GAAIs3I,GAAcjzI,KAAK8yI,uBAAuBv0I,GAC1CuqB,MAAc,EAClB,IAAoB,OAAhBmqH,EACA,MAEJ,KAAK,GAAIn1I,GAAI,EAAGA,EAAIm1I,EAAYt3I,OAAQmC,IAGpC,IAAK,GADDka,IADJ8Q,EAAcmqH,EAAYn1I,IACEU,gBAAgBia,aACnC/V,EAAQ,EAAGA,EAAQsV,EAAUrc,OAAQ+G,IAC1C,GAAIsV,EAAUtV,GAAO1C,KAAK1F,OAAO8d,eAAe7d,MAAQ03I,EAAkBzzI,gBAAgBkX,OAAQ,CAC9FsC,EAAUqQ,OAAO3lB,EAAO,GACxB1C,KAAK1F,OAAO8J,eAAe,eAAgB4T,EAAW8Q,EAAYtqB,iBAAiB,GACnFwB,KAAKoyI,kBAAkBtpH,GAClBjuB,oBAAkBiuB,EAAYtf,aAA4E,IAA9DxJ,KAAK+pH,oBAAoBj9G,QAAQgc,EAAYtf,cAC1FxJ,KAAK+pH,oBAAoBzrH,KAAKwqB,EAAYtf,WAE9C,UAMpB8wG,EAAM75G,UAAU05H,kBAAoB,WAChC,GAGI+Y,GACA3hB,EAJA1vB,EAAgB7hG,KAAK6hG,cACrB4H,EAAgBzpG,KAAKypG,cACrBkxB,EAAQ36H,KAAK1F,OAGb64I,EAAcnzI,KAAK1F,OAAOmE,UAO9B,KALIy0I,EADAlzI,KAAK1F,OAAOY,qBAAsBC,eACjBuE,WAAS,0BAA2BM,KAAK1F,QAGzCqgI,EAAMz/H,YAERS,OAAS,IAAOd,oBAAkB4uG,KAAmBA,EAAcjgG,WAAa,CAC/F,IAAK,GAAI1L,GAAI,EAAGA,EAAIrC,OAAOC,KAAKw3I,GAAgBv3I,OAAQmC,IAC/CjD,oBAAkB4uG,EAActrG,SAASg1I,EAAYr8H,SACtDo8H,EAAep1I,GAAGq1I,EAAYr8H,SAAW2yF,EAActrG,SAASg1I,EAAYr8H,OAGvEjc,oBAAkB4uG,EAActrG,SAASg1I,EAAYr8H,SAC1D2yF,EAActrG,SAASg1I,EAAY54I,MAAQ24I,EAAep1I,GAAGq1I,EAAY54I,MACzEg3H,EAAMzzH,GAJNyzH,EAAMzzH,CAOY,gBAAtBkC,KAAK+pG,aACA/pG,KAAK1F,OAAOmE,WAAWkY,UACxBu8H,EAAe7qH,OAAOkpG,EAAK,EAAG1vB,EAAc1jG,UAGrB,kBAAtB6B,KAAK+pG,eACL/pG,KAAK1F,OAAOmE,WAAWkY,UACxBu8H,EAAe7qH,OAAOkpG,EAAM,EAAG,EAAG1vB,EAAc1jG,eAIvD,KAAK6B,KAAK1F,OAAOmE,WAAWkY,WAAc9b,oBAAkB4uG,IAAkBA,EAAcjgG,aACnE,eAAtBxJ,KAAK+pG,cAAuD,kBAAtB/pG,KAAK+pG,cAAkC,CAC7E,GAAIjX,GAAoC,eAAtB9yF,KAAK+pG,aAAgC,QAAU,OACjE/pG,MAAK1F,OAAO0I,WAAWoyH,mBAAqB3rB,EAC5CzpG,KAAK1F,OAAO0I,WAAW6zH,sBAAsBh1B,GAAgB/O,SACtD9yF,MAAK1F,OAAO0I,WAAWoyH,mBAGtC,GAAIp1H,KAAK1F,OAAOmE,WAAWkY,SACvB,GAAIkrF,EAAcr4F,WAAY,CAC1B,GAAI4pI,GAAkC,kBAAtBpzI,KAAK+pG,aAAmC/pG,KAAK1F,OAAOmE,WAAWlE,GAC3EyF,KAAK1F,OAAOmE,WAAWkY,QAC3BkrF,GAAc7hG,KAAK1F,OAAOmE,WAAWkY,UAAY8yF,EAAc2pC,GAC/DvxC,EAAcrjG,gBAAgB0oB,SAAWuiF,EAAc2pC,IACzB,iBAAzBpzI,KAAK1F,OAAOyd,UAAuD,kBAAtB/X,KAAK+pG,cAC1B,gBAAzB/pG,KAAK1F,OAAOyd,YACZ8pF,EAAc1jG,SAAS6B,KAAK1F,OAAOmE,WAAWkY,UAAY8yF,EAActrG,SAASi1I,QAIrFvxC,GAAc7hG,KAAK1F,OAAOmE,WAAWkY,UAAY,KACjDkrF,EAAc1jG,SAAS6B,KAAK1F,OAAOmE,WAAWkY,UAAY,KAC1DkrF,EAAcrjG,gBAAgB0oB,SAAW,IAGjD,IAA6B,gBAAzBlnB,KAAK1F,OAAOyd,UAA8B/X,KAAK1F,OAAO0I,YAAchD,KAAK1F,OAAO0I,WAAWC,mBAC3FjD,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,qBAAK/b,KAAK1F,OAAO+e,mBACrC,uBAA1DrZ,KAAK1F,OAAOyhB,eAA8B,cAAU,OAA4B,CAChF,GAAIs3H,GAAUrzI,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK1F,OAAOyhB,eAA8B,cAAa,UAAEhe,KAAK,GAAGS,gBAAgBkX,OAAOzX,YACnJ+B,MAAK1F,OAAO0I,WAAWC,kBAAkBC,kBAAoBmwI,EAC7DrzI,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,kBAAoB,YAC7D18C,KAAK1F,OAAO+e,kBAAkB2uD,oBAAoBqrE,KAAa,IAC/DrzI,KAAK1F,OAAO0I,WAAWC,kBAAkBy5C,kBAAoB,OAGrE49D,EAAM75G,UAAUw5H,WAAa,SAAUpJ,GACnC,GAAIriB,GAAOxuG,KAAK1F,OACZ4iB,EAAeld,KAAK1F,OAAO0I,WAAWyuH,cAAczxH,KAAKypG,cAAe,GACxEioB,EAAsB72H,oBAAkBqiB,IACvB,IAAjBA,EAAsB2zG,EAAe,EACrC3zG,EAAe2zG,EAAe,CAClC,IAA0B,kBAAtB7wH,KAAK+pG,eAAqC/pG,KAAKkwI,aAAc,CAM7D,GALI1hC,EAAK/vG,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GACpDqE,KAAKgE,UAAUqkB,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,cAAc1jG,UAEpE6B,KAAK85H,aAAazxG,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,eACrD7hG,KAAK1F,OAAOya,IAAIsT,OAAOqpG,EAAoB,EAAG1xH,KAAK6hG,cAAcrjG,gBAAgBqb,YAAY5b,YAChE,iBAAzB+B,KAAK1F,OAAOyd,SAA6B,CACzC,GAAI+tD,GAAwC,IAA7B9lE,KAAK6hG,cAAcjoF,MAAc,IAAM5Z,KAAK6hG,cAAcrjG,gBAAgBkX,OAAS,IAAM1V,KAAK6hG,cAAcrjG,gBAAgBkX,MAC3I1V,MAAK1F,OAAOkf,aAAa6O,OAAOqpG,EAAoB,EAAG5rD,GAEvD9lE,KAAK6hG,cAAcplF,iBACnBzc,KAAKg6H,kBAAkBh6H,KAAK6hG,cAAe6vB,EAAoB1xH,KAAKypG,cAAcvqF,UAEtFlf,KAAKm7H,cACDtgI,oBAAkBmF,KAAK6hG,cAAcr4F,aACgC,IAArExJ,KAAK+pH,oBAAoBj9G,QAAQ9M,KAAK6hG,cAAcr4F,cACpDxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK6hG,cAAcr4F,cAI7D8wG,EAAM75G,UAAU06H,YAAc,WAC1B,GAAI3sB,GAAOxuG,KAAK1F,OACZunG,EAAgB7hG,KAAK6hG,cACrB4H,EAAgBzpG,KAAKypG,cACrBiyB,EAAYltB,EAAK/vG,WAAWqY,KAUhC,IATK2yF,EAAchtF,kBACfgtF,EAAchtF,iBAAkB,EAC3BgtF,EAAcvsF,aAAavhB,SAC5B8tG,EAAcvsF,iBACTsxF,EAAK/vG,WAAWkY,UAAY9b,oBAAkB4uG,EAActrG,SAASu9H,MACtEjyB,EAActrG,SAASu9H,SAIT,kBAAtB17H,KAAK+pG,aAAkC,CACvC,GAAIvgG,GAAatL,YAAWurG,SACrBjgG,GAAW0T,YAClB,IAAIg+G,IACA5xH,SAAUE,EAAWF,SACrB4V,SAAU1V,EAAW0V,SACrBtF,MAAOpQ,EAAWoQ,MAClBna,MAAO+J,EAAW/J,MAClBiW,OAAQlM,EAAWhL,gBAAgBqb,YASvC,IAPA7Z,KAAK1F,OAAO8J,eAAe,aAAc82H,EAAkBr5B,GAC3D7hG,KAAK1F,OAAO8J,eAAe,iBAAkBqlG,EAAcngG,SAAUu4F,GACrE4H,EAAcvsF,aAAamL,OAAOohF,EAAcvsF,aAAavhB,OAAQ,EAAGkmG,GACnEhnG,oBAAkBgnG,IAAmB2M,EAAK/vG,WAAWkY,UACrD9b,oBAAkB4uG,EAActrG,SAASu9H,KAC1CjyB,EAActrG,SAASqwG,EAAK/vG,WAAWqY,OAAOuR,OAAOohF,EAAcvsF,aAAavhB,OAAQ,EAAGkmG,EAAc1jG,UAExG0jG,EAAcplF,gBAGd,CAEDolF,EAAcjoF,MAAQ6vF,EAAc7vF,MAAQ,EAC5C5Z,KAAK1F,OAAO8J,eAAe,QAASpE,KAAK6hG,cAAcjoF,MAAO5Z,KAAK6hG,eACnE7hG,KAAK+5H,uBAAuBl4B,EAHhB,OAHZA,GAAcjoF,MAAQ6vF,EAAc7vF,MAAQ,CAQhD6vF,GAAcvqF,UAAW,IAGjCo7F,EAAM75G,UAAUo5H,cAAgB,WAC5B75H,KAAK85H,aAAe7+H,EAAgB+E,KAAK1F,QAAUoF,WAAS,SAAUM,KAAK1F,OAAO4H,SAAShH,YACvF8E,KAAK1F,OAAO4H,SAAShH,WACrB8E,KAAK1F,OAAOY,qBAAsBC,eAClC6E,KAAKgE,UAAYtE,WAAS,0BAA2BM,KAAK1F,QAG1D0F,KAAKgE,UAAY/I,EAAgB+E,KAAK1F,QAAUoF,WAAS,SAAUM,KAAK1F,OAAOY,YAC3E8E,KAAK1F,OAAOY,UAEpB,IAAI81H,EAGIA,GAFJhxH,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,oBACjD,gBAAzB/b,KAAK1F,OAAOyd,SACC/X,KAAK1F,OAAOyO,SAAS/I,KAAK1F,OAAOya,IAAIjI,QAAQ9M,KAAK6hG,cAAcrjG,gBAAgBkX,OAAOzX,aAGhG+B,KAAK6hG,cAAcplF,gBACNzc,KAAK1F,OAAOyO,SAAS,IAAM/I,KAAK1F,OAAOga,QAAQxH,QAAQ9M,KAAK6hG,cAAcrjG,gBAAgBkX,SAG1F1V,KAAK1F,OAAOyO,SAAS,IAAM/I,KAAK1F,OAAOga,QAAQxH,QAAQ9M,KAAK6hG,cAAcrjG,gBAAgBkX,SAKlG1V,KAAK1F,OAAO+O,kBAAkBrJ,KAAK6hG,cAAcv4F,UAElEtJ,KAAK+6H,cAAc/J,IAGvB1W,EAAM75G,UAAU4wI,kBAAoB,WAChCrxI,KAAKkwI,cAAe,CAMpB,KAAK,GALDoD,GAAa,KAEb1wE,EAA8C,IAA7B5iE,KAAKypG,cAAc7vF,MAAc5Z,KAAKypG,cAAcngG,SAAWtJ,KAAKypG,cAAcjgG,WAAWF,SAE9GiqI,EADoBvzI,KAAK1F,OAAO+O,kBAAkBu5D,GACnB1lD,aAC1Bpf,EAAI,EAAGA,EAAIy1I,EAAW53I,OAAQmC,IAC/B,IAAMkC,KAAK6hG,cAAcrjG,gBAAgBkX,QAAW,IAAM69H,EAAWz1I,GAAGU,gBAAgBkX,SACxF1V,KAAKkwI,cAAe,EACpBoD,EAAaC,EAAWz1I,GAG5BkC,MAAKkwI,cACLlwI,KAAKgzI,mBAAmBM,IAGhCh5B,EAAM75G,UAAU8wI,UAAY,SAAU1gB,GAClC,GAAIriB,GAAOxuG,KAAK1F,MAChB,KAAK0F,KAAKkwI,aAAc,CASpB,GARI1hC,EAAK/vG,WAAWkY,UAAY3W,KAAKgE,UAAUrI,OAAS,GACpDqE,KAAKgE,UAAUqkB,OAAOwoG,EAAc,EAAG7wH,KAAK6hG,cAAc1jG,UAE9D6B,KAAK85H,aAAazxG,OAAOwoG,EAAc,EAAG7wH,KAAK6hG,eAC/C7hG,KAAK1F,OAAOya,IAAIsT,OAAOwoG,EAAc,EAAG7wH,KAAK6hG,cAAcrjG,gBAAgBqb,YAAY5b,YACvF+B,KAAK1F,OAAO8J,eAAe,aAAcpE,KAAKypG,cAAcjgG,WAAYxJ,KAAK6hG,eAC7E7hG,KAAK1F,OAAO8J,eAAe,iBAAkBpE,KAAKypG,cAAc7mC,eAAgB5iE,KAAK6hG,eACrF7hG,KAAK1F,OAAO8J,eAAe,QAASpE,KAAKypG,cAAc7vF,MAAO5Z,KAAK6hG,eACtC,iBAAzB7hG,KAAK1F,OAAOyd,SAA6B,CACzC,GAAIxd,GAAkC,IAA7ByF,KAAK6hG,cAAcjoF,MAAc,IAAM5Z,KAAK6hG,cAAcrjG,gBAAgBkX,OAAS,IAAM1V,KAAK6hG,cAAcrjG,gBAAgBkX,MACrI1V,MAAK1F,OAAOkf,aAAa6O,OAAOwoG,EAAc,EAAGt2H,GAErD,GAAIyF,KAAK6hG,cAAcplF,gBAAiB,CAEpCzc,KAAKg6H,kBAAkBh6H,KAAK6hG,cAAegvB,GAC3C7wH,KAAK+5H,uBAAuB/5H,KAAK6hG,cAFrB,GAIhB,GAAI7hG,KAAKypG,cAAcjgG,WAAY,CAC/B,GACI0T,GADMld,KAAK1F,OAAOoP,cAAc1J,KAAKypG,cAAcjgG,YAAY0T,aAE/D+sF,EAAqB/sF,EAAapQ,QAAQ9M,KAAKypG,cACnDvsF,GAAamL,OAAO4hF,EAAoB,EAAGjqG,KAAK6hG,eAG/ChnG,oBAAkBmF,KAAK6hG,cAAcr4F,aAAmF,IAArExJ,KAAK+pH,oBAAoBj9G,QAAQ9M,KAAK6hG,cAAcr4F,cACxGxJ,KAAK+pH,oBAAoBzrH,KAAK0B,KAAK6hG,cAAcr4F,cAI7D8wG,EAAM75G,UAAUs5H,uBAAyB,SAAUx7H,EAAQqb,GACvD,GACImhB,GADAp/B,EAAS,CAGb,IADAie,KACKrb,EAAOke,gBACR,MAAO,EAEX9gB,GAAS4C,EAAO2e,aAAavhB,MAC7B,KAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,IAAK,CAC7Bi9B,EAAgBx8B,EAAO2e,aAAapf,EACpC,IAAImX,OAAa,EACjB,IAAI1W,EAAOiL,WAAY,CAEnByL,EAAajV,KAAK1F,OAAO4H,SAAW,mBAAE3D,EAAOiL,WAAWF,UAE5DyxB,EAAcnhB,MAAQrb,EAAOiL,WAAayL,EAAW2E,MAAQA,EAAQrb,EAAOqb,MAAQ,EACpF5Z,KAAK1F,OAAO8J,eAAe,QAAS22B,EAAcnhB,MAAOmhB,GACrDA,EAActe,kBACd7C,IACAA,EAAQ5Z,KAAK+5H,uBAAuBh/F,EAAenhB,IAG3D,MAAOA,IAGX0gG,EAAM75G,UAAUu5H,kBAAoB,SAAUz7H,EAAQmE,EAAOwc,GACzD,GAAI6b,GACAyzE,EAAOxuG,KAAK1F,OACZqB,EAAS,CACb,KAAK4C,EAAOke,gBACR,MAAO,EAEX9gB,GAAS4C,EAAO2e,aAAavhB,MAC7B,KAAK,GAAImC,GAAI,EAAGA,EAAInC,EAAQmC,IACxBi9B,EAAgBx8B,EAAO2e,aAAapf,GACpC4E,IACA8rG,EAAKzlG,SAASsf,OAAO3lB,EAAO,EAAGq4B,GAC/B/6B,KAAK1F,OAAOya,IAAIsT,OAAO3lB,EAAO,EAAGq4B,EAAcv8B,gBAAgBqb,YAAY5b,YACvEuwG,EAAK/vG,WAAWkY,UAAY63F,EAAKtzG,WAAWS,OAAS,GACrDqE,KAAKgE,UAAUqkB,OAAO3lB,EAAO,EAAGq4B,EAAc58B,UAE9C48B,EAActe,kBACd/Z,EAAQ1C,KAAKg6H,kBAAkBj/F,EAAer4B,GAGtD,OAAOA,IAEX43G,EAAM75G,UAAUs6H,cAAgB,SAAUx8H,GACtC,GACIrD,GADAszG,EAAOxuG,KAAK1F,MAGZY,GADA8E,KAAK1F,OAAOY,qBAAsBC,eACrBuE,WAAS,0BAA2BM,KAAK1F,QAGzC0F,KAAK1F,OAAOY,UAE7B,IAAI81H,GAAazyH,EACb0yH,EAAiBD,GAAcA,EAAWxnH,WAAaxJ,KAAK1F,OAAOoP,cAAcsnH,EAAWxnH,YAAc,IAC9G,IAAIwnH,EAAY,CACZ,GAAIA,EAAWxnH,WAAY,CACvB,GAAI0T,KACA+zG,KACA/zG,EAAe+zG,EAAe/zG,aAElC,IAAIguD,GAAa,CACbhuD,IAAgBA,EAAavhB,OAAS,IACT,iBAAzBqE,KAAK1F,OAAOyd,UAAuD,IAAxBmF,EAAavhB,SAExDqE,KAAK1F,OAAOy0B,YAAa,EACzB7R,EAAa,GAAG8R,UAAW,EAC3BhvB,KAAK1F,OAAO+J,cAAc6nB,kBAAkB+kG,GAC5CjxH,KAAK1F,OAAOy0B,YAAa,EACzB7R,EAAa,GAAG8R,UAAW,GAE/Bk8C,EAAahuD,EAAapQ,QAAQkkH,GAClCC,EAAe/zG,aAAamL,OAAO6iD,EAAY,IAC1ClrE,KAAK1F,OAAOmE,WAAWkY,UAAYs6G,EAAe9yH,SAAS6B,KAAK1F,OAAOmE,WAAWqY,QACnFm6G,EAAe9yH,SAAS6B,KAAK1F,OAAOmE,WAAWqY,OAAOuR,OAAO6iD,EAAY,GAG7ElrE,KAAK+pH,oBAAoBzrH,KAAK2yH,IAItC,IAAKjxH,KAAK1F,OAAOmE,WAAWkY,SAAU,CAClC,GAAIy6G,KACJA,GAAgB9yH,KAAK0yH,EAAWxyH,gBAAgBkX,OAAOzX,aAC1B,gBAAzB+B,KAAK1F,OAAOyd,UAAwD,iBAAzB/X,KAAK1F,OAAOyd,UAAqD,kBAAtB/X,KAAK+pG,eAC3F/pG,KAAK1F,OAAO0I,WAAWquH,qBAAqBD,GAGpD,GAAI5iB,EAAK/vG,WAAWkY,SAAU,CACtBq6G,EAAWv0G,iBAAmBu0G,EAAW9zG,aAAavhB,OAAS,GAC/DqE,KAAKu7H,gBAAgBvK,EAKzB,KAAK,GAHDO,OAAM,GACNvtH,EAAY9I,EAAWS,OAAS,GAA8B,iBAAzBqE,KAAK1F,OAAOyd,SACjD7c,EAAa8E,KAAK1F,OAAOua,eACpB/W,EAAI,EAAGA,EAAIkG,EAAUrI,OAAQmC,IACL,iBAAzBkC,KAAK1F,OAAOyd,SACR/T,EAAUlG,GAAGU,gBAAgBqb,cAAgBm3G,EAAWxyH,gBAAgBqb,cACxE03G,EAAMzzH,GAINkG,EAAUlG,GAAGkC,KAAK1F,OAAOmE,WAAWlE,MAAQy2H,EAAW7yH,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MACvFg3H,EAAMzzH,EAIlB,KAAa,IAATyzH,EAAY,CACRr2H,EAAWS,OAAS,GACpBT,EAAWmtB,OAAOkpG,EAAK,EAE3B,IAAIiiB,GAAYxzI,KAAK85H,aAAahtH,QAAQkkH,EAC1ChxH,MAAK85H,aAAazxG,OAAOmrH,EAAW,GACpCxzI,KAAK1F,OAAOya,IAAIsT,OAAOmrH,EAAW,IAC2B,IAAzDxzI,KAAK1F,OAAO4H,SAAS+S,WAAWnI,QAAQkkH,IACxChxH,KAAK1F,OAAO4H,SAAS+S,WAAWoT,OAAOroB,KAAK1F,OAAO4H,SAAS+S,WAAWnI,QAAQkkH,GAAa,GAEnE,iBAAzBhxH,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAOkf,aAAa6O,OAAOkpG,EAAK,IAIjD,GAAIl9G,GAAcrU,KAAK85H,aAAahtH,QAAQkkH,EAC5C,KAAKxiB,EAAK/vG,WAAWkY,SAAU,CAC3B,GAAI66G,GAAqBxxH,KAAK1F,OAAO0I,WAAWyuH,cAAcT,EAAY,EAC1EhxH,MAAK85H,aAAazxG,OAAOhU,EAAam9G,EAAqB,GAC3DxxH,KAAK1F,OAAOya,IAAIsT,OAAOhU,EAAam9G,EAAqB,EACzD,IAAI9xD,GAAc1/D,KAAKgE,UAAU8I,QAAQkkH,EAAW7yH,WAC/B,IAAjBuhE,IACA1/D,KAAKgE,UAAUqkB,OAAOq3C,EAAa,GACnC1/D,KAAK1F,OAAO4H,SAAS+S,WAAWoT,OAAOq3C,EAAa,IAE3B,iBAAzB1/D,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAOkf,aAAa6O,OAAOhU,EAAam9G,EAAqB,GAGtER,EAAWxnH,YAAcynH,GAAkBA,EAAe/zG,eAAiB+zG,EAAe/zG,aAAavhB,SACvGs1H,EAAe/xG,UAAW,EAC1B+xG,EAAex0G,iBAAkB,KAI7C69F,EAAM75G,UAAU86H,gBAAkB,SAAUh9H,GAGxC,IAAK,GAFDw8B,GACAw2F,EACKzzH,EAAI,EAAGA,EAAIS,EAAO2e,aAAavhB,OAAQmC,IAAK,CACjDi9B,EAAgBx8B,EAAO2e,aAAapf,EACpC,IAAIkG,OAAY,EAEZA,GADAhE,KAAK1F,OAAOY,qBAAsBC,eACtBuE,WAAS,0BAA2BM,KAAK1F,QAGzC0F,KAAK1F,OAAOY,UAE5B,KAAK,GAAIuQ,GAAI,EAAGA,EAAIzH,EAAUrI,OAAQ8P,IAC9BzH,EAAUyH,GAAGzL,KAAK1F,OAAOmE,WAAWlE,MAAQwgC,EAAc58B,SAAS6B,KAAK1F,OAAOmE,WAAWlE,MAC1Fg3H,EAAM9lH,EAGd,KAAa,IAAT8lH,EAAY,CACRvtH,EAAUrI,OAAS,GACnBqI,EAAUqkB,OAAOkpG,EAAK,EAE1B,IAAIiiB,GAAYxzI,KAAK85H,aAAahtH,QAAQiuB,EAC1C/6B,MAAK85H,aAAazxG,OAAOmrH,EAAW,GACpCxzI,KAAK1F,OAAOya,IAAIsT,OAAOmrH,EAAW,GACL,iBAAzBxzI,KAAK1F,OAAOyd,UACZ/X,KAAK1F,OAAOkf,aAAa6O,OAAOkpG,EAAK,GAGzCx2F,EAActe,iBACdzc,KAAKu7H,gBAAgBxgG,KAYjCu/E,EAAM75G,UAAUizF,YAAc,SAAUC,EAAaC,EAASrhD,GAC1D,IAAKvyC,KAAK1F,OAAOy8F,SAAU,CACvB,GAAIpD,EAAY,KAAOC,GAAyB,UAAbrhD,GAAqC,UAAbA,GAAqC,UAAbA,EAgC/E,MA/BiB,WAAbA,IACAvyC,KAAK+pG,aAAe,cAEP,UAAbx3D,IACAvyC,KAAK+pG,aAAe,iBAEP,UAAbx3D,IACAvyC,KAAK+pG,aAAe,gBAExB,IAAIkf,OAAW,EACXjpH,MAAK1F,OAAOyhB,iBACZktG,EAAW/qH,gBAAgB8B,KAAK1F,OAAOyhB,eAA8B,gBAAI,GAAM,GAGnF,KAAK,GADDhe,MACKD,EAAI,EAAGA,EAAI61F,EAAYh4F,OAAQmC,IAChCkC,KAAK1F,OAAOyhB,gBAAkB/b,KAAK1F,OAAOyhB,eAAoC,sBAA6B,mBAAvBktG,EAAiB,QAAiD,uBAAvBA,EAAiB,QAChJlrH,EAAKD,GAAKmrH,EAAqB,WAAEnrH,GAAGC,KAGpCA,EAAKD,GAAKkC,KAAK1F,OAAOyO,SAAS4qF,EAAY71F,GAGnD,IACIkB,IACAjB,KAAMA,EACN+rG,UAAWlW,EACXmW,aAAc/pG,KAAK+pG,aAEvB/pG,MAAKkxI,SAASlyI,GANG,KAatBs7G,KClkCPm5B,GAA+B,WAC/B,QAASA,GAAcC,GACnB1zI,KAAK0zI,MAAQA,EACb1zI,KAAK2zI,cACL3zI,KAAK4zI,SAAS5zI,KAAK2zI,WAAY3zI,KAAK0zI,OACpC1zI,KAAK2zI,WAAWE,YAAYC,UAAUC,UAAYC,eAAaC,KA0MnE,MAxMAx4I,QAAO2uD,eAAeqpF,EAAchzI,UAAW,SAC3CurB,IAAK,WACD,MAAOhsB,MAAK2zI,YAEhBO,YAAY,EACZC,cAAc,IAElBV,EAAchzI,UAAUmzI,SAAW,SAAUD,EAAYD,GAiCrD,OAhCA1zI,KAAKo0I,WAAWT,GAChBA,EAAWU,aAAaC,SAAW,IACnCX,EAAWU,aAAaE,UAAY,GAAIC,YAAS,EAAG,EAAG,GACvDb,EAAWU,aAAaE,UAAUE,KAAO,GACzCd,EAAWU,aAAap3E,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACjEb,EAAWU,aAAaK,YAAc,GAAIF,YAAS,IAAK,IAAK,KAC7Db,EAAWU,aAAankI,OAAOykI,cAAgB,EAC/ChB,EAAWU,aAAankI,OAAO0kI,UAAY,EAC3CjB,EAAWkB,WAAaC,gBAAcC,UACtCpB,EAAWhd,KAAK2d,SAAW,IAC3BX,EAAWhd,KAAK15D,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACzDb,EAAWhd,KAAK+d,YAAc,GAAIF,YAAS,IAAK,IAAK,KACrDb,EAAWhd,KAAK4d,UAAY,GAAIC,YAAS,EAAG,EAAG,GAC/Cb,EAAWhd,KAAK4d,UAAUE,KAAO,GACjCd,EAAWhd,KAAKzmH,OAAOykI,cAAgB,EACvChB,EAAWhd,KAAKzmH,OAAO0kI,UAAY,EACnCjB,EAAWqB,OAAOV,SAAW,IAC7BX,EAAWqB,OAAOC,UAAY,EAC9BtB,EAAWqB,OAAO9kI,OAAO0kI,UAAY,EACrCjB,EAAWqB,OAAO9kI,OAAOykI,cAAgB,EACzChB,EAAWqB,OAAON,YAAc,GAAIF,YAAS,IAAK,IAAK,KACvDb,EAAWpmG,SAAS+mG,SAAW,IAC/BX,EAAWpmG,SAAS0nG,UAAY,EAChCtB,EAAWpmG,SAAS0vB,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KAC7Db,EAAWpmG,SAASgnG,UAAY,GAAIC,YAAS,GAAI,GAAI,IACrDb,EAAWuB,mBAAqB,GAAIV,YAAS,IAAK,IAAK,KACvDb,EAAWpmG,SAASmnG,YAAc,GAAIF,YAAS,IAAK,IAAK,KACzDb,EAAWE,YAAYvjH,MAAM2sC,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACtEb,EAAWE,YAAYvjH,MAAMikH,UAAY,GAAIC,YAAS,GAAI,GAAI,IAC9Db,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,GAAIX,YAAS,IAAK,GAAI,KACpEb,EAAWE,YAAYC,UAAUC,UAAYC,eAAaC,KAC1DN,EAAW9gI,QAAQoqD,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACpDd,GACJ,IAAK,YAEDC,EAAW/9D,QAAQw/D,UAAY,GAAIZ,YAAS,GAAI,IAAK,KACrDb,EAAW/9D,QAAQy/D,cAAgB,GAAIb,YAAS,GAAI,GAAI,KACxDb,EAAW/9D,QAAQ0/D,kBAAoB,GAAId,YAAS,IAAK,IAAK,KAC9Db,EAAW/9D,QAAQ2/D,sBAAwB,GAAIf,YAAS,IAAK,GAAI,IACjEb,EAAW/9D,QAAQtiB,cAAgB,GAAIkhF,YAAS,IAAK,IAAK,IAC1Db,EAAW/9D,QAAQ4/D,oBAAsB,GAAIhB,YAAS,IAAK,IAAK,IAChEb,EAAW8B,2BAA6B,GAAIjB,YAAS,IAAK,GAAI,IAC9Db,EAAW/9D,QAAQ8/D,wBAA0B,GAAIlB,YAAS,IAAK,GAAI,IACnEb,EAAW/9D,QAAQ+/D,gBAAkB,GAAInB,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQggE,oBAAsB,GAAIpB,YAAS,GAAI,GAAI,IAC9Db,EAAW/9D,QAAQigE,gBAAkB,GAAIrB,YAAS,GAAI,GAAI,KAC1Db,EAAW/9D,QAAQkgE,sBAAwB,GAAItB,YAAS,GAAI,GAAI,IAChEb,EAAW/9D,QAAQ7Y,eAAiB,GAAIy3E,YAAS,GAAI,GAAI,IACzDb,EAAWqB,OAAOT,UAAY,GAAIC,YAAS,EAAG,EAAG,GACjDb,EAAWqB,OAAOT,UAAUE,KAAO,GACnCd,EAAWoC,mBAAqB,GAAIvB,YAAS,GAAI,GAAI,KACrDb,EAAWqB,OAAO/3E,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KAC3Db,EAAW/9D,QAAQogE,kBAAoB,GAAIxB,YAAS,IAAK,IAAK,KAC9Db,EAAWrjH,MAAMikH,UAAY,GAAIC,YAAS,EAAG,EAAG,GAChDb,EAAW/9D,QAAQqgE,oBAAsB,GAAIzB,YAAS,GAAI,GAAI,IAC9Db,EAAW/9D,QAAQsgE,wBAA0B,GAAI1B,YAAS,GAAI,IAAK,KACnEb,EAAW/9D,QAAQugE,uBAAyB,GAAI3B,YAAS,IAAK,IAAK,KACnEb,EAAW/9D,QAAQwgE,qBAAuB,GAAI5B,YAAS,GAAI,GAAI,IAC/Db,EAAW/9D,QAAQygE,sBAAwB,GAAI7B,YAAS,IAAK,GAAI,KACjEb,EAAW/9D,QAAQ0gE,oBAAsB,GAAI9B,YAAS,GAAI,GAAI,KAC9Db,EAAW/9D,QAAQ2gE,gBAAkB,GAAI/B,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQ4gE,mBAAqB,GAAIhC,YAAS,GAAI,GAAI,IAC7Db,EAAW/9D,QAAQ6gE,kBAAoB,GAAIjC,YAAS,GAAI,GAAI,KAC5Db,EAAWE,YAAYvjH,MAAM2sC,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,IACtEb,EAAWE,YAAYvjH,MAAMikH,UAAY,GAAIC,YAAS,IAAK,IAAK,KAChEb,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,GAAIX,YAAS,GAAI,IAAK,MACpEb,EAAW9gI,QAAQoqD,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,IAC5D,MACJ,KAAK,cAEDb,EAAW/9D,QAAQw/D,UAAY,GAAIZ,YAAS,EAAG,IAAK,KACpDb,EAAW/9D,QAAQy/D,cAAgB,GAAIb,YAAS,EAAG,GAAI,KACvDb,EAAW/9D,QAAQ0/D,kBAAoB,GAAId,YAAS,IAAK,IAAK,KAC9Db,EAAW/9D,QAAQ2/D,sBAAwB,GAAIf,YAAS,IAAK,GAAI,IACjEb,EAAW/9D,QAAQtiB,cAAgB,GAAIkhF,YAAS,IAAK,IAAK,GAC1Db,EAAW/9D,QAAQ4/D,oBAAsB,GAAIhB,YAAS,IAAK,IAAK,GAChEb,EAAW8B,2BAA6B,GAAIjB,YAAS,IAAK,GAAI,IAC9Db,EAAW/9D,QAAQ8/D,wBAA0B,GAAIlB,YAAS,IAAK,GAAI,IACnEb,EAAW/9D,QAAQ+/D,gBAAkB,GAAInB,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQggE,oBAAsB,GAAIpB,YAAS,GAAI,GAAI,IAC9Db,EAAW/9D,QAAQigE,gBAAkB,GAAIrB,YAAS,EAAG,GAAI,KACzDb,EAAW/9D,QAAQkgE,sBAAwB,GAAItB,YAAS,GAAI,GAAI,IAChEb,EAAW/9D,QAAQ7Y,eAAiB,GAAIy3E,YAAS,GAAI,GAAI,IACzDb,EAAWqB,OAAOT,UAAY,GAAIC,YAAS,EAAG,EAAG,GACjDb,EAAWqB,OAAOT,UAAUE,KAAO,GACnCd,EAAWoC,mBAAqB,GAAIvB,YAAS,EAAG,GAAI,KACpDb,EAAWqB,OAAO/3E,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KAC3Db,EAAW/9D,QAAQogE,kBAAoB,GAAIxB,YAAS,IAAK,IAAK,KAC9Db,EAAWrjH,MAAMikH,UAAY,GAAIC,YAAS,GAAI,GAAI,IAClDb,EAAW/9D,QAAQqgE,oBAAsB,GAAIzB,YAAS,EAAG,EAAG,GAC5Db,EAAW/9D,QAAQsgE,wBAA0B,GAAI1B,YAAS,EAAG,IAAK,KAClEb,EAAW/9D,QAAQugE,uBAAyB,GAAI3B,YAAS,IAAK,IAAK,KACnEb,EAAW/9D,QAAQwgE,qBAAuB,GAAI5B,YAAS,GAAI,GAAI,IAC/Db,EAAW/9D,QAAQygE,sBAAwB,GAAI7B,YAAS,IAAK,GAAI,KACjEb,EAAW/9D,QAAQ0gE,oBAAsB,GAAI9B,YAAS,IAAK,GAAI,KAC/Db,EAAW/9D,QAAQ2gE,gBAAkB,GAAI/B,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQ4gE,mBAAqB,GAAIhC,YAAS,GAAI,GAAI,IAC7Db,EAAW/9D,QAAQ6gE,kBAAoB,GAAIjC,YAAS,IAAK,GAAI,KAC7Db,EAAWE,YAAYvjH,MAAM2sC,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,GACtEb,EAAWE,YAAYvjH,MAAMikH,UAAY,GAAIC,YAAS,EAAG,EAAG,GAC5Db,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,GAAIX,YAAS,EAAG,IAAK,MACnEb,EAAW9gI,QAAQoqD,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,IAC5D,MACJ,KAAK,SACDb,EAAWU,aAAaE,UAAY,GAAIC,YAAS,IAAK,IAAK,KAC3Db,EAAWhd,KAAK4d,UAAY,GAAIC,YAAS,GAAI,GAAI,IAEjDb,EAAW/9D,QAAQw/D,UAAY,GAAIZ,YAAS,EAAG,IAAK,KACpDb,EAAW/9D,QAAQy/D,cAAgB,GAAIb,YAAS,EAAG,GAAI,KACvDb,EAAW/9D,QAAQ0/D,kBAAoB,GAAId,YAAS,IAAK,IAAK,KAC9Db,EAAW/9D,QAAQ2/D,sBAAwB,GAAIf,YAAS,IAAK,GAAI,IACjEb,EAAW/9D,QAAQtiB,cAAgB,GAAIkhF,YAAS,IAAK,GAAI,GACzDb,EAAW/9D,QAAQ4/D,oBAAsB,GAAIhB,YAAS,IAAK,GAAI,GAC/Db,EAAW8B,2BAA6B,GAAIjB,YAAS,IAAK,GAAI,IAC9Db,EAAW/9D,QAAQ8/D,wBAA0B,GAAIlB,YAAS,IAAK,GAAI,IACnEb,EAAW/9D,QAAQ+/D,gBAAkB,GAAInB,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQggE,oBAAsB,GAAIpB,YAAS,GAAI,GAAI,IAC9Db,EAAW/9D,QAAQigE,gBAAkB,GAAIrB,YAAS,EAAG,GAAI,KACzDb,EAAW/9D,QAAQkgE,sBAAwB,GAAItB,YAAS,GAAI,GAAI,IAChEb,EAAW/9D,QAAQ7Y,eAAiB,GAAIy3E,YAAS,GAAI,GAAI,IACzDb,EAAWqB,OAAOT,UAAY,GAAIC,YAAS,GAAI,GAAI,IACnDb,EAAWqB,OAAOT,UAAUE,KAAO,GACnCd,EAAWoC,mBAAqB,GAAIvB,YAAS,EAAG,GAAI,KACpDb,EAAWqB,OAAO/3E,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KAC3Db,EAAW/9D,QAAQogE,kBAAoB,GAAIxB,YAAS,IAAK,IAAK,KAC9Db,EAAWrjH,MAAMikH,UAAY,GAAIC,YAAS,GAAI,GAAI,IAClDb,EAAW/9D,QAAQqgE,oBAAsB,GAAIzB,YAAS,EAAG,EAAG,GAC5Db,EAAW/9D,QAAQsgE,wBAA0B,GAAI1B,YAAS,EAAG,IAAK,KAClEb,EAAW/9D,QAAQugE,uBAAyB,GAAI3B,YAAS,IAAK,IAAK,KACnEb,EAAW/9D,QAAQwgE,qBAAuB,GAAI5B,YAAS,GAAI,GAAI,IAC/Db,EAAW/9D,QAAQygE,sBAAwB,GAAI7B,YAAS,IAAK,GAAI,KACjEb,EAAW/9D,QAAQ0gE,oBAAsB,GAAI9B,YAAS,IAAK,GAAI,KAC/Db,EAAW/9D,QAAQ2gE,gBAAkB,GAAI/B,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQ4gE,mBAAqB,GAAIhC,YAAS,GAAI,GAAI,IAC7Db,EAAW/9D,QAAQ6gE,kBAAoB,GAAIjC,YAAS,IAAK,GAAI,KAC7Db,EAAWE,YAAYvjH,MAAM2sC,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACtEb,EAAWE,YAAYvjH,MAAMikH,UAAY,GAAIC,YAAS,EAAG,GAAI,KAC7Db,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,GAAIX,YAAS,EAAG,IAAK,MACnEb,EAAW9gI,QAAQoqD,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,IAC5D,MACJ,SAEIb,EAAW/9D,QAAQw/D,UAAY,GAAIZ,YAAS,GAAI,IAAK,KACrDb,EAAW/9D,QAAQy/D,cAAgB,GAAIb,YAAS,GAAI,GAAI,KACxDb,EAAW/9D,QAAQ0/D,kBAAoB,GAAId,YAAS,IAAK,IAAK,KAC9Db,EAAW/9D,QAAQ2/D,sBAAwB,GAAIf,YAAS,IAAK,GAAI,IACjEb,EAAW/9D,QAAQtiB,cAAgB,GAAIkhF,YAAS,IAAK,GAAI,GACzDb,EAAW/9D,QAAQ4/D,oBAAsB,GAAIhB,YAAS,IAAK,GAAI,GAC/Db,EAAW8B,2BAA6B,GAAIjB,YAAS,IAAK,GAAI,IAC9Db,EAAW/9D,QAAQ8/D,wBAA0B,GAAIlB,YAAS,IAAK,GAAI,IACnEb,EAAW/9D,QAAQ+/D,gBAAkB,GAAInB,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQggE,oBAAsB,GAAIpB,YAAS,GAAI,GAAI,IAC9Db,EAAW/9D,QAAQigE,gBAAkB,GAAIrB,YAAS,GAAI,GAAI,KAC1Db,EAAW/9D,QAAQkgE,sBAAwB,GAAItB,YAAS,GAAI,GAAI,IAChEb,EAAW/9D,QAAQ7Y,eAAiB,GAAIy3E,YAAS,GAAI,GAAI,IACzDb,EAAWqB,OAAOT,UAAY,GAAIC,YAAS,EAAG,EAAG,GACjDb,EAAWqB,OAAOT,UAAUE,KAAO,GACnCd,EAAWoC,mBAAqB,GAAIvB,YAAS,GAAI,GAAI,KACrDb,EAAWqB,OAAO/3E,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KAC3Db,EAAW/9D,QAAQogE,kBAAoB,GAAIxB,YAAS,IAAK,IAAK,KAC9Db,EAAWrjH,MAAMikH,UAAY,GAAIC,YAAS,GAAI,GAAI,IAClDb,EAAW/9D,QAAQqgE,oBAAsB,GAAIzB,YAAS,EAAG,EAAG,GAC5Db,EAAW/9D,QAAQsgE,wBAA0B,GAAI1B,YAAS,GAAI,GAAI,KAClEb,EAAW/9D,QAAQugE,uBAAyB,GAAI3B,YAAS,GAAI,GAAI,IACjEb,EAAW/9D,QAAQwgE,qBAAuB,GAAI5B,YAAS,GAAI,GAAI,IAC/Db,EAAW/9D,QAAQygE,sBAAwB,GAAI7B,YAAS,EAAG,IAAK,KAChEb,EAAW/9D,QAAQ0gE,oBAAsB,GAAI9B,YAAS,EAAG,IAAK,KAC9Db,EAAW/9D,QAAQ2gE,gBAAkB,GAAI/B,YAAS,IAAK,IAAK,KAC5Db,EAAW/9D,QAAQ4gE,mBAAqB,GAAIhC,YAAS,GAAI,GAAI,IAC7Db,EAAW/9D,QAAQ6gE,kBAAoB,GAAIjC,YAAS,EAAG,IAAK,KAC5Db,EAAWE,YAAYvjH,MAAM2sC,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,KACtEb,EAAWE,YAAYvjH,MAAMikH,UAAY,GAAIC,YAAS,GAAI,GAAI,IAC9Db,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,GAAIX,YAAS,IAAK,GAAI,KACpEb,EAAW9gI,QAAQoqD,gBAAkB,GAAIu3E,YAAS,IAAK,IAAK,OAIxEf,EAAchzI,UAAU2zI,WAAa,SAAUT,GAC3CA,EAAWU,gBACXV,EAAWU,aAAankI,OAAS,GAAIwmI,mBACrC/C,EAAWhd,QACXgd,EAAWhd,KAAKzmH,OAAS,GAAIwmI,mBAC7B/C,EAAWpmG,YACXomG,EAAWqB,UACXrB,EAAWqB,OAAO9kI,OAAS,GAAIwmI,mBAC/B/C,EAAWrjH,SACXqjH,EAAW/9D,WACX+9D,EAAWE,eACXF,EAAWE,YAAYvjH,SACvBqjH,EAAWE,YAAYC,UAAY,GAAIqB,UAAO,MAC9CxB,EAAW9gI,YAER4gI,KC7MPkD,GAAqC,WACrC,QAASA,KAKL32I,KAAK42I,SAKL52I,KAAK62I,WA4IT,MArIAF,GAAoBl2I,UAAU6xE,KAAO,WACjC,MAAOtyE,MAAK42I,MAAMj7I,QAWtBg7I,EAAoBl2I,UAAU4wB,IAAM,SAAUz1B,EAAKyD,GAC/C,OAAYsI,KAAR/L,GAA6B,OAARA,OAA0B+L,KAAVtI,GAAiC,OAAVA,EAC5D,KAAM,IAAIy3I,gBAAe,sCAG7B,IADY92I,KAAK42I,MAAM9pI,QAAQlR,GACnB,EAGR,MAFAoE,MAAK42I,MAAMt4I,KAAK1C,GAChBoE,KAAK62I,QAAQv4I,KAAKe,GACX,CAGP,MAAM,IAAI03I,YAAW,sDAS7BJ,EAAoBl2I,UAAU/E,KAAO,WACjC,MAAOsE,MAAK42I,OAQhBD,EAAoBl2I,UAAUgM,OAAS,WACnC,MAAOzM,MAAK62I,SAUhBF,EAAoBl2I,UAAUf,SAAW,SAAU9D,GAC/C,OAAY+L,KAAR/L,GAA6B,OAARA,EACrB,KAAM,IAAIk7I,gBAAe,6BAE7B,IAAIr3I,GAAQO,KAAK42I,MAAM9pI,QAAQlR,EAC/B,IAAI6D,EAAQ,EACR,KAAM,IAAIs3I,YAAW,iDAGrB,OAAO/2I,MAAK62I,QAAQp3I,IAY5Bk3I,EAAoBl2I,UAAUqS,SAAW,SAAUlX,EAAKyD,GACpD,OAAYsI,KAAR/L,GAA6B,OAARA,EACrB,KAAM,IAAIk7I,gBAAe,6BAE7B,IAAIr3I,GAAQO,KAAK42I,MAAM9pI,QAAQlR,EAC3B6D,GAAQ,GACRO,KAAK42I,MAAMt4I,KAAK1C,GAChBoE,KAAK62I,QAAQv4I,KAAKe,IAGlBW,KAAK62I,QAAQp3I,GAASJ,GAU9Bs3I,EAAoBl2I,UAAU9B,OAAS,SAAU/C,GAC7C,OAAY+L,KAAR/L,GAA6B,OAARA,EACrB,KAAM,IAAIk7I,gBAAe,6BAE7B,IAAIr3I,GAAQO,KAAK42I,MAAM9pI,QAAQlR,EAC/B,IAAI6D,EAAQ,EACR,KAAM,IAAIs3I,YAAW,iDAKrB,OAFA/2I,MAAK42I,MAAMvuH,OAAO5oB,EAAO,GACzBO,KAAK62I,QAAQxuH,OAAO5oB,EAAO,IACpB,GAUfk3I,EAAoBl2I,UAAUu2I,YAAc,SAAUp7I,GAClD,OAAY+L,KAAR/L,GAA6B,OAARA,EACrB,KAAM,IAAIk7I,gBAAe,6BAG7B,SADY92I,KAAK42I,MAAM9pI,QAAQlR,GACnB,IAUhB+6I,EAAoBl2I,UAAUqjF,MAAQ,WAClC9jF,KAAK42I,SACL52I,KAAK62I,YAEFF,KCpJPM,GAA4B,WAO5B,QAASA,KACL,GAAIC,GAAuB,GAAI/B,UAAO,GAAIX,YAAS,EAAG,EAAG,GACzD0C,GAAqBnD,UAAYC,eAAamD,KAC9C,IAAIC,GAAwB,GAAIjC,UAAO,GAAIX,YAAS,EAAG,EAAG,GAC1D4C,GAAsBrD,UAAYC,eAAamD,KAC/C,IAAIE,GAAsB,GAAIlC,UAAO,GAAIX,YAAS,EAAG,EAAG,GACxD6C,GAAoBtD,UAAYC,eAAamD,KAC7C,IAAIG,GAAyB,GAAInC,UAAO,GAAIX,YAAS,EAAG,EAAG,GAC3D8C,GAAuBvD,UAAYC,eAAamD,MAChDn3I,KAAKu3I,QAAUL,EACfl3I,KAAKw3I,SAAWJ,EAChBp3I,KAAKy3I,OAASJ,EACdr3I,KAAK03I,UAAYJ,EA0GrB,MAxGA77I,QAAO2uD,eAAe6sF,EAAWx2I,UAAW,QAQxCurB,IAAK,WACD,MAAOhsB,MAAKu3I,SAEhBt+H,IAAK,SAAU5Z,GACXW,KAAKu3I,QAAUl4I,GAEnB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAWx2I,UAAW,SAOxCurB,IAAK,WACD,MAAOhsB,MAAKw3I,UAEhBv+H,IAAK,SAAU5Z,GACXW,KAAKw3I,SAAWn4I,GAEpB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAWx2I,UAAW,OAOxCurB,IAAK,WACD,MAAOhsB,MAAKy3I,QAEhBx+H,IAAK,SAAU5Z,GACXW,KAAKy3I,OAASp4I,GAElB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAWx2I,UAAW,UAOxCurB,IAAK,WACD,MAAOhsB,MAAK03I,WAEhBz+H,IAAK,SAAU5Z,GACXW,KAAK03I,UAAYr4I,GAErB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAWx2I,UAAW,OAOxCwY,IAAK,SAAU5Z,GACXW,KAAKu3I,QAAUv3I,KAAKw3I,SAAWx3I,KAAKy3I,OAASz3I,KAAK03I,UAAYr4I,GAElE60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAWx2I,UAAW,SAOxCurB,IAAK,WACD,MAAShsB,MAAKu3I,UAAYv3I,KAAKw3I,UAAcx3I,KAAKu3I,UAAYv3I,KAAKy3I,QAAYz3I,KAAKu3I,UAAYv3I,KAAK03I,WAEzGxD,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAe6sF,EAAY,WAO9BjrH,IAAK,WACD,MAAO,IAAIirH,IAEf/C,YAAY,EACZC,cAAc,IAEX8C,KAIPU,GAA6B,WAC7B,QAASA,GAAY75H,EAAM8V,EAAO5C,EAAK4mH,GAMnC53I,KAAK63I,YAAa,EAMlB73I,KAAK83I,aAAc,EAMnB93I,KAAK+3I,WAAY,EAMjB/3I,KAAKg4I,cAAe,MACA,KAATl6H,GAEP9d,KAAKi4I,QAAUj4I,KAAKk4I,SAAW,KAE/Bl4I,KAAKm4I,UAAYn4I,KAAKo4I,OAAS,KAG/Bp4I,KAAKi4I,QAAUn6H,EACf9d,KAAKk4I,SAAWtkH,EAChB5zB,KAAKo4I,OAASpnH,EACdhxB,KAAKm4I,UAAYP,EACjB53I,KAAK63I,YAAa,EAClB73I,KAAK83I,aAAc,EACnB93I,KAAK+3I,WAAY,EACjB/3I,KAAKg4I,cAAe,GAyF5B,MAtFAv8I,QAAO2uD,eAAeutF,EAAYl3I,UAAW,QAQzCurB,IAAK,WACD,MAAOhsB,MAAKi4I,SAEhBh/H,IAAK,SAAU5Z,GACXW,KAAKi4I,QAAU54I,EACfW,KAAK63I,YAAa,GAEtB3D,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeutF,EAAYl3I,UAAW,SAOzCurB,IAAK,WACD,MAAOhsB,MAAKk4I,UAEhBj/H,IAAK,SAAU5Z,GACXW,KAAKk4I,SAAW74I,EAChBW,KAAK83I,aAAc,GAEvB5D,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeutF,EAAYl3I,UAAW,OAOzCurB,IAAK,WACD,MAAOhsB,MAAKo4I,QAEhBn/H,IAAK,SAAU5Z,GACXW,KAAKo4I,OAAS/4I,EACdW,KAAK+3I,WAAY,GAErB7D,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeutF,EAAYl3I,UAAW,UAOzCurB,IAAK,WACD,MAAOhsB,MAAKm4I,WAEhBl/H,IAAK,SAAU5Z,GACXW,KAAKm4I,UAAY94I,EACjBW,KAAKg4I,cAAe,GAExB9D,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeutF,EAAYl3I,UAAW,OAOzCwY,IAAK,SAAU5Z,GACXW,KAAKi4I,QAAUj4I,KAAKk4I,SAAWl4I,KAAKo4I,OAASp4I,KAAKm4I,UAAY94I,EAC9DW,KAAK63I,YAAa,EAClB73I,KAAK83I,aAAc,EACnB93I,KAAK+3I,WAAY,EACjB/3I,KAAKg4I,cAAe,GAExB9D,YAAY,EACZC,cAAc,IAEXwD,KClQPU,GAAsC,WACtC,QAASA,MAET,MAAOA,MAOPC,GAAkC,WAOlC,QAASA,KACLt4I,KAAKu4I,YAAc,EACnBv4I,KAAKw4I,mBAAqBC,wBAAsBC,QAChD14I,KAAK24I,yBAA0B,EAC/B34I,KAAK44I,uBAAyBriD,4BAA0BsiD,SACxD74I,KAAK84I,YAAc,GAAInB,IAE3B,MAAOW,MCjCPllI,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAYnFmlI,GAAqC,SAAU/kI,GAE/C,QAAS+kI,GAAoBC,GACzB,GAAI/nI,GAAQ+C,EAAOC,KAAKjU,KAAMg5I,IAAeh5I,IAM7C,OALAiR,GAAMgoI,gBACNhoI,EAAMioI,gBAAkB,EACxBjoI,EAAMkoI,wBACNloI,EAAMmoI,aAAe,EACrBnoI,EAAMooI,cAAgB,GAAIC,cAAW,EAAG,EAAG,EAAG,GACvCroI,EA6ZX,MAraAmC,IAAU2lI,EAAqB/kI,GAU/BvY,OAAO2uD,eAAe2uF,EAAoBt4I,UAAW,YACjDurB,IAAK,WACD,MAAOhsB,MAAKyhI,UAEhByS,YAAY,EACZC,cAAc,IAElB4E,EAAoBt4I,UAAU84I,eAAiB,SAAUC,GACrDx5I,KAAKy5I,YAAcD,EAAME,IACzB,IAAIxpI,GAASspI,EAAMtpI,MA4BnB,OA3ByB,QAArBlQ,KAAKy5I,cACLz5I,KAAK25I,kBAAoB35I,KAAKy5I,YAAYG,iBAE9C55I,KAAK65I,gBAAkB75I,KAAKy5I,YAAYK,SACzB,OAAX5pI,GAAmBA,EAAO6pI,QAAUC,qBAAmBC,iBAEvDj6I,KAAKq5I,cAAgB,GAAIC,cAAW,GAAIY,UAAOV,EAAMW,OAAOngI,EAAGw/H,EAAMW,OAAOpjE,GAAI,GAAIqjE,SAAMp6I,KAAKq6I,SAASp/H,QAAQ8B,MAAO/c,KAAK65I,gBAAgBS,WAAWrlH,SAGvJj1B,KAAKq5I,cAAgB,GAAIC,cAAW,GAAIY,UAAOV,EAAMW,OAAOngI,EAAGw/H,EAAMW,OAAOpjE,GAAI/2E,KAAK65I,gBAAgBS,YAExE,IAA7Bt6I,KAAKq6I,SAASl1G,KAAKziC,QACnB1C,KAAKq5I,cAAct8H,MAASy8H,EAAMW,OAAOp9H,MAAQ,EAAKy8H,EAAMW,OAAOp9H,MAC9D/c,KAAKq5I,cAAct8H,MAAQ/c,KAAKq6I,SAASl1G,KAAKo1G,OAAO,GAAGn5C,MAAMo5C,QAAQ,GAAG7mH,MAAM8mH,QAAQ38H,KAAKf,MAAQ,GAE7G/c,KAAK06I,cAAgB,GAAIR,UAAOV,EAAMW,OAAOngI,EAAGw/H,EAAMW,OAAOpjE,GACzDyiE,EAAMW,OAAOllH,OAAS,IACtBj1B,KAAKq5I,cAAcpkH,OAASukH,EAAMW,OAAOllH,QAExCj1B,KAAKq6I,SAAS1mH,MAAMglH,yBAA4B34I,KAAKq6I,SAAS5tH,cAK/DzsB,KAAKq6I,SAASM,oBAAoB36I,KAAKq5I,eACvCr5I,KAAKi5I,aAAa36I,MAAM,EAAG0B,KAAKq6I,SAASp/H,QAAQvY,MAAQ,MALzD1C,KAAKq6I,SAASM,sBACd36I,KAAK46I,6BAMF56I,KAAK66I,aAAarB,IAQ7BT,EAAoBt4I,UAAUm6I,0BAA4B,WAKtD,IAAK,GAJDE,GAAc,EACdC,EAAY,EACZC,EAAa,EACbC,EAAkBj7I,KAAKq6I,SAAkB,QAAEa,YAAet7I,EAAaI,KAAK65I,gBAAgBS,WAAWv9H,OAAS/c,KAAKq5I,cAAcr/H,EAAIha,KAAK65I,gBAAgBS,WAAWv9H,MAAQ/c,KAAKq5I,cAAcr/H,EAC7Llc,EAAI,EAAGA,EAAIkC,KAAKq6I,SAASp/H,QAAQvY,MAAO5E,IAE7C,IADAk9I,GAAch7I,KAAKq6I,SAASp/H,QAAQkgI,UAAUr9I,GAAGif,QAC/Bk+H,EAAgB,CAE9B,IAAK,GADDG,GAAY,EACP3vI,EAAIqvI,EAAarvI,GAAK3N,MAC3Bs9I,GAAap7I,KAAKq6I,SAASp/H,QAAQkgI,UAAU1vI,GAAGsR,OAChCk+H,GAFcxvI,IAK9BsvI,EAAYtvI,CAEhBzL,MAAKi5I,aAAa36I,MAAMw8I,EAAaC,IACrCD,EAAcC,EAAY,EAEtBA,GAAaj9I,IACbk9I,EAAah7I,KAAKq6I,SAASp/H,QAAQkgI,UAAUr9I,GAAGif,OAI5D/c,KAAKi5I,aAAa36I,MAAMw8I,EAAa96I,KAAKq6I,SAASp/H,QAAQvY,MAAQ,KAEvEq2I,EAAoBt4I,UAAU46I,UAAY,SAAUnrI,GAEhD,MADQA,IAGZ6oI,EAAoBt4I,UAAUwvI,iBAAmB,SAAUwJ,EAAa6B,EAAaC,EAAYr/G,EAAU9a,EAAWo6H,EAAYC,GAC9H,GAAmB,MAAfhC,EAAqB,CACrB,GAAIiC,GAAoBF,CACpBF,GAAY3/I,OAAS,IACrB+/I,EAAoBJ,EAAYA,EAAY3/I,OAAS,GAAG6/I,YAE5DD,EAAWj9I,MACP49B,SAAUA,EACVjH,OAAQ7T,EACRo6H,WAAYE,EAAoBD,MAI5C1C,EAAoBt4I,UAAUo6I,aAAe,SAAUrB,GASnD,IAAK,GARDmC,GAAc,EACdH,EAAa,EACbF,KACAC,KACArrI,EAASlQ,KAAKq7I,UAAU7B,EAAMtpI,QAC9BrS,EAAS,KACT+9I,EAAgB,GAAIjF,IACpBkF,EAAYrC,EAAME,KACbj6I,EAAQ,EAAGA,EAAQO,KAAKi5I,aAAat9I,OAAQ8D,IAAS,CAC3D,GAAI4pB,GAAQrpB,KAAKi5I,aAAax5I,EAC9BO,MAAK87I,eAAiBzyH,EAAM,GAC5BrpB,KAAK+7I,aAAe1yH,EAAM,EAK1B,KAAK,GAJD2yH,GAAYh8I,KAAKq6I,SAASl1G,KAAKziC,MAC/B5E,EAAI,EACJm+I,GAAY,EAEPxwI,EAAI,EAAGA,EAAIuwI,EAAWvwI,IAAK,CAChC,GAAIw1B,GAAMjhC,KAAKq6I,SAASl1G,KAAKo1G,OAAO9uI,EACpC3N,IACA,IAAIo+I,GAAiBl8I,KAAKq5I,cAActiE,CACf,QAArB/2E,KAAKy5I,aAAyBmC,EAAc5E,YAAYh3I,KAAKy5I,eAC7D6B,EAAYh9I,MAAO22B,OAAQ0mH,EAAaH,WAAYA,IACpDA,IACAG,EAAc,EACdC,EAAcvqH,IAAIrxB,KAAKy5I,YAAapwH,GAExC,IAAI8yH,GAAYn8I,KAAKo8I,QAAQn7G,EAW7B,KATIi7G,IAAmBl8I,KAAKq5I,cAActiE,GACtCklE,GAAY,EACZj8I,KAAKk5I,eAAiBl5I,KAAKq6I,SAASl1G,KAAKk3G,cAAcvvI,QAAQm0B,KAG/Dg7G,GAAY,EACZj8I,KAAKk5I,gBAAkB,EACvBl5I,KAAKiwI,iBAAiBjwI,KAAKy5I,YAAa6B,EAAaC,EAAY9vI,EAAGw1B,EAAIhM,OAAQumH,EAAY,KAExFW,EAAUG,UAA0B,OAAdT,GAC1B,GAAI77I,KAAKq6I,SAASkC,yBAEdv8I,KAAKy5I,YAAcz5I,KAAKw8I,kBAAkBtsI,GACtClQ,KAAKq6I,SAASoC,cACdz8I,KAAK08I,aAET18I,KAAK28I,YAAYzsI,GACjBisI,EAAYn8I,KAAKo8I,QAAQn7G,GACzB06G,GAA4B16G,EAAIhM,OAChCj1B,KAAKiwI,iBAAiBjwI,KAAKy5I,YAAa6B,EAAaC,EAAY9vI,EAAGw1B,EAAIhM,OAAQumH,EAAY,OAE3F,CAAA,IAAKx7I,KAAKq6I,SAASkC,0BAA4Bz+I,EAAInC,OAAQ,CAC5DqE,KAAKy5I,YAAcz5I,KAAKw8I,kBAAkBtsI,GACtClQ,KAAKq6I,SAASoC,cACdz8I,KAAK08I,YAET,OAEC,GAAI5+I,GAAKnC,OACV,MAGR,IAAKwgJ,EAAUG,UAA0B,OAAdT,GAAsB3rI,EAAO0sI,SAAWC,gBAAcC,SAAWb,EAAW,CAOnG,GANAj8I,KAAK06I,cAAc1gI,EAAIha,KAAKq5I,cAAcr/H,EAC1Cha,KAAKy5I,YAAcz5I,KAAKw8I,kBAAkBtsI,GACtClQ,KAAKq6I,SAASoC,cACdz8I,KAAK08I,aAET18I,KAAK06I,cAAc3jE,EAAI/2E,KAAKq5I,cAActiE,EACtC7mE,EAAO6sI,iBAAmB,GAAIzD,cAAW,EAAG,EAAG,EAAG,GAClDt5I,KAAKq5I,cAAcr/H,GAAKha,KAAK06I,cAAc1gI,MAE1C,CACD,GAAIgjI,GAAiBh9I,KAAKq5I,cAAcr/H,CACxCha,MAAKq5I,cAAcr/H,EAAIgjI,EAEvBh9I,KAAKq5I,cAAcr/H,IAAMi9H,GAAWgG,QAAQn/H,KAAKf,MAAQ,IACzD/c,KAAKq5I,cAActiE,GAAK/2E,KAAK06I,cAAc1gI,GAE/Cha,KAAKo8I,QAAQn7G,GACY,OAArBjhC,KAAKy5I,aAAyBmC,EAAc5E,YAAYh3I,KAAKy5I,cAC7DmC,EAAcvqH,IAAIrxB,KAAKy5I,YAAapwH,GAExCrpB,KAAKiwI,iBAAiBjwI,KAAKy5I,YAAa6B,EAAaC,EAAY9vI,EAAGw1B,EAAIhM,OAAQumH,EAAY,IAGhGx7I,KAAKi5I,aAAansI,QAAQuc,GAASrpB,KAAKi5I,aAAat9I,OAAS,GAChD,OAAdkgJ,GAAsB3rI,EAAO0sI,SAAWC,gBAAcC,UACtD98I,KAAKy5I,YAAcz5I,KAAKw8I,kBAAkBtsI,GAC1ClQ,KAAK28I,YAAYzsI,IAGzBrS,EAASmC,KAAKk9I,kBACVl9I,KAAKq6I,SAAS1mH,MAAMglH,yBACjB34I,KAAKq6I,SAAS1mH,MAAMilH,yBAA2BriD,4BAA0B4mD,UAC5En9I,KAAKo9I,eAAexB,GAExBN,EAAYh9I,MAAO22B,OAAQ0mH,EAAaH,WAAYA,GACpD,IAAI6B,KACJr9I,MAAKo5I,aAAemC,EAAW,GAAGtmH,OAClCsmH,EAAWjpI,QAAQ,SAAU2uB,GACpBo8G,EAAep8G,EAAIu6G,cACpB6B,EAAep8G,EAAIu6G,gBAEvB6B,EAAep8G,EAAIu6G,YAAYl9I,KAAK2iC,EAAIhM,SAE5C,IAAIqoH,GAAoB7hJ,OAAOC,KAAK2hJ,GAAgB9nI,IAAI,SAAU3Z,GAC9D,GAAI4/I,GAAax9I,SAASpC,EAAK,GAG/B,QACI4/I,WAAYA,EACZG,YAJU0B,EAAe7B,GACHxiI,OAAO,SAAUukI,EAAKC,GAAK,MAAOD,GAAMC,GAAM,KAO5E,OADAx9I,MAAKm5I,qBAAuBmE,EACrBz/I,GAEXk7I,EAAoBt4I,UAAUk8I,YAAc,SAAUzsI,GAClD,GAAIutI,GAAW,GAAIvD,UAAOjD,GAAWgG,QAAQrpH,MAAM7W,MAAQ,EAAGk6H,GAAWgG,QAAQjsH,IAAIjU,MAAQ,EACzF7M,GAAO6sI,iBAAmB,GAAIzD,cAAW,EAAG,EAAG,EAAG,IAAMt5I,KAAK06I,gBAAkB+C,IAC/Ez9I,KAAKq5I,cAAcr/H,GAAKha,KAAK06I,cAAc1gI,EAC3Cha,KAAKq5I,cAActiE,GAAK/2E,KAAK06I,cAAc3jE,IAGnDgiE,EAAoBt4I,UAAUi8I,WAAa,WACvC18I,KAAKo8I,QAAQp8I,KAAKq6I,SAASl1G,KAAKo1G,OAAO,KAE3CxB,EAAoBt4I,UAAU28I,eAAiB,SAAUM,GAIrD,IAAK,GAHD1lH,GAAWh4B,KAAKy5I,YAAYzhH,SAC5B2lH,KACAjiJ,EAAOgiJ,EAAYhiJ,OACdoC,EAAI,EAAGA,EAAIpC,EAAKC,OAAQmC,KACzB47I,EAAOh+I,EAAKoC,IACX8/I,QAAU,KACfD,EAAMr/I,KAAKo7I,GACX1hH,EAAS2lH,MAAMh/I,OAAO+6I,EAE1B,KAAS57I,EAAI,EAAGA,EAAI4/I,EAAYprE,OAAQx0E,IAEpC,IAAK,GADD4E,GAASg7I,EAAYprE,OAAStyE,KAAKi5I,aAAat9I,OAC3C8P,EAAI3N,EAAG2N,EAAIiyI,EAAYprE,OAAQ7mE,GAAK/I,EAAO,CAChD,GAAIg3I,GAAOiE,EAAMlyI,IACqB,IAAlCusB,EAAS2lH,MAAM7wI,QAAQ4sI,IACvB1hH,EAAS2lH,MAAMtsH,IAAIqoH,KAMnCX,EAAoBt4I,UAAU+7I,kBAAoB,SAAUtsI,GACxD,GAAI0tI,GAAU59I,KAAKy5I,YAAYmE,QAC3BC,EAAW,KACXp+I,EAAQm+I,EAAQ9wI,QAAQ9M,KAAKy5I,YASjC,OAPIoE,GADAp+I,IAAUm+I,EAAQl7I,MAAQ,EACfk7I,EAAQvsH,MAGRusH,EAAQE,WAAWr+I,EAAQ,GAE1CO,KAAK65I,gBAAkBgE,EAAS/D,SAChC95I,KAAKq5I,cAAgB,GAAIC,cAAW,GAAIY,UAAO,EAAG,GAAI2D,EAASjE,iBACxDiE,GAEX9E,EAAoBt4I,UAAUy8I,gBAAkB,WAC5C,GAAI/C,GAAS,GAAIb,cAAWt5I,KAAK06I,cAAe,GAAIN,SAAMp6I,KAAKq5I,cAAct8H,MAAO/c,KAAKq5I,cAActiE,EACnG/2E,KAAK06I,cAAc3jE,GACvB,OAAO,IAAIgnE,IAAwB/9I,KAAKy5I,YAAaU,IAEzDpB,EAAoBt4I,UAAUu9I,qBAAuB,SAAU9tI,GAC3D,GAAI+tI,GAAgB,GAAIvH,kBACxB,OAAQxmI,GAAO0kI,YAAcqJ,EAAcrJ,WAAa1kI,EAAOguI,mBAAqBD,EAAcC,kBAC9FhuI,EAAOiuI,WAAaF,EAAcE,UAAYjuI,EAAOkuI,kBAAoBH,EAAcG,iBACvFluI,EAAOmuI,0BAA4BJ,EAAcI,yBACjDnuI,EAAOykI,gBAAkBsJ,EAActJ,eACpCzkI,EAAOouI,YAAcL,EAAcK,WAAapuI,EAAOquI,cAAgBN,EAAcM,aACxFruI,EAAOsuI,wBAA0BP,EAAcO,uBAAyBtuI,EAAOuuI,SAAWR,EAAcQ,QACxGvuI,EAAOwuI,kBAAoBT,EAAcS,iBAAmBxuI,EAAOyuI,cAAgBV,EAAcU,aACjGzuI,EAAO0uI,iBAAmBX,EAAcW,gBAAkB1uI,EAAO2uI,cAAgBZ,EAAcY,aAC/F3uI,EAAO4uI,WAAab,EAAca,UAE1C/F,EAAoBt4I,UAAU27I,QAAU,SAAUn7G,EAAK89G,EAAc9pH,GAGjE,GAAIp6B,oBAAkBkkJ,GAAe,CACjC,GAAIlhJ,GAAS,GAAImhJ,kBAiCjB,OAhCA/pH,GAASgM,EAAIg+G,eAAiB,EAAIh+G,EAAIg+G,eAAiBh+G,EAAIhM,OACvDA,EAASj1B,KAAK25I,kBAAkB1kH,OAC5Bj1B,KAAKq6I,SAASkC,0BACd1+I,EAAOy+I,UAAW,EAClBt8I,KAAKk/I,iBAAiBrhJ,EAAQojC,EAAKhM,KAInCp3B,EAAOy+I,UAAW,EAClBt8I,KAAKo8I,QAAQn7G,EAAKpjC,EAAQo3B,IAGzBj1B,KAAKq5I,cAActiE,EAAI9hD,EAASj1B,KAAK25I,kBAAkB1kH,QAC5Dj1B,KAAKq5I,cAActiE,EAAI9hD,EAASj1B,KAAKq5I,cAAcpkH,OAC/Cj1B,KAAKk5I,gBAAkB,GAAKl5I,KAAKk5I,iBAAmBj4G,EAAI/E,SACpDl8B,KAAKq6I,SAASkC,0BACd1+I,EAAOy+I,UAAW,EAClBt8I,KAAKk/I,iBAAiBrhJ,EAAQojC,EAAKhM,KAGnCp3B,EAAOy+I,UAAW,EAClBt8I,KAAKo8I,QAAQn7G,EAAKpjC,EAAQo3B,IAI9Bp3B,EAAOy+I,UAAW,GAItBz+I,EAAOy+I,UAAW,EAClBt8I,KAAKo8I,QAAQn7G,EAAKpjC,EAAQo3B,IAEvBp3B,EAGP,GAAIshJ,GAAa,GAAIjF,UAAOl6I,KAAKq5I,cAAcr/H,EAAGha,KAAKq5I,cAActiE,EACrEgoE,GAAa5E,OAAS,GAAIb,cAAW6F,EAAY,GAAI/E,SAAM,EAAG,GAC9D,IAAIgF,GAAiB,CACrBnqH,GAASj1B,KAAKq/I,kBAAkBp+G,EAAKhM,EACrC,KAAK,GAAIn3B,GAAIkC,KAAK87I,eAAgBh+I,GAAKkC,KAAK+7I,aAAcj+I,IAAK,CAC3D,GAAI64H,GAAO11F,EAAImgE,MAAMo5C,QAAQ18I,GACzBmlC,EAASjjC,KAAKq6I,SAASp/H,QAAQkgI,UAAUr9I,EAC7C,KAAKjD,oBAAkB87H,EAAKt3H,OAAQ,CAC5B4jC,EAAOq8G,eACPF,EAA+B,GAAbn+G,QAEtB,IAAIs+G,GAAgB5oB,EAAK6oB,WAAa,GAAO1hJ,EAAIkC,KAAK+7I,aAAe,CACrE,KAAKwD,EACD,IAAK,GAAI9zI,GAAI,EAAGA,EAAIkrH,EAAK6oB,WAAY/zI,IACjCw1B,EAAImgE,MAAMo5C,QAAQ18I,EAAI2N,GAAGg0I,qBAAsB,CAGvD,IAAIntE,GAAO,GAAI8nE,SAAMn3G,EAAOlmB,MAAOkY,EAC/B0hG,GAAK6oB,WAAa,IAClBltE,EAAO,GAAI8nE,SAAMzjB,EAAK55G,MAAOkY,GAC7Bn3B,GAAK64H,EAAK6oB,aAETx/I,KAAKg+I,qBAAqB/6G,EAAO/yB,SAAWlQ,KAAKg+I,qBAAqBrnB,EAAKhjG,MAAMzjB,UAClFymH,EAAKhjG,MAAMzjB,OAAS+yB,EAAO/yB,QAE/BymH,EAAK+oB,KAAK1/I,KAAK65I,gBAAiB,GAAIP,cAAW6F,EAAY7sE,GAAOitE,EAAaH,GAE3En+G,EAAIo5G,SAAS1mH,MAAMglH,0BAA4BhiB,EAAK6oB,WAAax/I,KAAK+7I,cAAgBj+I,EAAI64H,EAAK6oB,WAAax/I,KAAK+7I,aAAe,IAAM/7I,KAAK+7I,aAAe96G,EAAImgE,MAAM1+F,MAAQ,IAC5Ku+B,EAAI0+G,iBAAmB3/I,KAAK+7I,cAEhCoD,EAAWnlI,GAAKipB,EAAOlmB,MACvBqiI,EAAiB,GAMzB,MAHAp/I,MAAKq5I,cAActiE,GAAK9hD,EAExB8pH,EAAa5E,OAAS,GAAIb,cAAW,GAAIY,UAAO6E,EAAa5E,OAAOngI,EAAG+kI,EAAa5E,OAAOpjE,GAAI,GAAIqjE,SAAM+E,EAAWnlI,EAAGmlI,EAAWpoE,IAC3H,MASfgiE,EAAoBt4I,UAAUy+I,iBAAmB,SAAUrhJ,EAAQojC,EAAKhM,GACpE,GAAIwoH,GAAW,GAAIvD,UAAOl6I,KAAKq5I,cAAcr/H,EAAGha,KAAKq5I,cAActiE,EACnEl5E,GAAOs8I,OAAS,GAAIb,cAAWmE,EAAU,GAAIrD,SAAM,EAAG,GACtD,IAAIgF,GAAiB,CACrBp/I,MAAK4/I,eAAiB5/I,KAAKq5I,cAAcpkH,OAEzCgM,EAAIg+G,eAAiBj/I,KAAKq5I,cAActiE,EAAI9hD,EAASj1B,KAAKq5I,cAAcpkH,MAExE,KAAK,GAAI80B,GAAI,EAAGA,EAAI9oB,EAAImgE,MAAM1+F,MAAOqnD,KAC7B4sE,EAAO11F,EAAImgE,MAAMo5C,QAAQzwF,IACP81F,kBACH5qH,GAAyB,OAAf0hG,EAAKt3H,QAC9B4hC,EAAIg+G,eAAiBj/I,KAAKq5I,cAActiE,EAAI9hD,EAASj1B,KAAKq5I,cAAcpkH,OAGhF,KAAK,GAAIn3B,GAAIkC,KAAK87I,eAAgBh+I,GAAKkC,KAAK+7I,aAAcj+I,IAAK,CAC3D,GAAImlC,GAASjjC,KAAKq6I,SAASp/H,QAAQkgI,UAAUr9I,EACzCmlC,GAAOq8G,eACPF,EAA6B,GAAZn+G,EAAIrnB,MAEzB,IAAI+8G,GAAO11F,EAAImgE,MAAMo5C,QAAQ18I,GACzByhJ,EAAgB5oB,EAAK6oB,WAAa1hJ,EAAIkC,KAAK+7I,aAAe,GAAOplB,EAAK6oB,WAAa,CACvF,KAAKD,EACD,IAAK,GAAI9zI,GAAI,EAAGA,EAAIkrH,EAAK6oB,WAAY/zI,IACjCw1B,EAAImgE,MAAMo5C,QAAQ18I,EAAI2N,GAAGg0I,qBAAsB,CAGvD,IAAIrqF,GAAUp1D,KAAK4/I,eAAiB,EAAI5/I,KAAK4/I,eAAiB5/I,KAAKq5I,cAAcpkH,OAC7Eq9C,EAAO,GAAI8nE,SAAMn3G,EAAOlmB,MAAOq4C,IAC9Bp1D,KAAKg+I,qBAAqB/6G,EAAO/yB,SAAWlQ,KAAKg+I,qBAAqBrnB,EAAKhjG,MAAMzjB,UAClFymH,EAAKhjG,MAAMzjB,OAAS+yB,EAAO/yB,QAE/BymH,EAAK+oB,KAAK1/I,KAAK65I,gBAAiB,GAAIP,cAAWmE,EAAUnrE,GAAOitE,EAAaH,GAC7EvhJ,EAAOy+I,SAAaz+I,EAAOy+I,SAA8B3lB,EAAKmpB,oBAAvBjiJ,EAAOy+I,SAC9CmB,EAASzjI,GAAKipB,EAAOlmB,MACrBqiI,EAAiB,EACjBp/I,KAAKq5I,cAActiE,GAAK/2E,KAAK4/I,eAAiB,EAAI5/I,KAAK4/I,eAAiB3qH,EACxEp3B,EAAOs8I,OAAS,GAAIb,cAAW,GAAIY,UAAOr8I,EAAOs8I,OAAOngI,EAAGnc,EAAOs8I,OAAOpjE,GAAI,GAAIqjE,SAAMqD,EAASzjI,EAAGyjI,EAAS1mE,MAWpHgiE,EAAoBt4I,UAAU4+I,kBAAoB,SAAUp+G,EAAKhM,GAE7D,IAAK,GADD8qH,GAAY,EACPjiJ,EAAIkC,KAAK87I,eAAgBh+I,GAAKkC,KAAK+7I,aAAcj+I,IACjDjD,oBAAkBomC,EAAImgE,MAAMo5C,QAAQ18I,GAAGkiJ,kBACC,KAAzC/+G,EAAImgE,MAAMo5C,QAAQ18I,GAAGkiJ,kBACrBD,EAAY7sI,KAAK+oC,IAAI8jG,EAAW9+G,EAAImgE,MAAMo5C,QAAQ18I,GAAG+hJ,iBAG7D,OAAO3sI,MAAK+oC,IAAIhnB,EAAQ8qH,IAErBhH,GACTkH,mBAEElC,GAAyC,SAAU/pI,GASnD,QAAS+pI,GAAwBrE,EAAMS,GACnC,MAAOnmI,GAAOC,KAAKjU,KAAM05I,EAAMS,IAAWn6I,KAE9C,MAXAoT,IAAU2qI,EAAyB/pI,GAW5B+pI,GACTmC,mBAKEC,GAAyC,SAAUnsI,GAQnD,QAASmsI,GAAwBnH,GAQ7B,WAN0B,KAAfA,EACChlI,EAAOC,KAAKjU,OAASA,KAGrBgU,EAAOC,KAAKjU,KAAMg5I,IAAeh5I,KAIjD,MAjBAoT,IAAU+sI,EAAyBnsI,GAiB5BmsI,GACTC,mBCpeEhtI,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAUnFysI,GAA6B,SAAUrsI,GAEvC,QAASqsI,KACL,GAAIpvI,GAAQ+C,EAAOC,KAAKjU,OAASA,IAWjC,OAVAiR,GAAMqvI,aAAe,GAAIlG,SAAM,EAAG,GAClCnpI,EAAMkvC,gBAAkB,EACxBlvC,EAAMsrI,0BAA2B,EACjCtrI,EAAMwrI,cAAe,EACrBxrI,EAAMwb,cAAe,EACrBxb,EAAMgK,QAAU,GAAIslI,IAA4BtvI,GAChDA,EAAMk0B,KAAO,GAAIq7G,IAAyBvvI,GAC1CA,EAAMwvI,QAAU,GAAIC,IAA4BzvI,GAChDA,EAAM0iB,MAAQ,GAAI2kH,IAClBrnI,EAAMmQ,UAAY,EACXnQ,EA+JX,MA5KAmC,IAAUitI,EAAarsI,GAevBvY,OAAO2uD,eAAei2F,EAAY5/I,UAAW,QAsBzCurB,IAAK,WAID,MAHiC,KAA5BhsB,KAAKsgJ,aAAavjI,OAA4C,IAA7B/c,KAAKsgJ,aAAarrH,SACpDj1B,KAAKsgJ,aAAetgJ,KAAK2gJ,yBAEtB3gJ,KAAKsgJ,cAEhBrnI,IAAK,SAAU5Z,GACXW,KAAKsgJ,aAAejhJ,GAExB60I,YAAY,EACZC,cAAc,IAQlBkM,EAAY5/I,UAAUi/I,KAAO,SAAUkB,EAAMC,EAAMC,EAAMC,GACrD,GAAIF,YAAgB3G,eAAgC,KAAf2G,EAAK9jI,WAAyC,KAAT+jI,EACtE,MAAO9gJ,MAAKghJ,WAAWJ,EAAMC,EAAK7mI,EAAG6mI,EAAK9pE,EAEzC,IAAoB,gBAAT8pE,IAAqC,gBAATC,QAAqC,KAATC,EACpE,MAAO/gJ,MAAKghJ,WAAWJ,EAAMC,EAAMC,EAAM,KAExC,IAAID,YAAgBvH,mBAAoC,KAAfuH,EAAK9jI,WAAyC,KAAT+jI,EAC/E,MAAO9gJ,MAAKghJ,WAAWJ,EAAMC,EAAM,KAElC,IAAIA,YAAgB3G,eAAgC,KAAf2G,EAAK9jI,OAAyB+jI,YAAgBV,mBACpF,MAAOpgJ,MAAKghJ,WAAWJ,EAAMC,EAAK7mI,EAAG6mI,EAAK9pE,EAAG+pE,EAE5C,IAAoB,gBAATD,IAAqC,gBAATC,KAAsBC,YAAgBX,oBAA4B,OAATW,GAAgB,CACjH,GAAIhkI,GAAS6jI,EAAK9G,SAASQ,WAAWv9H,MAAQ8jI,EAC1CI,EAAkB,GAAI3H,cAAWuH,EAAMC,EAAM/jI,EAAO,EACxD,OAAO/c,MAAKghJ,WAAWJ,EAAMK,EAAiBF,GAE7C,MAAIF,aAAgBvH,mBAAoC,KAAfuH,EAAK9jI,OAAyC,iBAAT+jI,GACxE9gJ,KAAKghJ,WAAWJ,EAAMC,EAAM,MAG5B7gJ,KAAKghJ,WAAWJ,EAAMC,EAAMC,IAG3CT,EAAY5/I,UAAUk6I,oBAAsB,SAAUR,GAClD,OAAsB,KAAXA,EAEP,IAAK,GADD+G,GAASlhJ,KAAKib,QAAQkmI,iBAAiBhH,EAAOp9H,MAAQo9H,EAAOngI,GACxDlc,EAAI,EAAGA,EAAIkC,KAAKib,QAAQvY,MAAO5E,IAChCkC,KAAKib,QAAQkgI,UAAUr9I,GAAGif,MAAQ,IAClC/c,KAAKib,QAAQkgI,UAAUr9I,GAAGif,MAAQmkI,EAAOpjJ,QAIhD,CAmBD,IAAK,GAlBDojJ,MACApnG,EAAY,EAEZsnG,EAAW,EAcXC,EAAWrhJ,KAAKib,QAAQvY,MACnB5E,EAAI,EAAGA,EAAIujJ,EAAUvjJ,IAAK,CAE/B,IAAK,GADD46H,GAAW14H,KAAKmlC,KAAKziC,MAChB+I,EAAI,EAAGA,EAAIitH,EAAUjtH,IAAK,CAC/B,GAAI69F,GAAYtpG,KAAKmlC,KAAKo1G,OAAO9uI,GAAG21F,MAAMo5C,QAAQ18I,GAAGif,MACjDukI,EAAWthJ,KAAKuhJ,aAAe,EAAIruI,KAAK5E,IAAItO,KAAKuhJ,aAAcj4C,GAAaA,CAChFxvD,GAAY5mC,KAAK+oC,IAAInC,EAAWwnG,GAChCxnG,EAAY5mC,KAAK+oC,IAAIj8C,KAAKib,QAAQkgI,UAAUr9I,GAAGif,MAAO+8B,GAClD95C,KAAKib,QAAQkgI,UAAUr9I,GAAGwhJ,eAC1B8B,EAAWluI,KAAK+oC,IAAImlG,EAAUphJ,KAAKmlC,KAAKo1G,OAAO9uI,GAAGmO,QAGtD5Z,KAAKib,QAAQkgI,UAAUr9I,GAAGwhJ,aAC1B4B,EAAO5iJ,KAAKw7C,EAAwB,GAAXsnG,GAGzBF,EAAO5iJ,KAAKw7C,GAIhBA,EAAY,EAEhB,IAASh8C,EAAI,EAAGA,EAAIkC,KAAKib,QAAQvY,MAAO5E,IAChCkC,KAAKib,QAAQkgI,UAAUr9I,GAAGif,MAAQ,IAClC/c,KAAKib,QAAQkgI,UAAUr9I,GAAGif,MAAQmkI,EAAOpjJ,MAKzDuiJ,EAAY5/I,UAAUkgJ,sBAAwB,WAG1C,IAAK,GAFD1rH,GAAS,EACTlY,EAAQ/c,KAAKib,QAAQ8B,MAChBjf,EAAI,EAAGA,EAAIkC,KAAKygJ,QAAQ/9I,MAAO5E,IAEpCm3B,IADIgM,EAAMjhC,KAAKygJ,QAAQe,UAAU1jJ,IACnBm3B,MAElB,KAASn3B,EAAI,EAAGA,EAAIkC,KAAKmlC,KAAKziC,MAAO5E,IAAK,CACtC,GAAImjC,GAAMjhC,KAAKmlC,KAAKo1G,OAAOz8I,EAC3Bm3B,IAAUgM,EAAIhM,OAElB,MAAO,IAAImlH,SAAMr9H,EAAOkY,IAE5BorH,EAAY5/I,UAAUghJ,SAAW,SAAU/H,EAAM1/H,EAAG+8D,EAAG7mE,GACnDlQ,KAAKuhJ,aAAe7H,EAAKI,SAASQ,WAAWv9H,KAC7C,IAAI6/H,GAAS,GAAItD,cAAW,EAAG,EAAGI,EAAKE,gBAAgB3kH,OAAQ,EAC/D,OAAOj1B,MAAK0/I,KAAKhG,EAAMkD,EAAQ1sI,IAEnCmwI,EAAY5/I,UAAUm8I,OAAS,SAAUpD,GACrC,GAAwB,IAApBx5I,KAAKmlC,KAAKziC,MAAa,CACvB,GAAIixB,GAA6C,IAApC3zB,KAAKmlC,KAAKo1G,OAAO,GAAGn5C,MAAM1+F,MAAe1C,KAAKmlC,KAAKo1G,OAAO,GAAGn5C,MAAMo5C,QAAQ,GAAG7mH,MAAQ,IACnG,KAAK94B,oBAAkB84B,IAAuC,IAA7BA,EAAM8mH,QAAQ38H,KAAKf,MAAa,CAC7D,GAAI/C,GAAI2Z,EAAM8mH,QAAQ38H,KAAKf,MAAQ,EAC/Bg6D,EAAIpjD,EAAM8mH,QAAQzpH,IAAIjU,MAAQ,CAClC,IAAIy8H,EAAMW,OAAOngI,IAAMi9H,GAAWgG,QAAQrpH,MAAM7W,MAAQ,GACpDy8H,EAAMW,OAAOpjE,IAAMkgE,GAAWgG,QAAQrpH,MAAM7W,MAAQ,EAAG,CACvD,GAAI2kI,GAAW,GAAIpI,cAAW,GAAIY,UAAOlgI,EAAG+8D,GAAI,GAAIqjE,SAAMp6I,KAAKsyE,KAAKv1D,MAAO/c,KAAKsyE,KAAKr9C,QACrFukH,GAAMW,OAASuH,IAO3B,MAFA1hJ,MAAK2hJ,SAAW,GAAI5I,IAAoB/4I,MAC3BA,KAAK2hJ,SAASpI,eAAeC,IAGvC6G,GACTuB,oBC5LEC,GAAiC,WACjC,QAASA,GAAgB5gH,GACrBjhC,KAAK85C,UAAY,EACjB95C,KAAK8hJ,WAAa,EAElB9hJ,KAAK8/I,qBAAsB,EACvBjlJ,oBAAkBomC,IAClBjhC,KAAK+hJ,QAAU,EACf/hJ,KAAKw/I,WAAa,GAGlBx/I,KAAKihC,IAAMA,EAEfjhC,KAAK2zB,SAkYT,MAhYAl4B,QAAO2uD,eAAey3F,EAAgBphJ,UAAW,UAO7CurB,IAAK,WAID,MAHwB,KAApBhsB,KAAK8hJ,aACL9hJ,KAAK8hJ,WAAa9hJ,KAAK6/I,iBAEpB7/I,KAAK8hJ,YAEhB7oI,IAAK,SAAU5Z,GACXW,KAAK8hJ,WAAaziJ,GAEtB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAey3F,EAAgBphJ,UAAW,SAO7CurB,IAAK,WAID,MAHuB,KAAnBhsB,KAAK85C,YACL95C,KAAK85C,UAAY95C,KAAKgiJ,gBAEnB9uI,KAAKgY,MAAMlrB,KAAK85C,YAE3B7gC,IAAK,SAAU5Z,GACXW,KAAK85C,UAAYz6C,GAErB60I,YAAY,EACZC,cAAc,IAElB0N,EAAgBphJ,UAAUuhJ,aAAe,WACrC,GAAIjlI,GAAQ,EACR4kI,EAAW,GAAIM,oBACnB,IAA0B,gBAAfjiJ,MAAKX,MAAoB,CAEhC,GAAI6iJ,GAAO,GAAIC,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAUt0I,KAAK2zB,MAAMshH,UAEpGiN,GADAliJ,KAAKihC,IAAImhH,YACF,GAAID,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAU+N,eAAaC,MAG/F,GAAIH,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAUt0I,KAAK2zB,MAAMshH,WAEpGj1I,KAAKihC,IAAIo5G,SAAS1G,WAAWuO,OAC7BA,EAAOliJ,KAAKihC,IAAIo5G,SAAS1G,WAAWuO,MAIxCnlI,GADU4kI,EAAS/E,OAAO58I,KAAKX,MAAO6iJ,EAAMliJ,KAAK2zB,MAAMzjB,OAAQ,GAAIkqI,SAAM5xI,OAAO+5I,UAAW/5I,OAAO+5I,YAAY,EAAO,GAAInI,SAAM,EAAG,IACrHoI,WAAWzlI,MACxBA,GAA4E,GAAlE/c,KAAK2zB,MAAM8mH,QAAQ38H,KAAKf,MAAQ/c,KAAK2zB,MAAM8mH,QAAQ7mH,MAAM7W,OASvE,WAPwD,KAA7C/c,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYh7H,MAAwB9d,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYjB,aACvG96H,GAAS/c,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYh7H,UAEQ,KAA9C9d,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYllH,OAAyB5zB,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYhB,cACxG/6H,GAAS/c,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYllH,OAEjD7W,GAAS/c,KAAKihC,IAAIo5G,SAAS1mH,MAAM4kH,aAQrCsJ,EAAgBphJ,UAAUo/I,cAAgB,WACtC,GAAIz+H,GAAYphB,KAAKihC,IAAIo5G,SAASj5H,UAC9B6T,EAAS,EACTlY,EAAQ/c,KAAK4c,gBACjBG,IAAS/c,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYllH,MAAQ5zB,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYh7H,KACzFf,GAAS/c,KAAK2zB,MAAM8mH,QAAUz6I,KAAK2zB,MAAM8mH,QAAQ38H,KAAKf,MAAQ/c,KAAK2zB,MAAM8mH,QAAQ7mH,MAAM7W,MAAQ,CAC/F,IAAI4kI,GAAW,GAAIM,oBACnB,IAA0B,gBAAfjiJ,MAAKX,OAAsD,gBAAzBW,MAAKggJ,gBAA8B,CAC5E,GAAIp7E,GAAe5kE,KAAKX,KACnBW,MAAK8/I,sBACNl7E,EAAiB/pE,oBAAkBmF,KAAKggJ,kBAA6C,KAAzBhgJ,KAAKggJ,gBAAiDhgJ,KAAKX,MAA5BW,KAAKggJ,gBAEpG,IAAIkC,GAAO,IAEPA,GADAliJ,KAAKihC,IAAImhH,YACF,GAAID,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAU+N,eAAaC,MAG/F,GAAIH,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAUt0I,KAAK2zB,MAAMshH,WAEpGj1I,KAAKihC,IAAIo5G,SAAS1G,WAAWuO,OAC7BA,EAAOliJ,KAAKihC,IAAIo5G,SAAS1G,WAAWuO,KAGxC,IAAIO,GAAMd,EAAS/E,OAAOh4E,EAAcs9E,EAAMliJ,KAAK2zB,MAAMzjB,OAAQ,GAAIkqI,SAAMr9H,EAAQ,GAAI,IAAI,EAAO,GAAIq9H,SAAM,EAAG,IAC3G/6I,EAAQ6T,KAAK+oC,IAAIwmG,EAAIzyE,WAAYyyE,EAAID,WAAWvtH,OAChD2vC,GAAajpE,OAAS,GACtBs5B,GAAU51B,EAAQ,GAGlB41B,GAAU51B,EAASojJ,EAAInwE,KAAKr9C,OAAS,EAEzCA,GAA6E,GAAlEj1B,KAAK2zB,MAAM8mH,QAAQzpH,IAAIjU,MAAQ/c,KAAK2zB,MAAM8mH,QAAQ7C,OAAO76H,OAIxE,MAFAkY,IAAUj1B,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAY9nH,IAAMhxB,KAAKihC,IAAIo5G,SAAS1mH,MAAMmlH,YAAYlB,OACxF3iH,GAAUj1B,KAAKihC,IAAIo5G,SAAS1mH,MAAM4kH,YAC3BtjH,EAAS7T,EAAY6T,EAAS7T,GAGzCygI,EAAgBphJ,UAAUmc,eAAiB,WAIvC,IAAK,GAHDomB,GAAYhjC,KAAKihC,IAAImgE,MAAMt0F,QAAQ9M,MACnCw/I,EAAax/I,KAAKw/I,WAClBziI,EAAQ,EACHjf,EAAI,EAAGA,EAAI0hJ,EAAY1hJ,IAC5Bif,GAAS/c,KAAKihC,IAAIo5G,SAASp/H,QAAQkgI,UAAUn4G,EAAYllC,GAAKkC,KAAKihC,IAAIo5G,SAASp/H,QAAQkgI,UAAUn4G,EAAYllC,GAAGif,MAAQ,CAK7H,OAHI/c,MAAKihC,IAAIo5G,SAASp/H,QAAQkgI,UAAUn4G,IAAchjC,KAAKihC,IAAIo5G,SAASp/H,QAAQkgI,UAAUn4G,GAAWs8G,eACjGviI,GAA2B,GAAjB/c,KAAKihC,IAAIrnB,OAEhBmD,GAYX8kI,EAAgBphJ,UAAUi/I,KAAO,SAAU5F,EAAUK,EAAQuI,EAAuBtD,GAChF,GAAIvhJ,GAAS,IAuBbmC,MAAK2iJ,mBAAmB7I,EAAUK,EAClC,IACIyI,GAAY,GAAIC,iBAAc7iJ,KAAK2zB,MAAM4gH,WACzC2N,EAAO,IACX,IAAIliJ,KAAKihC,IAAImhH,YAAa,CACtB,GAAInN,GAAYoN,eAAaC,IACzBtiJ,MAAK2zB,MAAMshH,YACXA,EAAYj1I,KAAK2zB,MAAMshH,WAE3BiN,EAAO,GAAIC,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAUW,OAGzFiN,GAAO,GAAIC,mBAAgBniJ,KAAKihC,IAAIo5G,SAAS1G,WAAWkB,WAAY70I,KAAK2zB,MAAM2gH,SAAUt0I,KAAK2zB,MAAMshH,UAEpGj1I,MAAKihC,IAAIo5G,SAAS1G,WAAWuO,OAC7BA,EAAOliJ,KAAKihC,IAAIo5G,SAAS1G,WAAWuO,KAExC,IAAIY,GAAkB3I,CAmBtB,IAlBKn6I,KAAK+iJ,eAEND,EAAgB9oI,EAAI8oI,EAAgB9oI,EAEpC8oI,EAAgB/lI,MAAQ+lI,EAAgB/lI,OAExC+lI,EAAgB7tH,QAAU6kH,EAASQ,WAAWrlH,SAE1Cj1B,KAAKihC,IAAIo5G,SAASkC,0BAClBuG,EAAgB7tH,QAAU6tH,EAAgB/rE,EAC1CojE,EAAOllH,QAAUklH,EAAOpjE,IAGxB+rE,EAAgB7tH,OAAS6kH,EAASQ,WAAWrlH,OAC7CklH,EAAOllH,OAAS6kH,EAASQ,WAAWrlH,SAG5C6tH,EAAkB9iJ,KAAKgjJ,wBAAwBF,GAC3C9iJ,KAAKijJ,OAASjjJ,KAAKX,MAAO,CACtB6jJ,MAAc,EAEdA,GADAljJ,KAAKijJ,MAAMlmI,OAAS+lI,EAAgB/lI,MACtB,GAAIu8H,cAAWwJ,EAAgB9oI,EAAIolI,EAAgB0D,EAAgB/rE,EAAG/2E,KAAKijJ,MAAMlmI,MAAO/c,KAAKijJ,MAAMhuH,QAGnG6tH,EAElBhJ,EAASqJ,UAAUnjJ,KAAKijJ,MAAOC,EAAYlpI,EAAIolI,EAAgB8D,EAAYnsE,EAAI,EAAGmsE,EAAYnmI,MAAOmmI,EAAYjuH,OACjH,IAAI35B,GAAO,KAEP8nJ,MAAiB,GACjBC,EAAarjJ,KAAKi1I,SACjBoO,KACDA,EAAarjJ,KAAK2zB,MAElB2vH,GAAU,GAAInB,mBAAgBkB,EAAWxO,WAAYwO,EAAW/O,SAAU+O,EAAWpO,UAErFmO,GADAC,EAAWxO,WACMyO,EAGApB,CAEjBqB,GAAkBX,CAClB5iJ,MAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAK6sB,YAClCD,EAAkB,GAAIV,iBAAc7iJ,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAK6sB,YAEtExjJ,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAKzmH,OAAO0kI,YAAc50I,KAAK+iJ,eAC5D/iJ,KAAK2zB,MAAMzjB,OAAO0kI,UAAY50I,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAKzmH,OAAO0kI,WAEvE50I,KAAK8/I,qBACLxkJ,EAAiC,KAAzB0E,KAAKggJ,gBAA0BhgJ,KAAKggJ,gBAAkBhgJ,KAAKX,MAEnEy6I,EAAS2J,WAAWnoJ,EAAM8nJ,EApEpB,KAoE6CG,EAAkBT,EAAgB9oI,EAAIolI,GAAkB8D,EAAYnmI,MAAQmmI,EAAYnmI,MAAQ,EAAI,GAAK/c,KAAK+iJ,aAAeD,EAAgB/rE,EAAI,GAAK+rE,EAAgB/rE,EAAI+rE,EAAgB/lI,MAAQqiI,EA3F/O,GA2F2Q0D,EAAgB7tH,OA3F3R,GA2F8Sj1B,KAAK2zB,MAAMzjB,SAI/T4pI,EAAS2J,WAAWzjJ,KAAKggJ,gBAAiBoD,EAxEpC,KAwE6DG,EAAkBT,EAAgB9oI,EAAIolI,EAAiBp/I,KAAK+iJ,aAAeD,EAAgB/rE,EAAI,GAAK+rE,EAAgB/rE,EAAG/2E,KAAK2zB,MAAMzjB,QAEzMrS,EAASi8I,EAAS4J,uBAEjB,IAA0B,gBAAf1jJ,MAAKX,OAAsD,gBAAzBW,MAAKggJ,gBAA8B,CACjF,GAAI1kJ,GAAO,KACP8nJ,MAAiB,GACjBE,EAAU,GAAInB,mBAAgBniJ,KAAK2zB,MAAMkhH,WAAY70I,KAAK2zB,MAAM2gH,SAAUt0I,KAAK2zB,MAAMshH,UAErFmO,GADApjJ,KAAK2zB,MAAMkhH,WACMyO,EAGApB,CAErB,IAAIqB,GAAkBX,CAClB5iJ,MAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAK6sB,YAClCD,EAAkB,GAAIV,iBAAc7iJ,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAK6sB,YAEtExjJ,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAKzmH,OAAO0kI,YAAc50I,KAAK+iJ,eAC5D/iJ,KAAK2zB,MAAMzjB,OAAO0kI,UAAY50I,KAAKihC,IAAIo5G,SAAS1G,WAAWhd,KAAKzmH,OAAO0kI,WAEvE50I,KAAK8/I,qBACLxkJ,EAAiC,KAAzB0E,KAAKggJ,gBAA0BhgJ,KAAKggJ,gBAAkBhgJ,KAAKX,MAEnEy6I,EAAS2J,WAAWnoJ,EAAM8nJ,EAhGpB,KAgG6CG,EAAkBT,EAAgB9oI,EAAIolI,EAAiBp/I,KAAK+iJ,aAAeD,EAAgB/rE,EAAI,GAAK+rE,EAAgB/rE,EAAI,EAAI+rE,EAAgB/lI,MAAQqiI,EAvHjM,GAuH6N0D,EAAgB7tH,OAvH7O,GAuHgQj1B,KAAK2zB,MAAMzjB,SAIjR4pI,EAAS2J,WAAWzjJ,KAAKggJ,gBAAiBoD,EApGpC,KAoG6DG,EAAkBT,EAAgB9oI,EAAIolI,EAAiBp/I,KAAK+iJ,aAAeD,EAAgB/rE,EAAI,GAAK+rE,EAAgB/rE,EAAG/2E,KAAK2zB,MAAMzjB,QAEzMrS,EAASi8I,EAAS4J,uBAEjB,IAAI1jJ,KAAKX,gBAAiBskJ,aAAY3jJ,KAAKX,gBAAiBukJ,aAAW,CACxE,GAAIV,OAAc,EAEdA,GADAljJ,KAAKX,MAAM0d,OAAS+lI,EAAgB/lI,MACtB,GAAIu8H,cAAWwJ,EAAgB9oI,EAAG8oI,EAAgB/rE,EAAG/2E,KAAKX,MAAM0d,MAAO+lI,EAAgB7tH,QAGvF6tH,EAElBhJ,EAASqJ,UAAUnjJ,KAAKX,MAAO6jJ,EAAYlpI,EAAGkpI,EAAYnsE,EAAI,GAAImsE,EAAYnmI,MAAOmmI,EAAYjuH,YAE5Fj1B,MAAKX,gBAAiBwkJ,mBAC3B7jJ,KAAKX,MAAMqgJ,KAAK5F,EAASL,YAAaqJ,EAK1C,OAH2B,QAAvB9iJ,KAAK2zB,MAAM8mH,SACXz6I,KAAK8jJ,eAAehK,EAAUK,GAE3Bt8I,GAUXgkJ,EAAgBphJ,UAAUkiJ,mBAAqB,SAAU7I,EAAUK,GAC/D,GAAI4J,GAAkB,GAAIlB,iBAAc7iJ,KAAK2zB,MAAMspC,gBAC3B,QAApB8mF,IACAjK,EAAS7qD,OACT6qD,EAASkK,cAAcD,EAAiB5J,EAAOngI,EAAGmgI,EAAOpjE,EAAGojE,EAAOp9H,MAAOo9H,EAAOllH,QACjF6kH,EAASmK,YAcjBpC,EAAgBphJ,UAAUuiJ,wBAA0B,SAAU7I,GAE1D,GAAI+J,GAAe,GAAI5K,cAAW,GAAIY,UAAOC,EAAOngI,EAAGmgI,EAAOpjE,GAAI,GAAIqjE,SAAMD,EAAOp9H,MAAOo9H,EAAOllH,SAC7F6jH,EAAc94I,KAAK2zB,MAAMq9C,OAC7B,IAAIhxE,KAAKX,gBAAiBghJ,IAAa,CACnC,GAAI/tE,GAAOtyE,KAAKX,MAAMizE,IAClBtyE,MAAK2zB,MAAMzjB,OAAO0kI,YAAcuP,mBAAiBC,QACjDF,EAAalqI,GAAK8+H,EAAYh7H,MAAQomI,EAAannI,MAAQu1D,EAAKv1D,OAAS,EACzEmnI,EAAantE,GAAK+hE,EAAY9nH,KAAOkzH,EAAajvH,OAASq9C,EAAKr9C,QAAU,GAErEj1B,KAAK2zB,MAAMzjB,OAAO0kI,YAAcuP,mBAAiBE,MACtDH,EAAalqI,GAAK8+H,EAAYh7H,KAC9BomI,EAAantE,GAAK+hE,EAAY9nH,KAEzBhxB,KAAK2zB,MAAMzjB,OAAO0kI,YAAcuP,mBAAiBG,QACtDJ,EAAalqI,GAAK8+H,EAAYh7H,MAAQomI,EAAannI,MAAQu1D,EAAKv1D,OAChEmnI,EAAantE,GAAK+hE,EAAY9nH,SAIlCkzH,GAAalqI,GAAK8+H,EAAYh7H,KAC9BomI,EAAantE,GAAK+hE,EAAY9nH,GAElC,OAAOkzH,IAQXrC,EAAgBphJ,UAAUqjJ,eAAiB,SAAUhK,EAAUK,GAO3D,GANIn6I,KAAKihC,IAAIo5G,SAAS1mH,MAAM6kH,qBAAuBC,wBAAsB8L,SACrEpK,EAAOngI,GAAKha,KAAK2zB,MAAM8mH,QAAQ38H,KAAKf,MACpCo9H,EAAOpjE,GAAK/2E,KAAK2zB,MAAM8mH,QAAQzpH,IAAIjU,MACnCo9H,EAAOp9H,OAAS/c,KAAK2zB,MAAM8mH,QAAQ7mH,MAAM7W,MACzCo9H,EAAOllH,QAAUj1B,KAAK2zB,MAAM8mH,QAAQ7C,OAAO76H,OAE3C/c,KAAK2zB,MAAM8mH,QAAQ+J,OAASxkJ,KAAK+iJ,aAGjC,MAFAjJ,GAASkK,cAAchkJ,KAAK2zB,MAAM8mH,QAAQ38H,KAAMq8H,EAAOngI,EAAGmgI,EAAOpjE,EAAGojE,EAAOp9H,MAAOo9H,EAAOllH,YACzF6kH,GAASmK,SAIT,IAAIQ,GAAK,GAAIvK,UAAOC,EAAOngI,EAAGmgI,EAAOpjE,EAAIojE,EAAOllH,QAC5CyvH,EAAK,GAAIxK,UAAOC,EAAOngI,EAAGmgI,EAAOpjE,GACjC4tE,EAAM3kJ,KAAK2zB,MAAM8mH,QAAQ38H,IAC7B6mI,GAAIC,QAAW5kJ,KAAK2zB,MAAM8mH,QAAQ38H,KAAKi2H,YAAcC,eAAamD,MAAS0N,aAAWC,OAASH,EAAIC,QACnG9K,EAASiL,SAASJ,EAAKF,EAAIC,GAC3B5K,EAASmK,UACTQ,EAAK,GAAIvK,UAAOC,EAAOngI,EAAImgI,EAAOp9H,MAAOo9H,EAAOpjE,GAChD2tE,EAAK,GAAIxK,UAAOC,EAAOngI,EAAImgI,EAAOp9H,MAAOo9H,EAAOpjE,EAAIojE,EAAOllH,QAC3D0vH,EAAM3kJ,KAAK2zB,MAAM8mH,QAAQ7mH,MACpBumH,EAAOngI,EAAImgI,EAAOp9H,MAAU+8H,EAASQ,WAAWv9H,MAAS4nI,EAAI5nI,MAAQ,IACtE0nI,EAAK,GAAIvK,UAAOJ,EAASQ,WAAWv9H,MAAS4nI,EAAI5nI,MAAQ,EAAIo9H,EAAOpjE,GACpE2tE,EAAK,GAAIxK,UAAOJ,EAASQ,WAAWv9H,MAAS4nI,EAAI5nI,MAAQ,EAAIo9H,EAAOpjE,EAAIojE,EAAOllH,SAEnF0vH,EAAIC,QAAW5kJ,KAAK2zB,MAAM8mH,QAAQ7mH,MAAMmgH,YAAcC,eAAamD,MAAS0N,aAAWC,OAASH,EAAIC,QACpG9K,EAASiL,SAASJ,EAAKF,EAAIC,GAC3B5K,EAASmK,UACTQ,EAAK,GAAIvK,UAAOC,EAAOngI,EAAGmgI,EAAOpjE,GACjC2tE,EAAK,GAAIxK,UAAOC,EAAOngI,EAAImgI,EAAOp9H,MAAOo9H,EAAOpjE,IAChD4tE,EAAM3kJ,KAAK2zB,MAAM8mH,QAAQzpH,KACrB4zH,QAAW5kJ,KAAK2zB,MAAM8mH,QAAQzpH,IAAI+iH,YAAcC,eAAamD,MAAS0N,aAAWC,OAASH,EAAIC,QAClG9K,EAASiL,SAASJ,EAAKF,EAAIC,GAC3B5K,EAASmK,UACTQ,EAAK,GAAIvK,UAAOC,EAAOngI,EAAImgI,EAAOp9H,MAAOo9H,EAAOpjE,EAAIojE,EAAOllH,QAC3DyvH,EAAK,GAAIxK,UAAOC,EAAOngI,EAAGmgI,EAAOpjE,EAAIojE,EAAOllH,QAC5C0vH,EAAM3kJ,KAAK2zB,MAAM8mH,QAAQ7C,OACrBuC,EAAOpjE,EAAIojE,EAAOllH,OAAS6kH,EAASQ,WAAWrlH,OAAS0vH,EAAI5nI,MAAQ,IACpE0nI,EAAK,GAAIvK,UAAOC,EAAOngI,EAAImgI,EAAOp9H,MAAO+8H,EAASQ,WAAWrlH,OAAS0vH,EAAI5nI,MAAQ,GAClF2nI,EAAK,GAAIxK,UAAOC,EAAOngI,EAAG8/H,EAASQ,WAAWrlH,OAAS0vH,EAAI5nI,MAAQ,IAEvE4nI,EAAIC,QAAW5kJ,KAAK2zB,MAAM8mH,QAAQ7C,OAAO7D,YAAcC,eAAamD,MAAS0N,aAAWC,OAASH,EAAIC,QACrG9K,EAASiL,SAASJ,EAAKF,EAAIC,GAC3B5K,EAASmK,WAGVpC,KASPmD,GAA2C,WAQ3C,QAASA,GAA0B/jH,GAC/BjhC,KAAKilJ,YAAchkH,EACnBjhC,KAAKohG,SA0DT,MAhDA4jD,GAA0BvkJ,UAAU+5I,QAAU,SAAU/6I,GACpD,GAAIA,EAAQ,GAAKA,GAASO,KAAK0C,MAC3B,KAAM,IAAIwiJ,OAAM,2BAEpB,OAAOllJ,MAAKohG,MAAM3hG,IAEtBhE,OAAO2uD,eAAe46F,EAA0BvkJ,UAAW,SAOvDurB,IAAK,WACD,MAAOhsB,MAAKohG,MAAMzlG,QAEtBu4I,YAAY,EACZC,cAAc,IAUlB6Q,EAA0BvkJ,UAAU4wB,IAAM,SAAUslG,GAChD,OAAoB,KAATA,EAAsB,CAC7B,GAAIwuB,GAAW,GAAItD,GAEnB,OADA7hJ,MAAKqxB,IAAI8zH,GACFxuB,EAGPA,EAAK11F,IAAMjhC,KAAKilJ,YAChBjlJ,KAAKohG,MAAM9iG,KAAKq4H,IAUxBquB,EAA0BvkJ,UAAUqM,QAAU,SAAU6pH,GACpD,MAAO32H,MAAKohG,MAAMt0F,QAAQ6pH,IAEvBquB,KAMPI,GAAgC,WAChC,QAASA,GAAe/K,GACpBr6I,KAAKqlJ,yBAA2B,EAChCrlJ,KAAKohB,UAAY,EACjBphB,KAAKshJ,SAAW,EAEhBthJ,KAAKslJ,cAAe,EACpBtlJ,KAAKulJ,YAAc,EACnBvlJ,KAAKwlJ,YAAcnL,EA+IvB,MA7IA5+I,QAAO2uD,eAAeg7F,EAAe3kJ,UAAW,SAC5CurB,IAAK,WAID,MAHInxB,qBAAkBmF,KAAKylJ,iBACvBzlJ,KAAKylJ,cAAgB,GAAIT,IAA0BhlJ,OAEhDA,KAAKylJ,eAEhBvR,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,eAC5CurB,IAAK,WACD,MAAOhsB,MAAKslJ,cAEhBrsI,IAAK,SAAU5Z,GACXW,KAAKslJ,aAAejmJ,GAExB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,YAC5CurB,IAAK,WACD,MAAOhsB,MAAKwlJ,aAEhBvsI,IAAK,SAAU5Z,GACXW,KAAKwlJ,YAAcnmJ,GAEvB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,kBAO5CurB,IAAK,WAID,WAH2C,KAAhChsB,KAAK0lJ,yBACZ1lJ,KAAK0lJ,uBAAyB,GAE3B1lJ,KAAK0lJ,wBAEhBzsI,IAAK,SAAU5Z,GACXW,KAAK0lJ,uBAAyBrmJ,GAElC60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,oBAO5CurB,IAAK,WACD,MAAOhsB,MAAKqlJ,0BAEhBpsI,IAAK,SAAU5Z,GACXW,KAAKqlJ,yBAA2BhmJ,GAEpC60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,SAC5CurB,IAAK,WACD,MAAOhsB,MAAKulJ,aAEhBtsI,IAAK,SAAU5Z,GACXW,KAAKulJ,YAAclmJ,GAEvB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,UAO5CurB,IAAK,WAID,MAHuB,KAAnBhsB,KAAKohB,YACLphB,KAAKohB,UAAYphB,KAAK6/I,iBAEnB7/I,KAAKohB,WAEhBnI,IAAK,SAAU5Z,GACXW,KAAKohB,UAAY/hB,GAErB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,SAO5CurB,IAAK,WAID,MAHsB,KAAlBhsB,KAAKshJ,WACLthJ,KAAKshJ,SAAWthJ,KAAKgiJ,gBAElBhiJ,KAAKshJ,UAEhBpN,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeg7F,EAAe3kJ,UAAW,YAC5CurB,IAAK,WACD,MAAOhsB,MAAKq6I,SAASl1G,KAAKk3G,cAAcvvI,QAAQ9M,OAEpDk0I,YAAY,EACZC,cAAc,IAElBiR,EAAe3kJ,UAAUuhJ,aAAe,WAGpC,IAAK,GAFD/mI,GAAUjb,KAAKq6I,SAASp/H,QAAQA,QAChC0qI,EAAa,EACR7nJ,EAAI,EAAGA,EAAImd,EAAQtf,OAAQmC,IAEhC6nJ,GADa1qI,EAAQnd,GACAif,KAEzB,OAAO4oI,IAEXP,EAAe3kJ,UAAUo/I,cAAgB,WAGrC,IAAK,GAFDz+H,GAAkC,IAArBphB,KAAKohG,MAAM1+F,OACvB7H,oBAAkBmF,KAAKohG,MAAMo5C,QAAQ,GAAGvlH,QAA0C,GAA/Bj1B,KAAKohG,MAAMo5C,QAAQ,GAAGvlH,OACrEn3B,EAAI,EAAGA,EAAIkC,KAAKohG,MAAM1+F,MAAO5E,IAAK,CACvC,GAAI64H,GAAO32H,KAAKohG,MAAMo5C,QAAQ18I,EAE1BsjB,GADoB,IAApBu1G,EAAK6oB,YAAqC,IAAjB7oB,EAAKorB,QAClB7uI,KAAK+oC,IAAI76B,EAAWu1G,EAAK1hG,QAGzB/hB,KAAK5E,IAAI8S,EAAWu1G,EAAK1hG,QAEzC0hG,EAAK1hG,OAAS7T,EAElB,MAAOA,IAEJgkI,KAQP5E,GAA0C,WAQ1C,QAASA,GAAyBnG,GAC9Br6I,KAAKmlC,QACLnlC,KAAKq6I,SAAWA,EAuDpB,MArDA5+I,QAAO2uD,eAAeo2F,EAAyB//I,UAAW,SAQtDurB,IAAK,WACD,MAAOhsB,MAAKmlC,KAAKxpC,QAErBu4I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAeo2F,EAAyB//I,UAAW,iBAQtDurB,IAAK,WACD,MAAOhsB,MAAKmlC,MAEhB+uG,YAAY,EACZC,cAAc,IAElBqM,EAAyB//I,UAAUuhF,OAAS,SAAU/gD,GAClD,OAAmB,KAARA,EAAqB,CAC5B,GAAI2kH,GAAQ,GAAIR,IAAeplJ,KAAKq6I,SAEpC,OADAr6I,MAAKgiF,OAAO4jE,GACLA,EAGP,GAAwB,IAApB3kH,EAAImgE,MAAM1+F,MACV,IAAK,GAAI5E,GAAI,EAAGA,EAAIkC,KAAKq6I,SAASp/H,QAAQvY,MAAO5E,IAC7CmjC,EAAImgE,MAAM/vE,IAAI,GAAIwwH,IAG1B7hJ,MAAKmlC,KAAK7mC,KAAK2iC,IAUvBu/G,EAAyB//I,UAAU85I,OAAS,SAAU96I,GAClD,MAAOO,MAAKmlC,KAAK1lC,IAEd+gJ,KAQPE,GAA6C,WAQ7C,QAASA,GAA4BrG,GAOjCr6I,KAAKmlC,QACLnlC,KAAKq6I,SAAWA,EAChBr6I,KAAKmlC,QAwCT,MA9BAu7G,GAA4BjgJ,UAAU+gJ,UAAY,SAAU/hJ,GACxD,MAAQO,MAAKmlC,KAAK1lC,IAEtBhE,OAAO2uD,eAAes2F,EAA4BjgJ,UAAW,SAOzDurB,IAAK,WACD,MAAOhsB,MAAKmlC,KAAKxpC,QAErBu4I,YAAY,EACZC,cAAc,IAUlBuM,EAA4BjgJ,UAAU4wB,IAAM,SAAU4P,GAClDjhC,KAAKmlC,KAAK7mC,KAAK2iC,IAEnBy/G,EAA4BjgJ,UAAUqM,QAAU,SAAUm0B,GACtD,MAAOjhC,MAAKmlC,KAAKr4B,QAAQm0B,IAEtBy/G,KAGPmF,GAAmC,WACnC,QAASA,GAAkBxL,GACvBr6I,KAAK8lJ,YAAc,EACnB9lJ,KAAKmgD,iBAAkB,EACvBngD,KAAK+lJ,YAAc,GACnB/lJ,KAAKgmJ,OAAS,GACdhmJ,KAAKq6I,SAAWA,EA6DpB,MA3DA5+I,QAAO2uD,eAAey7F,EAAkBplJ,UAAW,cAC/CurB,IAAK,WACD,MAAOhsB,MAAK+lJ,aAEhB9sI,IAAK,SAAU5Z,GACXW,KAAK+lJ,YAAc1mJ,GAEvB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAey7F,EAAkBplJ,UAAW,SAC/CurB,IAAK,WACD,MAAOhsB,MAAKgmJ,QAEhB/sI,IAAK,SAAU5Z,GACXW,KAAKgmJ,OAAS3mJ,GAElB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAey7F,EAAkBplJ,UAAW,SAC/CurB,IAAK,WACD,MAAOhsB,MAAK8lJ,aAEhB7sI,IAAK,SAAU5Z,GACXW,KAAK8lJ,YAAczmJ,GAEvB60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAey7F,EAAkBplJ,UAAW,gBAC/CurB,IAAK,WACD,MAAOhsB,MAAKmgD,iBAEhBlnC,IAAK,SAAU5Z,GACXW,KAAKmgD,gBAAkB9gD,GAE3B60I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAey7F,EAAkBplJ,UAAW,UAO/CurB,IAAK,WAID,MAHInxB,qBAAkBmF,KAAKimJ,gBACvBjmJ,KAAKimJ,aAAe,GAAIvP,oBAErB12I,KAAKimJ,cAEhBhtI,IAAK,SAAU5Z,GACXW,KAAKimJ,aAAe5mJ,GAExB60I,YAAY,EACZC,cAAc,IAEX0R,KASPtF,GAA6C,WAS7C,QAASA,GAA4BlG,GAIjCr6I,KAAKkmJ,mBAILlmJ,KAAK8lJ,YAAc,EACnB9lJ,KAAKq6I,SAAWA,EAChBr6I,KAAKkmJ,mBAiIT,MAvHA3F,GAA4B9/I,UAAU4wB,IAAM,SAAU3uB,GAIlD,IAAK,GAAI5E,GAAI,EAAGA,EAAI4E,EAAO5E,IAAK,CAC5BkC,KAAKkmJ,gBAAgB5nJ,KAAK,GAAIunJ,IAAkB7lJ,KAAKq6I,UACrD,KAAK,GAAI56I,GAAQ,EAAGA,EAAQO,KAAKq6I,SAASl1G,KAAKziC,MAAOjD,IAAS,CAC3D,GAAIwhC,GAAMjhC,KAAKq6I,SAASl1G,KAAKo1G,OAAO96I,GAChCk3H,EAAO,GAAIkrB,GACflrB,GAAKt3H,MAAQ,GACb4hC,EAAImgE,MAAM/vE,IAAIslG,MAS1Bl7H,OAAO2uD,eAAem2F,EAA4B9/I,UAAW,SAOzDurB,IAAK,WACD,MAAOhsB,MAAKkmJ,gBAAgBvqJ,QAEhCu4I,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAem2F,EAA4B9/I,UAAW,SAOzDurB,IAAK,WAID,MAHyB,KAArBhsB,KAAK8lJ,cACL9lJ,KAAK8lJ,YAAc9lJ,KAAK26I,uBAErB36I,KAAK8lJ,aAEhB5R,YAAY,EACZC,cAAc,IAElB14I,OAAO2uD,eAAem2F,EAA4B9/I,UAAW,WAOzDurB,IAAK,WACD,MAAOhsB,MAAKkmJ,iBAEhBhS,YAAY,EACZC,cAAc,IASlBoM,EAA4B9/I,UAAU06I,UAAY,SAAU17I,GACxD,GAAIA,GAAS,GAAKA,GAASO,KAAKib,QAAQtf,OACpC,MAAOqE,MAAKib,QAAQxb,EAGpB,MAAMylJ,OAAM,0CAA4CzlJ,IAUhE8gJ,EAA4B9/I,UAAUk6I,oBAAsB,WACxD,GAAIgL,GAAa,CACjB3lJ,MAAKq6I,SAASM,qBACd,KAAK,GAAI78I,GAAI,EAAG4E,EAAQ1C,KAAKkmJ,gBAAgBvqJ,OAAQmC,EAAI4E,EAAO5E,IAC5D6nJ,GAAc3lJ,KAAKkmJ,gBAAgBpoJ,GAAGif,KAE1C,OAAO4oI,IASXpF,EAA4B9/I,UAAU0gJ,iBAAmB,SAAUwE,GAG/D,IAAK,GAFDzE,MACAiF,EAAYnmJ,KAAK0C,MACZ5E,EAAI,EAAGA,EAAIkC,KAAK0C,MAAO5E,IAC5BojJ,EAAOpjJ,GAAKkC,KAAKkmJ,gBAAgBpoJ,GAAGif,MAChC/c,KAAKkmJ,gBAAgBpoJ,GAAGif,MAAQ,GAChC4oI,GAAc3lJ,KAAKkmJ,gBAAgBpoJ,GAAGif,MACtCopI,KAGAjF,EAAOpjJ,GAAK,CAGpB,KAASA,EAAI,EAAGA,EAAIkC,KAAK0C,MAAO5E,IAAK,CACjC,GAAIif,GAAQ4oI,EAAaQ,CACrBjF,GAAOpjJ,IAAM,IACbojJ,EAAOpjJ,GAAKif,GAGpB,MAAOmkI,IAEJX,KC5+BP51G,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAe5Bs7G,GAA8B,WAC9B,QAASA,GAAa9rJ,GAClB0F,KAAKqmJ,iBAAmB,EACxBrmJ,KAAK0sB,0BACL1sB,KAAKksD,eAAiB,EACtBlsD,KAAK1F,OAASA,EAgmClB,MA9lCA8rJ,GAAa3lJ,UAAU6lJ,aAAe,WAClCtmJ,KAAK0sB,uBAAgD,wBAAI1sB,KAAK1F,OAAOuyC,wBACrE7sC,KAAK0sB,uBAA8C,sBAAI1sB,KAAK1F,OAAOwyC,sBACnE9sC,KAAK0sB,uBAA8C,sBAAI1sB,KAAK1F,OAAOuO,sBACnE7I,KAAK0sB,uBAA4C,oBAAI1sB,KAAK1F,OAAOmX,oBACjEzR,KAAK0sB,uBAA+C,uBAAIxuB,YAAW8B,KAAK1F,OAAOsX,eAAegQ,uBAAwB,MAAM,GAC5H5hB,KAAK0sB,uBAA2C,mBAAI1sB,KAAK1F,OAAOu/B,mBAChE75B,KAAK0sB,uBAAgC,QAAI1sB,KAAK1F,OAAOsX,eAAeiQ,QACpE7hB,KAAK0sB,uBAAyC,iBAAI1sB,KAAK1F,OAAOsX,eAAewpC,iBAC7Ep7C,KAAK0sB,uBAA0C,kBAAI1sB,KAAK1F,OAAOsX,eAAes5B,kBAC9ElrC,KAAK0sB,uBAAmC,WAAI1sB,KAAK1F,OAAOsX,eAAeqB,WACvEjT,KAAK0sB,uBAA4C,oBAAI1sB,KAAK1F,OAAOsX,eAAeupC,oBAChFn7C,KAAK0sB,uBAA6C,qBAAI1sB,KAAK1F,OAAOsX,eAAeu5B,qBACjFnrC,KAAK0sB,uBAA2C,mBAAI1sB,KAAK1F,OAAOsX,eAAeukB,mBAC/En2B,KAAK0sB,uBAA0C,kBAAI1sB,KAAK1F,OAAOsX,eAAeiT,kBAC9E7kB,KAAK0sB,uBAAwC,gBAAI1sB,KAAK1F,OAAOsX,eAAem6B,gBAC5E/rC,KAAK0sB,uBAAgD,wBAAI1sB,KAAK1F,OAAOsX,eAAemhC,wBACpF/yC,KAAK0sB,uBAAoC,YAAI1sB,KAAK1F,OAAO0nB,YACzDhiB,KAAK0sB,uBAAuD,+BAAIxuB,YAAW8B,KAAK1F,OAAO0/B,+BAAgC,MAAM,GAC7Hh6B,KAAK1F,OAAOsX,eAAeO,aAAc,EACzCnS,KAAK1F,OAAOsX,eAAeC,WAAY,EAClC7R,KAAK1F,OAAOuyC,0BACb7sC,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,sBAClD7I,KAAK1F,OAAOwyC,sBAAwB9sC,KAAK1F,OAAOmX,qBAEhDzR,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,wBAClD7I,KAAK1F,OAAOuO,sBAAwB,GAAI/L,MAAKkD,KAAK1F,OAAOiP,sBACrDvJ,KAAK1F,OAAOuyC,wBAA0B7sC,KAAK1F,OAAOuO,wBAE1D7I,KAAK1F,OAAO+J,cAAcqN,uBAC1B,IAEI60I,GACAC,EAFAxjI,GADkBhjB,KAAK1F,OAAOmX,oBAAoBvQ,UAAYlB,KAAK1F,OAAOuO,sBAAsB3H,gBAIhGlB,MAAKusB,YAAYC,mBAAmBg6H,YACpCA,EAAYxoJ,SAASgC,KAAKusB,YAAYC,mBAAmBg6H,UAAU79I,MAAM,KAAK,GAAI,KAGlF49I,EADAvmJ,KAAKusB,YAAYC,mBAAmB+hB,WACnBvwC,SAASgC,KAAKusB,YAAYC,mBAAmB+hB,WAAW5lC,MAAM,KAAK,GAAI,IAGpF3I,KAAKusB,YAAYC,mBAAmBg6H,UACnB,IAAMA,EAGN,EAGzB,IAGIp4G,GACAC,EACAC,EAJAC,EADYvuC,KAAK1F,OAAO8xB,gBAAmC,kBAAErP,MAAQwpI,EAAkB,IAEvFvkI,EAAcusB,EAAavrB,EAK3BwrB,EADqBxuC,KAAK1F,OAAO6yC,cAAc9+B,QACTgD,KAAK,SAAUC,EAAGC,GACxD,MAASD,GAAE0Q,aAAgBzQ,EAAEyQ,YAAmB1Q,EAAE0Q,YAAczQ,EAAEyQ,YAAe,GAAK,EAA3C,GAE/C,IAAoB,IAAhBA,EAAJ,CAGA,IAAK,GAAIlkB,GAAI,EAAGA,EAAI0wC,EAAiB7yC,OAAQmC,IAAK,CAE9C,GADAuwC,EAAaG,EAAiB1wC,GAC1BA,IAAM0wC,EAAiB7yC,OAAS,EAAG,CACnCyyC,EAAeI,EAAiB1wC,EAChC,OAKJ,GAFIwwC,EAAcE,EAAiB1wC,EAAI,GAEnCkkB,GAAeqsB,EAAWrsB,YAAa,CACvCosB,EAAeI,EAAiB1wC,EAChC,OAEJ,GAAIkkB,EAAcqsB,EAAWrsB,aAAeA,EAAcssB,EAAYtsB,YAAa,CAC/EosB,EAAeI,EAAiB1wC,EAAI,EACpC,QAGR,GAAIwvC,GAAcpvC,eAAekwC,GAAc,EAC/CpuC,MAAK1F,OAAOsX,eAAmC,mBAAE5R,KAAK1F,OAAOuO,uBAAuB,EAAMmZ,EAAasrB,EAAYr6B,WAAWrG,KAAMwhC,GACpIpuC,KAAK1F,OAAOsX,eAAmC,mBAAE5R,KAAK1F,OAAOmX,qBAAqB,EAAOuQ,EAAasrB,EAAYr6B,WAAWrG,KAAMwhC,EACnI,IAAIM,GAAgB1uC,KAAK1F,OAAOsX,eAA+C,+BAAE07B,GAE7EsB,EADe5uC,KAAK1F,OAAO8xB,gBAAmC,kBAAE6I,QACnC,EAAI,EAAI,EACzCqY,GAAYuB,iBAAmB37B,KAAK6P,IAAKwrB,EAAaK,GAAeF,EACrE1uC,KAAK1F,OAAOsX,eAAuC,uBAAE07B,GACrDttC,KAAK1F,OAAOsX,eAAeO,aAAc,EACzCnS,KAAK1F,OAAOsX,eAAeC,WAAY,IAS3Cu0I,EAAa3lJ,UAAUgmJ,kBAAoB,SAAU1oJ,EAAMkjE,EAAOylF,GAC9D1mJ,KAAK+I,SAAWhL,EAChBiC,KAAKihE,MAAQA,EACbjhE,KAAK2mJ,qBAAuB,GAAIC,IAAqB5mJ,KAAK1F,OAAOo5C,QACjE1zC,KAAKusB,YAAcm6H,EACnB1mJ,KAAKk8B,SAAW,EAChBl8B,KAAK+nC,SAAW,EAChB/nC,KAAKib,QAAUjb,KAAK1F,OAAO4H,SAAS+Y,QACpCjb,KAAKihE,MAAM9gB,gBAAkBngD,KAAK1F,OAAO6lD,gBACzCngD,KAAKihE,MAAM7/C,UAAYzhB,EAAaK,KAAK1F,OAAO8mB,WAChDphB,KAAKihE,MAAMttC,MAAMmlH,YAAYh7H,KAAO,EACpC9d,KAAKihE,MAAMttC,MAAMmlH,YAAYllH,MAAQ,EACrC5zB,KAAK2zI,WAAa3zI,KAAKihE,MAAM0yE,WAC7B3zI,KAAKihE,MAAMyzE,YAAc10I,KAAK2zI,WAAWuB,mBACzCl1I,KAAK1F,OAAO8xB,gBAAgBC,aAAc,EACtCrsB,KAAKusB,YAAYC,oBAAsBxsB,KAAKusB,YAAYC,mBAAmBC,cAC3EzsB,KAAKsmJ,eAETtmJ,KAAK6mJ,uBACL7mJ,KAAK8mJ,sBACL9mJ,KAAKkV,kBACLlV,KAAK+mJ,iBACL/mJ,KAAKgnJ,qBACLhnJ,KAAK1F,OAAO8xB,gBAAgBC,aAAc,GAE9C+5H,EAAa3lJ,UAAUomJ,qBAAuB,WAC1C,GAAI51I,GAAQjR,IACZA,MAAKk8B,WACLl8B,KAAKihC,IAAMjhC,KAAKihE,MAAM97B,KAAK68C,QAC3B,IAAIviF,GAAQ,CACZO,MAAKib,QAAQ3I,QAAQ,SAAU2wB,GACvBhyB,EAAMg2I,gBAAgBhkH,KACtBhyB,EAAMi2I,oBAAoBjkH,EAAQxjC,GAClCA,QAIZ2mJ,EAAa3lJ,UAAUymJ,oBAAsB,SAAUjkH,EAAQxjC,GAC3DO,KAAKihE,MAAMhmD,QAAQoW,IAAI,EACvB,IAAI81H,GAAYnnJ,KAAKihE,MAAMhmD,QAAQkgI,UAAU17I,EAC1BO,MAAKib,QAAQjb,KAAK1F,OAAO6lD,iBAAiBhlC,QACxC8nB,EAAO9nB,QACxBgsI,EAAU7H,cAAe,EAE7B,IAAIviI,GAAQ/e,SAASilC,EAAOlmB,MAAO,GACnCoqI,GAAUpqI,MAAQpd,EAAaod,GAC/B/c,KAAKqmJ,kBAAoBc,EAAUpqI,MACnCoqI,EAAUxhG,WAAa1iB,EAAO0iB,WAC9BwhG,EAAUhsI,MAAQ8nB,EAAO9nB,KACzB,IAAIw7G,GAAO32H,KAAKihC,IAAImgE,MAAMo5C,QAAQ/6I,EAClCk3H,GAAKt3H,MAAQ4jC,EAAO0iB,WACpBgxE,EAAKosB,cAAe,EAChB/iJ,KAAK2zI,YAAc3zI,KAAK2zI,WAAWU,eAClCx5I,oBAAkBmF,KAAK2zI,WAAWU,aAAamP,aAChD7sB,EAAKhjG,MAAM6vH,UAAY,GAAIhP,YAASx0I,KAAK2zI,WAAWU,aAAamP,WAErE,IAAI4D,GAAuBpnJ,KAAK1F,OAAOsX,eAAe4Y,aAAe,GAAK,EAC1ExqB,MAAKqnJ,WAAWrnJ,KAAK2zI,WAAWU,aAAc1d,GAAM,GACpD32H,KAAKihC,IAAIhM,OAASt1B,EAAaynJ,GAC3BnkH,EAAOqkH,kBACP3wB,EAAKhjG,MAAMzjB,OAAO0kI,UAAYuP,mBAAiBlhH,EAAOqkH,iBAE1D,IAAI/tG,IACA0pG,MAAO,KACP5jJ,MAAO,KACP41I,WAAauO,UAAW,MAE5B7sB,GAAKse,WACDX,SAAU,EAEd,IAAIt1I,IACA23H,KAAMA,EACNhjG,MAAOgjG,EAAKhjG,MACZt0B,MAAOs3H,EAAKt3H,MACZ4jC,OAAQA,EACRggH,MAAO,KACPsE,eAAgBhuG,EAEhBv5C,MAAK1F,OAAOktJ,8BACZxnJ,KAAK1F,OAAOgc,QAAQ,+BAAgCtX,GAEpDA,EAAKuoJ,eAAetE,OAASjkJ,EAAKuoJ,eAAeloJ,OACjDL,EAAKikJ,MAAQ,GAAIW,aAAU5kJ,EAAKuoJ,eAAetE,MAAM,GAAGwE,QACxDzoJ,EAAKikJ,MAAMhuH,OAASj2B,EAAKuoJ,eAAetE,MAAM,GAAGhuH,QAAUj2B,EAAKikJ,MAAMhuH,OACtEj2B,EAAKikJ,MAAMlmI,MAAQ/d,EAAKuoJ,eAAetE,MAAM,GAAGlmI,OAAS/d,EAAKikJ,MAAMlmI,MACpE45G,EAAKssB,MAAQjkJ,EAAKikJ,MAClBtsB,EAAKt3H,MAAQL,EAAKuoJ,eAAeloJ,MACjCs3H,EAAKse,UAAUX,SAAWt1I,EAAKuoJ,eAAetS,UAAUX,SACxD3d,EAAKse,UAAUJ,WAAa71I,EAAKuoJ,eAAetS,UAAUJ,WAC1Dle,EAAKse,UAAUuO,UAAYxkJ,EAAKuoJ,eAAetS,UAAUV,WAGzD5d,EAAKt3H,MAAQL,EAAKK,OAG1B+mJ,EAAa3lJ,UAAUwmJ,gBAAkB,SAAUhkH,GAE/C,MADoBA,GAAOkmB,SAAWnpD,KAAKusB,YAAYm7H,qBAG3DtB,EAAa3lJ,UAAUqmJ,oBAAsB,WACzC,GAAI71I,GAAQjR,IACiB,KAAzBA,KAAK+I,SAASpN,OACdqE,KAAK2nJ,mBAGU3nJ,KAAK+I,SACXuJ,QAAQ,SAAUvU,GACvBkT,EAAMgwB,IAAMhwB,EAAMgwD,MAAM97B,KAAK68C,SACzBjkF,EAAK0e,iBACLxL,EAAMgwD,MAAM97B,KAAKo1G,OAAOtpI,EAAMirB,UAAUkmH,aAAc,EACtDnxI,EAAM22I,iBAAiB7pJ,IAGvBkT,EAAM22I,iBAAiB7pJ,GAE3BkT,EAAMirB,cASlBkqH,EAAa3lJ,UAAUyU,gBAAkB,WACjClV,KAAK1F,OAAOkqB,+BACZxkB,KAAK1F,OAAOsX,eAAew5B,8BAC3BprC,KAAK1F,OAAOsX,eAAey5B,iCAC3BrrC,KAAK1F,OAAOsX,eAAeygB,uBAE/B,IAAIrU,GAAmBhe,KAAK1F,OAAOsX,cASnC,IARA5R,KAAKihE,MAAM4mF,YAAYC,cAAgB9nJ,KAAKihE,MAAM4mF,YAAYE,iBACvD/nJ,KAAK1F,OAAOsX,eAAe4Y,aAAe,GAAK,GACtDxqB,KAAKihE,MAAM4mF,YAAYzsG,iBAAmBp9B,EAAiBo9B,iBAC3Dp7C,KAAKihE,MAAM4mF,YAAY1sG,oBAAsBn9B,EAAiBm9B,oBAC9Dn7C,KAAKihE,MAAM4mF,YAAYhmI,QAAU3jB,eAAe8B,KAAK1F,OAAOkqB,6BACxDxG,EAAiBotB,2BAA6BptB,EAAiBktB,mBAAmB,GACtFlrC,KAAKihE,MAAM4mF,YAAY50I,WAAa/U,eAAe8B,KAAK1F,OAAOkqB,6BAC3DxG,EAAiBqtB,8BAAgCrtB,EAAiBmtB,sBAAsB,GACxFnrC,KAAKusB,aAAevsB,KAAKusB,YAAYC,oBAAsBxsB,KAAKusB,YAAYC,mBAAmBC,cAC/FzsB,KAAK1F,OAAOkqB,6BAA8B,CAC1C,GAAIwpB,GAAoC,SAA7BhwB,EAAiB6D,QAAqB,aAAe,SAChE7hB,MAAKihE,MAAM4mF,YAAY9qI,MAAQiB,EAA+C,6BAAEgwB,EAAMhwB,EAAiB6G,kBAAmB7G,EAAiB+tB,qBAG3I/rC,MAAKihE,MAAM4mF,YAAY9qI,MAAQ/c,KAAK1F,OAAOkqB,6BAA+BxkB,KAAK1F,OAAOsX,eAAeohB,mBACjGhV,EAAiBmY,kBAEzBn2B,MAAKihE,MAAM4mF,YAAY5yH,OAAUp6B,oBAAkBmF,KAAKihE,MAAM97B,KAAKo1G,OAAO,GAAGtlH,QAA6C,GAAnCj1B,KAAKihE,MAAM97B,KAAKo1G,OAAO,GAAGtlH,OACjHj1B,KAAKihE,MAAMp8C,kBAAoB,GAAI/nB,MAAKkhB,EAAiB6G,kBAAkB3jB,YAO/EklJ,EAAa3lJ,UAAUumJ,mBAAqB,WACxC,GAAI/1I,GAAQjR,MACRnF,oBAAkBmF,KAAKusB,YAAYy7H,uBAAyBhoJ,KAAKusB,YAAYy7H,wBAC7EhoJ,KAAK1F,OAAO8xB,gBAAgBC,aAAc,EAC1CrsB,KAAK1F,OAAO+e,kBAAkB4gB,+BAA+Bj6B,KAAK+I,UAClE/I,KAAK1F,OAAO0/B,+BAA+B1nB,QAAQ,SAAUvU,GACzD,GAAI+d,GAAc7K,EAAMgwD,MAAMnlD,YAAYuV,KAC1CvV,GAAYuvD,WAAattE,EAAKstE,WAC9BvvD,EAAYwvD,UAAYvtE,EAAKutE,UAC7BxvD,EAAYkF,YAAcjjB,EAAKijB,YAC/BlF,EAAYyvD,WAAaxtE,EAAKwtE,WAC9BzvD,EAAY4jD,YAAczuD,EAAMg3I,qBAAqBh3I,EAAMlI,SAAUhL,EAAK2hE,aAC1E5jD,EAAYovD,WAAaj6D,EAAMg3I,qBAAqBh3I,EAAMlI,SAAUhL,EAAKmtE,YACzEpvD,EAAYsF,UAAYrjB,EAAKqjB,UAC7BtF,EAAY1L,KAAOrS,EAAKqS,KACxB0L,EAAY2vD,gBAAkB1tE,EAAK0tE,gBACnC3vD,EAAY2uD,eAAiB1sE,EAAK0sE,eAClC3uD,EAAY4vD,eAAiB3tE,EAAK2tE,eAClC5vD,EAAYosI,UAAkDvoJ,EAAtCsR,EAAM3W,OAAOuwE,mBAAqB,EAAiB,EAAkB55D,EAAM3W,OAAOuwE,oBACtG9sE,EAAK+pE,WACLhsD,EAAYi6H,mBAAqB9kI,EAAM0iI,WAAW8B,2BAGlD35H,EAAYi6H,mBAAqB9kI,EAAM0iI,WAAWoC,mBAEtD9kI,EAAMgwD,MAAMqE,sBAAsBhnE,KAAKwd,KAE3C9b,KAAK1F,OAAO8xB,gBAAgBC,aAAc,IAGlD+5H,EAAa3lJ,UAAUwnJ,qBAAuB,SAAUE,EAAgBzoF,GACpE,MAAOyoF,GAAe/6G,UAAU,SAAUrvC,GAAQ,MAAOA,GAAK0B,QAAUigE,KAE5E0mF,EAAa3lJ,UAAUmnJ,iBAAmB,SAAU7pJ,GAChD,GAAIkT,GAAQjR,IACZA,MAAK+nC,SAAW,EAChB/nC,KAAKihC,IAAIrnB,MAAQ7b,EAAK6b,MACtB5Z,KAAKib,QAAQ3I,QAAQ,SAAU2wB,GACvBhyB,EAAMg2I,gBAAgBhkH,KACtBhyB,EAAMm3I,kBAAkBrqJ,EAAMklC,EAAQhyB,EAAMgwB,KAC5ChwB,EAAM82B,eAIlBq+G,EAAa3lJ,UAAU2nJ,kBAAoB,SAAUrqJ,EAAMklC,EAAQhC,GAC/D,GAAI01F,GAAO11F,EAAImgE,MAAMo5C,QAAQx6I,KAAK+nC,UAC9BtpC,EAAauB,KAAK1F,OAAOmE,WACzBktH,EAAa5tH,EAAKS,eACE,oBAApBykC,EAAO2iB,UAAqD,uBAApB3iB,EAAO2iB,SAC/C+wE,EAAKt3H,MAAQtB,EAAKklC,EAAO9nB,OAEpB8nB,EAAO9nB,QAAU1c,EAAWzD,SACjC27H,EAAKt3H,MAAQW,KAAK1F,OAAOiW,kBAAkBo7G,EAAW3wH,SAAU2wH,EAAWxnH,cAEtE8+B,EAAO9nB,QAAU1c,EAAWga,aACjCk+G,EAAKt3H,MAAQssH,EAAWjiE,cAEnBzmB,EAAO9nB,QAAU1c,EAAWoS,KACjC8lH,EAAKt3H,MAAQW,KAAK1F,OAAOsW,cAAc+6G,EAAW96G,KAAM86G,EAAW76G,UAGnE6lH,EAAKt3H,MAASxE,oBAAkBkD,EAAKklC,EAAO9nB,QAA0C,GAAhCpd,EAAKklC,EAAO9nB,OAAOld,UAE7E,IACI83G,GADmBl7G,oBAAkB87H,EAAKt3H,OAAiC,GAAxBs3H,EAAKt3H,MAAMpB,WAE9DoB,EAASxE,oBAAkBk7G,GAAyB,GAAZA,CAC5C4gB,GAAKosB,cAAe,EACpBpsB,EAAKhjG,MAAMq9C,QAAU,GAAI2mE,IACzB33I,KAAKqnJ,WAAWrnJ,KAAK2zI,WAAWhd,KAAMA,EAAM11F,EAAImhH,aAC5Cn/G,EAAc,QAAMjjC,KAAK1F,OAAO6lD,gBAChCw2E,EAAKhjG,MAAMzjB,OAAO0kI,UAAYuP,mBAAiBlhH,EAAOysB,WAGtDinE,EAAKhjG,MAAMzjB,OAAOwuI,gBAAmC,GAAjB/nB,EAAK11F,IAAIrnB,KAEjD,IAAI5a,IACAjB,KAAMA,EACNsB,MAAOA,EACP4jC,OAAQA,EACRtP,MAAOgjG,EAAKhjG,MACZgjG,KAAMA,EAGV,IADA33H,EAAKK,MAAQW,KAAK2mJ,qBAAqB0B,gBAAgBrpJ,GACnDgB,KAAK1F,OAAOguJ,iBAAkB,CAc9B,GAbAtoJ,KAAK1F,OAAOgc,QAAQ,mBAAoBtX,GACpCA,EAAK20B,MAAMspC,kBACX05D,EAAKhjG,MAAMspC,gBAAkBj+D,EAAK20B,MAAMspC,iBAExCj+D,EAAK20B,MAAM+gH,cACX/d,EAAKhjG,MAAM+gH,YAAc11I,EAAK20B,MAAM+gH,aAEpC11I,EAAK20B,MAAM6vH,YACX7sB,EAAKhjG,MAAM6vH,UAAYxkJ,EAAK20B,MAAM6vH,WAElCxkJ,EAAK20B,MAAM4gH,YACX5d,EAAKhjG,MAAM4gH,UAAYv1I,EAAK20B,MAAM4gH,WAElCv1I,EAAK20B,MAAMkhH,WAAY,CACvB,GAAIqN,GAAOljJ,EAAK20B,MAAMkhH,WAClBA,EAAa70I,KAAKuoJ,cAAcrG,EACpCvrB,GAAKhjG,MAAMkhH,WAAaA,MAGxBle,GAAKhjG,MAAMkhH,WAAa70I,KAAK2zI,WAAWkB,UAK5C,IAHI71I,EAAK20B,MAAM2gH,WACX3d,EAAKhjG,MAAM2gH,SAAWt1I,EAAK20B,MAAM2gH,UAEjCt1I,EAAK20B,MAAMshH,UAAW,CACtB,GAAIthH,GAAQ30B,EAAK20B,MAAMshH,UACnBA,EAAYj1I,KAAKwoJ,aAAa70H,EAClCgjG,GAAKhjG,MAAMshH,UAAYA,MAGvBte,GAAKhjG,MAAMshH,UAAYj1I,KAAK2zI,WAAWqB,OAAOC,SAE9Cj2I,GAAK20B,MAAMzjB,SACXymH,EAAKhjG,MAAMzjB,OAASlR,EAAK20B,MAAMzjB,QAE/BlR,EAAK20B,MAAMq9C,UACX2lD,EAAKhjG,MAAMq9C,QAAUhyE,EAAK20B,MAAMq9C,SAGxC,IAAKn2E,oBAAkBmE,EAAKikJ,SAAWpoJ,oBAAkBmE,EAAKikJ,MAAMwE,QAAS,CACzE,GAAIgB,GAAYvqJ,YAAWc,EAAKikJ,MAAO,MAAM,EAC7CjkJ,GAAKikJ,MAAQ,GAAIW,aAAU5kJ,EAAKikJ,MAAMwE,QACtCzoJ,EAAKikJ,MAAMhuH,OAASwzH,EAAkB,OAAIA,EAAkB,OAAIzpJ,EAAKikJ,MAAMhuH,OAC3Ej2B,EAAKikJ,MAAMlmI,MAAQ0rI,EAAiB,MAAIA,EAAiB,MAAIzpJ,EAAKikJ,MAAMlmI,MACxE45G,EAAKssB,MAAQjkJ,EAAKikJ,MAEtBtsB,EAAKt3H,MAAQL,EAAKK,MACbxE,oBAAkBmE,EAAK0pJ,YAAgB7tJ,oBAAkBmE,EAAK0pJ,UAAUC,cACxE9tJ,oBAAkBmE,EAAK0pJ,UAAUppH,UAClCq3F,EAAKt3H,MAAQW,KAAK4oJ,aAAa5pJ,KAGvConJ,EAAa3lJ,UAAUmoJ,aAAe,SAAU5pJ,GAE5C,GAAI6pJ,GAAW,GAAIhF,iBASnB,OAPAgF,GAASC,IAAM9pJ,EAAK0pJ,UAAUppH,OAE9BupH,EAAS3hG,KAAOloD,EAAK0pJ,UAAUC,aAAe3pJ,EAAK0pJ,UAAUppH,OAE7DupH,EAAS3G,KAAO,GAAIC,mBAAgBrN,gBAAcC,UAAW,MAE7D8T,EAASE,MAAQ,GAAIlG,iBAAc,GAAIrO,YAAS,GAAI,IAAK,MAClDqU,GAOXzC,EAAa3lJ,UAAUsmJ,eAAiB,WACpC,GAAI91I,GAAQjR,IACGA,MAAK+I,SACXuJ,QAAQ,SAAUvU,GACvB,GAAI63E,GAAU3kE,EAAMgwD,MAAM2U,QAAQvkD,MAC9Bz2B,EAAYmD,EAAKS,eACrBo3E,GAAQ93D,KAAOljB,EAAUkjB,KACzB83D,EAAQ74D,MAAQniB,EAAUmiB,MACtB64D,EAAQ93D,KAAO,IACf83D,EAAQ74D,MAAQ64D,EAAQ74D,MAAQ64D,EAAQ93D,KACxC83D,EAAQ93D,KAAO,GAEnB83D,EAAQr6D,SAAW3gB,EAAU2gB,SAC7Bq6D,EAAQj7E,gBAAkBA,EAAgBC,GACtCD,IACIE,oBAAkBD,EAAUG,UAAYF,oBAAkBD,EAAUI,UACpE46E,EAAQozE,kBAAoB,YAEvBnuJ,oBAAkBD,EAAUE,YAAcD,oBAAkBD,EAAUI,UAC3E46E,EAAQozE,kBAAoB,WAG5BpzE,EAAQozE,kBAAoB,WAC5BpzE,EAAQqzE,qBAAuBh4I,EAAM3W,OAAOoE,qBAAqBuK,kBAAkBlL,EAAKS,iBACxFo3E,EAAQszE,kBAAoBj4I,EAAM3W,OAAOoE,qBAAqBiL,gBAAgB5L,EAAKS,mBAO3Fo3E,EAAQ96E,UAAYF,EAAUE,UAC9B86E,EAAQ76E,QAAUH,EAAUG,QAC5B66E,EAAQ3gD,OAAShkB,EAAM3W,OAAOkb,gBAAgB6L,cAU9Cu0D,EAAQnjE,WAAa7X,EAAU6X,WAC/BmjE,EAAQ9xE,cAAgBlJ,EAAUkJ,cAClC8xE,EAAQtzE,YAAc1H,EAAU0H,YAChCszE,EAAQj1E,eAAiB/F,EAAU+F,eACnCi1E,EAAQ1oD,UAAYtyB,EAAUsyB,UAC9B0oD,EAAQ7gB,SAAWn6D,EAAUm6D,SAC7B6gB,EAAQl4D,QAAU9iB,EAAU+J,SAC5BixE,EAAQuzE,eAAiBtuJ,oBAAkBD,EAAU+J,WAA2C,IAA9B/J,EAAU+J,SAAShJ,OACjFi6E,EAAQuzE,gBACRvzE,EAAQ/9D,kBAAoB+9D,EAAQl4D,QAAQnI,IAAI,SAAUla,GAAO,MAAQsvC,OAAatvC,MAE1Fu6E,EAAQ3pB,YAAch7C,EAAM3W,OAAOkb,gBAAgBy2C,YACnD2pB,EAAQp0E,YAAc5G,EAAU4G,YAChCo0E,EAAQ/2E,kBAAoBjE,EAAUiE,kBACtC+2E,EAAQh3E,gBAAkBhE,EAAUgE,gBACpCg3E,EAAQxiB,aAAex4D,EAAUw4D,aACjCwiB,EAAQviB,cAAgBz4D,EAAUy4D,cAC9BuiB,EAAQxiB,aAAe,IACvBwiB,EAAQviB,cAAgBuiB,EAAQviB,cAAgBuiB,EAAQxiB,aACxDwiB,EAAQxiB,aAAe,GAE3BwiB,EAAQ7Y,eAAiB,GAAIy3E,YAASvjI,EAAM0iI,WAAW/9D,QAAQ7Y,gBAC/D6Y,EAAQwzE,aAAerrJ,EAAK0e,gBACxB7hB,EAAU4G,cACVo0E,EAAQ3gD,OAASr6B,EAAUmiB,OAE3Bhf,EAAKkT,EAAM3W,OAAO8uC,cAAcE,aAChCssC,EAAQyZ,cAAchwF,MAAQtB,EAAKkT,EAAM3W,OAAO8uC,cAAcE,WAAWrrC,YAEzEF,EAAKkT,EAAM3W,OAAO8uC,cAAcC,cAChCusC,EAAQ0Z,eAAejwF,MAAQtB,EAAKkT,EAAM3W,OAAO8uC,cAAcC,YAAYprC,YAE1EpD,oBAAkBkD,EAAKkT,EAAM3W,OAAO8uC,cAAcrZ,cACnD6lD,EAAQ7lD,UAAYhyB,EAAKkT,EAAM3W,OAAO8uC,cAAcrZ,WAAW9xB,WAEnE,IAAIorJ,GAAazuJ,EAAU4G,YAAc0R,KAAKsH,MAAMvJ,EAAM3W,OAAOkb,gBAAgB6L,cAAgB,GAAK,GAAK,GACvGioI,IAAmBvrJ,EAAK0e,kBAAoB1e,EAAKS,gBAAgBmC,gBACjE4oJ,EAAWD,EAAiB1uJ,EAAUkjB,KAAOljB,EAAUm6D,SACvDy0F,EAAYF,EAAiB1uJ,EAAUmiB,MAAQniB,EAAUsyB,SAC7D0oD,GAAQ0Z,eAAexxE,KAAOyrI,EAAWC,EAAYH,EACrDzzE,EAAQi/D,WAAa5jI,EAAM0iI,WAAWkB,WACtCj/D,EAAQ7oD,cAAgBnyB,EAAUmyB,cAClC6oD,EAAQ6zE,WAAa,GAAIjV,YAASvjI,EAAM0iI,WAAWrjH,MAAMikH,WACzD3+D,EAAQogE,kBAAoB,GAAIxB,YAASvjI,EAAM0iI,WAAW/9D,QAAQogE,mBAC9DpgE,EAAQwzE,cACRxzE,EAAQw/D,UAAY,GAAIZ,YAASvjI,EAAM0iI,WAAW/9D,QAAQ+/D,iBAC1D//D,EAAQigE,gBAAkB,GAAIrB,YAASvjI,EAAM0iI,WAAW/9D,QAAQkgE,uBAChElgE,EAAQy/D,cAAgB,GAAIb,YAASvjI,EAAM0iI,WAAW/9D,QAAQggE,sBAG1D73I,EAAK+pE,YACL8N,EAAQw/D,UAAY,GAAIZ,YAASvjI,EAAM0iI,WAAW/9D,QAAQ0/D,mBAC1D1/D,EAAQy/D,cAAgB,GAAIb,YAASvjI,EAAM0iI,WAAW/9D,QAAQ2/D,uBAC9D3/D,EAAQigE,gBAAkB,GAAIrB,YAASvjI,EAAM0iI,WAAW/9D,QAAQ8/D,yBAChE9/D,EAAQ7Y,eAAiB,GAAIy3E,YAASvjI,EAAM0iI,WAAW/9D,QAAQ0/D,qBAG/D1/D,EAAQw/D,UAAY,GAAIZ,YAASvjI,EAAM0iI,WAAW/9D,QAAQw/D,WAC1Dx/D,EAAQy/D,cAAgB,GAAIb,YAASvjI,EAAM0iI,WAAW/9D,QAAQy/D,eAC9Dz/D,EAAQigE,gBAAkB,GAAIrB,YAASvjI,EAAM0iI,WAAW/9D,QAAQigE,kBAGxEjgE,EAAQ4gE,mBAAqB,GAAIhC,YAASvjI,EAAM0iI,WAAW/9D,QAAQ4gE,oBACnE5gE,EAAQ6gE,kBAAoB,GAAIjC,YAASvjI,EAAM0iI,WAAW/9D,QAAQ6gE,mBAClE7gE,EAAQ8zE,gBAAkB,GAAIlV,YAASvjI,EAAM0iI,WAAW/9D,QAAQ2gE,iBAChE3gE,EAAQsgE,wBAA0B,GAAI1B,YAASvjI,EAAM0iI,WAAW/9D,QAAQsgE,yBACxEtgE,EAAQugE,uBAAyB,GAAI3B,YAASvjI,EAAM0iI,WAAW/9D,QAAQugE,wBACvEvgE,EAAQwgE,qBAAuB,GAAI5B,YAASvjI,EAAM0iI,WAAW/9D,QAAQwgE,sBACrExgE,EAAQygE,sBAAwB,GAAI7B,YAASvjI,EAAM0iI,WAAW/9D,QAAQygE,uBACtEzgE,EAAQ0gE,oBAAsB,GAAI9B,YAASvjI,EAAM0iI,WAAW/9D,QAAQ0gE,qBACpE1gE,EAAQqgE,oBAAsB,GAAIzB,YAASvjI,EAAM0iI,WAAW/9D,QAAQqgE,qBACpErgE,EAAQtiB,cAAgB,GAAIkhF,YAASvjI,EAAM0iI,WAAW/9D,QAAQtiB,eAC9DsiB,EAAQ4/D,oBAAsB,GAAIhB,YAASvjI,EAAM0iI,WAAW/9D,QAAQ4/D,qBACpE5/D,EAAQ+zE,cAAgB,GAAInV,YAASvjI,EAAM0iI,WAAWuB,mBACtD,IAAI0U,KACJA,GAAmBtgH,WAAcjqC,MAAO,KAAM4jJ,MAAO,KAAMhO,WAAauO,UAAW,OACnFoG,EAAmBvgH,YAAehqC,MAAO,KAAM4jJ,MAAO,KAAMhO,WAAauO,UAAW,OACpFoG,EAAmB75H,WAAc1wB,MAAO,KAAM4jJ,MAAO,KAAMhO,WAAauO,UAAW,OACnF5tE,EAAQxsC,cAAgBwgH,CACxB,IAAIxzF,IACA/2D,MAAO,KACP4jJ,MAAO,KACPhO,WAAauO,UAAW,MAE5B5tE,GAAQxf,gBAAkBA,EAC1BnlD,EAAMgwD,MAAMhF,kBAAkB39D,KAAKs3E,EACnC,IAAIi0E,KACJA,GAAU7T,kBAAoBpgE,EAAQogE,kBACtC6T,EAAUzU,UAAYx/D,EAAQw/D,UAC9ByU,EAAUhU,gBAAkBjgE,EAAQigE,gBACpCgU,EAAUxU,cAAgBz/D,EAAQy/D,cAClCwU,EAAU9sF,eAAiB6Y,EAAQ7Y,eACnC8sF,EAAUv2F,cAAgBsiB,EAAQtiB,cAClCu2F,EAAUrU,oBAAsB5/D,EAAQ4/D,mBACxC,IAAIx2I,IACA42E,QAASi0E,EACT9rJ,KAAMA,EACN0U,WAAY1U,EAAKS,gBAAgBiU,WACjC22B,cAAewgH,EACfxzF,gBAAiBA,EAErB,IAAInlD,EAAM3W,OAAOwvJ,oBAAqB,CAClC,GAAIjyI,KAEJ,IADA7Y,EAAK42E,QAAQm0E,kBAAoB,KAC7B/qJ,EAAKjB,KAAKS,gBAAgBmG,SAAU,CACpC,IAAS7G,EAAI,EAAGA,EAAIkB,EAAKjB,KAAKS,gBAAgBmG,SAAShJ,OAAQmC,IAAK,CAChE,GAAIksJ,IACA5U,UAAWp2I,EAAK42E,QAAQw/D,UACxBS,gBAAiB72I,EAAK42E,QAAQigE,gBAC9BR,cAAer2I,EAAK42E,QAAQy/D,cAEhCx9H,GAAkBvZ,KAAK0rJ,GAE3BhrJ,EAAK42E,QAAQm0E,kBAAoBlyI,EAErC5G,EAAM3W,OAAOgc,QAAQ,sBAAuBtX,GAC5C42E,EAAQm0E,kBAAoB/qJ,EAAK42E,QAAQm0E,kBACzCn0E,EAAQogE,kBAAoBh3I,EAAK42E,QAAQogE,kBACzCpgE,EAAQw/D,UAAYp2I,EAAK42E,QAAQw/D,UACjCx/D,EAAQigE,gBAAkB72I,EAAK42E,QAAQigE,gBACvCjgE,EAAQy/D,cAAgBr2I,EAAK42E,QAAQy/D,cACrCz/D,EAAQ7Y,eAAiB/9D,EAAK42E,QAAQ7Y,eACtC6Y,EAAQtiB,cAAgBt0D,EAAK42E,QAAQtiB,cACrCsiB,EAAQ4/D,oBAAsBx2I,EAAK42E,QAAQ4/D,oBAC3C5/D,EAAQnjE,WAAazT,EAAKyT,WAC1BmjE,EAAQxsC,cAAcE,UAAUjqC,MAAQL,EAAKoqC,cAAcE,UAAUjqC,KACrE,IAAI4qJ,GAAajrJ,EAAKoqC,cAAcE,UAAU25G,KAC9CrtE,GAAQxsC,cAAcC,WAAWhqC,MAAQL,EAAKoqC,cAAcC,WAAWhqC,KACvE,IAAI6qJ,GAAalrJ,EAAKoqC,cAAcC,WAAW45G,KAI/C,IAHKpoJ,oBAAkBmE,EAAKoqC,cAAcrZ,UAAU1wB,SAChDu2E,EAAQ7lD,UAAY/wB,EAAKoqC,cAAcrZ,UAAU1wB,QAEhDxE,oBAAkBmE,EAAKoqC,cAAcE,UAAU25G,QAAUxvI,MAAMsT,QAAQ/nB,EAAKoqC,cAAcE,UAAU25G,MAAM,GAAGwE,SAC3GzoJ,EAAKoqC,cAAcE,UAAU25G,MAAM,GAAGwE,OAAO9rJ,OAAS,EAAG,CACxDwuJ,EAAYnrJ,EAAKoqC,cAAcE,UAAU25G,MAAM,GAAGwE,OAAO9rJ,MAC7Di6E,GAAQxsC,cAAcE,UAAU25G,QAChC,KAASnlJ,EAAI,EAAGA,EAAIqsJ,EAAWrsJ,IAE3B83E,EAAQxsC,cAAcE,UAAU25G,MAAM3kJ,MAClCmpJ,OAAQwC,EAAW,GAAGxC,OAAO3pJ,GAC7Bif,MAAOktI,EAAW,GAAGltI,MACrBkY,OAAQg1H,EAAW,GAAGh1H,aAIxBp6B,qBAAkBmE,EAAKoqC,cAAcE,UAAU25G,SACrDrtE,EAAQxsC,cAAcE,UAAU25G,MAAQjkJ,EAAKoqC,cAAcE,UAAU25G,MAEzE,KAAKpoJ,oBAAkBmE,EAAKoqC,cAAcC,WAAW45G,QAAUxvI,MAAMsT,QAAQ/nB,EAAKoqC,cAAcC,WAAW45G,MAAM,GAAGwE,SAC7GzoJ,EAAKoqC,cAAcC,WAAW45G,MAAM,GAAGwE,OAAO9rJ,OAAS,EAAG,CAC7D,GAAIwuJ,GAAYnrJ,EAAKoqC,cAAcC,WAAW45G,MAAM,GAAGwE,OAAO9rJ,MAC9Di6E,GAAQxsC,cAAcC,WAAW45G,QACjC,KAAK,GAAInlJ,GAAI,EAAGA,EAAIqsJ,EAAWrsJ,IAE3B83E,EAAQxsC,cAAcC,WAAW45G,MAAM3kJ,MACnCmpJ,OAAQyC,EAAW,GAAGzC,OAAO3pJ,GAC7Bif,MAAOmtI,EAAW,GAAGntI,MACrBkY,OAAQi1H,EAAW,GAAGj1H,aAIxBp6B,qBAAkBmE,EAAKoqC,cAAcC,WAAW45G,SACtDrtE,EAAQxsC,cAAcC,WAAW45G,MAAQjkJ,EAAKoqC,cAAcC,WAAW45G,MAG3E,IAAImH,GAAgB,SAAU9qH,EAAQ+qH,GAMlC,GALA/qH,EAAO02G,kBAAoBqU,EAAOz0E,QAAQogE,kBAC1C12G,EAAO81G,UAAY,GAAIZ,YAAS6V,EAAOz0E,QAAQw/D,WAC/C91G,EAAOu2G,gBAAkBwU,EAAOz0E,QAAQigE,gBACxCv2G,EAAO+1G,cAAgBgV,EAAOz0E,QAAQy/D,cACtC/1G,EAAOy9B,eAAiBstF,EAAOz0E,QAAQ7Y,gBAClCliE,oBAAkBwvJ,EAAOj0F,gBAAgB6sF,SAAWpoJ,oBAAkBwvJ,EAAOj0F,gBAAgB6sF,MAAM,GAAGwE,QAAS,CAChH,GAAI1qI,GAAQstI,EAAOj0F,gBAAgB6sF,MAAM,GAAGlmI,MACxCgvC,EAAkB6pB,EAAQp0E,aAAgB6oJ,EAAOj0F,gBAAgB6sF,MAAM,GAAGhuH,OAC5B,GAA7ChkB,EAAM3W,OAAOkb,gBAAgB6L,cAAwBgpI,EAAOj0F,gBAAgB6sF,MAAM,GAAGhuH,OACkB,GAA7ChkB,EAAM3W,OAAOkb,gBAAgB6L,cAAuB,EAC/GC,EAAiBzmB,oBAAkBwvJ,EAAOj0F,gBAAgB6sF,MAAM,GAAGhuH,QAEA2gD,EAAQ3gD,OAAS,EADlFo1H,EAAOj0F,gBAAgB6sF,MAAM,GAAGhuH,OAAS2gD,EAAQ3gD,OAC/Co1H,EAAOj0F,gBAAgB6sF,MAAM,GAAGhuH,OAAS2gD,EAAQ3gD,OAAS,EAC9DA,EAAS2gD,EAAQp0E,YAAcuqD,EAAkBzqC,CACrDge,GAAO82B,gBAAgB6sF,MAAQoH,EAAOj0F,gBAAgB6sF,MACtD3jH,EAAO82B,gBAAgB6sF,MAAM,GAAGlmI,MAAQA,EACxCuiB,EAAO82B,gBAAgB6sF,MAAM,GAAGhuH,OAASA,EAExCp6B,oBAAkBwvJ,EAAOj0F,gBAAgB/2D,SAC1CigC,EAAO82B,gBAAgB/2D,MAAQgrJ,EAAOj0F,gBAAgB/2D,MACtDigC,EAAO82B,gBAAgB/2D,MAAQgrJ,EAAOj0F,gBAAgB/2D,MACtDigC,EAAO82B,gBAAgB6+E,UAAUV,UAAY8V,EAAOj0F,gBAAgB6+E,UAAUV,UAC9Ej1G,EAAO82B,gBAAgB6+E,UAAUX,SAAW+V,EAAOj0F,gBAAgB6+E,UAAUX,SAC7Eh1G,EAAO82B,gBAAgB6+E,UAAUJ,WAAawV,EAAOj0F,gBAAgB6+E,UAAUJ,WAC/Ev1G,EAAO82B,gBAAgB6+E,UAAUA,UAAYoV,EAAOj0F,gBAAgB6+E,UAAUA,UAC9E31G,EAAO82B,gBAAgB6+E,UAAUuO,UAAY6G,EAAOj0F,gBAAgB6+E,UAAUuO,WAGjFxkJ,GAAKjB,KAAK0e,iBAA0D,IAAvCzd,EAAKjB,KAAKS,gBAAgBxD,SAGnDgE,EAAKjB,KAAK0e,iBAA0D,IAAvCzd,EAAKjB,KAAKS,gBAAgBxD,SAC5DovJ,EAAcx0E,EAAS52E,GAEqB,IAAvCA,EAAKjB,KAAKS,gBAAgBxD,UAC/BovJ,EAAcx0E,EAAS52E,GANvBorJ,EAAcx0E,EAAS52E,OAmBvConJ,EAAa3lJ,UAAU6pJ,uBAAyB,SAAU56F,EAAWx/C,GAIjE,WAHevI,KAAXuI,IACAA,EAAS,GAAIwmI,oBAEThnF,GACJ,IAAK,QACDx/C,EAAO0kI,UAAYuP,mBAAiBG,KACpC,MACJ,KAAK,SACDp0I,EAAO0kI,UAAYuP,mBAAiBC,MACpC,MACJ,KAAK,UACDl0I,EAAO0kI,UAAYuP,mBAAiBoG,OACpC,MACJ,KAAK,OACDr6I,EAAO0kI,UAAYuP,mBAAiBE,KAG5C,MAAOn0I,IAWXk2I,EAAa3lJ,UAAU+pJ,qBAAuB,SAAUzrF,EAAe7uD,EAAQw/C,GAK3E,WAJe/nD,KAAXuI,IACAA,EAAS,GAAIwmI,mBACbxmI,EAASlQ,KAAKsqJ,uBAAuB56F,EAAWx/C,IAE5C6uD,GACJ,IAAK,SACD7uD,EAAOykI,cAAgB8V,uBAAqBC,MAC5C,MACJ,KAAK,SACDx6I,EAAOykI,cAAgB8V,uBAAqBE,MAC5C,MACJ,KAAK,MACDz6I,EAAOykI,cAAgB8V,uBAAqBG,IAGpD,MAAO16I,IAEXk2I,EAAa3lJ,UAAU8nJ,cAAgB,SAAU1T,GAC7C,OAAQA,GACJ,IAAK,aACD,MAAO,EACX,KAAK,UACD,MAAO,EACX,KAAK,SACD,MAAO,EACX,KAAK,eACD,MAAO,EACX,SACI,MAAO,KAGnBuR,EAAa3lJ,UAAU+nJ,aAAe,SAAUvT,GAC5C,OAAQA,GACJ,IAAK,YACD,MAAO,EACX,KAAK,YACD,MAAO,EACX,KAAK,SACD,MAAO,EACX,KAAK,OACD,MAAO,EACX,SACI,MAAO,KAInBmR,EAAa3lJ,UAAUoqJ,QAAU,SAAUn6H,GACvC,GAAIA,EAAQwxH,KACR,MAAOxxH,GAAQwxH,IAEnB,IAAI4I,GAAoB9qJ,KAAKusB,YAAYonH,YAAc3zI,KAAKusB,YAAYonH,WAAWkB,WAC/E70I,KAAKusB,YAAYonH,WAAWkB,WAAaC,gBAAciW,WACvDzW,EAAaz5I,oBAAkB61B,EAAQiD,MAAM2gH,UAA+C,KAAR,IAAzB5jH,EAAQiD,MAAM2gH,SACzEO,EAAeh6I,oBAAkB61B,EAAQiD,MAAMkhH,YACEiW,EAAhD9qJ,KAAKuoJ,cAAc73H,EAAQiD,MAAMkhH,YAClCI,EAAYoN,eAAa2I,OAa7B,OAAO,IAAI7I,mBAAgBtN,EAAYP,EAAUW,IAErDmR,EAAa3lJ,UAAUknJ,iBAAmB,WACtC,GAAI1mH,GAAMjhC,KAAKihE,MAAM97B,KAAK68C,QACF,KAApB/gD,EAAImgE,MAAM1+F,OACVu+B,EAAImgE,MAAM/vE,MAEd4P,EAAImgE,MAAMo5C,QAAQ,GAAGuI,cAAe,EACpC9hH,EAAIhM,OAASt1B,EAAaK,KAAK1F,OAAO8mB,WACtCphB,KAAKqnJ,WAAWrnJ,KAAK2zI,WAAWU,aAAcpzG,EAAImgE,MAAMo5C,QAAQ,GAAIv5G,EAAImhH,YACxE,IAAI1/I,GAAQ1C,KAAKib,QAAQtf,MACzBslC,GAAImgE,MAAMo5C,QAAQ,GAAGn7I,MAAQW,KAAK1F,OAAOoW,UAAUC,YAAY,eAC/D3Q,KAAKirJ,WAAW,EAAG,EAAGvoJ,IAE1B0jJ,EAAa3lJ,UAAUwqJ,WAAa,SAAU/uH,EAAU6L,EAAUmjH,GAC9DlrJ,KAAKihE,MAAM97B,KAAKo1G,OAAOr+G,GAAUklE,MAAMo5C,QAAQzyG,GAAUy3G,WAAa0L,GAG1E9E,EAAa3lJ,UAAU4mJ,WAAa,SAAU1zH,EAAOgjG,EAAMyrB,GACvDzrB,EAAKhjG,MAAM4gH,UAAY,GAAIC,YAAS7gH,EAAM4gH,WAC1C5d,EAAKhjG,MAAMspC,gBAAkB,GAAIu3E,YAAS7gH,EAAMspC,iBAChD05D,EAAKhjG,MAAM+gH,YAAc,GAAIF,YAAS7gH,EAAM+gH,aAC5C/d,EAAKhjG,MAAM2gH,SAAW3gH,EAAM2gH,SAC5B3d,EAAKhjG,MAAMshH,UAAYthH,EAAMshH,UAE7Bte,EAAKhjG,MAAMzjB,OAASzU,OAAO2iB,OAAO,GAAIs4H,mBAAmB/iH,EAAMzjB,QAC/DymH,EAAKhjG,MAAM8mH,QAAU,GAAIxD,IACzBtgB,EAAKhjG,MAAM8mH,QAAQ0Q,IAAM,GAAIhW,UAAOxe,EAAKhjG,MAAM+gH,aAC/C/d,EAAKhjG,MAAMq9C,QAAU,GAAI2mE,GACzB,IAAI3mE,GAAU,CAEVA,GADA2lD,EAAKosB,aACK/iJ,KAAK1F,OAAOsX,eAAe4Y,aAAe,KAAS,GAGnDxqB,KAAK1F,OAAO8mB,UAAY,EAEtCu1G,EAAKhjG,MAAMq9C,QAAQhgD,IAAOggD,EAAUr9C,EAAM2gH,SAAW,EAAKtjE,EAAUr9C,EAAM2gH,SAAWtjE,EACrF2lD,EAAKhjG,MAAMq9C,QAAQ4mE,OAAU5mE,EAAUr9C,EAAM2gH,SAAW,EAAKtjE,EAAUr9C,EAAM2gH,SAAW,EACxF3d,EAAKhjG,MAAMq9C,QAAQlzD,KAAO,GAC1B64G,EAAKhjG,MAAMq9C,QAAQp9C,MAAQ,GACvBD,EAAMq9C,UACN2lD,EAAKhjG,MAAMq9C,QAAUr9C,EAAMq9C,SAE3Br9C,EAAM8mH,UACN9jB,EAAKhjG,MAAM8mH,QAAU9mH,EAAM8mH,UAQnC2L,EAAa3lJ,UAAU2qJ,cAAgB,SAAUx6D,GAC7C5wF,KAAK4wF,OAASA,CACd,IAAIswD,MAEAmK,EAAUrrJ,KAAK4wF,OAAO06D,aAAavuI,MAAQ,EAC/C,IAAI/c,KAAKusB,aAAevsB,KAAKusB,YAAYC,oBAAsBxsB,KAAKusB,YAAYC,mBAAmBC,aAAc,CAC7G,GAAI+5H,OAAY,EAEZA,GADAxmJ,KAAKusB,YAAYC,mBAAmBg6H,UACxBxoJ,SAASgC,KAAKusB,YAAYC,mBAAmBg6H,UAAU79I,MAAM,KAAK,GAAI,IAG9E3I,KAAKusB,YAAYC,mBAAmB+hB,WAExB,IADKvwC,SAASgC,KAAKusB,YAAYC,mBAAmB+hB,WAAW5lC,MAAM,KAAK,GAAI,IAI5E,EAKpB,KAAK,GADD4iJ,GADYvrJ,KAAK1F,OAAO8xB,gBAAmC,kBAAErP,MAAQypI,EAAa,IACtDxmJ,KAAKihE,MAAMhmD,QAAQA,QAAQtf,OAClDmC,EAAI,EAAGA,EAAIkC,KAAKihE,MAAMhmD,QAAQA,QAAQtf,OAAQmC,IACnDkC,KAAKihE,MAAMhmD,QAAQkgI,UAAUr9I,GAAGif,MAAQwuI,EAIhD,GAAIC,GAAUxrJ,KAAK1F,OAAO8xB,gBAAgBq/H,OAO1C,IANIzrJ,KAAKqmJ,iBAAoBrmJ,KAAK4wF,OAAO06D,aAAavuI,MAAQ,IAAO/c,KAAKqmJ,iBAAmBmF,EAAQ5R,gBAAgB78H,MACjH/c,KAAKihE,MAAMttC,MAAMglH,yBAA0B,EAErC0S,EAASrrJ,KAAKib,QAAQtf,OAAUulJ,EA3BpB,KA4BlBlhJ,KAAKihE,MAAMhmD,QAAQkgI,UA5BD,GA4B4Bp+H,MAAQmkI,EA5BpC,IA8BlBlhJ,KAAKusB,YAAYm/H,cAAgB7wJ,oBAAkBmF,KAAKusB,YAAYm/H,cAAe,CAEnF,GAAIC,GAAa3rJ,KAAK1F,OAAO8xB,gBAAgBw/H,YAAY5rJ,KAAKusB,YAAYs/H,UACtE1R,EAAS,GAAIb,cAAW,EAAG,EAAGqS,EAAW5uI,MAAO,IAChD4nI,EAAM,GAAIxP,UAAOn1I,KAAK2zI,WAAWqB,OAAON,aACxCM,EAAS,GAAI8W,0BAAuB3R,GACpC4R,EAAc,GAAIlJ,iBAAc7iJ,KAAK2zI,WAAWqB,OAAO/3E,gBAC3D+3E,GAAO8E,SAASkK,cAAcW,EAAKoH,EAAa,EAAG,EAAGJ,EAAW5uI,MAAO,GAExE,IAAImlI,GAAO,GAAIC,mBAAgBniJ,KAAK2zI,WAAWkB,WAAY70I,KAAK2zI,WAAWqB,OAAOV,SAAUt0I,KAAK2zI,WAAWqB,OAAOC,UAC/Gj1I,MAAK2zI,WAAWuO,OAChBA,EAAOliJ,KAAK2zI,WAAWuO,KAE3B,IAAI6G,GAAQ,GAAIlG,iBAAc7iJ,KAAK2zI,WAAWqB,OAAOT,WACjDiH,EAAa,GAAIwQ,sBAAmB9J,GACpCx/I,EAAQ,GAAIupJ,qBAAkB/J,EAAM6G,GACpCmD,EAAiB,GAAIC,qBAAkBjK,EAAM6G,EAAO,WAAYvN,EAAY94I,EAChFwpJ,GAAejG,aAAejmJ,KAAK2zI,WAAWqB,OAAO9kI,OACrDg8I,EAAe/R,OAASA,EACxB+R,EAAexM,KAAK1K,EAAO8E,SAAU,GAAII,UAAO,EAAG,IACnDtpD,EAAOr3C,SAASq+F,OAAS5C,EAG7B,GAAI6W,GAAWL,EAAQl5E,KACnBgoE,EAAcz/I,oBAAkBgxJ,GAAuB7rJ,KAAK4wF,OAAO06D,aAAah5E,KAApCu5E,CAEhD,KAAKhxJ,oBAAkBmF,KAAKusB,YAAY45D,QAAS,CAC7C,GAAIimE,GAAapsJ,KAAKusB,YAAY45D,OAC9B5zC,EAAW,GAAI2nG,UAAO,EAAGkS,EAAWC,SACpC/5E,EAAO,GAAI8nE,SAA0B,IAAnBE,EAAWv9H,MAAgBqvI,GAAcA,EAAWn3H,OAA8B,IAApBm3H,EAAWn3H,OAAgB,IAC3GklH,EAAS,GAAIb,cAAW/mG,EAAU+/B,EACtCse,GAAOr3C,SAASvoB,IAAMhxB,KAAKssJ,iBAAiB,GAAIR,0BAAuB3R,GAASiS,GAGpF,IAAKpsJ,KAAKusB,YAAYm/H,eAAiB7wJ,oBAAkBmF,KAAKusB,YAAYyoH,QAAS,CAC/E,GAAIA,GAASh1I,KAAKusB,YAAYyoH,OAC1BziG,EAAW,GAAI2nG,UAAO,EAAKI,EAAWv9H,MAAQ,IAAQi4H,GAAUA,EAAOuX,WACnD,IAApBvX,EAAOuX,WAAoB,IAC3Bj6E,EAAO,GAAI8nE,SAA0B,IAAnBE,EAAWv9H,MAAgBi4H,GAAUA,EAAO//G,OAA0B,IAAhB+/G,EAAO//G,OAAgB,IAC/FklH,EAAS,GAAIb,cAAW/mG,EAAU+/B,EACtCtyE,MAAK4wF,OAAOr3C,SAASq+F,OAAS53I,KAAKssJ,iBAAiB,GAAIR,0BAAuB3R,GAASnF,KAGhGoR,EAAa3lJ,UAAU6rJ,iBAAmB,SAAU/yG,EAAUzzC,GAC1D,IAAK,GAAIvK,GAAK,EAAGC,EAAKsK,EAAQ0mJ,SAAUjxJ,EAAKC,EAAGG,OAAQJ,IAAM,CAC1D,GAAIm1B,GAAUl1B,EAAGD,EACjB,QAAQm1B,EAAQtgB,MACZ,IAAK,OACD,GAAsB,KAAlBsgB,EAAQrxB,WAAkCsI,KAAlB+oB,EAAQrxB,OAAyC,OAAlBqxB,EAAQrxB,OAA2C,gBAAlBqxB,GAAQrxB,MAChG,KAAM,IAAI6lJ,OAAM,wDAEpBllJ,MAAKysJ,SAASlzG,EAAU7oB,EACxB,MACJ,KAAK,aACD1wB,KAAK0sJ,eAAenzG,EAAU7oB,EAC9B,MACJ,KAAK,QACD,OAAoB/oB,KAAhB+oB,EAAQi8H,KAAqC,OAAhBj8H,EAAQi8H,KAAgC,KAAhBj8H,EAAQi8H,IAC7D,KAAM,IAAIzH,OAAM,2DAEpBllJ,MAAKmjJ,UAAU5pG,EAAU7oB,EACzB,MACJ,KAAK,OACD1wB,KAAK+kJ,SAASxrG,EAAU7oB,EACxB,MACJ,SACI,KAAM,IAAIw0H,OAAM,qCAG5B,MAAO3rG,IAIX6sG,EAAa3lJ,UAAUgsJ,SAAW,SAAUG,EAAcl8H,GACtD,GAAIwxH,GAAOliJ,KAAK6qJ,QAAQn6H,EACpB1wB,MAAK2zI,WAAWuO,OAChBA,EAAOliJ,KAAK2zI,WAAWuO,KAE3B,IAAI6G,GAAQ/oJ,KAAK6sJ,oBAAoBn8H,GACjCi0H,EAAM,IACV,KAAK9pJ,oBAAkB61B,EAAQiD,MAAMm5H,cAAe,CAChD,GAAIC,GAAW/sJ,KAAKgtJ,SAASt8H,EAAQiD,MAAMm5H,aAC3CnI,GAAM,GAAIxP,UAAO,GAAIX,YAASuY,EAAS/iG,EAAG+iG,EAASE,EAAGF,EAASx7I,IAErD,OAAVw3I,GAA0B,OAARpE,IAClBoE,EAAQ,GAAIlG,iBAAc,GAAIrO,YAAS,EAAG,EAAG,IAEjD,IAAIn1I,GAAQqxB,EAAQrxB,MAAMpB,WACtB+b,EAAyB,IAArB0W,EAAQ6hB,SAASv4B,EACrB+8D,EAAyB,IAArBrmD,EAAQ6hB,SAASwkC,EACrB7mE,EAAS,GAAIwmI,kBACZ77I,qBAAkB61B,EAAQiD,MAAMsyH,gBACjC/1I,EAAO0kI,UAAYlkH,EAAQiD,MAAMsyH,aAAarR,UAElD,IAAI/2I,GAASmC,KAAKktJ,iBAAiBx8H,EAASxgB,EAC7B,QAAXrS,GAAoBhD,oBAAkBgD,EAAOqS,SAAYrV,oBAAkBgD,EAAOy0E,MAIlFs6E,EAAa9S,SAAS2J,WAAWpkJ,EAAO6iJ,EAAMyC,EAAKoE,EAAO/uI,EAAG+8D,EAAG7mE,GAHhE08I,EAAa9S,SAAS2J,WAAWpkJ,EAAO6iJ,EAAMyC,EAAKoE,EAAO/uI,EAAG+8D,EAAGl5E,EAAOy0E,KAAKv1D,MAAOlf,EAAOy0E,KAAKr9C,OAAQp3B,EAAOqS,SAQtHk2I,EAAa3lJ,UAAUisJ,eAAiB,SAAUS,EAAgBz8H,GAC9D,GAAIwxH,GAAOliJ,KAAK6qJ,QAAQn6H,GACpBq4H,EAAQ,IACZ,IAAKluJ,oBAAkB61B,EAAQiD,MAAMy5H,gBAKjCrE,EAAQ,GAAIlG,iBAAc,GAAIrO,YAAS,EAAG,EAAG,QALK,CAClD,GAAI6Y,GAAartJ,KAAKgtJ,SAASt8H,EAAQiD,MAAMy5H,eAC7CrE,GAAQ,GAAIlG,iBAAc,GAAIrO,YAAS6Y,EAAWrjG,EAAGqjG,EAAWJ,EAAGI,EAAW97I,IAKlF,GAAIiqI,GAAa,GAAIwQ,sBAAmB9J,EAAM6G,EAC9CvN,GAAW8R,YAActtJ,KAAKutJ,mBAAmB78H,EAAQ88H,eACzD,IAAItB,GACAh8I,CACJ,IAAKrV,oBAAkB61B,EAAQxgB,QA2B3BA,EAAS,MACTg8I,EAAiB,GAAIC,qBAAkBjK,EAAM6G,EAAO74I,EAAQsrI,OA5BxB,CACpC,GAAIiS,GAAQ,QAEZ,KAAuC,IAAnC/8H,EAAQxgB,OAAOpD,QAAQ2gJ,KAAsD,IAArC/8H,EAAQxgB,OAAOpD,QAD7C,aAEN4gJ,EAAY,GAAIzB,qBAAkB/J,IAC5BoL,YAActtJ,KAAKutJ,mBAAmB78H,EAAQ88H,gBAGpDt9I,EAFAwgB,EAAQxgB,OAAOpD,QAAQ2gJ,GAAS/8H,EAAQxgB,OAAOpD,QAJzC,aAKNoD,EAASwgB,EAAQxgB,OAAO/Q,QALlB,WAKmC,MACzBA,QAAQsuJ,EAAO,MAG/Bv9I,EAASwgB,EAAQxgB,OAAO/Q,QATlB,WASmC,MACzBA,QAAQsuJ,EAAO,KAEnCvB,EAAiB,GAAIC,qBAAkBjK,EAAM6G,EAAO74I,EAAQsrI,EAAYkS,OAEvE,KAAyC,IAArCh9H,EAAQxgB,OAAOpD,QAdV,cAcwE,IAAnC4jB,EAAQxgB,OAAOpD,QAAQ2gJ,GACtEv9I,EAASwgB,EAAQxgB,OAAO/Q,QAfd,WAe+B,KACzC+sJ,EAAiB,GAAIC,qBAAkBjK,EAAM6G,EAAO74I,EAAQsrI,OAE3D,CACD,GAAIkS,GAAY,GAAIzB,qBAAkB/J,EACtChyI,GAASwgB,EAAQxgB,OAAO/Q,QAAQsuJ,EAAO,KACvCvB,EAAiB,GAAIC,qBAAkBjK,EAAM6G,EAAO74I,EAAQw9I,IAOpE,GAAI1zI,GAAyB,IAArB0W,EAAQ6hB,SAASv4B,EACrB+8D,EAAyB,IAArBrmD,EAAQ6hB,SAASwkC,EACrBl5E,EAASmC,KAAKktJ,iBAAiBx8H,EAASw7H,EAAejG,aAC5C,QAAXpoJ,GAAoBhD,oBAAkBgD,EAAOqS,SAAYrV,oBAAkBgD,EAAOy0E,QAClF45E,EAAejG,aAAepoJ,EAAOqS,OACrCg8I,EAAe/R,OAAS,GAAIb,cAAWt/H,EAAG+8D,EAAGl5E,EAAOy0E,KAAKv1D,MAAOlf,EAAOy0E,KAAKr9C,SAEhFi3H,EAAexM,KAAKyN,EAAerT,SAAU9/H,EAAG+8D,IAIpDqvE,EAAa3lJ,UAAU0iJ,UAAY,SAAUgK,EAAgBz8H,GACzD,GAAI1W,GAAyB,IAArB0W,EAAQ6hB,SAASv4B,EACrB+8D,EAAyB,IAArBrmD,EAAQ6hB,SAASwkC,EACrBh6D,EAAUliB,oBAAkB61B,EAAQ4hD,OAAUz3E,oBAAkB61B,EAAQ4hD,KAAKv1D,WAC/CpV,GAAR,GAArB+oB,EAAQ4hD,KAAKv1D,MACdkY,EAAWp6B,oBAAkB61B,EAAQ4hD,OAAUz3E,oBAAkB61B,EAAQ4hD,KAAKr9C,YAC/CttB,GAAR,IAAtB+oB,EAAQ4hD,KAAKr9C,OACdguH,EAAQ,GAAIW,aAAUlzH,EAAQi8H,IAC7B9xJ,qBAAkBkiB,GAInBowI,EAAerT,SAASqJ,UAAUF,EAAOjpI,EAAG+8D,GAH5Co2E,EAAerT,SAASqJ,UAAUF,EAAOjpI,EAAG+8D,EAAGh6D,EAAOkY,IAQ9DmxH,EAAa3lJ,UAAUskJ,SAAW,SAAUoI,EAAgBz8H,GACxD,GAAIy+C,GAAyB,IAApBz+C,EAAQi9H,OAAOx+E,GACpBE,EAAyB,IAApB3+C,EAAQi9H,OAAOt+E,GACpBD,EAAyB,IAApB1+C,EAAQi9H,OAAOv+E,GACpBE,EAAyB,IAApB5+C,EAAQi9H,OAAOr+E,GACpBq1E,EAAM3kJ,KAAK4tJ,kBAAkBl9H,EAC5B71B,qBAAkB61B,EAAQiD,SACtB94B,oBAAkB61B,EAAQiD,MAAMk6H,UAA6C,gBAA1Bn9H,GAAQiD,MAAMk6H,UAClElJ,EAAI5nI,MAAgC,IAAxB2T,EAAQiD,MAAMk6H,SAE9BlJ,EAAI5Q,UAAY/zI,KAAK8tJ,aAAap9H,EAAQiD,MAAMogH,YAEpDoZ,EAAerT,SAASiL,SAASJ,EAAKx1E,EAAIE,EAAID,EAAIE,IAEtD82E,EAAa3lJ,UAAUmtJ,kBAAoB,SAAUl9H,GACjD,GAAIi0H,GAAM,GAAIxP,UAAO,GAAIX,YAAS,EAAG,EAAG,GACxC,KAAK35I,oBAAkB61B,EAAQiD,QAA4B,OAAlBjD,EAAQiD,QAAmB94B,oBAAkB61B,EAAQiD,MAAMo5H,UAAW,CAC3G,GAAIA,GAAW/sJ,KAAKgtJ,SAASt8H,EAAQiD,MAAMo5H,SAC3CpI,GAAM,GAAIxP,UAAO,GAAIX,YAASuY,EAAS/iG,EAAG+iG,EAASE,EAAGF,EAASx7I,IAEnE,MAAOozI,IAEXyB,EAAa3lJ,UAAUqtJ,aAAe,SAAU/Z,GAC5C,OAAQA,GACJ,IAAK,OACD,MAAO,EACX,KAAK,MACD,MAAO,EACX,KAAK,UACD,MAAO,EACX,KAAK,aACD,MAAO,EACX,SACI,MAAO,KAGnBqS,EAAa3lJ,UAAUosJ,oBAAsB,SAAUn8H,GACnD,GAAIq4H,GAAQ,IACZ,KAAKluJ,oBAAkB61B,EAAQiD,MAAMy5H,gBAAiB,CAElD,GAAIC,GAAartJ,KAAKgtJ,SAASt8H,EAAQiD,MAAMy5H,eAC7CrE,GAAQ,GAAIlG,iBAAc,GAAIrO,YAAS6Y,EAAWrjG,EAAGqjG,EAAWJ,EAAGI,EAAW97I,IAElF,MAAOw3I,IAEX3C,EAAa3lJ,UAAUusJ,SAAW,SAAUe,GACxC,GAAY,OAARA,GAAwB,KAARA,GAA6B,IAAfA,EAAIpyJ,OAClC,KAAM,IAAIupJ,OAAM,0CAEpB6I,GAAMA,EAAI/2F,UAAU,EACpB,IAAIg3F,GAAShwJ,SAAS+vJ,EAAK,GAI3B,QAAS/jG,EAHAgkG,GAAU,GAAM,IAGVf,EAFNe,GAAU,EAAK,IAEHz8I,EADJ,IAATy8I,IAGZ5H,EAAa3lJ,UAAUysJ,iBAAmB,SAAUx8H,EAASxgB,GACzD,GAAI6M,GAAS2T,OAAqC,IAArBA,EAAQ4hD,KAAKv1D,MAAe/c,KAAK4wF,OAAO06D,aAAah5E,KAAKv1D,MACnFkY,EAAUvE,OAAsC,IAAtBA,EAAQ4hD,KAAKr9C,OAAkBp6B,oBAAkBmF,KAAKusB,YAAYyoH,QACpD,EAAP,GAAjCh1I,KAAKusB,YAAYyoH,OAAO//G,MAE5B,IADA/kB,EAAS,GAAIwmI,mBAAgByN,mBAAiBE,KAAMoG,uBAAqBE,SACpE9vJ,oBAAkB61B,EAAQiD,MAAMs6H,QACjC,OAAQv9H,EAAQiD,MAAMs6H,QAClB,IAAK,QACD/9I,EAAO0kI,UAAYuP,mBAAiBG,KACpC,MACJ,KAAK,SACDp0I,EAAO0kI,UAAYuP,mBAAiBC,MACpC,MACJ,KAAK,UACDl0I,EAAO0kI,UAAYuP,mBAAiBoG,OACpC,MACJ,SACIr6I,EAAO0kI,UAAYuP,mBAAiBE,KAMhD,MAHKxpJ,qBAAkB61B,EAAQiD,MAAMu6H,UACjCh+I,EAASlQ,KAAKwqJ,qBAAqB95H,EAAQiD,MAAMu6H,OAAQh+I,KAEpDA,OAAQA,EAAQoiE,KAAM,GAAI8nE,SAAMr9H,EAAOkY,KAEpDmxH,EAAa3lJ,UAAU8sJ,mBAAqB,SAAUC,GAClD,OAAQA,GACJ,IAAK,aACD,MAAO,EACX,KAAK,aACD,MAAO,EACX,KAAK,aACD,MAAO,EACX,KAAK,aACD,MAAO,EACX,SACI,MAAO,KAGZpH,KAOPQ,GAAsC,WACtC,QAASA,GAAqBuH,GAC1BnuJ,KAAKouJ,eAAiB,GAAIC,kBAAeF,GACzCnuJ,KAAKsuJ,qBAAuB,GAAI/tE,wBAAqB4tE,GAuEzD,MApEAvH,GAAqBnmJ,UAAU8tJ,qBAAuB,SAAUvvJ,EAAMi2C,GAClE,OAAKp6C,oBAAkBmE,EAAKK,QAAUL,EAAKK,MAChCW,KAAKouJ,eAAeI,kBAAkBv5G,GAAcj2C,EAAKK,OAGzD,IAOfunJ,EAAqBnmJ,UAAU4nJ,gBAAkB,SAAUrpJ,GAIvD,GAHIA,EAAKyvJ,eACLzvJ,EAAKK,MAAQK,WAASV,EAAKikC,OAAO+0E,gBAAiB02C,iBAAe1vJ,EAAKikC,UAAYjkC,EAAKK,OAAO,KAE1E,WAArBL,EAAKikC,OAAO7yB,UAA4CzI,KAAvB3I,EAAKikC,OAAO/yB,QAA+C,KAAvBlR,EAAKikC,OAAO/yB,OACjF,MAAOlR,GAAKK,MAAQW,KAAKsuJ,qBAAqBK,iBAAkBz+I,OAAQlR,EAAKikC,OAAO/yB,SAAUlR,EAAKK,OAAS,EAE3G,IAAyB,YAArBL,EAAKikC,OAAO7yB,KACjB,MAAOpR,GAAKK,MAAQ,OAAS,OAE5B,IAA0B,SAArBL,EAAKikC,OAAO7yB,MAAwC,aAArBpR,EAAKikC,OAAO7yB,MAA4C,SAArBpR,EAAKikC,OAAO7yB,UAA2CzI,KAAvB3I,EAAKikC,OAAO/yB,OAsCpH,OAAMrV,oBAAkBmE,EAAKikC,OAAO7yB,OAAUvV,oBAAkBmE,EAAKK,SAAYxE,oBAAkBmE,EAAKK,OAI7F,GAHCL,QAAYf,UAnCxB,IAH0B,gBAAfe,GAAKK,QACZL,EAAKK,MAAQ,GAAIvC,MAAKkC,EAAKK,QAEG,gBAAvBL,GAAKikC,OAAO/yB,OAAqB,CACxC,GAAIA,OAAS,EAUb,OARIA,GADqB,SAArBlR,EAAKikC,OAAO7yB,MACDA,KAAM,OAAQF,OAAQlR,EAAKikC,OAAO/yB,QAEnB,SAArBlR,EAAKikC,OAAO7yB,MACNA,KAAM,OAAQF,OAAQlR,EAAKikC,OAAO/yB,SAGlCE,KAAM,WAAYF,OAAQlR,EAAKikC,OAAO/yB,QAE9ClQ,KAAKuuJ,qBAAqBvvJ,EAAMkR,GAGvC,GAAIlR,EAAKikC,OAAO/yB,iBAAkBzU,aAAsCkM,KAA5B3I,EAAKikC,OAAO/yB,OAAOE,KAC3D,MAAQpR,GAAKK,MAAMpB,UAGnB,IAAIg3C,OAAe,EAWnB,OARIA,GAFqB,SAArBj2C,EAAKikC,OAAO7yB,MAEKA,KAAMpR,EAAKikC,OAAO/yB,OAAOE,KAAMF,OAAQlR,EAAKikC,OAAO/yB,OAAOA,OAAQ2yE,SAAU7jF,EAAKikC,OAAO/yB,OAAO2yE,UAEtF,SAArB7jF,EAAKikC,OAAO7yB,MACAA,KAAM,OAAQF,OAAQlR,EAAKikC,OAAO/yB,OAAOA,OAAQ2yE,SAAU7jF,EAAKikC,OAAO/yB,OAAO2yE,WAG9EzyE,KAAM,WAAYF,OAAQlR,EAAKikC,OAAO/yB,OAAOA,OAAQ2yE,SAAU7jF,EAAKikC,OAAO/yB,OAAO2yE,UAEhG7iF,KAAKuuJ,qBAAqBvvJ,EAAMi2C,IAahD2xG,KC9sCPj8G,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAQ5B8jH,GAA2C,WAC3C,QAASA,GAA0Bt0J,GAE/B0F,KAAKksD,eAAiB,EACtBlsD,KAAK0d,WACL1d,KAAK6X,qBAIL7X,KAAKqvF,iBAILrvF,KAAKsvF,kBACLtvF,KAAK67I,WAAa,EAClB77I,KAAK6uJ,SAAW,EAChB7uJ,KAAK8uJ,0BAA4B,EACjC9uJ,KAAK1F,OAASA,EAy3DlB,MAv3DAs0J,GAA0BnuJ,UAAU4wB,IAAM,WACtC,MAAO,IAAIu9H,GAA0B5uJ,KAAK1F,SAO9Cs0J,EAA0BnuJ,UAAUsuJ,YAAc,SAAUrV,GACxD,GAAIkE,GAAUlE,EAAKkE,QACfn+I,EAAQm+I,EAAQ9wI,QAAQ4sI,EAQ5B,OANIj6I,KAAUm+I,EAAQl7I,MAAQ,EACfk7I,EAAQvsH,MAGRusH,EAAQE,WAAWr+I,EAAQ,IAI9CmvJ,EAA0BnuJ,UAAUy6I,UAAY,WAC5C,SAASl7I,KAAK1F,OAAO8xB,iBAAmBpsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,aACvEvsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,oBAC/CxsB,KAAK1F,OAAO8xB,gBAAgBE,OAAOC,YAAYC,mBAAmBC,cAClEzsB,KAAK1F,OAAOsX,eAAe4rB,gBAQnCoxH,EAA0BnuJ,UAAUuuJ,YAAc,SAAUtV,EAAMuV,EAAY5jB,EAAQ6jB,EAAiB9tI,EAAWw0D,EAASsyE,EAAWiH,GAClI,GAAIl+I,GAAQjR,KACRovJ,EAAe1V,EAAKI,SACpBuV,GAAa,EACbxD,EAAWnS,EAAKE,eACPqV,GAAWl4E,EAAI31D,EAGfyqI,EAAS52H,UAClBykH,EAAO15I,KAAK+uJ,YAAYrV,IACL,aAAK15I,KAAKk7I,YAAet7I,EAAayrI,EAAOikB,SAAWjkB,EAAO4jB,YAAc5jB,EAAOikB,SAAWjkB,EAAO4jB,WACzHG,EAAe1V,EAAKI,SACpBmV,EAAWl4E,EAAI,EACf/2E,KAAK1F,OAAO8xB,gBAAgB60C,MAAMw4E,YAAcz5I,KAAK1F,OAAO8xB,gBAAgB60C,MAAMw4E,YAAc,EAChGz5I,KAAK1F,OAAO8xB,gBAAgB60C,MAAM4yE,YAAY0b,aAAevvJ,KAAK1F,OAAO8xB,gBAAgB60C,MAAM0gF,SAASxI,qBAAqBn5I,KAAK1F,OAAO8xB,gBAAgB60C,MAAMw4E,aAAakC,YACxK37I,KAAK1F,OAAO8xB,gBAAgB60C,MAAMw7E,eAClCz8I,KAAK1F,OAAO8xB,gBAAgB60C,MAAM4mF,YAAY2H,iBAAiB9V,EAAMuV,EAAY5jB,EAAQrrI,KAAK1F,OAAO8xB,gBAAgB60C,MAAMw4E,aAC3HwV,EAAWl4E,EAAIp3E,EAAaK,KAAK1F,OAAOsX,eAAe4Y,aAAe,GAAK,KAE/E6kI,GAAa,GAEjBrvJ,KAAKyvJ,cAAc/V,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBt5E,EAE9D,IAGI85E,GACAC,EACAC,EALA1N,EAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,EAAGwN,eAAa2I,SAC5DzW,EAAY,KACZiP,EAAY,GAAIX,iBAAc7iJ,KAAKg2I,kBAIvC0Z,GAAiBxN,GACZrnJ,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAUu2E,EAAQxf,gBAAgB6+E,WAAar/D,EAAQxf,gBAAgB6+E,UAAUJ,YAAcj/D,EAAQxf,gBAAgB6+E,UAAUX,WAC5Kob,EAAiB,GAAIvN,mBAAgBvsE,EAAQxf,gBAAgB6+E,UAAUJ,WAAYj/D,EAAQxf,gBAAgB6+E,UAAUX,SAAU1+D,EAAQxf,gBAAgB6+E,UAAUA,YAErK0a,GAAuB90J,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAUu2E,EAAQxf,gBAAgB6+E,WAAar/D,EAAQxf,gBAAgB6+E,UAAUV,UAC5I,GAAIsO,iBAAcjtE,EAAQxf,gBAAgB6+E,UAAUV,WACpDiP,EACNoM,GAAuB/0J,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAUu2E,EAAQxf,gBAAgB6+E,WAAar/D,EAAQxf,gBAAgB6+E,UAAUuO,UAC5I,GAAIrO,UAAOv/D,EAAQxf,gBAAgB6+E,UAAUuO,WAC7CjP,GACD15I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAI2N,GACAC,EACAnc,EAAa3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,UAClE/9D,GAAQxsC,cAAcrZ,UAAUklH,UAAUX,SAE1Cub,EADe,GAAI1N,mBAAgBvsE,EAAQxsC,cAAcrZ,UAAUklH,UAAUJ,WAAYj/D,EAAQxsC,cAAcrZ,UAAUklH,UAAUX,SAAU1+D,EAAQxsC,cAAcrZ,UAAUklH,UAAUA,WAGlLtB,GAAcA,EAAWrjH,OAASqjH,EAAWrjH,MAAMkzH,UACxDsM,EAAqB,GAAIjN,iBAAclP,EAAWrjH,MAAMkzH,WAGxDqM,EAAgB3N,EAEpB4N,EAAqBl6E,EAAQxsC,cAAcrZ,UAAUklH,UAAUV,UACzD,GAAIsO,iBAAcjtE,EAAQxsC,cAAcrZ,UAAUklH,UAAUV,WAC3DZ,GAAcA,EAAWrjH,OAASqjH,EAAWrjH,MAAMikH,UAChD,GAAIsO,iBAAclP,EAAWrjH,MAAMikH,WACnCiP,EACL3oJ,oBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAYz1B,oBAAkB84I,EAAWrjH,MAAMkzH,aAC/GjP,EAAY,GAAIY,UAAOxB,EAAWrjH,MAAMkzH,YAEvC3oJ,oBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAYz1B,oBAAkB84I,EAAWrjH,MAAMgkH,WAC3Gz5I,oBAAkB84I,EAAWrjH,MAAM2kH,YACtCp6I,oBAAkB84I,EAAWrjH,MAAMukH,cACpCgb,EAAgB7vJ,KAAK+vJ,WAAWpc,GAEpC,IAAIqc,GAAiB,GAAItZ,kBACzBsZ,GAAerb,cAAgB8V,uBAAqBE,OACpDqF,EAAepb,UAAYuP,mBAAiBG,KAC5C,IACI2L,GADAC,GAAgB,GAEfr1J,oBAAkBmF,KAAK+vB,YAAe,eAAe3N,KAAKpiB,KAAK+vB,aACzC,MAAnB/vB,KAAK+vB,WAAwC,OAAnB/vB,KAAK+vB,YAC/BkgI,EAAejwJ,KAAK+c,MACpBizI,EAAepb,UAAYuP,mBAAiBE,SAG9CxpJ,oBAAkBmF,KAAK+vB,YAAe,YAAY3N,KAAKpiB,KAAK+vB,aAAkBl1B,oBAAkB+6E,EAAQxf,gBAAgB/2D,UAC1H6wJ,GAAgB,EAChBF,EAAepb,UAAYuP,mBAAiBE,MAE3CxpJ,oBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAWz1B,oBAAkB84I,EAAWrjH,MAAMpgB,UAC9G8/I,EAAiBrc,EAAWrjH,MAAMpgB,OAEtC,IAAIigJ,IAAqBryI,KAAM,EAAG8V,MAAO,EAAG5C,IAAK,EAAG4mH,OAAQ,EACvD/8I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAC/Dz1B,oBAAkB84I,EAAWrjH,MAAM0gD,WACpCm/E,EAAmBxc,EAAWrjH,MAAM0gD,QAExC,IAAIo/E,IAAa,EACbC,EAAc,GAAIlb,UAAOv/D,EAAQ4/D,qBACjC8a,EAAgB,GAAIzN,iBAAcjtE,EAAQtiB,eAC1C/Z,EAAWq8B,EAAQxf,eAEvB,IAAKwf,EAAQp0E,YA6+BTxB,KAAKuwJ,cAAc7W,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBt5E,GAAS,GACnE51E,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,iBACnEoB,KAAKuwJ,cAAc7W,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBt5E,GAAS,OA/+BrD,CACtB,GAAI46E,GAAe,GAAIrb,UAAOv/D,EAAQigE,iBAClC4a,EAAc,GAAI5N,iBAAcjtE,EAAQw/D,WACxCsb,EAAwB,GAAIvb,UAAOv/D,EAAQ4gE,oBAC3Cma,EAAuB,GAAIxb,UAAOv/D,EAAQ6gE,mBAC1Cma,EAAmB,GAAIzb,UAAOv/D,EAAQ8zE,iBAEtCmH,GADkB,GAAI1b,UAAOv/D,EAAQwgE,sBACxB,GAAIjB,UAAOv/D,EAAQ8zE,kBAChCoH,EAAkB,GAAIjO,iBAAcjtE,EAAQ8zE,iBAC5CqH,EAAY,GAAI5b,UAAOv/D,EAAQqgE,qBAC/B+a,EAAc,GAAInO,iBAAcjtE,EAAQugE,wBACxC8a,EAAmB,GAAIpO,iBAAcjtE,EAAQygE,uBAC7C6a,EAA2B,GAAIrO,iBAAcjtE,EAAQ0gE,qBACrD6a,EAAsB,GAAItO,iBAAcjtE,EAAQwgE,sBAChDgb,EAAgB,GAAIjc,UAAOv/D,EAAQy/D,eACnCgc,EAAkB,GAAIxO,iBAAcjtE,EAAQy/D,eAC5Cic,EAAyB3xJ,GAAcK,KAAK1F,OAAO8mB,UAAYphB,KAAKi1B,QAAU,GAC9Es8H,EAA0B5xJ,GAAcK,KAAK1F,OAAO8mB,UAAYphB,KAAKi1B,QAAU,KAC/Eu8H,EAAiBxxJ,KAAK1F,OAAOkY,eAAiB++I,EAA0BD,CAC5ElB,GAAY1W,EAAKkE,QAAQ9wI,QAAQ4sI,EACjC,IAAI5+I,GAAYD,oBAAkBmF,KAAKipJ,sBAAwBjpJ,KAAKlF,UAAYkF,KAAKipJ,qBACjFluJ,EAAUF,oBAAkBmF,KAAKkpJ,mBAAqBlpJ,KAAKjF,QAAUiF,KAAKkpJ,iBAG9E,IAAI7d,EAAOvwI,WAAaA,GAAaC,GAAWswI,EAAOtwI,QAAS,CAK5D,GAJKiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,GAEnBzxJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBA0C7B,GAAKhpJ,KAAKrF,iBAA8C,YAA3BqF,KAAKgpJ,kBAGlC,GAAKhpJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAGlC,CACD,GAAIpzE,EAAQuzE,cACR4H,EAAUhd,UAAYC,eAAa2d,IAC/B3xJ,KAAKk7I,YACLkU,EAAarK,SAASgM,EAAW,GAAI7W,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,IAAK,GAAIilH,UAAQtkE,QAAiBq5E,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,KAGlTm6H,EAAarK,SAASgM,EAAW,GAAI7W,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,IAAK,GAAIilH,UAAOv6I,EAAai2E,EAAQ74D,OAASkyI,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,KAE1V2gD,EAAQl4D,QAAQnI,IAAI,SAAUxX,EAAM0B,GAChC,GAAImyJ,GAAqB/2J,oBAAkBoW,EAAM84I,mBAAkFyG,EAA7D,GAAIrb,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAOo2I,iBAC5Ggc,EAAoBh3J,oBAAkBoW,EAAM84I,mBAAmF0G,EAA9D,GAAI5N,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO21I,UACtH,IAAInkI,EAAMiqI,aAEN,GADAkU,EAAapL,cAAc4N,EAAmBC,EAAkB5C,EAAWj1I,GAAK/I,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiBzzJ,QAAa4B,EAAai2E,EAAQ3gD,SAC/LskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,MAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,EAAa,MANsC,CACnDA,EAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,EAAOgM,EAAWj1I,GAAK/I,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKrOp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAK/I,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAM4C,EAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,QAAS+6H,QAK9U,IADAZ,EAAapL,cAAc4N,EAAmBC,EAAkB5C,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,SACvNskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAClC,GAAIyyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,EAAa,MANsC,CACnDA,EAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC9C,IAAIkmI,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,EAAOgM,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKjPp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAM4C,EAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,QAAS+6H,UAKjW,KAAKp6E,EAAQj1E,gBAAkBi1E,EAAQwzE,aACxCgG,EAAangE,QACTinB,GAAO,GAAI67C,YACVC,WAAW,EAAG,EAAG,EAAG,GACrBhyJ,KAAKk7I,YACLkU,EAAa6C,mBAAmBhD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAGpHpC,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAEpIpC,EAAavgF,SAAS+hF,EAAkBE,EAAiB56C,IACzDk5C,EAAanL,WACTiO,GAAQ,GAAIH,YACVC,WAAW,EAAG,EAAG,EAAG,GAC1B5C,EAAangE,OACTjvF,KAAKk7I,YACLkU,EAAa6C,mBAAmBhD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAOlvJ,KAAW,MAAEivJ,EAAWl4E,EAAIy6E,EAAiB,GAGnIpC,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAaK,KAAK+c,OAAQkyI,EAAWl4E,EAAIy6E,EAAiB,GAE/JpC,EAAavgF,SAAS+hF,EAAkBE,EAAiBoB,IACzD9C,EAAanL,UACb4M,EAAW9c,UAAYC,eAAamD,MAChCn3I,KAAKk7I,YACLkU,EAAarK,SAAS8L,EAAY,GAAI3W,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,GAAiB,GAAItX,UAAQtkE,QAAiBq5E,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,IAGjOpC,EAAarK,SAAS8L,EAAY,GAAI3W,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,GAAiB,GAAItX,UAAOv6I,EAAai2E,EAAQ74D,OAASkyI,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,QAGxQ,IAAK57E,EAAQj1E,gBAAmBi1E,EAAQwzE,aAkBzC,GAAIppJ,KAAKk7I,YACL,GAAIrgJ,oBAAkB0+C,EAASl6C,QAAUxE,oBAAkB0+C,EAAS0pG,OAChEmM,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,QAAgBj2E,EAAai2E,EAAQ3gD,aAE9K,CACDm6H,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,QAAgBj2E,EAAai2E,EAAQ3gD,QAC3K68H,QAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,MAAQ,CAClDkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,GAAkB57E,EAAQ3gD,OAAS2gD,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,EAAM2gD,EAAQxf,gBAAgB6sF,MAAM,SAAY,EAAMrtE,EAAQxf,gBAAgB6sF,MAAM,UAAa,GAKhRrtE,EAAQxf,gBAAgB/2D,QACpB6wJ,IACAD,EAAejwJ,KAAK+c,OAExBqyI,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB4C,GAAY7C,EAAWl4E,EAAIy6E,IAAgC7xJ,EAAaK,KAAKi1B,QAAS+6H,QAK9P,IAAIn1J,oBAAkB0+C,EAASl6C,QAAUxE,oBAAkB0+C,EAAS0pG,OAChEmM,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,aAEtM,CACDm6H,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,QACnM68H,QAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,EAAGD,EAAWl4E,EAAIy6E,EAAiB,EAAI7xJ,GAAci2E,EAAQ3gD,OAAS2gD,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,GAAMt1B,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKvTp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB4C,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,OAvD1UZ,GAAangE,OACbmgE,EAAa+C,gBAAgB,KACzBnyJ,KAAKk7I,YACLkU,EAAapL,cAAc2M,EAAsBM,EAAkBhC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,QAAgBj2E,EAAai2E,EAAQ3gD,SAG5Lm6H,EAAapL,cAAc2M,EAAsBM,EAAkBhC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SAExNm6H,EAAanL,UACTjkJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,gBAAwBj2E,EAAaK,KAAKi1B,SAGzLm6H,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAaK,KAAKi1B,QA8CrNj1B,MAAKrF,kBAAoBi7E,EAAQuzE,cAC7BtuJ,oBAAkB0+C,EAAS0pG,QAAUpoJ,oBAAkB0+C,EAASl6C,SAC5DW,KAAKk7I,aAAetlE,EAAQj1E,eAC5ByuJ,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,gBAAwBj2E,EAAai2E,EAAQ3gD,SAEvL2gD,EAAQj1E,gBACbyuJ,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAai2E,EAAQ3gD,SAEnNp6B,oBAAkBmF,KAAK1F,OAAO8uC,cAAcrZ,YAAel1B,oBAAkBmF,KAAK+vB,aAC5D,MAAnB/vB,KAAK+vB,WAAwC,OAAnB/vB,KAAK+vB,YAC/BkgI,EAAejwJ,KAAK+sB,eAEpBmjI,IACAD,EAAejwJ,KAAK+c,OAEpB/c,KAAKk7I,YACLkU,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,IAAoBiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAAQq7H,EAAWl4E,EAAIy6E,GAAkBrB,EAAiBn/H,IAAMm/H,EAAiBvY,UAAyBj4I,EAAaK,KAAKi1B,QAAS+6H,GAG/TZ,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,IAAoBiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAAQq7H,EAAWl4E,EAAIy6E,GAAkBrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,KAK9Vp6E,EAAQuzE,eACbvzE,EAAQl4D,QAAQnI,IAAI,SAAUxX,EAAM0B,GAChC,GAAI2yJ,GAAsBv3J,oBAAkBoW,EAAM84I,mBAAgFqH,EAA3D,GAAIjc,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAO41I,eAC7Ggd,EAAwBx3J,oBAAkBoW,EAAM84I,mBAAuFsH,EAAlE,GAAIxO,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO41I,cACtHpkI,GAAMiqI,YACNkU,EAAapL,cAAcoO,EAAoBC,EAAsBpD,EAAWj1I,GAAK/I,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiBzzJ,gBAAqB4B,EAAai2E,EAAQ3gD,SAGhNm6H,EAAapL,cAAcoO,EAAoBC,EAAsBpD,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgvB,eAAgBptB,EAAai2E,EAAQ3gD,eAzKpPj1B,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OAHpExxJ,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OA3CJ,CAChE,GAAIe,OAAS,GACTC,MAAS,EACb,IAAIxyJ,KAAKk7I,aAML,GALAqX,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAOt5E,QAAiB,EAAG,GAAI,GAAIskE,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAkB,GAAI,GAAI1a,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MAChQ4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB57E,QAAgBj2E,EAAai2E,EAAQ3gD,SAC5Ju9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAOt5E,EAAc,MAAE,GAAI,GAAIskE,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAoBt5E,QAAiB,EAAG,GAAI,GAAI4+D,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BAE9PkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAOt5E,QAAiB,EAAGq5E,EAAWl4E,EAAIy6E,EAAiB57E,QAAiB,EAAGj2E,EAAai2E,EAAQ3gD,SAClLskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKxNp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAM4C,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,QASjU,IALAuC,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAai2E,EAAQ74D,OAAS,EAAG,GAAI,GAAIm9H,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAkB,GAAI,GAAI1a,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MACpS4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SACpLu9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAai2E,EAAQ74D,OAAQ,GAAI,GAAIm9H,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmBvvJ,EAAai2E,EAAQ74D,OAAS,EAAG,GAAI,GAAIy3H,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BAE9SkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAai2E,EAAQ74D,OAAS,EAAGkyI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAS,EAAGpd,EAAai2E,EAAQ3gD,SACtNskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKpOp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAM4C,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,IAsLrVhwJ,KAAK0yJ,aAAc,EACnB1yJ,KAAK67I,UAAYuU,EACjBpwJ,KAAK6uJ,QAAUuB,MAGd,IAAI/kB,EAAOvwI,WAAaA,GAAauwI,EAAOtwI,SAAWD,GAAcC,GAAWswI,EAAOtwI,QAAU,CAC7FiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,EAExB,IAAI10I,IAAQ/c,KAAK+c,MACb41I,GAAgB,EAChB5lI,GAAgB,EAChB6lI,GAAqB,CAQzB,IAPA5yJ,KAAK+c,MAAQ/c,KAAK+c,OAASsuH,EAAOsa,YAAc3lJ,KAAK8d,KAAOoxI,IAC5DyD,GAAiBtnB,EAAOsa,YAAc3lJ,KAAK8d,KAAOoxI,GAClDniI,GAAiBs+G,EAAOsa,YAAc3lJ,KAAK8d,KAAOoxI,GAC9CnyI,GAAQ41I,KACRA,GAAgB51I,IAEpB61I,GAAqBD,GAChB3yJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAwC7B,GAAKhpJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAGlC,IAAKpzE,EAAQj1E,gBAAkBi1E,EAAQwzE,aAAc,CACtDgG,EAAangE,MACb,IAAIinB,IAAO,GAAI67C,UACf77C,IAAK87C,WAAW,EAAG,EAAG,EAAG,GACrBhyJ,KAAKk7I,YACLkU,EAAa6C,mBAAmBhD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAGpHpC,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAEpIpC,EAAavgF,SAAS+hF,EAAkBE,EAAiB56C,IACzDk5C,EAAanL,UACb4M,EAAW9c,UAAYC,eAAamD,MAChCn3I,KAAKk7I,YACLkU,EAAarK,SAAS8L,EAAY,GAAI3W,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,GAAiB,GAAItX,UAAO,GAAkB+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,IAGjOpC,EAAarK,SAAS8L,EAAY,GAAI3W,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,GAAiB,GAAItX,UAAOv6I,EAAagzJ,IAAiB1D,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,QAGxQ,IAAK57E,EAAQj1E,gBAAmBi1E,EAAQwzE,aAwBxC,GAAKppJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAGlC,GAAKhpJ,KAAKrF,iBAA8C,YAA3BqF,KAAKgpJ,kBAGlC,CACD,GAAIpzE,EAAQuzE,cAAe,CACvB,GAAI0J,IAAc,EACdC,IAAuB,EACvBC,GAAc,CAClBn9E,GAAQl4D,QAAQnI,IAAI,SAAU7C,GAC1BqgJ,GAAcrgJ,EAAKoL,KAAOpL,EAAKqK,QAEnCg0I,EAAUhd,UAAYC,eAAa2d,IAC/B3xJ,KAAKk7I,YACLkU,EAAarK,SAASgM,EAAW,GAAI7W,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,IAAK,GAAIilH,UAAO,IAAiBl6I,KAAK8d,KAAOoxI,GAAmBD,EAAWj1I,EAAGi1I,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,KAG1Sm6H,EAAarK,SAASgM,EAAW,GAAI7W,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,IAAK,GAAIilH,UAAOv6I,EAAaozJ,IAAepzJ,EAAaK,KAAK8d,KAAOoxI,GAAmBD,EAAWj1I,EAAGi1I,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,KAElV2gD,EAAQl4D,QAAQnI,IAAI,SAAUxX,EAAM0B,GAChC,GAAImyJ,GAAqB/2J,oBAAkBoW,EAAM84I,mBAAkFyG,EAA7D,GAAIrb,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAOo2I,iBAC5Ggc,EAAoBh3J,oBAAkBoW,EAAM84I,mBAAmF0G,EAA9D,GAAI5N,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO21I,UACtH,IAAInkI,EAAMiqI,aAEN,GADAkU,EAAapL,cAAc4N,EAAmBC,EAAkB5C,EAAWj1I,GAAK/I,EAAM6M,KAAOoxI,GAAmB,GAAOnxJ,EAAU,KAAEkxJ,EAAWl4E,EAAIy6E,EAAiBzzJ,QAAa4B,EAAai2E,EAAQ3gD,SACjMskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,MAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,EAAa,MANsC,CACnDA,EAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,EAAOgM,EAAWj1I,GAAK/I,EAAM6M,KAAOoxI,GAAmB,GAAOnxJ,EAAU,KAAEkxJ,EAAWl4E,EAAIy6E,EAAiB57E,EAAQxf,gBAAgB6sF,MAAM,SAAYrtE,EAAQxf,gBAAgB6sF,MAAM,WAK5MpoJ,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAK/I,EAAM6M,KAAOoxI,GAAmB,GAAOnxJ,OAAa+zJ,EAAY7C,EAAWl4E,EAAIy6E,EAAiBzzJ,QAAc63E,SAAiBo6E,QAKxT,IADAZ,EAAapL,cAAc4N,EAAmBC,EAAkB5C,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAOoxI,GAAmB,GAAMvvJ,EAAa5B,EAAK+f,MAAOmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,SACrOskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAClC,GAAIyyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,EAAa,MANsC,CACnDA,EAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC9C,IAAIkmI,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,EAAOgM,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAOoxI,GAAmB,GAAMvvJ,EAAa5B,EAAK+f,MAAOmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAK/Pp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAOoxI,GAAmB,GAAMvvJ,EAAa5B,EAAK+f,MAAQg0I,EAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,QAAS+6H,GAG5W6C,GAAc90J,EAAK+f,KAAO/f,EAAKgf,MAC3B41I,IAAiBE,IACjB5hJ,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8e,MAAQ,EAChE9L,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK6f,KAAO,IAG3D60I,IAAkBE,GAAc90J,EAAKgf,MACrC9L,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK6f,KAAO,EAG/D7M,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK6f,KAAS80I,GAAqB70J,EAAK+f,KAE3F60I,OACA1hJ,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8e,MAAQ,EAG5D+1I,KACA7hJ,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8e,MAAQ81I,GAAcF,GAC9EG,IAAuB,IAInCF,GAAqBA,GAAqB70J,EAAKgf,MAAQhf,EAAK+f,WAG/D,CACD,GAAI9d,KAAKk7I,YACL,GAAIrgJ,oBAAkB0+C,EAASl6C,QAAUxE,oBAAkB0+C,EAAS0pG,OAChEmM,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,aAE9K,CAED,GADAm6H,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,UAC1Kp6B,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAAQ,CAC/CA,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,GAAci2E,EAAQ3gD,OAAS2gD,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,IAAO2gD,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,MAAQ,EAAO64D,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,OAAS,GAEjS,IAAKp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,OAAQ,CAC/CyyJ,GAAcj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAAkD,EAAzCrtE,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KACtGqyI,GAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB4C,GAAa7C,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,QAK5Q,IAAIn1J,oBAAkB0+C,EAASl6C,QAAUxE,oBAAkB0+C,EAAS0pG,OAChEmM,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAgBhzJ,EAAai2E,EAAQ3gD,aAEtM,CACDm6H,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAgBhzJ,EAAai2E,EAAQ3gD,QACnM68H,QAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,EAAGD,EAAWl4E,EAAIy6E,EAAiB,EAAI7xJ,GAAci2E,EAAQ3gD,OAAS2gD,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,GAAMt1B,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKxT,IAAKp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,OAAQ,CACnDW,KAAKgzJ,WAAarzJ,EAAaK,KAAK8d,KAChCjgB,IAASmC,KAAKizJ,SAASr9E,EAAQxf,gBAAgB/2D,MAAOgsI,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GAC7F5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAMwoG,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB4C,GAAa7C,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,GAClQn1J,oBAAkBgD,GAAOs1J,aAC1BnzJ,KAAKozJ,aAAev1J,GAAOs1J,UAC3BnzJ,KAAKgzJ,WAAa3nB,EAAOikB,WAMzC,GAAI15E,EAAQj1E,iBAAmBi1E,EAAQuzE,cAAe,CAC9CkK,GAAsB,CAgB1B,IAdIA,GADArzJ,KAAK+sB,eAAiB4lI,GACA3yJ,KAAK+sB,cAGL4lI,GAEtB93J,oBAAkB0+C,EAAS0pG,QAAUpoJ,oBAAkB0+C,EAASl6C,SAC5DW,KAAKk7I,YACLkU,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAuC7xJ,EAAai2E,EAAQ3gD,SAG1Lm6H,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0zJ,IAAsB1zJ,EAAai2E,EAAQ3gD,UAG1Nj1B,KAAK+sB,eAAiBsmI,GAClBrzJ,KAAK1F,OAAO8uC,cAAcrZ,YAAcl1B,oBAAkBmF,KAAK+vB,WAM/D,GALAkgI,EAAeoD,GACXnD,IACAD,EAAe0C,IAEnB3yJ,KAAKgzJ,WAAahzJ,KAAK8d,KACnBjjB,oBAAkB+6E,EAAQxf,gBAAgB/2D,OAAQ,CAC9CxB,GAASmC,KAAKizJ,SAASjzJ,KAAK+vB,UAAU9xB,WAAYotI,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GACzF5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAM2oG,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmBD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,GACzOn1J,oBAAkBgD,GAAOs1J,aAC1BnzJ,KAAKozJ,aAAev1J,GAAOs1J,UAC3BnzJ,KAAKgzJ,WAAa3nB,EAAOikB,cAKzBtvJ,MAAKk7I,YACLkU,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,IAAoBiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,GAAmBrB,EAAiBn/H,IAAMm/H,EAAiBvY,UAAyBj4I,EAAaK,KAAKi1B,QAAS+6H,GAGjUZ,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,IAAoBiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,GAAmBrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,IAMzWp6E,EAAQuzE,eACRvzE,EAAQl4D,QAAQnI,IAAI,SAAUxX,EAAM0B,GAChC,GAAI2yJ,GAAsBv3J,oBAAkBoW,EAAM84I,mBAAgFqH,EAA3D,GAAIjc,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAO41I,eAC7Ggd,EAAwBx3J,oBAAkBoW,EAAM84I,mBAAuFsH,EAAlE,GAAIxO,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO41I,cACtHpkI,GAAMiqI,YACNkU,EAAapL,cAAcoO,EAAoBC,EAAsBpD,EAAWj1I,GAAK/I,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiBzzJ,gBAAqB4B,EAAai2E,EAAQ3gD,SAGhNm6H,EAAapL,cAAcoO,EAAoBC,EAAsBpD,EAAWj1I,EAAIra,EAAasR,EAAM6M,KAAO/f,EAAK+f,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgvB,eAAgBptB,EAAai2E,EAAQ3gD,SAEtK,IAAlEhkB,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8e,MACxD9L,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8uB,cAAgB,EAGpEhvB,EAAKgf,MAAQ9L,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8e,MAAQhf,EAAKgvB,eAAiBhvB,EAAKgf,QAAU9L,EAAM4G,kBAAkBpY,GAAOsd,QACjJ9L,EAAM4G,kBAAkB7Z,SAASyB,EAAMxB,WAAY,KAAK8uB,cAAgBhvB,EAAKgvB,eAAiBhvB,EAAKgf,MAAQ9L,EAAM4G,kBAAkBpY,GAAOsd,cAjL1J/c,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OAHpExxJ,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OAxBhExxJ,MAAKk7I,YACLkU,EAAapL,cAAc2M,EAAsB,KAAM1B,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,SAGhLm6H,EAAapL,cAAc2M,EAAsB,KAAM1B,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAgBhzJ,EAAai2E,EAAQ3gD,SAE5Mm6H,EAAangE,OACbmgE,EAAa+C,gBAAgB,KACzBnyJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMiN,EAAkBhC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,SAG5Km6H,EAAapL,cAAc,KAAMiN,EAAkBhC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAgBhzJ,EAAai2E,EAAQ3gD,SAExMm6H,EAAanL,UACTjkJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,SAGpLm6H,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAaotB,IAAgBptB,EAAai2E,EAAQ3gD,SAEhN2gD,EAAQ7oD,cAAgB6oD,EAAQ7oD,cAAgBA,OA5ChD/sB,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OAzCJ,CAChE,GAAIe,OAAS,GACTC,MAAS,EACb,IAAIxyJ,KAAKk7I,aAKL,GAJAqX,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAM,GAAkB,EAAG,GAAI,GAAIhV,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAkB,GAAI,GAAI1a,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MAChQ4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,KAAiC7xJ,EAAai2E,EAAQ3gD,SAC5Ju9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,MAAuB,GAAI,GAAIhV,UAAO+U,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAkB,EAAG,GAAI,GAAI1a,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BAC9PkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAM,GAAkB,EAAGD,EAAWl4E,EAAIy6E,EAAgB,GAAkB,EAAG7xJ,EAAai2E,EAAQ3gD,SAClLskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKxNp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAmB,GAAM4C,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,QAQjU,IAJAuC,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAagzJ,IAAiB,EAAG,GAAI,GAAIzY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAkB,GAAI,GAAI1a,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MACpS4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAgBhzJ,EAAai2E,EAAQ3gD,SACpLu9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAagzJ,IAAgB,GAAI,GAAIzY,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmBvvJ,EAAagzJ,IAAiB,EAAG,GAAI,GAAIne,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BAC9SkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAMvvJ,EAAagzJ,IAAiB,EAAG1D,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAagzJ,IAAiB,EAAGhzJ,EAAai2E,EAAQ3gD,SACtNskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKpOp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAmB,GAAM4C,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,IA8OrVhwJ,KAAK8d,KAAO,EACZ9d,KAAK0yJ,aAAc,EACnB1yJ,KAAK67I,UAAYuU,MAGhB,IAAIr1J,GAAWswI,EAAOtwI,SAAWswI,EAAOvwI,WAAaC,IAAYiF,KAAK0yJ,YAAa,CAKpF,GAJK1yJ,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,GAEnBzxJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAoB7B,IAAKpzE,EAAQj1E,gBAAkBi1E,EAAQwzE,aAAc,CACtD,GAAI8I,IAAQ,GAAIH,UAChBG,IAAMF,WAAW,EAAG,EAAG,EAAG,GAC1B5C,EAAangE,MACb,IAAIqkE,IAAarE,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAO,IACrDy1I,GAAW5zJ,EAAai2E,EAAQ74D,OAASu2I,GAAa,EACtDE,GAAQvE,EAAWl4E,EAAIy6E,CAC3BpC,GAAarK,SAAS8L,EAAYyC,GAAYE,GAAOD,GAAUC,IAC/DpE,EAAa6C,mBAAmBsB,GAAUC,GAAQ,GAClDpE,EAAavgF,SAAS+hF,EAAkBE,EAAiBoB,IACzD9C,EAAanL,UACb4M,EAAW9c,UAAYC,eAAamD,UAE9BvhE,GAAQj1E,gBAAmBi1E,EAAQwzE,aAQnCppJ,KAAKrF,iBAA8C,YAA3BqF,KAAKgpJ,kBAG9BpzE,EAAQuzE,eACb4H,EAAUhd,UAAYC,eAAa2d,IACnCvC,EAAarK,SAASgM,EAAW,GAAI7W,UAAO+U,EAAWj1I,EAAIra,EAAaK,KAAK8d,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,IAAK,GAAIilH,UAAOv6I,EAAai2E,EAAQ74D,OAASkyI,EAAWj1I,EAAIra,EAAaK,KAAK8d,MAAOmxI,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,KAC5S2gD,EAAQ/9D,kBAAkBtC,IAAI,SAAUxX,EAAM0B,GAC1C,GAAImyJ,GAAqB/2J,oBAAkBoW,EAAM84I,mBAAkFyG,EAA7D,GAAIrb,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAOo2I,iBAC5Ggc,EAAoBh3J,oBAAkBoW,EAAM84I,mBAAmF0G,EAA9D,GAAI5N,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO21I,UACtH,IAAmB,IAAfr3I,EAAKgf,QACLqyI,EAAapL,cAAc4N,EAAmBC,EAAkB5C,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,GAAM/f,EAAK+f,MAAOmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,SACvMskB,EAAS0pG,OAAS1pG,EAASl6C,OAAO,CAClC,GAAIyyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,EAAa,MANsC,CACnDA,EAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC9C,IAAIkmI,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,EAAOgM,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,GAAM/f,EAAK+f,MAAOmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKjOp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,GAAM/f,EAAK+f,MAAQg0I,EAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgf,OAAQpd,EAAai2E,EAAQ3gD,QAAS+6H,OAMlVZ,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SA1BxLj1B,KAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,IARpEpC,EAAapL,cAAc2M,EAAsB,KAAM1B,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SACtLm6H,EAAangE,OACbmgE,EAAa+C,gBAAgB,KAC7B/C,EAAapL,cAAc,KAAMiN,EAAkBhC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SAClLm6H,EAAanL,UACbmL,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAai2E,EAAQ3gD,cAvClI,CAChE,GAAIs9H,OAAS,GACTC,MAAS,EAKb,IAJAD,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOne,EAAai2E,EAAQ74D,OAAS,EAAG,GAAI,GAAIm9H,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAM,GAAI,GAAI02H,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MAC5Q4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAai2E,EAAQ3gD,SACrKu9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOne,EAAai2E,EAAQ74D,OAAQ,GAAI,GAAIm9H,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOne,EAAai2E,EAAQ74D,OAAS,EAAG,GAAI,GAAIy3H,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BACtRkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOne,EAAai2E,EAAQ74D,OAAS,EAAGkyI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAS,EAAGpd,EAAai2E,EAAQ3gD,SACvMskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAC9ByyJ,OAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC1CkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKrNp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOg0I,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,IAqDlU,GAAIhwJ,KAAKrF,kBAAoBi7E,EAAQuzE,eAIjC,GAHItuJ,oBAAkB0+C,EAAS0pG,QAAUpoJ,oBAAkB0+C,EAASl6C,QAAUu2E,EAAQj1E,gBAClFyuJ,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAMmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAai2E,EAAQ3gD,UAEpMp6B,oBAAkBmF,KAAK+vB,WAKxB,GAJAkgI,EAAejwJ,KAAK+sB,cAChBmjI,IACAD,EAAejwJ,KAAK+c,OAEpBmzI,GAAiBr1J,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAC3D,IAAKxE,oBAAkBmF,KAAKozJ,cAAe,CACnCv1J,GAASmC,KAAKizJ,SAASjzJ,KAAKozJ,aAAc/nB,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GACjF5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAM2oG,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,OAASqyI,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,GAAmBrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,QAGhUn1J,qBAAkBmF,KAAK+vB,YAAemgI,IAC5CD,EAAejwJ,KAAK+sB,cAChBmjI,IACAD,EAAejwJ,KAAK+c,OAExBqyI,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,OAASqyI,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,GAAmBrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,QAI1Up6E,GAAQuzE,eACbvzE,EAAQ/9D,kBAAkBtC,IAAI,SAAUxX,EAAM0B,GAC1C,GAAI2yJ,GAAsBv3J,oBAAkBoW,EAAM84I,mBAAgFqH,EAA3D,GAAIjc,UAAOlkI,EAAM84I,kBAAkBtqJ,GAAO41I,eAC7Ggd,EAAwBx3J,oBAAkBoW,EAAM84I,mBAAuFsH,EAAlE,GAAIxO,iBAAc5xI,EAAM84I,kBAAkBtqJ,GAAO41I,cAC1H+Z,GAAapL,cAAcoO,EAAoBC,EAAsBpD,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,GAAM/f,EAAK+f,MAAOmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa5B,EAAKgvB,eAAgBptB,EAAai2E,EAAQ3gD,UAGhOj1B,MAAK0yJ,aAAc,EACnB1yJ,KAAK6uJ,QAAUuB,MAId,IAAIt1J,EAAYuwI,EAAOvwI,WAAaC,EAAUswI,EAAOtwI,QAAS,CAK/D,GAJKiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,GAEnBzxJ,KAAKrF,iBAA8C,aAA3BqF,KAAKgpJ,kBAoB7B,GAAKhpJ,KAAKrF,iBAA8C,YAA3BqF,KAAKgpJ,kBAGlC,GAAKpzE,EAAQj1E,gBAAmBi1E,EAAQwzE,aAmBxC,IAAKxzE,EAAQj1E,gBAAkBi1E,EAAQwzE,aACxCyH,EAAW9c,UAAYC,eAAamD,MACpCiY,EAAarK,SAAS8L,EAAY5B,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAasJ,EAAWl4E,EAAIy6E,OAEjK,CAED,GADApC,EAAapL,cAAcwM,EAAcC,EAAaxB,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAai2E,EAAQ3gD,UACvLp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,SACtCxE,oBAAkBmF,KAAKozJ,cAAe,CACnCv1J,GAASmC,KAAKizJ,SAASjzJ,KAAKozJ,aAAc/nB,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GACjF5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAMwoG,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAMmxI,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAaK,KAAKi1B,QAAS+6H,GAG9P,GAAIhwJ,KAAKrF,kBAAoBi7E,EAAQwzE,aAAc,CAC3CiK,GAAsB,CAEtBA,IADArzJ,KAAK+sB,eAAiBs+G,EAAOsa,WACP3lJ,KAAK+sB,cAGLs+G,EAAOsa,WAE7B9qJ,oBAAkB0+C,EAAS0pG,QAAUpoJ,oBAAkB0+C,EAASl6C,QAChE+vJ,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0zJ,IAAsB1zJ,EAAai2E,EAAQ3gD,SAEvMj1B,KAAK+sB,eAAiBsmI,GACjBx4J,oBAAkBmF,KAAK+vB,aACxBkgI,EAAeoD,GACXnD,IACAD,EAAejwJ,KAAK+c,OAExBqyI,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK8d,OAASqyI,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,GAAmBrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaswJ,GAAetwJ,EAAaK,KAAKi1B,QAAS+6H,SAhDxR,CACvDZ,EAAapL,cAAc2M,EAAsB,KAAM1B,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAai2E,EAAQ3gD,SAC7Lm6H,EAAangE,OACbmgE,EAAa+C,gBAAgB,KAC7B/C,EAAapL,cAAc,KAAMiN,EAAkBhC,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAai2E,EAAQ3gD,SACzLm6H,EAAanL,SACToP,IAAsB,CAEtBA,IADArzJ,KAAK+sB,eAAiBs+G,EAAOsa,WACP3lJ,KAAK+sB,cAGLs+G,EAAOsa,WAE7B9qJ,oBAAkB0+C,EAAS0pG,QAAUpoJ,oBAAkB0+C,EAASl6C,QAChE+vJ,EAAapL,cAAcoN,EAAeC,EAAiBpC,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0zJ,IAAsB1zJ,EAAai2E,EAAQ3gD,SAEvMj1B,KAAK+sB,eAAiBsmI,GACtBjE,EAAapL,cAAc,KAAMkN,EAA0BjC,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0zJ,IAAsB1zJ,EAAai2E,EAAQ3gD,aAnBnMj1B,MAAKsyJ,oBAAoBlD,EAAcH,EAAYC,EAAiBsC,OArBJ,CAChE,GAAIe,OAAS,GACTC,MAAS,EAKb,IAJAD,EAAS,GAAIE,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAMne,EAAa0rI,EAAOsa,YAAc,EAAG,GAAI,GAAIzL,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAO,GAAI,GAAI02H,YAAS5+D,EAAQsgE,yBAA0B,GAAI1B,YAAS,IAAK,IAAK,MAC1Q4a,EAAapL,cAAcuO,EAAQtD,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAai2E,EAAQ3gD,SACzKu9H,EAAS,GAAIC,0BAAuB,GAAIvY,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAMne,EAAa0rI,EAAOsa,YAAa,GAAI,GAAIzL,UAAO+U,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQne,EAAa0rI,EAAOsa,YAAc,EAAG,GAAI,GAAInR,YAAS,IAAK,IAAK,KAAM,GAAIA,YAAS5+D,EAAQsgE,0BACxRkZ,EAAapL,cAAcwO,EAAQvD,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAMne,EAAa0rI,EAAOsa,YAAc,EAAGsJ,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAa0rI,EAAOsa,YAAc,EAAGhmJ,EAAai2E,EAAQ3gD,SAC/MskB,EAAS0pG,OAAS1pG,EAASl6C,MAAO,CAClC,GAAIyyJ,QAAa,EACjB,IAAKj3J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAM3C6O,GAAa,MANsC,CACnDA,GAAal8E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,KAC9C,IAAIkmI,IAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,OAC3D2H,GAAajM,UAAUF,GAAOgM,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,MAAQ,GAAKmxI,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,SAKrNp6B,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAAS+vJ,EAAa3L,WAAW7tE,EAAQxf,gBAAgB/2D,MAAOqwJ,EAAgBE,EAAqBD,EAAqBV,EAAWj1I,EAAIra,EAAai2E,EAAQ93D,KAAO,IAAOg0I,GAAY7C,EAAWl4E,EAAIy6E,EAAgB7xJ,EAAai2E,EAAQ74D,OAAQpd,EAAaK,KAAKi1B,QAAS+6H,IA0DlUhwJ,KAAK0yJ,aAAc,EACnB1yJ,KAAK+c,OAASsuH,EAAOsa,WAEzB,GAAI3lJ,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,gBACnE,GAAIysI,EAAOvwI,WAAa86E,EAAQ/2E,mBAAqB+2E,EAAQh3E,iBAAmBysI,EAAOtwI,QAC9EiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,GAEpBzxJ,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,kBAC/DoB,KAAKk7I,YACLkU,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,GAAK47D,EAAQxiB,aAAe87F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAK2gD,gBAAwBj2E,EAAaK,KAAKksD,iBAGnOkjG,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,EAAIra,EAAai2E,EAAQxiB,aAAe87F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAIt1B,EAAai2E,EAAQviB,eAAgB1zD,EAAaK,KAAKksD,kBAGnQlsD,KAAKyzJ,qBAAsB,EAC3BzzJ,KAAK67I,UAAYuU,EACjBpwJ,KAAK6uJ,QAAUuB,MAEd,IAAI/kB,EAAOvwI,WAAa86E,EAAQ/2E,mBAAqBwsI,EAAOtwI,SAAW66E,EAAQ/2E,mBAAsB+2E,EAAQh3E,iBAAmBysI,EAAOtwI,QAAU,CAC7IiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,EAGpBiC,IAAc,GADd32I,GAAQ/c,KAAKqzD,gBAEjBqgG,GAAeroB,EAAOsa,YAAc/vE,EAAQxiB,aAAe87F,MAEvDwE,GAAc32I,IAEd/c,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,kBAC/DoB,KAAKk7I,YACLkU,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,GAAK47D,EAAQxiB,aAAe87F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,MAAmBt1B,EAAaK,KAAKksD,iBAGzNkjG,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,EAAIra,EAAai2E,EAAQxiB,aAAe87F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAIt1B,EAAa+zJ,IAAc/zJ,EAAaK,KAAKksD,kBAGzP0pB,EAAQviB,cAAgBuiB,EAAQviB,cAAgBqgG,GAChD1zJ,KAAKozD,aAAe,EACpBpzD,KAAKyzJ,qBAAsB,EAC3BzzJ,KAAK67I,UAAYuU,MAEZx6E,GAAQh3E,iBAAmBysI,EAAOtwI,SAAWswI,EAAOvwI,WAAa86E,EAAQh3E,kBAAoBoB,KAAKyzJ,qBACnGzzJ,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,kBAC/DoB,KAAKk7I,YACLkU,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,GAAK47D,EAAQxiB,aAAe,IAAM67F,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAK2gD,gBAAwBj2E,EAAaK,KAAKksD,iBAGjNkjG,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,EAAIra,EAAai2E,EAAQxiB,aAAe,IAAM67F,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAIt1B,EAAai2E,EAAQviB,eAAgB1zD,EAAaK,KAAKksD,kBAGjPlsD,KAAKyzJ,qBAAsB,EAC3BzzJ,KAAK6uJ,QAAUuB,GAEVx6E,EAAQ/2E,kBAAoBwsI,EAAOvwI,WAAa86E,EAAQh3E,gBAAkBysI,EAAOtwI,UAClFiF,KAAK1F,OAAOkY,gBAAkBojE,EAAQ/2E,mBAAqB+2E,EAAQh3E,kBAC/DoB,KAAKk7I,YACLkU,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,EAAK47D,eAAwB,GAAKq5E,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAKo2G,aAAoB1rI,EAAai2E,EAAQ1pB,iBAGhNkjG,EAAapL,cAAcqM,EAAaC,EAAerB,EAAWj1I,EAAIra,EAAai2E,EAAQxiB,cAAgB,GAAK67F,EAAWl4E,EAAIy6E,EAAiB7xJ,EAAai2E,EAAQ3gD,OAAS,GAAIt1B,EAAa0rI,EAAOsa,YAAahmJ,EAAai2E,EAAQ1pB,kBAGhPlsD,KAAKyzJ,qBAAsB,EAC3BzzJ,KAAKqzD,eAAiBg4E,EAAOsa,WAGrC,KAAK3lJ,KAAKW,gBAAkBi1E,EAAQwzE,aAChC,GAAI/d,EAAOvwI,WAAa86E,EAAQ9xE,eAAiB8xE,EAAQtzE,aAAe+oI,EAAOtwI,QACtEiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,IAEnB77E,EAAQj1E,gBAAkBi1E,EAAQwzE,eAC/BppJ,KAAKk7I,YACLkU,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAKxxJ,eAAiBL,EAAa,KAGnLyvJ,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAaK,KAAKktB,WAAYvtB,EAAa,KAE/MyvJ,EAAangE,OACbmgE,EAAa+C,gBAAgB,KACzBnyJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAKxxJ,eAAiBL,EAAa,KAGzKyvJ,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAaK,KAAKktB,WAAYvtB,EAAa,KAErMyvJ,EAAanL,UACTjkJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAK57E,gBAAwBj2E,EAAa,KAGxLyvJ,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAa,MAGnN9E,oBAAkBmF,KAAK+vB,aACpB/vB,KAAKk7I,YACLkU,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,IAAOiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAAQq7H,EAAWl4E,EAAIy6E,EAAiB,GAAKrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAAU53I,eAAiBL,EAAaK,KAAKi1B,QAAS+6H,GAG/UZ,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,IAAOiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAAQq7H,EAAWl4E,EAAIy6E,EAAiB,GAAKrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAaK,KAAKktB,WAAYvtB,EAAaK,KAAKi1B,QAAS+6H,IAG/WhwJ,KAAK2zJ,qBAAsB,EAC3B3zJ,KAAK67I,UAAYuU,EACjBpwJ,KAAK6uJ,QAAUuB,MAEd,IAAI/kB,EAAOvwI,WAAa86E,EAAQ9xE,eAAiBunI,EAAOtwI,SAAW66E,EAAQ9xE,eAAkB8xE,EAAQtzE,aAAe+oI,EAAOtwI,QAAU,CACjIiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,EAExB,IAAIiC,IAAc,EACd3mI,GAAgB,CA4BpB,IA3BA2mI,GAAeroB,EAAOsa,YAAc3lJ,KAAK+0D,SAAWm6F,GACpDniI,GAAiBs+G,EAAOsa,YAAc3lJ,KAAK+0D,SAAWm6F,IACjDt5E,EAAQj1E,gBAAkBi1E,EAAQwzE,eAC/BppJ,KAAKk7I,YACLkU,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,MAAmB7xJ,EAAa,KAGhLyvJ,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAa+zJ,IAAc/zJ,EAAa,KAE5MyvJ,EAAangE,OACbmgE,EAAa+C,gBAAgB,KACzBnyJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,MAAmB7xJ,EAAa,KAGtKyvJ,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAa+zJ,IAAc/zJ,EAAa,KAElMyvJ,EAAanL,UACTjkJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAK57E,gBAAwBj2E,EAAa,KAGxLyvJ,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAaotB,IAAgBptB,EAAa,KAE5Mi2E,EAAQ1oD,UAAY0oD,EAAQ1oD,UAAYwmI,GACxC99E,EAAQ7oD,cAAgB6oD,EAAQ7oD,cAAgBA,IAEhD/sB,KAAK1F,OAAO8uC,cAAcrZ,YAAcl1B,oBAAkBmF,KAAK+vB,WAE/D,GADA/vB,KAAKgzJ,WAAahzJ,KAAK+0D,SACnBl6D,oBAAkB+6E,EAAQxf,gBAAgB/2D,OAAQ,CAC9CxB,GAASmC,KAAKizJ,SAASjzJ,KAAK+vB,UAAU9xB,WAAYotI,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GACzF5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAM2oG,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,GAAMD,EAAWl4E,EAAIy6E,EAAiB,GAAK7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAaK,KAAKi1B,QAAS+6H,GACjQn1J,oBAAkBgD,GAAOs1J,aAC1BnzJ,KAAKozJ,aAAev1J,GAAOs1J,UAC3BnzJ,KAAKgzJ,WAAa3nB,EAAOikB,cAKzBtvJ,MAAKk7I,YACLkU,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,IAAOiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,EAAiB,GAAMrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAAUhiE,gBAAwBj2E,EAAaK,KAAKi1B,QAAS+6H,GAGxVZ,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAWm6F,GAAmB,IAAOiB,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,EAAiB,GAAMrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAai2E,EAAQ7oD,eAAgBptB,EAAaK,KAAKi1B,QAAS+6H,EAI5XhwJ,MAAK+0D,SAAW,EAChB/0D,KAAK2zJ,qBAAsB,EAC3B3zJ,KAAK67I,UAAYuU,MAEhB,IAAIx6E,EAAQtzE,aAAe+oI,EAAOtwI,SAAWswI,EAAOvwI,WAAa86E,EAAQtzE,cAAgBtC,KAAK2zJ,oBAAqB,CAapH,GAZK3zJ,KAAKyxJ,cAIA77E,EAAQj1E,gBAAkBi1E,EAAQwzE,eACxCgG,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,IAAMk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAai2E,EAAQ1oD,WAAYvtB,EAAa,KAC5LyvJ,EAAangE,OACbmgE,EAAa+C,gBAAgB,KAC7B/C,EAAapL,cAAcgN,EAAa/B,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,IAAMk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAai2E,EAAQ1oD,WAAYvtB,EAAa,KAC5KyvJ,EAAanL,UACbmL,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,IAAMk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAai2E,EAAQ7oD,eAAgBptB,EAAa,OAT9LK,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,IAUnB52J,oBAAkBmF,KAAK+vB,WACxB,GAAImgI,GAAiBr1J,oBAAkB+6E,EAAQxf,gBAAgB/2D,QAC3D,IAAKxE,oBAAkBmF,KAAKozJ,cAAe,CACvC,GAAIv1J,IAASmC,KAAKizJ,SAASjzJ,KAAKozJ,aAAc/nB,EAAOikB,SAAWtvJ,KAAKgzJ,WAAY,GACjF5D,GAAa3L,WAAW5lJ,GAAOq1J,MAAM,GAAGhsG,KAAM2oG,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,KAAQo7F,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,EAAiB,GAAMrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAai2E,EAAQ7oD,eAAgBptB,EAAaK,KAAKi1B,QAAS+6H,QAGvVn1J,qBAAkBmF,KAAK+vB,YAAemgI,GAC5Cd,EAAa3L,WAAWzjJ,KAAK+vB,UAAU9xB,WAAY4xJ,EAAetb,EAAWub,EAAoBb,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,KAAQo7F,EAAiBryI,KAAOqyI,EAAiBv8H,OAASq7H,EAAWl4E,EAAIy6E,EAAiB,GAAMrB,EAAiBn/H,IAAMm/H,EAAiBvY,QAASj4I,EAAai2E,EAAQ7oD,eAAgBptB,EAAaK,KAAKi1B,QAAS+6H,EAGtWhwJ,MAAK2zJ,qBAAsB,EAC3B3zJ,KAAK6uJ,QAAUuB,MAEd,IAAIx6E,EAAQ9xE,cAAgBunI,EAAOvwI,WAAa86E,EAAQtzE,YAAc+oI,EAAOtwI,QAAS,CAKvF,GAJKiF,KAAKyxJ,eACNzxJ,KAAK0xJ,eAAiB/mH,MAAaskH,GACnCjvJ,KAAKyxJ,cAAe,IAEnB77E,EAAQj1E,gBAAkBi1E,EAAQwzE,aAAc,CACjD,GAAIiK,IAAsB,CAEtBA,IADArzJ,KAAK+sB,eAAiBs+G,EAAOsa,WACP3lJ,KAAK+sB,cAGLs+G,EAAOsa,WAE7B3lJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,GAAKha,KAAK+0D,SAAW,IAAMk6F,EAAWl4E,EAAIy6E,EAAiB,MAA2B7xJ,EAAa,KAGtI,IAA1Bi2E,EAAQ7oD,eACRqiI,EAAapL,cAAc,KAAMmN,EAAqBlC,EAAWj1I,EAAIra,EAAaK,KAAK+0D,SAAW,IAAMk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAa0zJ,IAAsB1zJ,EAAa,KAGpMK,KAAK+sB,eAAiBsmI,GAClBrzJ,KAAKk7I,YACLkU,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,EAAKha,cAAiB,GAAKivJ,EAAWl4E,EAAIy6E,EAAiB,GAAKnmB,aAAoB1rI,EAAa,KAGpKyvJ,EAAapL,cAAc0M,EAAuB,KAAMzB,EAAWj1I,EAAIra,EAAaK,KAAK+0D,UAAY,GAAKk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAa,KAEhMyvJ,EAAangE,OACbmgE,EAAa+C,gBAAgB,KACzBnyJ,KAAKk7I,YACLkU,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,GAAKha,KAAK+0D,SAAWm6F,GAAmB,GAAKD,EAAWl4E,EAAIy6E,EAAiB,GAAKnmB,aAAoB1rI,EAAa,KAG5KyvJ,EAAapL,cAAc,KAAMgN,EAAa/B,EAAWj1I,EAAIra,EAAaK,KAAK+0D,UAAY,GAAKk6F,EAAWl4E,EAAIy6E,EAAiB,GAAI7xJ,EAAa0rI,EAAOsa,YAAahmJ,EAAa,KAEtLyvJ,EAAanL,UAEjBjkJ,KAAK2zJ,qBAAsB,EAC3B3zJ,KAAKktB,WAAam+G,EAAOsa,YAG5B9qJ,oBAAkB+6E,EAAQnjE,aAAemjE,EAAQnjE,WAAW9W,OAAS,GACtEi6E,EAAQnjE,WAAW8C,IAAI,SAAUwB,EAAOtX,GACpC,GAAIm0J,GAAa3iJ,EAAM3W,OAAOoE,qBAAqBkE,kBAAkBmU,EAAMhb,MAAM,EACjF,IAAIsvI,EAAOvwI,WAAa84J,GAAcA,GAAcvoB,EAAOtwI,QAAS,CAChE,GAAI+pB,GAAY7T,EAAM3W,OAAOkb,gBAAgBq4C,iBAAiB92C,EAAMhb,KACpE,KAAKlB,oBAAkBkc,EAAM0wI,QAAS,CAClC,GAAIxE,GAAQ,GAAIW,aAAU7sI,EAAM0wI,OAChC,IAAIx2I,EAAMiqI,YAAa,CACnBkU,EAAajM,UAAUF,EAAQgM,EAAWj1I,GAAK8K,EAAYoqI,GAAmB,GAAM,GAAMj+I,EAAM3W,OAAO0nB,YAAc,EAAGitI,EAAWl4E,EAAIy6E,EAp8BzI,GAAA,GAq8BMqC,GAAQzE,EAAangE,MACzBmgE,GAAa0E,QAAQ,GAAIxa,cAAW2V,EAAWj1I,EAAGi1I,EAAWl4E,EAAG2iE,EAAmB,aAAGt4H,IACtFguI,EAAa3L,WAAW1sI,EAAMsB,KAAM6pI,EAAM,KAAM6R,aAAWC,MAAQ/E,EAAWj1I,GAAK8K,EAAYoqI,GAAmB,GAAM,GAv8B1H,GAu8B8Ij+I,EAAM3W,OAAO0nB,YAAc,EAAGitI,EAAWl4E,EAAIy6E,EAAgB,MACzMpC,EAAanL,QAAQ4P,OAEpB,CACDzE,EAAajM,UAAUF,EAAOgM,EAAWj1I,EAAIra,EAAamlB,EAAYoqI,GAAmB,GAAM,GAAID,EAAWl4E,EAAIy6E,EA38BpH,GAAA,GA48BE,IAAIqC,GAAQzE,EAAangE,MACzBmgE,GAAa0E,QAAQ,GAAIxa,cAAW2V,EAAWj1I,EAAGi1I,EAAWl4E,EAAG2iE,EAAmB,aAAGt4H,IACtFguI,EAAa3L,WAAW1sI,EAAMsB,KAAM6pI,EAAM,KAAM6R,aAAWC,MAAO/E,EAAWj1I,EAAIra,EAAamlB,EAAYoqI,GAAmB,GAAM,GA98BrI,GA88BuJD,EAAWl4E,EAAIy6E,EAAgB,MACpLpC,EAAanL,QAAQ4P,QAc7C,MADA7zJ,MAAKi0J,eAAeva,EAAMuV,EAAY5jB,EAAQ6jB,GACvCG,GAQXT,EAA0BnuJ,UAAUsvJ,WAAa,SAAUpc,GACvD,GAAIuO,EACJ,IAAIvO,GAAcA,EAAWrjH,QAAUqjH,EAAWrjH,MAAMgkH,UAAYX,EAAWrjH,MAAM2kH,WACjFtB,EAAWrjH,MAAMukH,YAAa,CAC9B,GAAIP,GAAWX,EAAWrjH,MAAMgkH,SAAWX,EAAWrjH,MAAMgkH,SAAW,EACnE4f,EAAkBvgB,EAAWrjH,MAAMukH,WACnCA,EAAalB,EAAWrjH,MAAMukH,WAC9Bqf,EAAkBl0J,KAAK60I,WACvBsf,EAAiBxgB,EAAWrjH,MAAM2kH,UAClCA,EAAYtB,EAAWrjH,MAAM2kH,UAC7Bj1I,KAAK1F,OAAO8xB,gBAAgBE,OAAqB,aAAE6nI,GAAkB9R,eAAa2I,OACtF9I,GAAO,GAAIC,mBAAgBtN,EAAYP,EAAUW,GAErD,MAAOiN,IAWX0M,EAA0BnuJ,UAAUwzJ,eAAiB,SAAUva,EAAMuV,EAAY5jB,EAAQ6jB,GACrF,GAAIpxI,GACAg8H,EAAWJ,EAAKI,QACpB,IAAKj/I,oBAAkBmF,KAAKsvF,eAAejwF,OAwFvC,GAAKxE,oBAAkBmF,KAAKopC,cAAcC,WAAW45G,OAc5CjjJ,KAAKopC,cAAcC,WAAWhqC,OACnCW,KAAKo0J,oBAAoB1a,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBlvJ,KAAKopC,cAAcC,WAAWhqC,WAfzC,CACzDW,KAAKq0J,0BAA4B,EACjCr0J,KAAKs0J,0BAA4B,CACjC,KAAK,GAAIx2J,GAAI,EAAGA,EAAIkC,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAQmC,IAE5D,GADAkC,KAAKu0J,oBAAoB7a,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBlvJ,KAAKopC,cAAcC,WAAW45G,MAAMnlJ,IACpGkC,KAAKopC,cAAcC,WAAWhqC,MAAO,CACrC,GAAIA,GAAQW,KAAKopC,cAAcC,WAAWhqC,MAAMsJ,MAAM,IAClDtJ,KACAW,KAAKsvF,eAAeojE,aAAc,EAClC1yJ,KAAKo0J,oBAAoB1a,EAAMuV,EAAY5jB,EAAQ6jB,EAAkBlvJ,KAAK8uJ,0BAA2BzvJ,EAAMvB,UAjG5E,CAE3CggB,EADA9d,KAAKsvF,eAAeklE,iBACbx0J,KAAKsvF,eAAexxE,KAGvB9d,KAAKk7I,YACGl7I,KAAKsvF,eAAoB,KAG1B3vF,EAAaK,KAAKsvF,eAAexxE,KAGhD,IAAI22I,OAAa,EAEbA,GADAz0J,KAAKk7I,YACQp9H,IAA2BmxI,EAAWj1I,EAGtC8D,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,CAEnE,IAAI06I,GAAe10J,KAAKk7I,YAAcv7I,EAAame,GAAQA,CAC3D,IAAIutH,EAAO4jB,YAAcyF,GAAgBA,EAAerpB,EAAOikB,WAC1Dz0J,oBAAkBmF,KAAKsvF,eAAejwF,SAAWW,KAAKsvF,eAAeojE,YAAa,CACnF,GAAI70J,GAASmC,KAAKizJ,SAASjzJ,KAAKsvF,eAAejwF,MAAOgsI,EAAOikB,SAAWoF,EAAc,IAClFxS,EAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,GAC5C6a,MAAiB,GACjB/b,EAAa3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,UACjE94I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAYz1B,oBAAkB84I,EAAWrjH,MAAMgkH,WAC3Gz5I,oBAAkB84I,EAAWrjH,MAAM2kH,YACtCp6I,oBAAkB84I,EAAWrjH,MAAMukH,cACpC6a,EAAiB1vJ,KAAK+vJ,WAAWpc,IAEhC94I,oBAAkB60J,KACnBxN,EAAOwN,EAEX,IAAI1+E,IAAYlzD,KAAM,EAAG8V,MAAO,EAAG5C,IAAK,EAAG4mH,OAAQ,EAC9C/8I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAC/Dz1B,oBAAkB84I,EAAWrjH,MAAM0gD,WACpCA,EAAU2iE,EAAWrjH,MAAM0gD,UAE1Bn2E,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIyS,IAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAO2kJ,WAAWvtH,QAAU,EAClF2/H,EAAQ,GAAI1a,UAAOua,EAAazjF,EAAQlzD,KAAMmxI,EAAWl4E,EAAI49E,EAAe3jF,EAAQhgD,KACpFshD,EAAO,GAAI8nE,SAAOV,EAAmB,aAAI+a,GAAezjF,EAAQlzD,KAAOkzD,EAAQp9C,OAAQ/1B,EAAO2kJ,WAAWvtH,QAAU+7C,EAAQhgD,IAAMggD,EAAQ4mE,SACzIid,EAAc,GAAIvb,cAAWsb,EAAOtiF,GACpCwiF,EAAc,GAAIpe,kBAOtB,IANAoe,EAAYlgB,UAAYuP,mBAAiBE,KACzCyQ,EAAYngB,cAAgB8V,uBAAqBE,OAC5C9vJ,oBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAWz1B,oBAAkB84I,EAAWrjH,MAAMpgB,SAC7GrV,oBAAkB84I,EAAWrjH,MAAMpgB,OAAO0kI,aAC3CkgB,EAAYlgB,UAAYjB,EAAWrjH,MAAMpgB,OAAO0kI,WAEhD/2I,EAAO2kJ,WAAWzlI,MAAQ,EAAG,CAC7B,GACIg4I,GAAe/0J,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WACpE6P,EAAY,GAAIX,iBAAekS,GAAgBA,EAAazkI,OAASykI,EAAazkI,MAAMkzH,UACxFuR,EAAazkI,MAAMkzH,UAAYxjJ,KAAKypJ,YAEpCuL,EAAa,IACZn6J,qBAAkBk6J,IAAkBl6J,oBAAkBk6J,EAAazkI,QACnEz1B,oBAAkBk6J,EAAazkI,MAAM2sC,mBACtC+3F,EAAa,GAAInS,iBAAckS,EAAazkI,MAAM2sC,iBAEtD,IAAIg4F,GAAW,IACVp6J,qBAAkBk6J,IAAkBl6J,oBAAkBk6J,EAAazkI,QACnEz1B,oBAAkBk6J,EAAazkI,MAAMokH,eACtCugB,EAAW,GAAI9f,UAAO4f,EAAazkI,MAAMokH,aAE7C,IAAIwgB,GAAUhT,EAAKiT,cAAct3J,EAAOq1J,MAAM,GAAGhsG,KACjD4yF,GAASkK,cAAciR,EAAUD,EAAYH,EAAY76I,EAAI,EAAG66I,EAAY99E,EAAGm+E,EAAQn4I,MAAQ,EAAGm4I,EAAQjgI,QAC1G6kH,EAAS2J,WAAW5lJ,EAAOq1J,MAAM,GAAGhsG,KAAMg7F,EAjB1B,KAiB2CsB,EAAWqR,EAAY76I,EAAG66I,EAAY99E,EAAGzE,EAAKv1D,MAAOu1D,EAAKr9C,OAAQ6/H,GACpG,OAArBj3J,EAAOs1J,WACPnzJ,KAAKsvF,eAAejwF,MAAQxB,EAAOs1J,UACnCnzJ,KAAKsvF,eAAexxE,KAAOutH,EAAOikB,SAClCtvJ,KAAKsvF,eAAeklE,kBAAmB,GAGvCx0J,KAAKsvF,eAAeojE,aAAc,MAItC1yJ,MAAKsvF,eAAexxE,KAAOutH,EAAOikB,YAwBlDV,EAA0BnuJ,UAAU8zJ,oBAAsB,SAAU7a,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBhF,GAC3G,GAAIpsI,GAEA+2I,EADA/a,EAAWJ,EAAKI,QAEpB,KAAKj/I,oBAAkBmF,KAAKopC,cAAcC,cAAgBxuC,oBAAkBmF,KAAKopC,cAAcC,WAAW45G,OAAQ,CAC9G,GAAIjjJ,KAAKopC,cAAcorH,iBACnB12I,EAAO9d,KAAKsvF,eAAexxE,SAG3B,IAAI9d,KAAKk7I,YACDl7I,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAS,GAC7CmiB,EAAO9d,KAAKsvF,eAAexxE,OAAQ9d,KAAKs0J,0BACxCt0J,KAAKq0J,0BAA4BnK,EAAWntI,OAG5Ce,EAAQ9d,KAAKsvF,eAAoB,SAGpC,CACD,GAAIjwF,OAAQ,EACPxE,qBAAkBmF,KAAKopC,cAAcC,WAAWhqC,SACjDA,EAAQW,KAAKopC,cAAcC,WAAWhqC,MAAMsJ,MAAM,MAElD3I,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAS,GAAK0D,EAAM1D,OAAS,GACjEmiB,EAAOne,EAAaK,KAAKsvF,eAAexxE,MAAQ9d,KAAKs0J,0BACrDt0J,KAAKq0J,0BAA4BnK,EAAWntI,OAEvC/c,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAS,GAClDmiB,EAAOne,EAAaK,KAAKsvF,eAAexxE,MAAQ9d,KAAKq0J,0BACrDr0J,KAAKq0J,0BAA4BnK,EAAWntI,OAG5Ce,EAAOne,EAAaK,KAAKsvF,eAAexxE,MAIpD,GAAI22I,OAAa,EAEbA,GADAz0J,KAAKk7I,YACQp9H,IAA2BmxI,EAAWj1I,EAGtC8D,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,CAEnE,IAAI06I,GAAe10J,KAAKk7I,YAAcv7I,EAAame,GAAQA,CAC3D,IAAIutH,EAAO4jB,YAAcyF,GAAgBA,EAAerpB,EAAOikB,WAC1Dz0J,oBAAkBmF,KAAKopC,cAAcC,cAAgBrpC,KAAKsvF,eAAeojE,YAAa,CACvF,GAAI70J,GAAS,GAAIu8I,SAAM8P,EAAWntI,MAAOmtI,EAAWj1H,QAChD0/H,GAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAOo3B,QAAU,EACvE2/H,EAAQ,GAAI1a,UAAOua,EAAYxF,EAAWl4E,EAAI49E,GAC9CriF,EAAO,GAAI8nE,SAAMv8I,EAAOkf,MAAOlf,EAAOo3B,OAC1C4/H,GAAc,GAAIvb,cAAWsb,EAAOtiF,EACpC,IAAI2wE,GAAQ,GAAIW,aAAUsG,EAAWzC,OACjC5pJ,GAAOkf,MAAQ,GACf+8H,EAASqJ,UAAUF,EAAO4R,EAAY76I,EAAG66I,EAAY99E,EAAGl5E,EAAOkf,MAAOlf,EAAOo3B,QACjC,OAAxCj1B,KAAKopC,cAAcC,WAAWhqC,MAC9BW,KAAKsvF,eAAeklE,kBAAmB,EAGnC35J,oBAAkBmF,KAAKopC,cAAcC,WAAWhqC,SAChDW,KAAKsvF,eAAeojE,aAAc,IAK1C1yJ,KAAKsvF,eAAexxE,KAAOutH,EAAOikB,YAKlDV,EAA0BnuJ,UAAU2zJ,oBAAsB,SAAU1a,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBkG,GAC3G,GAAIt3I,GACAg8H,EAAWJ,EAAKI,QACpB,KAAKj/I,oBAAkBmF,KAAKopC,cAAcC,WAAWhqC,OAAQ,CACzD,GAAIW,KAAKopC,cAAcorH,iBACnB12I,EAAO9d,KAAKsvF,eAAexxE,SAG3B,IAAI9d,KAAKk7I,YACL,GAAIl7I,KAAKopC,cAAcC,WAAW45G,MAC9B,GAAIjjJ,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAS,GAE7C,GADAmiB,EAAO9d,KAAKsvF,eAAexxE,KAAO9d,KAAKq0J,0BAA4Br0J,KAAKs0J,2BACnEz5J,oBAAkBu6J,GAAc,CAC7Bv3J,EAASmC,KAAKq1J,qBAAqBD,EAAa/pB,EAAOikB,SAAWxxI,EAAM,GAC5E9d,MAAKs0J,2BAA6Bz2J,EAAO2kJ,WAAWzlI,MAAQ/c,KAAKq0J,+BAIrEv2I,GAAO9d,KAAKsvF,eAAexxE,KAAO9d,KAAKopC,cAAcC,WAAW45G,MAAM,GAAGlmI,UAI7Ee,GAAQ9d,KAAKsvF,eAAoB,SAIrC,IAAItvF,KAAKopC,cAAcC,WAAW45G,MAC9B,GAAIjjJ,KAAKopC,cAAcC,WAAW45G,MAAMtnJ,OAAS,GAE7C,GADAmiB,EAAOne,EAAaK,KAAKsvF,eAAexxE,MAAQ9d,KAAKq0J,0BAA4Br0J,KAAKs0J,2BACjFz5J,oBAAkBu6J,GAAc,CAC7Bv3J,EAASmC,KAAKq1J,qBAAqBD,EAAa/pB,EAAOikB,SAAWxxI,EAAM,GAC5E9d,MAAKs0J,2BAA6Bz2J,EAAO2kJ,WAAWzlI,MAAQ/c,KAAKq0J,+BAIrEv2I,GAAOne,EAAaK,KAAKsvF,eAAexxE,MAAQ9d,KAAKopC,cAAcC,WAAW45G,MAAM,GAAGlmI,UAI3Fe,GAAOne,EAAaK,KAAKsvF,eAAexxE,KAIpD,IAAI22I,OAAa,EAEbA,GADAz0J,KAAKk7I,YACQp9H,IAA2BmxI,EAAWj1I,EAGtC8D,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,CAEnE,IAAI06I,GAAe10J,KAAKk7I,YAAcv7I,EAAame,GAAQA,CAC3D,IAAIutH,EAAO4jB,YAAcyF,GAAgBA,EAAerpB,EAAOikB,WAC1Dz0J,oBAAkBu6J,KAAiBp1J,KAAKsvF,eAAeojE,YAAa,CACrE,GAAI70J,GAASmC,KAAKq1J,qBAAqBD,EAAa/pB,EAAOikB,SAAWoF,EAAc,IAChFxS,EAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,IAC3Ch6I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIyS,IAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAO2kJ,WAAWvtH,QAAU,EAClF2/H,EAAQ,GAAI1a,UAAOua,EAAYxF,EAAWl4E,EAAI49E,GAC9CriF,EAAO,GAAI8nE,SAAMv8I,EAAO2kJ,WAAWzlI,MAAOlf,EAAO2kJ,WAAWvtH,QAC5DqgI,EAAa,GAAIhc,cAAWsb,EAAOtiF,GACnCwiF,EAAc,GAAIpe,kBAGtB,IAFAoe,EAAYlgB,UAAYuP,mBAAiBG,MACzCwQ,EAAYngB,cAAgB8V,uBAAqBE,OAC7C9sJ,EAAO2kJ,WAAWzlI,MAAQ,EAAG,CAC7B,GACIymI,GAAY,GAAIX,iBAAc7iJ,KAAKypJ,YACnCnG,EAAWtjJ,KAAKopC,cAAcC,WAAW4rG,mBAAsB,GAAIkN,mBAAgBniJ,KAAKopC,cAAcC,WAAW4rG,UAAUJ,WAAY70I,KAAKopC,cAAcC,WAAW4rG,UAAUX,SAAUt0I,KAAKopC,cAAcC,WAAW4rG,UAAUA,WAAaiN,EAC9OqT,EAAev1J,KAAKopC,cAAcC,WAAW4rG,UAAUV,UAAY,GAAIsO,iBAAc7iJ,KAAKopC,cAAcC,WAAW4rG,UAAUV,WAAaiP,CAE9I1J,GAAS2J,WAAW2R,EAAa9R,EALjB,KAKqCiS,EAAcD,EAAWt7I,EAAGs7I,EAAWv+E,EAAGl5E,EAAO2kJ,WAAWzlI,MAAOlf,EAAO2kJ,WAAWvtH,OAAQ6/H,GAC7Ij6J,oBAAkBgD,EAAOs1J,YAAmC,OAArBt1J,EAAOs1J,UAM3Ct4J,oBAAkBmF,KAAKopC,cAAcC,WAAWhqC,SAChDW,KAAKsvF,eAAeojE,aAAc,IANtC1yJ,KAAKsvF,eAAejwF,MAAQxB,EAAOs1J,UACnCnzJ,KAAKsvF,eAAexxE,KAAOutH,EAAOikB,SAClCtvJ,KAAKsvF,eAAeklE,kBAAmB,OAS3Cx0J,MAAKsvF,eAAexxE,KAAOutH,EAAOikB,YAclDV,EAA0BnuJ,UAAUgvJ,cAAgB,SAAU/V,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBt5E,GACrG,GACI93D,GADAg8H,EAAWJ,EAAKI,QAEpB,IAAKj/I,oBAAkBmF,KAAKqvF,cAAchwF,OA0GtC,GAAKxE,oBAAkBmF,KAAKopC,cAAcE,YAAezuC,oBAAkBmF,KAAKopC,cAAcE,UAAU25G,OAwB9FpoJ,oBAAkBmF,KAAKopC,cAAcE,YAAezuC,oBAAkBmF,KAAKopC,cAAcE,UAAUjqC,QACzGW,KAAKw1J,mBAAmB9b,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBlvJ,KAAKopC,cAAcE,UAAUjqC,WAzBY,CAC5GW,KAAKy1J,yBAA2B,EAChCz1J,KAAK01J,yBAA2B,EAChC11J,KAAK21J,eAAiB,CACtB,KAAS73J,EAAI,EAAGA,EAAIkC,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAQmC,IAAK,CAChE,GAAIuB,OAAQ,GACRxB,MAAS,EACRhD,qBAAkBmF,KAAKopC,cAAcE,UAAUjqC,SAChDA,EAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,KACjD9K,EAASmC,KAAKizJ,SAAS5zJ,EAAMvB,GAAI0K,OAAO+5I,UAAW,IAEvD,IAAIqT,GAAoB/6J,oBAAkBgD,GAAoC,EAA1BA,EAAO2kJ,WAAWzlI,KACtE/c,MAAK21J,gBAAkB31J,KAAKopC,cAAcE,UAAU25G,MAAMnlJ,GAAGif,MAAQ64I,EAEzE,IAAK,GAAI93J,GAAI,EAAGA,EAAIkC,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAQmC,IAC3DkC,KAAK61J,mBAAmBnc,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBlvJ,KAAKopC,cAAcE,UAAU25G,MAAMnlJ,IAClGkC,KAAKopC,cAAcE,UAAUjqC,QACzBA,EAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,OAEjD3I,KAAKw1J,mBAAmB9b,EAAMuV,EAAY5jB,EAAQ6jB,EAAkBlvJ,KAAK8uJ,0BAA2BzvJ,EAAMvB,QA7H5E,CAC9C,GAAIg4J,GAAY,CAEhB,IADAA,EAAY91J,KAAK8d,KACZ9d,KAAKqvF,cAAcmlE,iBAapB12I,EAAO9d,KAAKqvF,cAAcvxE,SAbY,CACtC,GAAIjgB,GAASmC,KAAKizJ,SAASjzJ,KAAKqvF,cAAchwF,MAAOmJ,OAAO+5I,UAAW,IACnE8G,EAAarpJ,KAAKwB,YAAc0R,KAAKsH,MAAMxa,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,GAAK,GAAK,EAEjGvD,GADA9d,KAAKk7I,YACG4a,EAAYzM,EAAcxrJ,EAAO2kJ,WAAWzlI,MAG7Cpd,EAAam2J,EAAYzM,GAAcxrJ,EAAO2kJ,WAAWzlI,MAEpE/c,KAAKqvF,cAAcvxE,KAAOA,EAC1B9d,KAAKqvF,cAAcmlE,kBAAmB,EAK1C,GAAIC,OAAa,EACjB,IAAIz0J,KAAKk7I,aAEL,GADAuZ,EAAa32I,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,GAC1D47D,EAAQj1E,gBAAkBi1E,EAAQwzE,aAAc,CAC7CtkI,EAAY8wD,EAAQ93D,KAAO83D,EAAQ7gB,QAEnC0/F,GADA7+E,EAAQ93D,KAAO83D,EAAQ7gB,SACVj3C,EAAOoxI,EAAkBD,EAAWj1I,EAGpC8D,EAAOoxI,EAAkBD,EAAWj1I,EAAI8K,OAM7D,IADA2vI,EAAa32I,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,GAC1D47D,EAAQj1E,gBAAkBi1E,EAAQwzE,aAAc,CACjD,GAAItkI,GAAYnlB,EAAai2E,EAAQ93D,MAAQne,EAAai2E,EAAQ7gB,SAE9D0/F,GADA7+E,EAAQ93D,KAAO83D,EAAQ7gB,SACVj3C,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,EAGlD8D,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,EAAI8K,EAI/E,GAAIumH,EAAO4jB,YAAcnxI,GAAQA,EAAOutH,EAAOikB,WAAaz0J,oBAAkBmF,KAAKqvF,cAAchwF,SACzFW,KAAKqvF,cAAcqjE,YAAa,CACpC,GAAI70J,GAASmC,KAAKizJ,SAASjzJ,KAAKqvF,cAAchwF,MAAOgsI,EAAOikB,SAAWxxI,EAAM,IACzEokI,EAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,GAC5C6a,MAAiB,GACjB/b,EAAa3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,UACjE94I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAYz1B,oBAAkB84I,EAAWrjH,MAAMgkH,WAC3Gz5I,oBAAkB84I,EAAWrjH,MAAM2kH,YACtCp6I,oBAAkB84I,EAAWrjH,MAAMukH,cACpC6a,EAAiB1vJ,KAAK+vJ,WAAWpc,IAEhC94I,oBAAkB60J,KACnBxN,EAAOwN,IAEN70J,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIlxE,IAAYlzD,KAAM,EAAG8V,MAAO,EAAG5C,IAAK,EAAG4mH,OAAQ,EAC9C/8I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAC/Dz1B,oBAAkB84I,EAAWrjH,MAAM0gD,WACpCA,EAAU2iE,EAAWrjH,MAAM0gD,QAE/B,IAAI2jF,IAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAO2kJ,WAAWvtH,QAAU,EAClF8gI,EAAkB,GAAI7b,UAAOua,EAAazjF,EAAQlzD,KAAMmxI,EAAWl4E,EAAI49E,EAAe3jF,EAAQhgD,KAC9FglI,EAAiB,GAAI5b,SAAMv8I,EAAO2kJ,WAAWzlI,OAASi0D,EAAQlzD,KAAOkzD,EAAQp9C,OAAQ/1B,EAAO2kJ,WAAWvtH,QAAU+7C,EAAQhgD,IAAMggD,EAAQ4mE,SACvIqe,EAAmB,GAAI3c,cAAWyc,EAAiBC,GACnDE,EAAmB,GAAIxf,kBAG3B,IAFAwf,EAAiBthB,UAAYuP,mBAAiBG,MAC9C4R,EAAiBvhB,cAAgB8V,uBAAqBE,OAClD9sJ,EAAO2kJ,WAAWzlI,MAAQ,EAAG,CAC7B,GAEIymI,GAAY,GAAIX,iBAAelP,GAAcA,EAAWrjH,OAASqjH,EAAWrjH,MAAMkzH,UAClF7P,EAAWrjH,MAAMkzH,UAAYxjJ,KAAKypJ,YAElCuL,EAAa,IACZn6J,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAC/Dz1B,oBAAkB84I,EAAWrjH,MAAM2sC,mBACpC+3F,EAAa,GAAInS,iBAAclP,EAAWrjH,MAAM2sC,iBAEpD,IAAIg4F,GAAW,IACVp6J,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAC/Dz1B,oBAAkB84I,EAAWrjH,MAAMokH,eACpCugB,EAAW,GAAI9f,UAAOxB,EAAWrjH,MAAMokH,aAE3C,IAAIwgB,GAAUhT,EAAKiT,cAAct3J,EAAOq1J,MAAM,GAAGhsG,KACjD4yF,GAASkK,cAAciR,EAAUD,EAAYiB,EAAiBj8I,EAAI,EAAGi8I,EAAiBl/E,EAAGm+E,EAAQn4I,MAAQ,EAAGm4I,EAAQjgI,QACpH6kH,EAAS2J,WAAW5lJ,EAAOq1J,MAAM,GAAGhsG,KAAMg7F,EAjB1B,KAiB2CsB,EAAWyS,EAAiBj8I,EAAGi8I,EAAiBl/E,EAAGl5E,EAAO2kJ,WAAWzlI,MAAOlf,EAAO2kJ,WAAWvtH,OAAQihI,GACxI,OAArBr4J,EAAOs1J,WACPnzJ,KAAKqvF,cAAchwF,MAAQxB,EAAOs1J,UAClCnzJ,KAAKqvF,cAAcvxE,KAAOutH,EAAOikB,UAGjCtvJ,KAAKqvF,cAAcqjE,aAAc,MAIrC1yJ,MAAKqvF,cAAcvxE,KAAOutH,EAAOikB,YAkCjDV,EAA0BnuJ,UAAUo1J,mBAAqB,SAAUnc,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBiH,GAC1G,GACIr4I,GADAg8H,EAAWJ,EAAKI,SAEhBgc,EAAY,CAEhB,IADAA,EAAY91J,KAAK8d,MACZjjB,oBAAkBmF,KAAKopC,cAAcE,aAAezuC,oBAAkBmF,KAAKopC,cAAcE,UAAU25G,OAAQ,CAC5G,GAAKjjJ,KAAKqvF,cAAcmlE,iBA2BhB12I,EADA9d,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAS,EACrCqE,KAAKqvF,cAAcvxE,KAAO9d,KAAK01J,yBAG/B11J,KAAKqvF,cAAcvxE,SA9BQ,CACtC,GAAIjgB,GAAS,GAAIu8I,SAAM+b,EAAep5I,MAAOo5I,EAAelhI,QACxDo0H,EAAarpJ,KAAKwB,YAAc0R,KAAKsH,MAAMxa,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,GAAK,GAAK,GACjGhiB,EAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,IACjD3I,MAAKk7I,YACDl7I,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAS,GAAK0D,EAAM1D,OAAS,GAChEmiB,EAAOg4I,EAAY91J,KAAK21J,eAAiB93J,EAAOkf,MAChD/c,KAAKy1J,0BAA4B53J,EAAOkf,OAGxCe,EAAQg4I,EAAYzM,EAAcxrJ,EAAOkf,MAIzC/c,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAS,GAAK0D,EAAM1D,OAAS,GAChEmiB,EAAOne,EAAam2J,GAAa91J,KAAK21J,eAAiB93J,EAAOkf,MAC9D/c,KAAKy1J,0BAA4B53J,EAAOkf,OAGxCe,EAAOne,EAAam2J,EAAYzM,GAAcxrJ,EAAOkf,MAG7D/c,KAAKqvF,cAAcvxE,KAAOA,EAC1B9d,KAAKqvF,cAAcmlE,kBAAmB,EAU1C,GAAIC,OAAa,EAOjB,IALIA,GADAz0J,KAAKk7I,YACQp9H,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,GAK/DqxH,EAAO4jB,YAAcnxI,GAAQA,EAAOutH,EAAOikB,WAAaz0J,oBAAkBs7J,KACtEn2J,KAAKqvF,cAAcqjE,YAAa,CACpC,GAAI70J,GAAS,GAAIu8I,SAAM+b,EAAep5I,MAAOo5I,EAAelhI,QACxD0/H,GAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAOo3B,QAAU,EACvE8gI,EAAkB,GAAI7b,UAAOua,EAAYxF,EAAWl4E,EAAI49E,GACxDqB,EAAiB,GAAI5b,SAAMv8I,EAAOkf,MAAOlf,EAAOo3B,QAChDghI,EAAmB,GAAI3c,cAAWyc,EAAiBC,GACnD/S,EAAQ,GAAIW,aAAUuS,EAAe1O,OACrC5pJ,GAAOkf,MAAQ,GACf+8H,EAASqJ,UAAUF,EAAOgT,EAAiBj8I,EAAGi8I,EAAiBl/E,EAAGl5E,EAAOkf,MAAOlf,EAAOo3B,QACvFj1B,KAAK21J,eAAiB31J,KAAK21J,eAAiB93J,EAAOkf,OAGnD/c,KAAKqvF,cAAcvxE,KAAOutH,EAAOikB,YAKjDV,EAA0BnuJ,UAAU+0J,mBAAqB,SAAU9b,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBkH,GAC1G,GACIt4I,GADAg8H,EAAWJ,EAAKI,QAEpB,KAAKj/I,oBAAkBu7J,GAAiB,CACpC,GAAIN,GAAY,CAEhB,IADAA,EAAY91J,KAAK8d,KACZ9d,KAAKqvF,cAAcmlE,iBAiCpB,GAAqB,KADjBn1J,EAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,MAC3ChN,OAAc,CACpBmiB,EAAO9d,KAAKqvF,cAAcvxE,MAAQ9d,KAAKy1J,yBAA2Bz1J,KAAKy1J,yBAA2B,GAClGz1J,KAAKopC,cAActrB,KAAOA,CACtBjgB,GAASmC,KAAKq2J,oBAAoBD,EAAgB5tJ,OAAO+5I,UAAW,GACxEviJ,MAAK01J,0BAA4B11J,KAAKy1J,yBAA2B53J,EAAO2kJ,WAAWzlI,UAElF,IAAI1d,EAAM1D,OAAS,EAAG,CACnBgqJ,EAAgD,IAAlC3lJ,KAAK01J,yBACnB11J,KAAK01J,yBAA2B11J,KAAKy1J,yBACnCz1J,KAAKy1J,wBACX33I,GAAO9d,KAAKqvF,cAAcvxE,KAAO6nI,EACjC3lJ,KAAKopC,cAActrB,KAAOA,CACtBjgB,GAASmC,KAAKq2J,oBAAoBD,EAAgB5tJ,OAAO+5I,UAAW,GACxEviJ,MAAK01J,0BAA4B11J,KAAKy1J,yBAA2B53J,EAAO2kJ,WAAWzlI,UAGnFe,GAAO9d,KAAKqvF,cAAcvxE,SAjDQ,CACtC,GAAIjgB,GAASmC,KAAKq2J,oBAAoBD,EAAgB5tJ,OAAO+5I,UAAW,IACpE8G,EAAarpJ,KAAKwB,YAAc0R,KAAKsH,MAAMxa,KAAK1F,OAAOkb,gBAAgB6L,cAAgB,GAAK,GAAK,GACjGhiB,EAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,IACrD,IAAI3I,KAAKk7I,YAAa,CAClB,GAAIob,IAAoBz7J,oBAAkBmF,KAAKopC,cAAcE,UAAU25G,OACnEsT,EAAcD,EAAmBt2J,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,OAAS,CACjF,IAAqB,IAAjB0D,EAAM1D,QAAgB26J,GAAoC,IAAhBC,EAAmB,CAC7Dz4I,EAAO9d,KAAKqvF,cAAcvxE,KAAO9d,KAAKy1J,yBACtCz1J,KAAKopC,cAActrB,KAAOA,CAC1B,IAAI04I,GAAWx2J,KAAKq2J,oBAAoBD,EAAgB5tJ,OAAO+5I,UAAW,GAC1EviJ,MAAK01J,0BAA4B11J,KAAKy1J,yBAA2Be,EAAShU,WAAWzlI,UAEpF,IAAI1d,EAAM1D,OAAS,GAAK26J,GAAoBC,EAAc,EAAG,CAC9D,GAAI5Q,GAAgD,IAAlC3lJ,KAAK01J,yBAAkC11J,KAAK01J,yBACxD11J,KAAKy1J,yBAA2Bz1J,KAAKy1J,wBAC3C33I,GAAO9d,KAAKqvF,cAAcvxE,KAAO6nI,EACjC3lJ,KAAKopC,cAActrB,KAAOA,CAC1B,IAAI24I,GAAWz2J,KAAKq2J,oBAAoBD,EAAgB5tJ,OAAO+5I,UAAW,GAC1EviJ,MAAK01J,0BAA4B11J,KAAKy1J,yBAA2BgB,EAASjU,WAAWzlI,UAGrFe,GAAQg4I,EAAYzM,EAAcxrJ,EAAO2kJ,WAAWzlI,UAIxDe,GAAOne,EAAam2J,EAAYzM,GAAcxrJ,EAAO2kJ,WAAWzlI,KAEpE/c,MAAKqvF,cAAcvxE,KAAOA,EAC1B9d,KAAKqvF,cAAcmlE,kBAAmB,EAuB1C,GAAIC,OAAa,EAEbA,IADAz0J,KAAKk7I,YACQp9H,EAAOne,EAAauvJ,GAAmBD,EAAWj1I,EAKnE,IAAI06I,GAAe10J,KAAKk7I,YAAcv7I,EAAame,GAAQA,CAC3D,IAAIutH,EAAO4jB,YAAcyF,GAAgBA,EAAerpB,EAAOikB,WAAaz0J,oBAAkBu7J,KACtFp2J,KAAKqvF,cAAcqjE,YAAa,CACpC,GAAI70J,GAASmC,KAAKq2J,oBAAoBD,EAAgB/qB,EAAOikB,SAAWoF,EAAc,IAClFxS,EAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,IAC3Ch6I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIyS,IAAgBh1J,EAAaK,KAAK1F,OAAO8mB,WAAavjB,EAAO2kJ,WAAWvtH,QAAU,EAClF8gI,EAAkB,GAAI7b,UAAOua,EAAYxF,EAAWl4E,EAAI49E,GACxDqB,EAAiB,GAAI5b,SAAMv8I,EAAO2kJ,WAAWzlI,MAAOlf,EAAO2kJ,WAAWvtH,QACtEghI,EAAmB,GAAI3c,cAAWyc,EAAiBC,GACnDE,EAAmB,GAAIxf,kBAG3B,IAFAwf,EAAiBthB,UAAYuP,mBAAiBG,MAC9C4R,EAAiBvhB,cAAgB8V,uBAAqBE,OAClD9sJ,EAAO2kJ,WAAWzlI,MAAQ,EAAG,CAC7B,GACIymI,GAAY,GAAIX,iBAAc7iJ,KAAKypJ,YACnCnG,EAAWtjJ,KAAKopC,cAAcE,UAAU2rG,mBAAsB,GAAIkN,mBAAgBniJ,KAAKopC,cAAcE,UAAU2rG,UAAUJ,WAAY70I,KAAKopC,cAAcE,UAAU2rG,UAAUX,SAAUt0I,KAAKopC,cAAcE,UAAU2rG,UAAUA,WAAaiN,EAC1OqT,EAAev1J,KAAKopC,cAAcE,UAAU2rG,UAAUV,UACtD,GAAIsO,iBAAc7iJ,KAAKopC,cAAcE,UAAU2rG,UAAUV,WAAaiP,CAC1E1J,GAAS2J,WAAW2S,EAAgB9S,EALpB,KAKwCiS,EAAcU,EAAiBj8I,EAAGi8I,EAAiBl/E,EAAGl5E,EAAO2kJ,WAAWzlI,MAAOlf,EAAO2kJ,WAAWvtH,OAAQihI,EAC7J72J,GAAQW,KAAKopC,cAAcE,UAAUjqC,MAAMsJ,MAAM,IAC/C9N,qBAAkBgD,EAAOs1J,YAAoC,OAArBt1J,EAAOs1J,UAI3Ct4J,oBAAkBmF,KAAKopC,cAAcE,UAAU25G,QACP,IAA9CjjJ,KAAKopC,cAAcE,UAAU25G,MAAMtnJ,QAAiC,IAAjB0D,EAAM1D,SACzDqE,KAAKqvF,cAAcqjE,aAAc,IALjC1yJ,KAAKqvF,cAAchwF,MAAQxB,EAAOs1J,UAClCnzJ,KAAKqvF,cAAcvxE,KAAOutH,EAAOikB,cAQrCtvJ,MAAKqvF,cAAcvxE,KAAOutH,EAAOikB,YAKjDV,EAA0BnuJ,UAAUwyJ,SAAW,SAAU5zJ,EAAO0d,EAAOkY,GACnE,GAAIitH,EACJA,GAAO,GAAIC,mBAAgBniJ,KAAK60I,WAAY,EAC5C,IAAIlB,GAAa3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,UACjE94I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAWrjH,QAAYz1B,oBAAkB84I,EAAWrjH,MAAMgkH,WAC3Gz5I,oBAAkB84I,EAAWrjH,MAAM2kH,YACtCp6I,oBAAkB84I,EAAWrjH,MAAMukH,cAEpC5/G,GADAitH,EAAOliJ,KAAK+vJ,WAAWpc,IACT1+G,SAEbp6B,oBAAkB84I,IAAeA,EAAWuO,OAE7CjtH,GADAitH,EAAOvO,EAAWuO,MACJjtH,OAElB,IAAI0sH,GAAW,GAAIM,qBACf+N,EAAiB,GAAItZ,kBAMzB,OALAsZ,GAAepb,UAAYuP,mBAAiBE,KAC5C2L,EAAelR,SAAW4X,kBAAgBC,UAC1C3G,EAAerb,cAAgB8V,uBAAqBE,OAEvChJ,EAAS/E,OAAOv9I,EAAO6iJ,EAAM8N,EAAgB,GAAI5V,SAAMr9H,EAAOkY,IAAS,EAAO,GAAImlH,SAAMr9H,EAAOkY,KAGhH25H,EAA0BnuJ,UAAU41J,oBAAsB,SAAUh3J,EAAO0d,EAAOkY,GAC9E,GACIitH,GADAoB,EAAU,GAAInB,mBAAgBniJ,KAAKopC,cAAcE,UAAU2rG,UAAUJ,WAAY70I,KAAKopC,cAAcE,UAAU2rG,UAAUX,SAGxH4N,GADAliJ,KAAKopC,cAAcE,UAAU2rG,UAAUX,SAChCgP,EAGA,GAAInB,mBAAgBniJ,KAAK60I,WAAY,IAE3Ch6I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIP,GAAW,GAAIM,qBACf+N,EAAiB,GAAItZ,kBAMzB,OALAsZ,GAAepb,UAAYuP,mBAAiBE,KAC5C2L,EAAelR,SAAW4X,kBAAgBC,UAC1C3G,EAAerb,cAAgB8V,uBAAqBE,OAEvChJ,EAAS/E,OAAOv9I,EAAO6iJ,EAAM8N,EAAgB,GAAI5V,SAAMr9H,EAAOkY,IAAS,EAAO,GAAImlH,SAAMr9H,EAAOkY,KAGhH25H,EAA0BnuJ,UAAU40J,qBAAuB,SAAUh2J,EAAO0d,EAAOkY,GAC/E,GACIitH,GADAoB,EAAU,GAAInB,mBAAgBniJ,KAAKopC,cAAcC,WAAW4rG,UAAUJ,WAAY70I,KAAKopC,cAAcC,WAAW4rG,UAAUX,SAG1H4N,GADAliJ,KAAKopC,cAAcC,WAAW4rG,UAAUX,SACjCgP,EAGA,GAAInB,mBAAgBniJ,KAAK60I,WAAY,IAE3Ch6I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAE3E,IAAIP,GAAW,GAAIM,qBACf+N,EAAiB,GAAItZ,kBAMzB,OALAsZ,GAAepb,UAAYuP,mBAAiBE,KAC5C2L,EAAelR,SAAW4X,kBAAgBC,UAC1C3G,EAAerb,cAAgB8V,uBAAqBE,OAEvChJ,EAAS/E,OAAOv9I,EAAO6iJ,EAAM8N,EAAgB,GAAI5V,SAAMr9H,EAAOkY,IAAS,EAAO,GAAImlH,SAAMr9H,EAAOkY,KAWhH25H,EAA0BnuJ,UAAU6xJ,oBAAsB,SAAUlD,EAAcH,EAAYC,EAAiByF,GAC3G,GAAIiC,GAAY,GAAI/T,iBAAc7iJ,KAAKo1I,UACnCp1I,MAAKk7I,YACLkU,EAAapL,cAAc4S,EAAW3H,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAkBD,EAAWl4E,EAAI49E,EAAch1J,EAAa,GAAIA,EAAaK,KAAKi1B,SAGpJm6H,EAAapL,cAAc4S,EAAW3H,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAkBD,EAAWl4E,EAAI49E,EAAch1J,EAAa,GAAIA,EAAaK,KAAKi1B,UAaxK25H,EAA0BnuJ,UAAU8vJ,cAAgB,SAAU7W,EAAMuV,EAAY5jB,EAAQ6jB,EAAiBt5E,EAASzhE,GAC9G,GAAIk3H,EAAOvwI,WAAakF,KAAKlF,WAAakF,KAAKlF,WAAauwI,EAAOtwI,QAAS,CACxE,GAAIq0J,GAAe1V,EAAKI,SACpBsW,EAAY1W,EAAKkE,QAAQ9wI,QAAQ4sI,EACrC15I,MAAK0xJ,eAAiB/mH,MAAaskH,EACnC,IAAI4H,GAAe,GAAI1hB,UAAOn1I,KAAK+8D,gBAC/B+5F,EAAkCn3J,GAAeK,KAAK1F,OAAO8mB,UAAYphB,KAAKi1B,QAAU,GACxF8hI,EAA0Bp3J,GAAeK,KAAK1F,OAAO8mB,UAAYphB,KAAKi1B,QAAU,GAChF0/H,EAAe30J,KAAK1F,OAAOkY,eAAiBskJ,EAAkCC,EAC9EC,EAAiB,GAAInU,iBAAc7iJ,KAAK+8D,gBACxCszF,EAAc,GAAIlb,UAAOn1I,KAAKw1I,qBAC9B8a,EAAgB,GAAIzN,iBAAc7iJ,KAAKszD,cAC3C87F,GAAangE,MACb,IAAIh6D,GAAS/hB,KAAKsH,MAAkD,GAA5Cxa,KAAK1F,OAAOkb,gBAAgB6L,cAyBpD,IAxBKlN,IACGnU,KAAKk7I,YACLkU,EAAa6C,mBAAmBhD,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAkBD,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,GAGhK+tI,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAkBD,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,IAGhLlN,IACInU,KAAKk7I,YACLkU,EAAa6C,mBAAmBhD,EAAWj1I,GAAK47D,EAAQxiB,aAAe87F,GAAkBD,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,GAG3K+tI,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAai2E,EAAQxiB,aAAe87F,GAAkBD,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,IAG/L+tI,EAAa6H,gBAAgB,IACzBj3J,KAAK1F,OAAOkY,gBAAkBxS,KAAKnB,mBAAqBmB,KAAKpB,iBAAmBuV,GAChFi7I,EAAapL,cAAcqM,EAAaC,EAAe,EAAG,EAAG3wJ,EAAas1B,GAASt1B,EAAas1B,IAE/F9gB,GACDi7I,EAAapL,cAAc6S,EAAcG,EAAgB,EAAG,EAAGr3J,EAAas1B,GAASt1B,EAAas1B,IAEtGm6H,EAAanL,UACTjkJ,KAAKk7I,aACL,IAAKrgJ,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAAQ,CACnD,GAAIA,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,QACvDztI,EAAIi1I,EAAWj1I,GAAKha,KAAK8d,KAAOoxI,GAAgE,GAA5ClvJ,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,GACzD,GAA5CrhB,KAAK1F,OAAOkb,gBAAgB6L,cAAuBu0D,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,EAChGlY,EAAQ64D,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,MAAQ,EACjDm6I,EAAWthF,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,OAAS,CACzDm6H,GAAajM,UAAUF,EAAOjpI,EAAGi1I,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,GAChE,GAA5CrhB,KAAK1F,OAAOkb,gBAAgB6L,cAAuBu0D,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,GAAMlY,EAAOm6I,QAItH,KAAKr8J,oBAAkB+6E,EAAQxf,gBAAgB6sF,OAAQ,CACnD,GAAIA,GAAQ,GAAIW,aAAUhuE,EAAQxf,gBAAgB6sF,MAAM,GAAGwE,QACvDztI,EAAIi1I,EAAWj1I,EAAIra,EAAaK,KAAK8d,KAAOoxI,GAAgE,GAA5ClvJ,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,EACnH1hB,EAA0D,GAA5CK,KAAK1F,OAAOkb,gBAAgB6L,cAAuBu0D,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,CAChHm6H,GAAajM,UAAUF,EAAOjpI,EAAGi1I,EAAWl4E,EAAI49E,EAA4D,GAA5C30J,KAAK1F,OAAOkb,gBAAgB6L,cAAuB,EAC/G1hB,GAA2D,GAA5CK,KAAK1F,OAAOkb,gBAAgB6L,cAAuBu0D,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,QAAU,IAAMt1B,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGlmI,OAAQpd,EAAai2E,EAAQxf,gBAAgB6sF,MAAM,GAAGhuH,OAAS,IAG5Oj1B,KAAK6uJ,QAAU7uJ,KAAK67I,UAAYuU,IAGjCxB,KCt5DPuI,GAA6B,WAC7B,QAASA,GAAYl2F,GACjBjhE,KAAKo3J,kBAAmB,EACxBp3J,KAAKq3J,aAAe,EACpBr3J,KAAKs3J,qBAAsB,EAC3Bt3J,KAAKolG,cAAgB,EACrBplG,KAAKu3J,UAAY,EACjBv3J,KAAKw3J,wBAA0B,EAC/Bx3J,KAAKumF,eAAiB,EACtBvmF,KAAK+c,MAAQ,EACb/c,KAAKihE,MAAQA,EACbjhE,KAAK1F,OAAS2mE,EAAM3mE,OACpB0F,KAAKy3J,aAAe,GAAIvd,UACxBl6I,KAAK03J,gBAAkB,GAAIxd,UAC3Bl6I,KAAK23J,aAAe,EACpB33J,KAAK43J,gBAAkB,EACvB53J,KAAK63J,iBAAmB,EACxB73J,KAAK83J,oBAAsB,EAyU/B,MA/TAX,GAAY12J,UAAUs3J,aAAe,SAAUre,EAAMuV,EAAY5jB,EAAQ+kB,GACrEpwJ,KAAKg4J,gBAAkB3sB,EACvBrrI,KAAKowJ,UAAYA,EACjBpwJ,KAAKumF,eAAiBvmF,KAAKihE,MAAM0gF,SAASvI,YAC1C,IAAI6e,GAAej4J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACzDt7I,EAAasT,KAAKsH,MAAM6wH,EAAOsa,aAAezyI,KAAKgY,MAAMmgH,EAAOsa,YAChE+N,EAAc,CAKlB,KAJA1zJ,KAAKy3J,aAAaz9I,EAAIi1I,EAAWj1I,EACjCha,KAAKy3J,aAAa1gF,EAAIk4E,EAAWl4E,EACjC/2E,KAAK63J,iBAAmB73J,KAAK23J,aAC7B33J,KAAK83J,oBAAsB93J,KAAK43J,gBACzBK,EAAc,GAAG,CACpB,GAAIC,GAAUl4J,KAAK6hB,QAAQ7hB,KAAK23J,aAChC,IAAI33J,KAAK6hB,QAAQlmB,OAASqE,KAAK23J,aAAc,CACrCjF,GAAc,CACb1yJ,MAAK6hB,QAAQ7hB,KAAK23J,cAAcQ,aAC7BF,GAAeC,EAAQn7I,OACvB22I,EAAcwE,EAAQn7I,MACtBm7I,EAAQC,YAAa,EACrBD,EAAQE,eAAiB1E,EACzBhB,GAAc,IAGdgB,EAAcuE,EACdvF,GAAc,EACdwF,EAAQC,YAAa,EACrBD,EAAQn7I,MAAQm7I,EAAQn7I,MAAQk7I,EAChCC,EAAQE,eAAiB1E,GAIjC,IAAI2E,GAAWr4J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAAewY,EAAc/zJ,EAAa+zJ,EAEnG1zJ,MAAKs4J,yBAAyB5e,EAAM15I,KAAKy3J,aAAaz9I,EAAGha,KAAKy3J,aAAa1gF,EAAG/2E,KAAK8nJ,cAAeuQ,EAASH,EAAQ74J,OAAO,EAAMW,KAAK1F,OAAOsX,eAAe4Y,cACzG,QAA9CxqB,KAAK1F,OAAO0jB,iBAAiB6D,QAAQjV,KAAiBsrJ,EAAQp9J,UAAY,MAC9EkF,KAAKy3J,aAAaz9I,GAAKq+I,EACvBJ,GAAevE,EACXhB,GACA1yJ,KAAK23J,mBAITM,GAAc,EAGtBA,EAAc/kJ,KAAKgY,MAAMmgH,EAAOsa,WAChC,IAAI1wH,GAASj1B,KAAK1F,OAAOsX,eAAe4Y,aAAe,EAAIxqB,KAAK8nJ,aAEhE,KADA9nJ,KAAK03J,gBAAkB,GAAIxd,UAAO+U,EAAWj1I,EAAGra,EAAasvJ,EAAWl4E,EAAI9hD,IACrEgjI,EAAc,GAAG,CACpB,GAAIM,GAAev4J,KAAKiT,WAAWjT,KAAK43J,gBACxC,IAAI53J,KAAKiT,WAAWtX,OAASqE,KAAK43J,gBAAiB,CAC/C,GAAIlF,IAAc,EACd31I,EAAQw7I,EAAax7I,KACrBk7I,GAAcl7I,IACdA,EAAQk7I,EAERvF,GAAc,EACd6F,EAAaH,eAAiBr7I,GAGlC/c,KAAKs4J,yBAAyB5e,EAAM15I,KAAK03J,gBAAgB19I,EAAGha,KAAK03J,gBAAgB3gF,EAAG/2E,KAAK+nJ,iBAAmB/nJ,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAAen+H,EAAQpd,EAAaod,GAAQw7I,EAAal5J,OAAO,EAAOk5J,EAAaz9J,WAC1OkF,KAAK03J,gBAAgB19I,EAAKha,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAChEl7I,KAAK03J,gBAAgB19I,EAAI+C,EAAQ/c,KAAK03J,gBAAgB19I,EAAIra,EAAaod,GAC3Ek7I,GAAel7I,EACfw7I,EAAaH,eAAiBr7I,EAE9B/c,KAAK43J,kBAEDK,EAAc,GAAKA,EAAcl7I,IACjCk7I,EAAcM,EAAax7I,MAAQ,OAIvCk7I,GAAc,EAGtBj4J,KAAKolG,cAAgBplG,KAAKu3J,WAY9BJ,EAAY12J,UAAU+uJ,iBAAmB,SAAU9V,EAAMuV,EAAY5jB,EAAQ+kB,GACzEpwJ,KAAKowJ,UAAYA,EACjBpwJ,KAAKumF,eAAiB,EACtBvmF,KAAKy3J,aAAev5J,eAAe+wJ,GAAY,EAC/C,KAASxvJ,EAAQO,KAAK63J,iBAAkBp4J,GAASO,KAAK23J,aAAcl4J,IAChE,GAAIO,KAAK6hB,QAAQlmB,OAAS8D,EAAO,CAC7B,GAAIy4J,GAAUl4J,KAAK6hB,QAAQpiB,EACvBy4J,GAAQE,eAAiB,IAGzBp4J,KAAKs4J,yBAAyB5e,EAAM15I,KAAKy3J,aAAaz9I,EAAGha,KAAKy3J,aAAa1gF,EAAG/2E,KAAK8nJ,cAAgB9nJ,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAAegd,EAAQE,eAAiBz4J,EAAau4J,EAAQE,gBAAiBF,EAAQ74J,OAAO,EAAMW,KAAK1F,OAAOsX,eAAe4Y,cACzN,QAA9CxqB,KAAK1F,OAAO0jB,iBAAiB6D,QAAQjV,KAAiBsrJ,EAAQp9J,UAAY,MAC9EkF,KAAKy3J,aAAaz9I,GAAMha,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAC9Dgd,EAAQE,eAAiBz4J,EAAau4J,EAAQE,iBAI9Dp4J,KAAK03J,gBAAgB19I,EAAIi1I,EAAWj1I,EACpCha,KAAK03J,gBAAgB3gF,EAAIp3E,EAAasvJ,EAAWl4E,EAAI/2E,KAAK8nJ,cAC1D,KAAK,GAAIroJ,GAAQO,KAAK83J,oBAAqBr4J,GAASO,KAAK43J,gBAAiBn4J,IACtE,GAAIO,KAAKiT,WAAWtX,OAAS8D,EAAO,CAChC,GAAI84J,GAAev4J,KAAKiT,WAAWxT,EAC/B84J,GAAaH,eAAiB,IAG9Bp4J,KAAKs4J,yBAAyB5e,EAAM15I,KAAK03J,gBAAgB19I,EAAGha,KAAK03J,gBAAgB3gF,EAAG/2E,KAAK+nJ,iBAAmB/nJ,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAAeqd,EAAax7I,MAAQpd,EAAa44J,EAAax7I,OAAQw7I,EAAal5J,OAAO,EAAOk5J,EAAaz9J,WACpQkF,KAAK03J,gBAAgB19I,EAAKha,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAChEl7I,KAAK03J,gBAAgB19I,EAAIu+I,EAAax7I,MAAQ/c,KAAK03J,gBAAgB19I,EAAIra,EAAa44J,EAAax7I,UASrHo6I,EAAY12J,UAAU63J,yBAA2B,SAAU5e,EAAM1/H,EAAG+8D,EAAG9hD,EAAQlY,EAAO1d,EAAOm5J,EAAWv1I,GACpG,GAAIhS,GAAQjR,KACRohF,EAAO,GAAItkF,MAAKmmB,GAAajW,SAC7B8sI,EAAWJ,EAAKI,SAChB2e,KACA9kB,EAAa3zI,KAAKihE,MAAM0yE,UAC5B8kB,GAAc/jB,YAAc,GAAIF,YAASb,EAAWpmG,SAASmnG,aAC7D+jB,EAAclkB,UAAY,GAAIC,YAASb,EAAWpmG,SAASgnG,WAC3DkkB,EAAcnkB,SAAWX,EAAWpmG,SAAS+mG,SAC7CmkB,EAAcxjB,UAAYtB,EAAWpmG,SAAS0nG,UAC9CwjB,EAAcx7F,gBAAkB,GAAIu3E,YAASb,EAAWpmG,SAAS0vB,iBAC7D02E,EAAWpmG,SAASyjC,UACpBynF,EAAcznF,QAAU2iE,EAAWpmG,SAASyjC,QAEhD,IAAI9gE,GAASlQ,KAAK04J,0BAA0B/kB,EAAY6kB,EACxDC,GAAcvoJ,OAASA,CACvB,IAAItS,IACAm4C,aAAc0iH,EACdp5J,MAAOA,EAEPW,MAAK1F,OAAOq+J,0BACZ34J,KAAK1F,OAAOgc,QAAQ,2BAA4B1Y,EAEpD,IAAIwY,GAAIxY,EAAUm4C,aACd6iH,EAAsB,GAAI/V,iBAAcjlJ,EAAUm4C,aAAaknB,iBAC/D9uB,EAAiBnuC,KAAK1F,OAAO2S,mBAC7B4rJ,GAAY,EACZC,EAAwB,GAAIjW,iBAAclP,EAAW9gI,QAAQoqD,gBAC7Dj9D,MAAK1F,OAAOyqF,oBAAuD,IAAlC52C,EAAerhC,QAAQs0E,KAA2D,QAA1CphF,KAAK1F,OAAOsX,eAAeqB,YAAkE,SAA1CjT,KAAK1F,OAAOsX,eAAeqB,YAAgE,QAAvCjT,KAAK1F,OAAOsX,eAAeiQ,WAC3M+2I,EAAsBE,EACtBD,GAAY,GAEhB74J,KAAK1F,OAAO4S,SAASqI,IAAI,SAAU7C,GAC/B,GAAIgyH,GAAW,GAAI5nI,MAAK4V,EAAK3Q,MACzB4iI,EAAS,GAAI7nI,MAAK4V,EAAK5Q,IACvBi3J,EAAe,GAAIj8J,MAAKmmB,EAC5B,IAAIyhH,GAAYq0B,GAAgBp0B,GAAUo0B,IAA4D,QAA3C9nJ,EAAM3W,OAAOsX,eAAeqB,YAAoE,SAA3ChC,EAAM3W,OAAOsX,eAAeqB,YAAiE,QAAxChC,EAAM3W,OAAOsX,eAAeiQ,SAAqB,CAKlN,GAJA+2I,EAAsBE,EAClBp0B,EAASxjI,YAAc63J,EAAa73J,YACpC+P,EAAMomJ,aAAer9I,GAErB2qH,EAAOzjI,YAAc63J,EAAa73J,UAAW,CAC7C+P,EAAM+nJ,aAAetmJ,EAAK4d,KAC1B,IAAI2oI,GAAa,GAAIn8J,MAAK4V,EAAK5Q,GAC/Bm3J,GAAWv3J,QAAQu3J,EAAW58J,UAAY,EAC1C,IAAID,GAAM6U,EAAM3W,OAAO+J,cAAc6c,aAAawjH,EAAUu0B,EAC5DhoJ,GAAMioJ,oBAAsBv5J,EAAavD,GAAO2gB,EAChD9L,EAAMmmJ,kBAAmB,EAE7ByB,GAAY,MAEoC,QAA3C5nJ,EAAM3W,OAAOsX,eAAeqB,YAC7BhC,EAAM+mJ,gBAAgBl9J,WAAa4pI,GAAYzzH,EAAM+mJ,gBAAgBj9J,SAAW2pI,GAChFzzH,EAAM3W,OAAOsX,eAAeu5B,qBAAqB51B,IAAI,SAAUwB,GACvDA,EAAMjc,WAAa4pI,GAAY3tH,EAAMhc,SAAW2pI,GAC5C3tH,EAAMjc,YAAcmoB,IACpBhS,EAAMqmJ,qBAAsB,EAC5BrmJ,EAAMkoJ,gBAAkBzmJ,EAAK3Q,KAC7BkP,EAAM+nJ,aAAetmJ,EAAK4d,UAOlD,IAAI8oI,GAAiBP,GAAallB,EAAW9gI,SAAW8gI,EAAW9gI,QAAQ4nI,QACrE9G,EAAW9gI,QAAQ4nI,QAAQ38H,KAC3B+6I,GAAallB,EAAW9gI,SAAW8gI,EAAW9gI,QAAQ6hI,YAClD,GAAIS,UAAOxB,EAAW9gI,QAAQ6hI,aAC9B,GAAIS,UAAOv3I,EAAUm4C,aAAa2+F,YACvC10I,MAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,cAC3Cl7I,KAAKu3J,UAAYv9I,EAAI+C,EAEzB,IAAIs8I,GAAgBR,IAAcllB,EAAW9gI,QAAQ6hI,aAAef,EAAW9gI,QAAQ4nI,SAAW19H,EAAQ,EAAIA,CAE9G+8H,GAASkK,cAAcoV,EAAgBR,EAAqB5+I,EAAG+8D,EAAGsiF,EAAe15J,EAAas1B,GAC9F,IAAIqkI,GAAYd,GAAwC,SAA1Bx4J,KAAK1F,OAAOg4B,WAAkD,aAA1BtyB,KAAK1F,OAAOg4B,UAC9B,KAA5C,GAAI6iH,UAAOxB,EAAWuB,oBACtByU,EAAgBkP,IAAcllB,EAAW9gI,QAAQ6hI,aAAef,EAAW9gI,QAAQ4nI,SACnF2e,EAAiBE,CAErBxf,GAASkK,cAAc2F,EAAeiP,EAAqB5+I,EAAG+8D,EAAIp3E,EAAas1B,GAASokI,EAAer5J,KAAKihE,MAAM0gF,SAASxI,qBAAqBn5I,KAAKowJ,WAAWzU,YAAc37I,KAAKumF,eACnL,IAAIgzE,GAAQ,GAAIpX,mBAAgBxO,EAAWkB,WAAYz+H,EAAEk+H,SAAUl+H,EAAE6+H,UACjEtB,GAAWuO,OACXqX,EAAQ5lB,EAAWuO,KAEvB,IAAIwN,GAAiB1vJ,KAAK+vJ,WAAWpc,EAChC94I,qBAAkB60J,KACnB6J,EAAQ7J,EAEZ,IAAInb,GAAaZ,EAAW9gI,SAAW8gI,EAAW9gI,QAAQ0hI,UACtD,GAAIsO,iBAAclP,EAAW9gI,QAAQ0hI,WAAa,GAAIsO,iBAAc,GAAIrO,YAAS,EAAG,EAAG,IACvFgP,EAAa7P,EAAW9gI,SAAW8gI,EAAW9gI,QAAQ2wI,UACtD,GAAIrO,UAAO,GAAIX,YAASb,EAAW9gI,QAAQ2wI,YAAc,KACzDgW,EAAa,GAAI9iB,kBACrB8iB,GAAc7lB,EAAW9gI,SAAW8gI,EAAW9gI,QAAQ3C,OAAUyjI,EAAW9gI,QAAQ3C,OAAS,IAC7F,IAAI8gE,IAAYlzD,KAAM,EAAG8V,MAAO,EAAG5C,IAAK,EAAG4mH,OAAQ,EAC9C/8I,qBAAkB84I,IAAgB94I,oBAAkB84I,EAAW9gI,UAC/DhY,oBAAkB84I,EAAW9gI,QAAQm+D,WACtCA,EAAU2iE,EAAW9gI,QAAQm+D,QAEjC,IAAIkkF,EAIJ,IAHKr6J,oBAAkBmF,KAAKg5J,gBACxB9D,EAAUqE,EAAMpE,cAAcn1J,KAAKg5J,eAEnCh5J,KAAKo3J,iBAAkB,CACvB,GAAI7H,IAAiBvvJ,KAAKihE,MAAM0gF,SAASxI,qBAAqBn5I,KAAKowJ,WAAWzU,YAAc37I,KAAKumF,gBAAkB,EAC/Gq+B,EAAUk1B,EAAS7qD,OACnBwqE,EAAaF,EAAMtkI,OACnBq/G,EAAWilB,EAAMjnF,IACrBwnE,GAASmY,mBAAmBjyJ,KAAKq3J,aAAet6I,EAAUu3H,EAAW,EAAKt0I,KAAKk5J,oBAC3EO,EAAcA,EAAa,EAAM18I,EAAQ/c,KAAKk5J,oBAAuB,EAAG,IAC5Epf,EAASmd,iBAAiB,IAC1Bnd,EAASmY,wBAAuCjyJ,KAAKq3J,aAAet6I,EAAQu3H,KAAct0I,KAAKq3J,aAAet6I,GAASA,IAClHm4I,EAAQn4I,MAAQ,GAAMwyI,GACvBzV,EAAS2J,WAAWzjJ,KAAKg5J,aAAcO,EAAO/V,EAAWjP,EAAW,GAAKvjE,EAAQlzD,KAAOkzD,EAAQp9C,OAAQ,GAAKo9C,EAAQhgD,IAAMggD,EAAQ4mE,QAASsd,EAAQn4I,MAAQ,GAAIm4I,EAAQjgI,OAAS,GAAIukI,GAEzL1f,EAASmK,QAAQr/B,GACjB5kH,KAAKo3J,kBAAmB,EAE5B,GAAIp3J,KAAKs3J,oBAAqB,CAC1B,GAAI/H,IAAiBvvJ,KAAKihE,MAAM0gF,SAASxI,qBAAqBn5I,KAAKowJ,WAAWzU,YAAc37I,KAAKumF,gBAAkB,EAC/GmzE,EAAeZ,EACfxkB,EAAWilB,EAAMjnF,IACrBwnE,GAASkK,cAAc2F,EAAe+P,EAAc1/I,EAAK+C,EAAQ,EAAKu3H,EAAUv9D,EAC5Ep3E,EAAas1B,GAASq/G,EAAyB,EAAfib,EACpC,IAAIvqC,GAAU80B,EAAS7qD,MACvB6qD,GAASmY,mBAAmBj4I,EAAI+C,EAASA,EAAQ,EAAKu3H,EAAU,IAChEwF,EAASmd,iBAAiB,IAC1Bnd,EAASmY,wBAAuCjyJ,KAAKq3J,aAAet6I,EAAQu3H,KAAct0I,KAAKq3J,aAAet6I,GAASA,IAClHm4I,EAAQn4I,MAAQ,GAAMwyI,GACvBzV,EAAS2J,WAAWzjJ,KAAKg5J,aAAcO,EAAO/V,EAAWjP,EAAW,GAAKvjE,EAAQlzD,KAAOkzD,EAAQp9C,OAAQ,GAAKo9C,EAAQhgD,IAAMggD,EAAQ4mE,QAASsd,EAAQn4I,MAAQ,GAAIm4I,EAAQjgI,OAAS,GAAIukI,GAEzL1f,EAASmK,QAAQj/B,GACjBhlH,KAAKs3J,qBAAsB,EAE/B,GAAIpV,GAAO,GAAIC,mBAAgBxO,EAAWkB,WAAYz+H,EAAEk+H,SAAUl+H,EAAE6+H,UAChEtB,GAAWuO,OACXA,EAAOvO,EAAWuO,KAEtB,IAAIU,GAAY,GAAIC,iBAAehoJ,oBAAkB84I,EAAWpmG,SAASi2G,WACnC5lJ,EAAUm4C,aAAaw+F,UAAvDZ,EAAWpmG,SAASi2G,WACtBmW,EAAQhmB,EAAWpmG,SAASyjC,QAAUpzE,EAAUm4C,aAAai7B,QAAQlzD,KAAO,EAC5E87I,EAAOjmB,EAAWpmG,SAASyjC,QAAUpzE,EAAUm4C,aAAai7B,QAAQhgD,IAAM,EAE1E6iI,EAAQ/Z,EAAS7qD,MACrB6qD,GAASga,QAAQ,GAAIxa,cAAWt/H,EAAG+8D,EAAGh6D,EAAOpd,EAAas1B,KACtDujI,EACAx+I,EAAIA,EAAI2/I,EAAQ35J,KAAKw3J,wBAGrBx9I,GAAQ2/I,EAEZ7f,EAAS2J,WAAW7lJ,EAAUyB,MAAO6iJ,EAAM,KAAMU,EAAW5oI,EAAG+8D,EAAI6iF,EAAMj6J,EAAaod,GAAQpd,EAAas1B,GAAS7e,EAAElG,QACtH4pI,EAASmK,QAAQ4P,IAUrBsD,EAAY12J,UAAUi4J,0BAA4B,SAAU/kB,EAAY6kB,GACpE,GAAItoJ,GAAS,GAAIwmI,kBAejB,OAdI77I,qBAAkB84I,EAAWpmG,SAASr9B,QAClCsoJ,GACAtoJ,EAAOykI,cAAgB8V,uBAAqBE,OAC5Cz6I,EAAO0kI,UAAYuP,mBAAiBE,OAGpCn0I,EAAOykI,cAAgB8V,uBAAqBE,OAC5Cz6I,EAAO0kI,UAAYuP,mBAAiBC,OACpCl0I,EAAO4uI,SAAW4X,kBAAgBC,WAItCzmJ,EAASyjI,EAAWpmG,SAASr9B,OAE1BA,GAEXinJ,EAAY12J,UAAUsvJ,WAAa,SAAUpc,GACzC,GAAIuO,EACJ,IAAIvO,GAAcA,EAAW9gI,UAAY8gI,EAAW9gI,QAAQyhI,UAAYX,EAAW9gI,QAAQoiI,WACvFtB,EAAW9gI,QAAQgiI,YAAa,CAChC,GAAIP,GAAWX,EAAW9gI,QAAQyhI,SAAWX,EAAW9gI,QAAQyhI,SAAW,EACvEO,EAAalB,EAAW9gI,QAAQgiI,WAChClB,EAAW9gI,QAAQgiI,WAAa70I,KAAK60I,WACrCI,EAAYtB,EAAW9gI,QAAQoiI,UAC/BtB,EAAW9gI,QAAQoiI,UAAYoN,eAAa2I,OAChD9I,GAAO,GAAIC,mBAAgBtN,EAAYP,EAAUW,GAErD,MAAOiN,IAEJiV,KCzVP0C,GAAqC,WACrC,QAASA,GAAoBv/J,EAAQw/J,GACjC95J,KAAK1F,OAASA,EACd0F,KAAK85J,SAAWA,EA4gBpB,MAtgBAD,GAAoBp5J,UAAU4wB,IAAM,WAChC,MAAO,IAAIwoI,GAAoB75J,KAAK1F,SASxCu/J,EAAoBp5J,UAAUg8F,gBAAkB,SAAUq9D,GACtD95J,KAAK85J,SAAWA,CAChB,IAMIC,GACAC,EAPArc,EAAQmc,EAASj8J,OAAO67I,KAAKkE,QAAQE,WACrCr0I,EAAaqwJ,EAAS79F,kBAAkBj8D,KAAK0/D,aAC7CvC,EAAY28F,EAAS79F,kBAAkBj8D,KAAKkrE,YAC5C2wE,EAAY,GAAI2P,WAChBqD,EAAU,GAAIrD,WACdyO,EAAkB,GAGlBC,EAAU,EACVC,EAAS,CACb,IAAIh9F,GAAa1zD,EAAY,CACzB,OAAQzJ,KAAKoQ,MACT,IAAK,KACD,KAAI+sD,EAAU0+E,WAAa,GAAKpyI,EAAWolJ,SAAW,GAuBlD,MAtBAhT,GAAY8B,EAAMl0I,EAAWolJ,SAC7BA,EAAUlR,EAAMxgF,EAAU0+E,WAC1Bke,EAAiBD,EAASM,cAAc3wJ,EAAWolJ,QAAUiL,EAASO,gBACtEL,EAAgBF,EAASM,cAAcj9F,EAAU0+E,UAAYie,EAASO,gBAG9DJ,EAFJj6J,KAAK0/D,YAAc1/D,KAAKkrE,WACpBlrE,KAAKqrE,WAAarrE,KAAKsrE,WAAatrE,KAAKsrE,UAAatrE,KAAKqrE,WAAarrE,KAAKghB,YAAc,GACzE,UAGA,UAIlBhhB,KAAKqrE,WAAarrE,KAAKsrE,WAAatrE,KAAKsrE,UAAatrE,KAAKqrE,WAAarrE,KAAKghB,YAAc,GACzE,UAGA,SAO9B,MACJ,KAAK,KACD,KAAIm8C,EAAU0xF,SAAW,GAAKplJ,EAAWoyI,WAAa,GAuBlD,MAtBAA,GAAY8B,EAAMl0I,EAAWoyI,WAC7BgT,EAAUlR,EAAMxgF,EAAU0xF,SAC1BkL,EAAiBD,EAASM,cAAc3wJ,EAAWolJ,QAAUiL,EAASO,gBACtEL,EAAgBF,EAASM,cAAcj9F,EAAU0+E,UAAYie,EAASO,gBAG9DJ,EAFJj6J,KAAK0/D,YAAc1/D,KAAKkrE,WACpBlrE,KAAKqrE,WAAarrE,KAAKsrE,UAAYtrE,KAAKurE,WACtB,UAGA,UAIlBvrE,KAAKqrE,WAAarrE,KAAKsrE,UAAYtrE,KAAKurE,WACtB,UAGA,SAO9B,MACJ,KAAK,KACD,KAAIpO,EAAU0xF,SAAW,GAAKplJ,EAAWolJ,SAAW,GAuBhD,MAtBAhT,GAAY8B,EAAMl0I,EAAWolJ,SAC7BA,EAAUlR,EAAMxgF,EAAU0xF,SAC1BkL,EAAiBD,EAASM,cAAc3wJ,EAAWolJ,QAAUiL,EAASO,gBACtEL,EAAgBF,EAASM,cAAcj9F,EAAU0xF,QAAUiL,EAASO,gBAG5DJ,EAFJj6J,KAAK0/D,YAAc1/D,KAAKkrE,WACnBlrE,KAAKsrE,UAAYtrE,KAAKurE,YAAgBvrE,KAAKqrE,WAAarrE,KAAKghB,YAC5C,UAGA,UAIjBhhB,KAAKsrE,UAAYtrE,KAAKurE,YAAgBvrE,KAAKqrE,WAAarrE,KAAKghB,YAC5C,UAGA,SAO9B,MACJ,KAAK,KACD,KAAIm8C,EAAU0+E,WAAa,GAAKpyI,EAAWoyI,WAAa,GAuBpD,MAtBAA,GAAY8B,EAAMl0I,EAAWoyI,WAC7BgT,EAAUlR,EAAMxgF,EAAU0+E,WAC1Bke,EAAiBD,EAASM,cAAc3wJ,EAAWoyI,UAAYie,EAASO,gBACxEL,EAAgBF,EAASM,cAAcj9F,EAAU0+E,UAAYie,EAASO,gBAG9DJ,EAFJj6J,KAAK0/D,YAAc1/D,KAAKkrE,WACpBlrE,KAAKqrE,YAAcrrE,KAAKsrE,UACN,UAGA,UAIlBtrE,KAAKqrE,YAAcrrE,KAAKsrE,UACN,UAGA,UAStC,GAAIgvF,GAAuBpnJ,KAAKgY,OAAOlrB,KAAK1F,OAAO8mB,UAAY,IAAM,GACjEm5I,EAAqBrnJ,KAAKgY,OAAOlrB,KAAK1F,OAAO8mB,UAAY,GAAK,GAC9Do5I,EAAsBtnJ,KAAKgY,OAAOlrB,KAAK1F,OAAO8mB,UAAY,IAAM,GAChE+uD,EAAWnwE,KAAK1F,OAAOkY,eAAiBgoJ,GACrC/wJ,EAAW9I,gBAAkB8I,EAAW2/I,eAAmBjsF,EAAUx8D,gBAAkBw8D,EAAUisF,aAChGkR,EAAuBC,CAC/BpqF,GAAWxwE,EAAawwE,EAExB,IAAIR,OAAS,GAAQE,MAAS,GAAQ4qF,MAAS,GAAQC,MAAS,GAAQC,MAAS,GAAQC,MAAS,EAClGjrF,GAASE,EAAS4qF,EAASC,EAASC,EAASC,EAAS,GAAI1gB,SAC1D,IAAI2gB,IACA7gJ,EAAGvQ,EAAWioJ,eAAe13I,EAC7B+8D,EAAGttE,EAAWioJ,eAAe36E,GAE7B+jF,GACA9gJ,EAAGmjD,EAAUu0F,eAAe13I,EAC5B+8D,EAAG5Z,EAAUu0F,eAAe36E,EAEhCmjF,GAAUW,EAAgB9jF,EAAIgjF,EAAe9K,WAAWl4E,EACxDojF,EAASW,EAAe/jF,EAAIijF,EAAc/K,WAAWl4E,CACrD,IAAIgkF,OAAW,GACXC,MAAW,GACXC,MAAW,GACXC,MAAW,GACXC,MAAW,EAef,QAdIn7J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1C6f,EAAW,GAAI7gB,UAAQl6I,KAAKqrE,WAAarrE,KAAKghB,YAAck5I,EAAU/pF,GACtE6qF,EAAW,GAAI9gB,UAAQl6I,gBAAmB,EAAGk6J,EAAU/pF,GACvD8qF,EAAW,GAAI/gB,UAAQl6I,KAAKsrE,UAAY,GAAK6uF,EAAShqF,GACtD+qF,EAAW,GAAIhhB,UAAQl6I,KAAKsrE,UAAY,EAAItrE,KAAKkoJ,UAAa,EAAGiS,EAAShqF,GAC1EgrF,EAAW,GAAIjhB,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAa,EAAIvrE,KAAKkoJ,UAAa,EAAGiS,EAAShqF,KAG5F4qF,EAAW,GAAI7gB,UAAOv6I,EAAaK,KAAKqrE,WAAarrE,KAAKghB,aAAck5I,EAAU/pF,GAClF6qF,EAAW,GAAI9gB,UAAOv6I,EAAaK,KAAKqrE,YAAc,EAAG6uF,EAAU/pF,GACnE8qF,EAAW,GAAI/gB,UAAOv6I,EAAaK,KAAKsrE,UAAY,IAAK6uF,EAAShqF,GAClE+qF,EAAW,GAAIhhB,UAAOv6I,EAAaK,KAAKsrE,UAAY,EAAItrE,KAAKkoJ,WAAa,EAAGiS,EAAShqF,GACtFgrF,EAAW,GAAIjhB,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,WAAa,EAAIvrE,KAAKkoJ,WAAa,EAAGiS,EAAShqF,IAEpG8pF,GACJ,IAAK,UACL,IAAK,UACDtqF,EAASorF,EAELlrF,EADA7vE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKsrE,UAAY,GAAK4uF,EAAU/pF,GAG5C,GAAI+pE,UAAOv6I,EAAaK,KAAKsrE,UAAY,IAAK4uF,EAAU/pF,GAErEsqF,EAASQ,EACTP,EAASQ,EACTl7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACDR,EAASorF,EACTlrF,EAAS,GAAIqqE,UAAOvqE,EAAO31D,EAAI,GAAIkgJ,EAAU/pF,GAC7CsqF,EAAS,GAAIvgB,UAAOvqE,EAAO31D,EAAI,GAAImgJ,EAAS,GAExCO,EADA16J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKsrE,UAAY,GAAK6uF,EAAS,GAG3C,GAAIjgB,UAAOv6I,EAAaK,KAAKsrE,UAAY,IAAK6uF,EAAS,GAEpEQ,EAASM,EACTL,EAASM,EACTl7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EAAUwqF,EAAQC,EACnG,MACJ,KAAK,UACDjrF,EAASorF,EACTlrF,EAAS,GAAIqqE,UAAOvqE,EAAO31D,EAAI,GAAIkgJ,EAAU/pF,GAC7CsqF,EAAS,GAAIvgB,UAAOvqE,EAAO31D,EAAI,GAAIkgJ,EAAU,GAEzCQ,EADA16J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKsrE,UAAY,GAAK4uF,EAAU,GAG5C,GAAIhgB,UAAOv6I,EAAaK,KAAKsrE,UAAY,IAAK4uF,EAAU,GAErES,EAASM,EACTL,EAASM,EACTl7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EAAUwqF,EAAQC,EACnG,MACJ,KAAK,UACL,IAAK,UACG56J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1CvrE,EAAS,GAAIuqE,UAAQl6I,KAAKqrE,WAAarrE,KAAKghB,YAAe,EAAGk5I,EAAU/pF,GACxEN,EAAS,GAAIqqE,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAa,GAAK2uF,EAAU/pF,KAGvER,EAAS,GAAIuqE,UAAOv6I,EAAaK,KAAKqrE,WAAarrE,KAAKghB,aAAe,EAAGk5I,EAAU/pF,GACpFN,EAAS,GAAIqqE,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,WAAa,IAAK2uF,EAAU/pF,IAEvFsqF,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAShqF,GACvCuqF,EAASS,EACTn7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACL,IAAK,UACGnwE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1CvrE,EAAS,GAAIuqE,UAAQl6I,KAAKqrE,WAAarrE,KAAKghB,YAAe,EAAGk5I,EAAU/pF,GACxEN,EAAS,GAAIqqE,UAAQl6I,KAAKqrE,WAAarrE,KAAKghB,YAAc,GAAKk5I,EAAU/pF,KAGzER,EAAS,GAAIuqE,UAAOv6I,EAAaK,KAAKqrE,WAAarrE,KAAKghB,aAAe,EAAGk5I,EAAU/pF,GACpFN,EAAS,GAAIqqE,UAAOv6I,EAAaK,KAAKqrE,WAAarrE,KAAKghB,YAAc,IAAKk5I,EAAU/pF,IAEzFsqF,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAShqF,GACvCuqF,EAASS,EACTn7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACL,IAAK,UACDR,EAASqrF,EAELnrF,EADA7vE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKsrE,UAAY,GAAK4uF,EAAU/pF,GAG5C,GAAI+pE,UAAOv6I,EAAaK,KAAKsrE,UAAY,IAAK4uF,EAAU/pF,GAErEsqF,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAShqF,GACvCuqF,EAASQ,EACTl7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACL,IAAK,UACDR,EAASqrF,EAELnrF,EADA7vE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKqrE,WAAa,GAAK6uF,EAAU/pF,GAG7C,GAAI+pE,UAAOv6I,EAAaK,KAAKqrE,WAAa,IAAK6uF,EAAU/pF,GAEtEsqF,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAShqF,GACvCuqF,EAASQ,EACTl7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACL,IAAK,UACDR,EAASqrF,EAELnrF,EADA7vE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACjC,GAAIhB,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAa,GAAK2uF,EAAU/pF,GAG9D,GAAI+pE,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,WAAa,IAAK2uF,EAAU/pF,GAEvFsqF,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAShqF,GACvCuqF,EAASS,EACTn7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EACjF,MACJ,KAAK,UACDR,EAASqrF,EACLh7J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1CrrE,EAAS,GAAIqqE,UAAQl6I,KAAKqrE,WAAa,GAAK6uF,EAAU/pF,GACtDuqF,EAAS,GAAIxgB,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAa,GAAK4uF,EAAS,KAGtEtqF,EAAS,GAAIqqE,UAAOv6I,EAAaK,KAAKqrE,WAAa,IAAK6uF,EAAU/pF,GAClEuqF,EAAS,GAAIxgB,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,WAAa,IAAK4uF,EAAS,IAEtFM,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGmgJ,EAAS,GACvCQ,EAAS,GAAIzgB,UAAOwgB,EAAO1gJ,EAAGmgJ,EAAShqF,GACvCyqF,EAASO,EACTn7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EAAUwqF,EAAQC,EACnG,MACJ,KAAK,UACDjrF,EAASqrF,EACLh7J,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1CrrE,EAAS,GAAIqqE,UAAQl6I,KAAKqrE,WAAa,GAAK6uF,EAAU/pF,GACtDuqF,EAAS,GAAIxgB,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAa,GAAK2uF,EAAU,KAGvErqF,EAAS,GAAIqqE,UAAOv6I,EAAaK,KAAKqrE,WAAa,IAAK6uF,EAAU/pF,GAClEuqF,EAAS,GAAIxgB,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,WAAa,IAAK2uF,EAAU,IAEvFO,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAGkgJ,EAAU,GACxCS,EAAS,GAAIzgB,UAAOwgB,EAAO1gJ,EAAGmgJ,EAAShqF,GACvCyqF,EAASO,EACTn7J,KAAKo7J,aAAavf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EAAUwqF,EAAQC,MAWnHf,EAAoBp5J,UAAU26J,aAAe,SAAUvf,EAAWgT,EAASl/E,EAAQE,EAAQ4qF,EAAQC,EAAQv9F,EAAWgT,EAAUwqF,EAAQC,GACpI56J,KAAK+kJ,SAASlJ,EAAWlsE,EAAQE,GACjC7vE,KAAK+kJ,SAASlJ,EAAWhsE,EAAQ4qF,GACjCz6J,KAAK+kJ,SAASlJ,EAAW4e,EAAQC,GAC5B7/J,oBAAkB8/J,IAAY9/J,oBAAkB+/J,KACjD56J,KAAK+kJ,SAASlJ,EAAW6e,EAAQC,GACjC36J,KAAK+kJ,SAASlJ,EAAW8e,EAAQC,IAErC56J,KAAKq7J,UAAUxM,EAAS1xF,EAAWgT,IAWvC0pF,EAAoBp5J,UAAUhG,SAAW,SAAU6gK,EAAMthJ,EAAG+8D,GACxD,MAAOukF,GAAKthJ,GAAKA,GACbA,EAAIshJ,EAAKthJ,EAAIshJ,EAAKv+I,OAClBu+I,EAAKvkF,GAAKA,GACVA,EAAIukF,EAAKvkF,EAAIukF,EAAKrmI,QAS1B4kI,EAAoBp5J,UAAU86J,cAAgB,SAAU3G,GAEpD,IAAK,GADDxE,IAAa,EACR3wJ,EAAQ,EAAGA,EAAQO,KAAK85J,SAASM,cAAcz+J,OAAQ8D,IAAS,CACrE,GAAI+7J,GAAWx7J,KAAK85J,SAASM,cAAc36J,GACvCg8J,EAAW,GAAIniB,cAAWkiB,EAASvM,WAAWj1I,EAAGwhJ,EAASvM,WAAWl4E,EAAGykF,EAASz+I,MAAOy+I,EAASvmI,OACrG,IAAIj1B,KAAKvF,SAASghK,EAAU7G,EAAM56I,EAAG46I,EAAM79E,GAAI,CAC3Cq5E,EAAY3wJ,CACZ,QAGR,MAAO2wJ,IAWXyJ,EAAoBp5J,UAAUskJ,SAAW,SAAUrL,EAAMuV,EAAYK,GACjE,GAAIoM,GAAW17J,KAAK85J,SAASj8J,OAAO67I,KAAKkE,QAAQE,WAC7ChE,EAAWJ,EAAKI,SAChB6hB,GAAgB3hJ,EAAGs1I,EAASt1I,EAAG+8D,EAAGu4E,EAASv4E,GAC3C6kF,GAAkB5hJ,EAAGs1I,EAASt1I,EAAG+8D,EAAGu4E,EAASv4E,GAC7C8kF,GAAoB7hJ,EAAGs1I,EAASt1I,EAAG+8D,EAAGu4E,EAASv4E,GAC/CykF,EAAWx7J,KAAK85J,SAASM,cAAc1gB,EAAKkE,QAAQ9wI,QAAQ4sI,GAAQ15I,KAAK85J,SAASO,gBAClFoB,EAAW,GAAIniB,cAAWkiB,EAASvM,WAAWj1I,EAAGwhJ,EAASvM,WAAWl4E,EAAGykF,EAASz+I,MAAOy+I,EAASvmI,QACjG6mI,EAAkB97J,KAAKvF,SAASghK,EAAUxM,EAAWj1I,EAAGi1I,EAAWl4E,GACnEglF,EAAgB/7J,KAAKvF,SAASghK,EAAUnM,EAASt1I,EAAGs1I,EAASv4E,GAC7Dq5E,GAAa,CAGjB,IAFAnB,EAAa,GAAI/U,UAAO+U,EAAWj1I,EAAGi1I,EAAWl4E,GACjDu4E,EAAW,GAAIpV,UAAOoV,EAASt1I,EAAGs1I,EAASv4E,IACtC+kF,IAAoBC,GAAiBA,IAAkBD,GACxD1L,EAAYpwJ,KAAKu7J,cAActM,KACd,IACbuM,EAAWx7J,KAAK85J,SAASM,cAAchK,GACvCwL,EAAgB3M,EAChB0M,EAAcrM,EACdtvJ,KAAK+kJ,SAAS2W,EAAStL,EAAYpwJ,KAAK85J,SAASO,gBAAiBuB,EAAeD,QAGpF,KAAKI,GAAiBD,EAAiB,CACxC,GAAIE,GAAeP,EAASzhJ,EACxBiiJ,EAAgBR,EAASzhJ,EAAIyhJ,EAAS1+I,MACtCm/I,EAAiBT,EAAS1kF,EAAI0kF,EAASxmI,OACvCknI,EAAcV,EAAS1kF,CACvBilF,GAAe1M,EAASt1I,GACxB6hJ,EAAgB7hJ,EAAIs1I,EAASt1I,EAAIgiJ,EAAe,EAChDJ,EAAc5hJ,EAAIgiJ,EAAe,GAE5BC,EAAgB3M,EAASt1I,GAC9B6hJ,EAAgB7hJ,EAAIs1I,EAASt1I,EAAIiiJ,EACjCL,EAAc5hJ,EAAIiiJ,EAClBJ,EAAgB7hJ,GAAK,GAEhBkiJ,EAAiB5M,EAASv4E,GAC/B8kF,EAAgB9kF,EAAIu4E,EAASv4E,EAAImlF,EACjCN,EAAc7kF,EAAImlF,EAClBL,EAAgB9kF,GAAK,EACjB/2E,KAAK85J,SAASrd,eACdmf,EAAc7kF,GAA+Cp3E,EAA1CK,KAAK1F,OAAOsX,eAAe4Y,aAA4B,GAAmB,MAG5F2xI,EAAc7M,EAASv4E,IAC5B6kF,EAAc7kF,EAAI8kF,EAAgB9kF,EAAIolF,EAAc,EACpD7M,EAASv4E,EAAIolF,EACTn8J,KAAK85J,SAASrd,eACdof,EAAgB9kF,GAA+Cp3E,EAA1CK,KAAK1F,OAAOsX,eAAe4Y,aAA4B,GAAmB,IAC/F8kI,EAASv4E,GAA+Cp3E,EAA1CK,KAAK1F,OAAOsX,eAAe4Y,aAA4B,GAAmB,OAI7E,KADnB4lI,EAAYpwJ,KAAKu7J,cAAcM,KAE3B77J,KAAK+kJ,SAAS2W,EAAStL,EAAYpwJ,KAAK85J,SAASO,gBAAiBuB,EAAeD,GAGzF,GAAIG,EAAiB,CACjB7M,EAAa,GAAI/U,UAAO+U,EAAWj1I,EAAGi1I,EAAWl4E,GACjDu4E,EAAW,GAAIpV,UAAOoV,EAASt1I,EAAGs1I,EAASv4E,GAC3Ck4E,EAAWj1I,EAAIi1I,EAAWj1I,EAAIwhJ,EAASY,WAAaZ,EAASvM,WAAWj1I,EACxEi1I,EAAWl4E,EAAIk4E,EAAWl4E,EAAIykF,EAASvM,WAAWl4E,EAClDu4E,EAASt1I,EAAIs1I,EAASt1I,EAAIwhJ,EAASY,WAAaZ,EAASvM,WAAWj1I,EACpEs1I,EAASv4E,EAAIu4E,EAASv4E,EAAIykF,EAASvM,WAAWl4E,CAC9C,IAAIgyE,GAAQ,GAAIlG,iBAAc7iJ,KAAK+1I,oBAC/BsmB,EAAiB,GAAIlnB,UAAO4T,EAAOppJ,EAAaK,KAAKkoJ,WACzDpO,GAASiL,SAASsX,EAAgBpN,EAAYK,KAYtDuK,EAAoBp5J,UAAU46J,UAAY,SAAU3hB,EAAMv8E,EAAWgT,GACjE,GAMIN,GANA2rF,EAAWx7J,KAAK85J,SAASM,cAAc1gB,EAAKkE,QAAQ9wI,QAAQ4sI,GAAQ15I,KAAK85J,SAASO,gBAElFoB,EAAW,GAAIniB,cAAW,GAAIY,UAAOshB,EAASvM,WAAWj1I,EAAGwhJ,EAASvM,WAAWl4E,GAAI,GAAIqjE,SAAMohB,EAASz+I,MAAOy+I,EAASvmI,SACvHg6H,EAAa,GAAI/U,UACjBwhB,EAAWhiB,EAAKkE,QAAQE,WACxB/gI,EAAQ,EAAI/c,KAAKkoJ,SAmBrB,IAfQ+G,EAFJjvJ,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACxB,OAAdl7I,KAAKoQ,MAA+B,OAAdpQ,KAAKoQ,KACd,GAAI8pI,UAAQl6I,eAAkB,EAAGm9D,EAAUu0F,eAAe36E,EAAIykF,EAASvM,WAAWl4E,GAGlF,GAAImjE,UAAQl6I,KAAKsrE,UAAYtrE,KAAKurE,WAAc,EAAGpO,EAAUu0F,eAAe36E,EAAIykF,EAASvM,WAAWl4E,GAInG,OAAd/2E,KAAKoQ,MAA+B,OAAdpQ,KAAKoQ,KACd,GAAI8pI,UAAOv6I,EAAaK,KAAKsrE,WAAa,EAAGnO,EAAUu0F,eAAe36E,EAAIykF,EAASvM,WAAWl4E,GAG9F,GAAImjE,UAAOv6I,EAAaK,KAAKsrE,UAAYtrE,KAAKurE,YAAc,EAAGpO,EAAUu0F,eAAe36E,EAAIykF,EAASvM,WAAWl4E,IAG/G/2E,KAAKvF,SAASghK,EAAUxM,EAAWj1I,EAAGi1I,EAAWl4E,GACjD,CAClB,GAAIq5E,GAAYpwJ,KAAKu7J,cAActM,EAC/BmB,IAAa,IACboL,EAAWx7J,KAAK85J,SAASM,cAAchK,GACvC1W,EAAOgiB,EAAStL,EAAYpwJ,KAAK85J,SAASO,iBAGlD,GAAIvgB,GAAWJ,EAAKI,QACpBmV,GAAWj1I,EAAIi1I,EAAWj1I,EAAIwhJ,EAASvM,WAAWj1I,EAAIwhJ,EAASY,WAC/DnN,EAAWl4E,EAAIk4E,EAAWl4E,EAAIykF,EAASvM,WAAWl4E,CAClD,IAAIpH,GAAS,GAAIuqE,UAAO+U,EAAWj1I,EAAGi1I,EAAWl4E,EAAI5G,EAG7CN,GAFJ7vE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YACxB,OAAdl7I,KAAKoQ,MAA+B,OAAdpQ,KAAKoQ,KAClB,GAAI8pI,UAAOvqE,EAAO31D,IAAa21D,EAAOoH,KAGtC,GAAImjE,UAAOvqE,EAAO31D,IAAa21D,EAAOoH,KAIjC,OAAd/2E,KAAKoQ,MAA+B,OAAdpQ,KAAKoQ,KAClB,GAAI8pI,UAAOvqE,EAAO31D,EAAIra,EAAaod,GAAQ4yD,EAAOoH,EAAIp3E,EAAaod,IAGnE,GAAIm9H,UAAOvqE,EAAO31D,EAAIra,EAAaod,GAAQ4yD,EAAOoH,EAAIp3E,EAAaod,GAGpF,IACI09I,GACA4B,EAFAtT,EAAQ,GAAIlG,iBAAc7iJ,KAAK+1I,mBAG/B/1I,MAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,aAC1Cuf,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAG61D,EAAOkH,EAAK,EAAIh6D,GAC9Cs/I,EAAiB,GAAIlnB,UAAO4T,EAAQ/oJ,kBAGpCy6J,EAAS,GAAIvgB,UAAOrqE,EAAO71D,EAAG61D,EAAOkH,EAAIp3E,EAAa,EAAIod,IAC1Ds/I,EAAiB,GAAIlnB,UAAO4T,EAAOppJ,EAAaK,KAAKkoJ,aAEzDpO,EAASiL,SAASsX,EAAgB1sF,EAAQE,GAC1CiqE,EAASiL,SAASsX,EAAgBxsF,EAAQ4qF,GAC1C3gB,EAASiL,SAASsX,EAAgB5B,EAAQ9qF,IAEvCkqF,KCjhBPlvG,GAA6B,WAC7B,QAASA,GAAYrwD,GACjB0F,KAAKuvJ,aAAe,EACpBvvJ,KAAK1F,OAASA,EA6FlB,MA3FAqwD,GAAYlqD,UAAU67J,gBAAkB,SAAU5iB,EAAMuV,EAAYC,EAAiB7jB,EAAQwI,EAAa0oB,EAAkBC,GACxH,GAAIpN,GAAe1V,EAAKI,SAEpBoI,GADWxI,EAAKE,gBACT,GAAIuI,mBAAgBrN,gBAAcC,UAAW,MACnDl6I,oBAAkBmF,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,aACxE3zI,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,OAChEA,EAAOliJ,KAAK1F,OAAO8xB,gBAAwB,OAAe,YAAEunH,WAAWuO,KAG3E,IAAIgT,EACCr6J,qBAAkBg5I,EAAYvjH,SAC/B4kI,EAAUhT,EAAKiT,cAActhB,EAAYvjH,OAE7C,IACImsI,GAAYD,EAAY3oB,YAAYC,SAExC,IADA2oB,EAAU1oB,UAAYyoB,EAAY3oB,YAAYC,UAAUC,UACpD1I,EAAOvwI,WAAa+4I,EAAY93I,MAAQ83I,EAAY93I,MAAQsvI,EAAOtwI,QAAS,CAC5E,GAAI2hK,GAAe,GAAIhmB,kBACvBgmB,GAAa9nB,UAAYuP,mBAAiBC,MAC1C,IAAIoV,GAAc3+J,oBAAkB2hK,EAAY3oB,YAAYvjH,MAAMpgB,QACvBwsJ,EAAvCF,EAAY3oB,YAAYvjH,MAAMpgB,OAC9BysJ,EAAa,GAAI9Z,iBAAc2Z,EAAY3oB,YAAYvjH,MAAM2sC,iBAC7Ds3E,EAAaioB,EAAY3oB,YAAYvjH,OAASksI,EAAY3oB,YAAYvjH,MAAMikH,UAC5E,GAAIsO,iBAAc2Z,EAAY3oB,YAAYvjH,MAAMikH,WAAa,KAC7Dmb,EAAiB1vJ,KAAK+vJ,WAAWyM,EACjC3hK,qBAAkB60J,KAClBA,EAAiBxN,EAErB,IAAI0a,GAAgBJ,EAAY3oB,YAAYvjH,MAAMmqH,QAAU+hB,EAAY3oB,YAAYvjH,MAAMmqH,QAAU,IACpG,IAAI+hB,EAAY3oB,YAAYvjH,MAAMokH,YAAa,CAC3C,GAAImoB,GAAa,GAAI5lB,GACrB4lB,GAAW1R,IAAM,GAAIhW,UAAO,GAAIX,YAASgoB,EAAY3oB,YAAYvjH,MAAMokH,cACvEkoB,EAAgBC,EAEpB,GAAI/7D,GAAWjmG,oBAAkB+hK,IAAmB/hK,oBAAkB+hK,EAAc9+I,MAA8B,KAArB8+I,EAAc9+I,KACvGkzD,GAAYlzD,KAAM,EAAG8V,MAAO,EAAG5C,IAAK,EAAG4mH,OAAQ,EAC9C/8I,qBAAkB2hK,IAAiB3hK,oBAAkB2hK,EAAY3oB,cACjEh5I,oBAAkB2hK,EAAY3oB,YAAYvjH,QAAWz1B,oBAAkB2hK,EAAY3oB,YAAYvjH,MAAM0gD,WACtGA,EAAUwrF,EAAY3oB,YAAYvjH,MAAM0gD,QAE5C,IAAI2+E,GAAuB90J,oBAAkB2hK,EAAY3oB,YAAYvjH,MAAMkzH,WACjB,KAAtD,GAAIrO,UAAOqnB,EAAY3oB,YAAYvjH,MAAMkzH,WACzC1lI,EAAO9d,KAAK1F,OAAO+J,cAAcmd,YAAYxhB,KAAK1F,OAAOoE,qBAAqBkE,kBAAkBixI,EAAY93I,MAAM,IAAO,GAAO,EAEpI,IAAIiE,KAAK1F,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAC1CkU,EAAarK,SAAS0X,EAAW,GAAIviB,UAAO+U,EAAWj1I,GAAK8D,EAAOoxI,GAF5D,GAEqFqN,GAAmB,GAAIriB,UAAO+U,EAAWj1I,GAAK8D,EAAOoxI,GAF1I,GAEmKlvJ,KAAKuvJ,gBAC1K10J,oBAAkBg5I,EAAYvjH,QAAUujH,EAAYvjH,MAAM30B,OAAS,IAChEmhK,EAAYP,EAAmB58J,EAAa,IAAwB,EAAjBu1J,EAAQjgI,QAC/Cj1B,KAAKuvJ,eACjBH,EAAangE,OACbmgE,EAAa6C,mBAAmBhD,EAAWj1I,GAAK8D,EAAOoxI,GAAmB,EAP3E,GAOqFqN,EAAmB58J,EAAa,IAAMu1J,EAAQjgI,OAAS,GAC3Im6H,EAAa6H,gBAAgB,IAC7B7H,EAAapL,cAAcljD,EAAQ67D,EAAY,EAAG,EAvCnD,EAAA,GAwCCvN,EAAanL,UACbmL,EAAapL,cAAcljD,EAAQ67D,EAAY1N,EAAWj1I,GAAK8D,EAAOoxI,GAAmB,EAX1F,GAWoGqN,EAAmB58J,EAAa,IAAKu1J,EAAQn4I,MAAQ,GAAqB,EAAjBm4I,EAAQjgI,QACpKm6H,EAAa3L,WAAW5P,EAAYvjH,MAAOo/H,EAAgBC,EAAqBpb,EAAY0a,EAAWj1I,GAClG8D,EAAOoxI,GAAmB,GAbhC,IAa8Cl+E,EAAQlzD,KAAOkzD,EAAQp9C,OAAS2oI,EAAmB58J,EAAa,IAAMA,EAAau1J,EAAQjgI,OAAS,IAAO+7C,EAAQhgD,IAAMggD,EAAQ4mE,QAASsd,EAAQn4I,MAAOm4I,EAAQjgI,OAAQukI,QAM9N,IADApK,EAAarK,SAAS0X,EAAW,GAAIviB,UAAO+U,EAAWj1I,EAAIra,EAAame,EAAOoxI,GAlBxE,GAkBiGqN,GAAmB,GAAIriB,UAAO+U,EAAWj1I,EAAIra,EAAame,EAAOoxI,GAlBlK,GAkB2LlvJ,KAAKuvJ,gBAClM10J,oBAAkBg5I,EAAYvjH,QAAUujH,EAAYvjH,MAAM30B,OAAS,EAAG,CACvE,GAAImhK,GAAYP,EAAmB58J,EAAa,IAAwB,EAAjBu1J,EAAQjgI,MAC3D6nI,GAAY98J,KAAKuvJ,eACjBH,EAAangE,OACbmgE,EAAa6C,mBAAmBhD,EAAWj1I,EAAIra,EAAame,EAAOoxI,GAAmB,EAvBvF,GAuBiGqN,EAAmB58J,EAAa,IAAMu1J,EAAQjgI,OAAS,GACvJm6H,EAAa6H,gBAAgB,IAC7B7H,EAAapL,cAAcljD,EAAQ67D,EAAY,EAAG,EAvDnD,EAAA,GAwDCvN,EAAanL,UACbmL,EAAapL,cAAcljD,EAAQ67D,EAAY1N,EAAWj1I,EAAIra,EAAame,EAAOoxI,GAAmB,EA3BtG,GA2BgHqN,EAAmB58J,EAAa,IAAKu1J,EAAQn4I,MAAQ,GAAqB,EAAjBm4I,EAAQjgI,QAChLm6H,EAAa3L,WAAW5P,EAAYvjH,MAAOo/H,EAAgBC,EAAqBpb,EAAY0a,EAAWj1I,EAAIra,EAAame,EAAOoxI,GAAmB,GA5BnJ,IA4BiKl+E,EAAQlzD,KAAOkzD,EAAQp9C,OAAS2oI,EAAmB58J,EAAa,IAAMA,EAAau1J,EAAQjgI,OAAS,IAAO+7C,EAAQhgD,IAAMggD,EAAQ4mE,QAASsd,EAAQn4I,MAAOm4I,EAAQjgI,OAAQukI,OAM7V7uG,EAAYlqD,UAAUsvJ,WAAa,SAAUpc,GACzC,GAAIuO,EACJ,IAAIvO,GAAcA,EAAWE,aAAeF,EAAWE,YAAYvjH,QAC9DqjH,EAAWE,YAAYvjH,MAAMgkH,UAAYX,EAAWE,YAAYvjH,MAAM2kH,WACnEtB,EAAWE,YAAYvjH,MAAMukH,YAAa,CAC9C,GAAIP,GAAWX,EAAWE,YAAYvjH,MAAMgkH,SAAWX,EAAWE,YAAYvjH,MAAMgkH,SAAW,EAC3FO,EAAalB,EAAWE,YAAYvjH,MAAMukH,WAC1ClB,EAAWE,YAAYvjH,MAAMukH,WAAa70I,KAAK60I,WAC/CI,EAAYtB,EAAWE,YAAYvjH,MAAM2kH,UACzCtB,EAAWE,YAAYvjH,MAAM2kH,UAAYoN,eAAa2I,OAC1D9I,GAAO,GAAIC,mBAAgBtN,EAAYP,EAAUW,GAErD,MAAOiN,IAEJv3F,KCpGPv3C,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAG/B,GAI7B,OAHA8B,EAAgB5X,OAAO8X,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAG/B,GAAK+B,EAAEE,UAAYjC,IACvE,SAAU+B,EAAG/B,GAAK,IAAK,GAAImC,KAAKnC,GAAOA,EAAEoC,eAAeD,KAAIJ,EAAEI,GAAKnC,EAAEmC,MACpDJ,EAAG/B,GAE5B,OAAO,UAAU+B,EAAG/B,GAEhB,QAASqC,KAAO5T,KAAK6T,YAAcP,EADnCD,EAAcC,EAAG/B,GAEjB+B,EAAE7S,UAAkB,OAAN8Q,EAAa9V,OAAOqY,OAAOvC,IAAMqC,EAAGnT,UAAY8Q,EAAE9Q,UAAW,GAAImT,QAGnF+2B,GAAsC,WAStC,OARAA,GAAWlvC,OAAO2iB,QAAU,SAAS6mB,GACjC,IAAK,GAAI2F,GAAG9sC,EAAI,EAAG+sC,EAAIC,UAAUnvC,OAAQmC,EAAI+sC,EAAG/sC,IAAK,CACjD8sC,EAAIE,UAAUhtC,EACd,KAAK,GAAI4V,KAAKk3B,GAAOnvC,OAAOgF,UAAUkT,eAAeM,KAAK22B,EAAGl3B,KACzDuxB,EAAEvxB,GAAKk3B,EAAEl3B,IAEjB,MAAOuxB,KAEKjuB,MAAMhX,KAAM8qC,YAa5BiyH,GAA0B,SAAU/oJ,GAEpC,QAAS+oJ,GAASziK,GACd,GAAI2W,GAAQ+C,EAAOC,KAAKjU,OAASA,IAYjC,OAXAiR,GAAMsb,eACNtb,EAAM+rJ,yBAA0B,EAChC/rJ,EAAMwoI,YAAc,EACpBxoI,EAAM3W,OAASA,EACf2W,EAAM42I,YAAc,GAAIsP,IAAYlmJ,GACpCA,EAAM4iI,YAAc,GAAIlpF,IAAYrwD,GACpC2W,EAAM6K,YAAc,GAAI+9I,IAAoBv/J,EAAQ2W,GACpDA,EAAMgsJ,iBACNhsJ,EAAMmpJ,iBACNnpJ,EAAMgrD,qBACNhrD,EAAMq0D,yBACCr0D,EA0VX,MAxWAmC,IAAU2pJ,EAAU/oJ,GAgBpBvY,OAAO2uD,eAAe2yG,EAASt8J,UAAW,WACtCurB,IAAK,WAID,MAHInxB,qBAAkBmF,KAAKk9J,YACvBl9J,KAAKk9J,SAAW,GAAItO,IAA0B5uJ,KAAK1F,SAEhD0F,KAAKk9J,UAEhBhpB,YAAY,EACZC,cAAc,IAElB4oB,EAASt8J,UAAU08J,UAAY,SAAUt/J,GACrCmC,KAAKnC,OAASA,EACdmC,KAAKo9J,WAAap9J,KAAKnC,OAAO67I,KAAKkE,QAAQl7I,MAC3C1C,KAAKq9J,eAAiBr9J,KAAKo9J,WAAap9J,KAAK2hJ,SAAS1I,aAAat9I,OACnEqE,KAAKs9J,iBACLt9J,KAAKu9J,kBACLv9J,KAAKw9J,kBAGTT,EAASt8J,UAAU68J,eAAiB,WAShC,IAAK,GARDG,GAAkBz9J,KAAK2hJ,SAAS1I,aAAaj5I,KAAK2hJ,SAAS1I,aAAat9I,OAAS,GACjF0qJ,EAAmB,EACnBqX,GAAiB,EACjBC,EAAY,EACZ1F,EAAc,EACdrD,EAAQ,EACRgJ,EAAcj+J,EAAaK,KAAK6nJ,YAAY9qI,OAC5CiB,EAAmBhe,KAAK1F,OAAOsX,eAC1BnS,EAAQg+J,EAAgB,GAAIh+J,GAASg+J,EAAgB,GAAIh+J,IAC9D4mJ,GAAoBrmJ,KAAK2hJ,SAAStH,SAASp/H,QAAQkgI,UAAU17I,GAAOsd,KAexE,MAbAspI,GAAoB,IACG,IAAMrmJ,KAAKnC,OAAO67I,KAAKE,gBAAgB78H,OAC1Dk7I,EAAcj4J,KAAKnC,OAAO67I,KAAKE,gBAAgB78H,MAAQspI,EACvDrmJ,KAAKq6J,eAAiBr6J,KAAK69J,eAAiB79J,KAAKo9J,WAAap9J,KAAKq9J,eACnEK,GAAiB,EACjB19J,KAAKivJ,WAAa,GAAI/U,UAAOmM,EAAkB,KAG/CrmJ,KAAKnC,OAAO67I,KAAKkE,QAAQvsH,MACzBrxB,KAAKq6J,eAAiBr6J,KAAK69J,eAAiB79J,KAAKo9J,WACjDM,GAAiB,EACjB19J,KAAKivJ,WAAa,GAAI/U,UAAO0a,EAAO,IAEjC1hJ,KAAKgY,MAAM0pI,GAAS1hJ,KAAKgY,MAAM0yI,IAAc,CAC5CF,EACAC,EAAY39J,KAAKnC,OAAO67I,KAAKE,gBAAgB78H,OAG7C4gJ,EAAY1F,EACZyF,GAAiB,EAErB,IAAIryB,MACAhiH,KACAy0I,EAAiBn+J,EAAaK,KAAK6nJ,YAAY1sG,qBAC/Cp+B,EAAQ,CACiC,KAAzC/c,KAAK6nJ,YAAY1sG,sBACjBp+B,EAAS7J,KAAKsH,MAAMmjJ,EAAYG,GAAkBA,GAEtDz0I,EAAM,GAAKurI,EACPgJ,EAAchJ,GAAS73I,GACvBsM,EAAM,GAAKu0I,EACXvyB,EAAOsa,WAAa/lJ,EAAag+J,EAAchJ,KAG/CvrI,EAAM,GAAKurI,EAAQ73I,EACnBsuH,EAAOsa,WAAa/lJ,EAAamd,IAErCsuH,EAAO4jB,WAAa5lI,EAAM,GAC1BgiH,EAAOikB,SAAWjmI,EAAM,GAC6B,IAAjDrpB,KAAK1F,OAAOuO,sBAAsBtM,YAAuE,IAAnDyD,KAAK1F,OAAOuO,sBAAsBpM,cAClC,IAAnDuD,KAAK1F,OAAOuO,sBAAsBlM,eACrCqD,KAAKg9J,yBAA0B,EAC/Bh9J,KAAK1F,OAAOuO,sBAAsB/F,SAAS,GAE/C,IAAI+hB,GAAoB7kB,KAAK1F,OAAO+J,cAAczB,kBAAkB5C,KAAK1F,OAAOsX,eAAeiT,mBAC3FniB,EAAQ7H,oBAAkBmjB,EAAiB4D,uBAAuB3O,WAAWvQ,OAC7Esb,EAAiB4D,uBAAuBC,QAAQnf,MAAQsb,EAAiB4D,uBAAuB3O,WAAWvQ,KAG/G,QAF+E,SAA5Dsb,EAAiB4D,uBAAuB3O,WAAWrG,KAClEoR,EAAiB4D,uBAAuBC,QAAQjV,KAAOoR,EAAiB4D,uBAAuB3O,WAAWrG,MAE1G,IAAK,UAEGy+H,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAI68J,GAAQ7qJ,KAAKsH,MAAM5a,EAAayrI,EAAO4jB,YAAejvJ,KAAK6nJ,YAAgC,oBAC/Fxc,GAAOvwI,UAAU4I,WAAW2nI,EAAOvwI,UAAU2B,aAAeshK,EAAQr7J,GACpE2oI,EAAOvwI,UAAUqN,WAAWkjI,EAAOvwI,UAAU6B,aAAe,GAC5D0uI,EAAOtwI,QAAU,GAAI+B,MAAKuuI,EAAOvwI,UAAUoG,UAC3C,IAAI88J,GAAQ9qJ,KAAKsH,MAAM5a,EAAayrI,EAAOikB,SAAWjkB,EAAO4jB,YACtDjvJ,KAAK6nJ,YAAgC,oBAC5Cxc,GAAOtwI,QAAQ2I,WAAW2nI,EAAOtwI,QAAQ0B,aAAeuhK,EAAQt7J,EAChE,MAER,KAAK,OAEG2oI,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAI+8J,GAAa/qJ,KAAKsH,MAAM5a,EAAayrI,EAAO4jB,YAAejvJ,KAAK6nJ,YAAgC,qBAChG5kI,EAAc,GAAInmB,MAAKuuI,EAAOvwI,UAAUoG,UACvClB,MAAK1F,OAAO0jB,iBAAiBsE,aAK9B+oH,EAAOvwI,UAAUgI,SAASuoI,EAAOvwI,UAAUyB,WAAa0hK,EAAav7J,GACrE2oI,EAAOvwI,UAAU4I,WAAW2nI,EAAOvwI,UAAU2B,aAAe,KAL5DwmB,EAAcjjB,KAAKk+J,oCAAoCj7I,EAAag7I,EAAYv7J,GAChF2oI,EAAOvwI,UAAY,GAAIgC,MAAKmmB,EAAY/hB,WAM5C,IAAIi9J,GAAWjrJ,KAAKsH,OAAO6wH,EAAOikB,SAAWjkB,EAAO4jB,YAC9CrvJ,EAAaI,KAAK6nJ,YAAY1sG,qBACpCl4B,GAAc,GAAInmB,MAAKuuI,EAAOvwI,UAAUoG,WACnClB,KAAK1F,OAAO0jB,iBAAiBsE,YAI9BW,EAAYngB,SAASmgB,EAAY1mB,WAAa4hK,EAAWz7J,GAHzDugB,EAAcjjB,KAAKk+J,oCAAoCj7I,EAAak7I,EAAUz7J,GAKlF2oI,EAAOtwI,QAAU,GAAI+B,MAAKmmB,EAAY/hB,UACtC,MAER,KAAK,MAEGmqI,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAIk9J,GAAYlrJ,KAAKgY,MAAMmgH,EAAO4jB,WAAatvJ,EAAaK,KAAK6nJ,YAAY1sG,sBACzEl4B,EAAc,GAAInmB,MAAKuuI,EAAOvwI,UAAUoG,UACvClB,MAAK1F,OAAO0jB,iBAAiBsE,YAI9B+oH,EAAOvwI,UAAU4G,QAAQ2pI,EAAOvwI,UAAUuB,UAAY+hK,EAAY17J,GAHlEugB,EAAcjjB,KAAKq+J,mCAAmCp7I,EAAam7I,EAAW17J,EAKlF,IAAI47J,GAAUprJ,KAAKgY,OAAOmgH,EAAOikB,SAAWjkB,EAAO4jB,YAC7CtvJ,EAAaK,KAAK6nJ,YAAY1sG,sBAAwB,CAC5Dl4B,GAAc,GAAInmB,MAAKuuI,EAAOvwI,UAAUoG,WACnClB,KAAK1F,OAAO0jB,iBAAiBsE,YAI9BW,EAAYvhB,QAAQuhB,EAAY5mB,UAAYiiK,EAAU57J,GAHtDugB,EAAcjjB,KAAKq+J,mCAAmCp7I,EAAaq7I,EAAS57J,GAKhE2oI,EAAOvwI,UACbgI,SAAS,EAAG,EAAG,EAAG,EAC5B,IAAIy7J,GAAqD,IAAtCv+J,KAAK1F,OAAOsH,kBAAkB,GAAGE,EACpDupI,GAAOtwI,QAAU,GAAI+B,MAAKmmB,EAAY/hB,WACtCmqI,EAAOtwI,QAAQ0G,QAAQ4pI,EAAOtwI,QAAQmG,UAAYq9J,EAClD,MAER,KAAK,OAEGlzB,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAIs9J,GAAcnzB,EAAO4jB,WAAatvJ,EAAaK,KAAK6nJ,YAAY1sG,qBAAuB,CAC3FkwF,GAAOvwI,UAAU4G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYmiK,EAAa97J,EACnE,IAAI+7J,GACwD,EAD7CvrJ,KAAKgY,OAAOmgH,EAAOikB,SAAWjkB,EAAO4jB,YAC9CtvJ,EAAaK,KAAK6nJ,YAAY1sG,sBAA4B,CAChEkwF,GAAOtwI,QAAU,GAAI+B,MAAKuuI,EAAOvwI,UAAUoG,WAC3CmqI,EAAOtwI,QAAQ2G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYoiK,EAAW/7J,EAC/D,MAER,KAAK,QAEG2oI,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAIw9J,GAAcrzB,EAAO4jB,WAAatvJ,EAAaK,KAAK6nJ,YAAY1sG,qBAAuB,EAC3FkwF,GAAOvwI,UAAU4G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYqiK,EAAah8J,EACnE,IAAIi8J,GACwD,GAD7CzrJ,KAAKgY,OAAOmgH,EAAOikB,SAAWjkB,EAAO4jB,YAC9CtvJ,EAAaK,KAAK6nJ,YAAY1sG,sBAA6B,CACjEkwF,GAAOtwI,QAAU,GAAI+B,MAAKuuI,EAAOvwI,UAAUoG,WAC3CmqI,EAAOtwI,QAAQ2G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYsiK,EAAWj8J,EAC/D,MAER,KAAK,OAEG2oI,EAAOvwI,UAAY,GAAIgC,MAAK+nB,EAAkB3jB,UAC9C,IAAI09J,GAAcvzB,EAAO4jB,WAAatvJ,EAAaK,KAAK6nJ,YAAY1sG,qBAAuB,GAC3FkwF,GAAOvwI,UAAU4G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYuiK,EAAal8J,EACnE,IAAIm8J,GACwD,IAD7C3rJ,KAAKgY,OAAOmgH,EAAOikB,SAAWjkB,EAAO4jB,YAC9CtvJ,EAAaK,KAAK6nJ,YAAY1sG,sBAA8B,CAClEkwF,GAAOtwI,QAAU,GAAI+B,MAAKuuI,EAAOvwI,UAAUoG,WAC3CmqI,EAAOtwI,QAAQ2G,QAAQ2pI,EAAOvwI,UAAUuB,UAAYwiK,EAAWn8J,GAI3E1C,KAAKi9J,cAAc3+J,KAAK+sI,GACxBupB,GAAS73I,IAajBggJ,EAASt8J,UAAUy9J,oCAAsC,SAAUj7I,EAAag7I,EAAYv7J,GAExF,IADA,GAAI6D,GAAa,EACVA,EAAa03J,EAAav7J,GAC7BugB,EAAYngB,SAASmgB,EAAY1mB,WAAa,IACwB,IAAlEyD,KAAK1F,OAAO2S,mBAAmBH,QAAQmW,EAAYjW,WACnDzG,KAEkE,IAAlEvG,KAAK1F,OAAO2S,mBAAmBH,QAAQmW,EAAYjW,WACnDiW,EAAYngB,SAAS,GAAI,EAAG,EAAG,EAGvC,OAAOmgB,IAYX85I,EAASt8J,UAAU49J,mCAAqC,SAAUp7I,EAAa67I,EAAWp8J,GACtF,GAAIsgB,GAAY,EACZwuB,EAAYt+B,KAAKsH,MAAMskJ,EAAYp8J,GAAS,EAAI1C,KAAK1F,OAAO2S,mBAAmBtR,SAC/Eo/C,EAAgB+jH,EAAYp8J,GAAS,EAAI1C,KAAK1F,OAAO2S,mBAAmBtR,OAC5EqnB,IAAyB,EAAZwuB,CACb,KAAK,GAAI1zC,GAAI,EAAGA,EAAIi9C,EAAej9C,IAC/BmlB,EAAYvhB,QAAQuhB,EAAY5mB,UAAY,IAC0B,IAAlE2D,KAAK1F,OAAO2S,mBAAmBH,QAAQmW,EAAYjW,WACnDgW,GAIR,OADAC,GAAYvhB,QAAQuhB,EAAY5mB,UAAY2mB,GACrCC,GAEX85I,EAASt8J,UAAU+8J,eAAiB,WAEhC,IAAK,GADD7f,GAAQ39I,KAAKnC,OAAO67I,KAAKkE,QAAQE,WAC5Br+I,EAAQ,EAAGA,EAAQk+I,EAAMhiJ,OAAQ8D,IAAS,CAC/C,GAAIi6I,GAAOiE,EAAMl+I,GACbq6I,EAAWJ,EAAKI,SAChB+R,EAAWnS,EAAKE,gBAChB+K,EAAM,GAAIxP,UAAO,GAAIX,YAASx0I,KAAK2zI,WAAWuB,oBAClD4E,GAASkK,cAAcW,EAAK,EAAG,EAAGkH,EAAS9uI,MAAO8uI,EAAS52H,UAInE8nI,EAASt8J,UAAU88J,gBAAkB,WACjC,GAMI/B,GANAvqJ,EAAQjR,KACR++J,EAAe/+J,KAAKivJ,WACpB+P,EAAY,GAAI9kB,UAChBkiB,EAAa,EACblN,EAAkB,EAClBqN,EAAmB,CAEvBv8J,MAAKi9J,cAAc3qJ,QAAQ,SAAU+4H,EAAQ5rI,GACzCwR,EAAMwoI,YAAc,CACpB,IAAIC,GAAOzoI,EAAMpT,OAAO67I,KAAKkE,QAAQE,WAAW7sI,EAAM4sJ,eACtDnkB,GAAmB,aAAKzoI,EAAM3W,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAAet7I,EAAaqR,EAAMgsJ,cAAcx9J,GAAO6vJ,SAAWr+I,EAAMgsJ,cAAcx9J,GAAOwvJ,YAAch+I,EAAMgsJ,cAAcx9J,GAAO6vJ,SAAWr+I,EAAMgsJ,cAAcx9J,GAAOwvJ,WAC/Oh+I,EAAM42I,YAAYkQ,aAAare,EAAMzoI,EAAMg+I,WAAY5jB,EAAQ,GAC/D0zB,EAAahoF,EAAIgoF,EAAahoF,EAAIp3E,EAAasR,EAAM3W,OAAOsX,eAAe4Y,aAAe,GAAK,IAC/F4xI,EAAa2C,EAAa/kJ,EAC1BuiJ,EAAmB58J,EAAasR,EAAM3W,OAAOsX,eAAe4Y,aAAe,GAAK,IAChFvZ,EAAMgsJ,cAAchsJ,EAAMgsJ,cAAcnwJ,QAAQu+H,IAAS9zF,WAAatmC,EAAM4sJ,eAC5E5sJ,EAAMgsJ,cAAchsJ,EAAMgsJ,cAAcnwJ,QAAQu+H,IAAS4zB,eAAiBF,CAC1E,KAAK,GAAIjhK,GAAI,EAAGA,EAAImT,EAAMgrD,kBAAkBtgE,OAAQmC,IAAK,CACrD,GAAIyU,GAAOtB,EAAMgrD,kBAAkBn+D,GAC/BsjB,EAAYnQ,EAAMk0B,KAAKo1G,OAAOz8I,EAAI,GAAGm3B,OACrCw2H,EAAUx6I,EAAMpT,OAAO67I,KAAKkE,QAAQE,WAAW7sI,EAAM4sJ,gBACrD/jB,EAAW2R,EAAQ3R,SACnB6K,EAAM,GAAIxP,UAAO,GAAIX,YAASvjI,EAAM0iI,WAAWuB,qBAC/CgT,MAAY,IACZxO,EAAmB,cAAiC,SAA3BzoI,EAAM3W,OAAOg4B,WAAmD,eAA3BrhB,EAAM3W,OAAOg4B,YAC3E41H,EAAYj3I,EAAM42I,YAAYziD,cAC9B00C,EAASkK,cAAcW,EAAKyX,EAAY2C,EAAahoF,EAAG2iE,EAAmB,aAAI,GAAKt4H,IAEvE7O,EAAKy8I,YAAYvD,EAASsT,EAAc1zB,EAAQ6jB,EAAiB9tI,EAAWnQ,EAAMgrD,kBAAkBj+D,SAASF,EAAEG,WAAY,KAAMiqJ,EAAWzoJ,KAErJwR,EAAMwrI,aACNsiB,EAAahoF,EAAIp3E,EAAasR,EAAM3W,OAAOsX,eAAe4Y,aAAe,GAAK,IAG9Eu0I,EAAahoF,EAAI,EAErB9lE,EAAM4sJ,kBACNrC,MACSvmI,OAASsnI,EAClBf,EAASY,WAAaA,EACtBZ,EAASvM,WAAatkH,MAAaq0H,GAC/B/tJ,EAAM3W,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAC3CsgB,EAASz+I,MAASsuH,EAAkB,WAKxCp6H,EAAMmpJ,cAAc97J,KAAKk9J,GACzBwD,EAAUjoF,GAAKykF,EAASvmI,OACpBhkB,EAAMwrI,aACN8f,EAAmBtrJ,EAAM42I,YAAY5yH,QAGrC8pI,EAAahoF,EAAI,EACjBwlF,EAAmB,IAG3BwC,EAAahoF,GAAK31D,EAClBm7I,GAAoBn7I,EACpBnQ,EAAM4iI,YAAY0b,aAAet+I,EAAM0wI,SAASxI,qBAAqBloI,EAAMwoI,aAAakC,YACxF1qI,EAAM3W,OAAOgkF,sBAAsB/oE,IAAI,SAAUs+H,GAC7C,GAAIqrB,GAAiBv/J,EAAasR,EAAM3W,OAAOsX,eAAe4Y,aAAe,GAAK,GACxD,KAAtBvZ,EAAMwoI,cACNxoI,EAAM4iI,YAAY0b,aAAet+I,EAAM0wI,SAASxI,qBAAqBloI,EAAMwoI,aAAakC,YAAcujB,EAE1G,IAAIzT,GAAUx6I,EAAMpT,OAAO67I,KAAKkE,QAAQE,WAAW7sI,EAAM4sJ,eACzD5sJ,GAAM4iI,YAAYyoB,gBAAgB7Q,EAASsT,EAAc7P,EAAiB7jB,EAAQwI,EAAaqrB,EAAgBjuJ,EAAM0iI,cAG7H1iI,EAAMgsJ,cAAcx9J,GAAOmmG,SAAW30F,EAAM4sJ,eAC5C3O,GAAmB7jB,EAAOsa,YAC1B6V,MACSvmI,OAASsnI,EAClBf,EAASY,WAAaA,EACtBZ,EAASvM,WAAatkH,MAAaq0H,GAC/B/tJ,EAAM3W,OAAO8xB,gBAAgB60C,MAAM2U,QAAQslE,YAC3CsgB,EAASz+I,MAASsuH,EAAkB,WAGpCmwB,EAASz+I,MAAQpd,EAAa0rI,EAAOsa,YAEzC10I,EAAMmpJ,cAAc97J,KAAKk9J,GACzBwD,EAAUhlJ,GAAKwhJ,EAASz+I,MACxBiiJ,EAAUjoF,EAAI,EACV9lE,EAAMwrI,aACN8f,EAAmBtrJ,EAAM42I,YAAY5yH,OAGrC8pI,EAAahoF,EAAI,EAEjB9lE,EAAMgsJ,cAAcnwJ,QAAQu+H,KAAYp6H,EAAMgsJ,cAActhK,OAAS,IACrEsV,EAAMpT,OAAO67I,KAAKkE,QAAQvsH,MAC1BpgB,EAAM4sJ,eAAiB5sJ,EAAMpT,OAAO67I,KAAKkE,QAAQl7I,MAAQ,EACzDq8J,EAAe9tJ,EAAMg+I,WAAa,GAAI/U,UAAO,EAAG,KAIxD,KAAK,GAAIp8I,GAAI,EAAGA,EAAIkC,KAAKslE,sBAAsB3pE,OAAQmC,IACjCkC,KAAKslE,sBAAsBxnE,GACjC2+F,gBAAgBz8F,OAG7B+8J,GACT1c,ICnYE1lC,GAA2B,WAK3B,QAASA,GAAUrgH,GACf0F,KAAKqsB,aAAc,EACnBrsB,KAAK1F,OAASA,EACd0F,KAAKssB,OAAS,GAAI85H,IAAapmJ,KAAK1F,QACpC0F,KAAKm/J,gBAAcx3J,GA+PvB,MA1PAgzG,GAAUl6G,UAAU+9E,cAAgB,WAChC,MAAO,aAQXm8B,EAAUl6G,UAAU02B,QAAU,aAG9BwjF,EAAUl6G,UAAU2+J,UAAY,WAC5Bp/J,KAAKm/J,gBAAcx3J,GACnB3H,KAAKihE,MAAQ,GAAI87F,IAAS/8J,KAAK1F,SAUnCqgH,EAAUl6G,UAAUowF,OAAS,SAAUF,EAAqBJ,EAAkBK,EAAQH,GAClF,GAAIx/E,GAAQjR,IACZA,MAAKywF,OAASA,CACd,IAAIzxF,IACA63B,YAAa,kBACbwoI,YAAar/J,KAAK1F,OAClBskC,QAAQ,EAGZ,OADA5+B,MAAK1F,OAAOgc,QAAQ,kBAAmBtX,GACnCU,WAAS,SAAUV,GAEZ,GAAIsgK,SAAQ,SAAUnsF,EAASosF,GAClC,MAAOpsF,QAINt4E,oBAAkBmF,KAAK1F,OAAOq8B,mBAAoE,YAA/C32B,KAAK1F,OAAOq8B,iBAAiBC,cAIjF52B,KAAK1F,OAAOm7B,cAHZz1B,KAAK1F,OAAOi7B,cAOb,GAAI+pI,SAAQ,SAAUnsF,EAASosF,GAClCtuJ,EAAMuuJ,eAAe5uE,EAAQzd,EAASwd,EAAqBJ,OAGnEoqB,EAAUl6G,UAAU++J,eAAiB,SAAU5uE,EAAQzd,EAASwd,EAAqBJ,GACjF,GAAIt/E,GAAQjR,KACRjC,KACA8W,EAAiB7U,KAAK1F,OAAO0gC,mBAAmBh7B,KAAK1F,OAAOua,eAC5Dha,qBAAkB81F,KAClBA,MAEAA,EAAoBnkE,oBAAsBmkE,EAAoBnkE,mBAAmBC,cAC1C,oBAAnCkkE,EAAoBtpB,WACpBrnE,KAAKssB,OAAOI,uBAAsC,cAAIxuB,YAAW8B,KAAK1F,OAAOwX,gBAAiB,MAAM,GAE5D,YAAnC6+E,EAAoBtpB,WACzBrnE,KAAKssB,OAAOI,uBAAsC,cAAIxuB,YAAW8B,KAAK1F,OAAOyO,SAAU,MAAM,GAG7F/I,KAAKssB,OAAOI,uBAAsC,cAAIxuB,YAAW2W,EAAgB,MAAM,GAE3F7U,KAAKssB,OAAOI,uBAA6C,qBAAIxuB,YAAW8B,KAAK1F,OAAOwX,gBAAiB,MAAM,GAC3G/T,EAAOiC,KAAKssB,OAAOI,uBAAsC,eAYrD3uB,EATClD,oBAAkB81F,EAAoBtpB,YAShCxyD,EARgC,oBAAnC87E,EAAoBtpB,WACbrnE,KAAK1F,OAAOwX,gBAGZ9R,KAAK1F,OAAOyO,SAO/B/I,KAAKo/J,YACAvkK,oBAAkB+1F,GAInB5wF,KAAKm/J,YAAc,GAAIM,eAHvBz/J,KAAKm/J,YAAcvuE,EAKvB5wF,KAAK0/J,cAAc3hK,EAAM4yF,EAAqBJ,GAAkBp6E,KAAK,WACjElF,EAAM3W,OAAOgc,QAAQ,oBAAqBrF,EAAMw/E,QAAWkvE,QAAS1uJ,EAAM2uJ,iBACrE/kK,oBAAkBoW,EAAM3W,OAAOq8B,mBAAqE,YAAhD1lB,EAAM3W,OAAOq8B,iBAAiBC,cAInF3lB,EAAM3W,OAAOu7B,cAHb5kB,EAAM3W,OAAOi6B,cAKjB4+C,EAAQliE,EAAMkuJ,gBAGtBxkD,EAAUl6G,UAAUi/J,cAAgB,SAAU3hK,EAAM4yF,EAAqBJ,GACrE,GAAIt/E,GAAQjR,KACR49I,EAAU59I,KAAKm/J,YAAYU,SAASxuI,KAKxC,OAJArxB,MAAK8/J,+BAA+BliB,EAASjtD,GAC7C3wF,KAAKyrJ,QAAU7N,EAAQD,MAAMtsH,MAC7BrxB,KAAK+/J,kBAAoB//J,KAAKyrJ,QAAQ7R,gBAE/B,GAAI0lB,SAAQ,SAAUnsF,EAASosF,GAClCtuJ,EAAMqb,OAAOm6H,kBAAkB1oJ,EAAMkT,EAAMgwD,MAAO0vB,GAClD1/E,EAAMqb,OAAO8+H,cAAcn6I,EAAMkuJ,aACjChsF,MACDh9D,KAAK,WACJ,GAAIjG,GAAS,GAAIiwI,GACjBjwI,GAAO6pI,MAAQC,qBAAmBgmB,UAClC,IAAIre,GAAW1wI,EAAMgwD,MAAMwgF,SAASxwI,EAAMw6I,QAAS,EAAG,EAAGv7I,EA0CzD,OAzCAe,GAAMgwD,MAAMk8F,UAAUxb,GAClB1wI,EAAMqb,OAAOC,aAAetb,EAAMqb,OAAOC,YAAYC,oBACrDvb,EAAMqb,OAAOC,YAAYC,mBAAmBC,eAC5Cxb,EAAM3W,OAAOuyC,wBAA0B57B,EAAMqb,OAAOI,uBAAgD,wBACpGzb,EAAM3W,OAAOwyC,sBAAwB77B,EAAMqb,OAAOI,uBAA8C,sBAChGzb,EAAM3W,OAAOuO,sBAAwBoI,EAAMqb,OAAOI,uBAA8C,sBAChGzb,EAAM3W,OAAOmX,oBAAsBR,EAAMqb,OAAOI,uBAA4C,oBAC5Fzb,EAAM3W,OAAOsX,eAAegQ,uBAAyB3Q,EAAMqb,OAAOI,uBAA+C,uBACjHzb,EAAM3W,OAAOu/B,mBAAqB5oB,EAAMqb,OAAOI,uBAA2C,mBAC1Fzb,EAAM3W,OAAOsX,eAAeiQ,QAAU5Q,EAAMqb,OAAOI,uBAAgC,QACnFzb,EAAM3W,OAAOsX,eAAewpC,iBAAmBnqC,EAAMqb,OAAOI,uBAAyC,iBACrGzb,EAAM3W,OAAOsX,eAAes5B,kBAAoBj6B,EAAMqb,OAAOI,uBAA0C,kBACvGzb,EAAM3W,OAAOsX,eAAeqB,WAAahC,EAAMqb,OAAOI,uBAAmC,WACzFzb,EAAM3W,OAAOsX,eAAeupC,oBAAsBlqC,EAAMqb,OAAOI,uBAA4C,oBAC3Gzb,EAAM3W,OAAOsX,eAAeu5B,qBAAuBl6B,EAAMqb,OAAOI,uBAA6C,qBAC7Gzb,EAAM3W,OAAOsX,eAAeukB,mBAAqBllB,EAAMqb,OAAOI,uBAA2C,mBACzGzb,EAAM3W,OAAOsX,eAAeiT,kBAAoB5T,EAAMqb,OAAOI,uBAA0C,kBACvGzb,EAAM3W,OAAOsX,eAAem6B,gBAAkB96B,EAAMqb,OAAOI,uBAAwC,gBACnGzb,EAAM3W,OAAOsX,eAAemhC,wBAA0B9hC,EAAMqb,OAAOI,uBAAgD,wBACnHzb,EAAM3W,OAAO0nB,YAAc/Q,EAAMqb,OAAOI,uBAAoC,YAC5Ezb,EAAM3W,OAAO0/B,+BAAiC/oB,EAAMqb,OAAOI,uBAAuD,gCAElHzb,EAAMgwD,MAAM+7F,0BACZ/rJ,EAAM3W,OAAOuO,sBAAsB/F,SAAS,GAC5CmO,EAAMgwD,MAAM+7F,yBAA0B,GAErCzsE,IACIt/E,EAAMw/E,OAUPx/E,EAAM2uJ,YAAc3uJ,EAAMkuJ,YAAYlwE,QARjCp0F,oBAAkB81F,IAAwBA,EAAoBsvE,SAC/DhvJ,EAAMkuJ,YAAYlwE,KAAK0B,EAAoBsvE,UAG3ChvJ,EAAMkuJ,YAAYlwE,KAAK,cAM/Bh+E,EAAMkuJ,YAAYhoI,WAEflmB,EAAMkuJ,eAGrBxkD,EAAUl6G,UAAUq/J,+BAAiC,SAAUliB,EAASjtD,GAEpE,GAAK91F,oBAAkB81F,GAqBnB3wF,KAAKihE,MAAM0yE,WAAa,GAAIF,IAAc9iD,EAAoB+iD,OAAO//G,UArB5B,CACzC,GAAIusI,GAAkB,GAAIC,kBAW1B,IAVKtlK,oBAAkB81F,EAAoByvE,kBAA4D,aAAxCzvE,EAAoByvE,gBAI/EF,EAAgBztF,YAAc4tF,qBAAmBC,UAHjDJ,EAAgBztF,YAAc4tF,qBAAmBE,SAKhD1lK,oBAAkB81F,EAAoBk7D,YACvCqU,EAAgB5tF,KAAOtyE,KAAK4rJ,YAAYj7D,EAAoBk7D,WAEhEjO,EAAQ4iB,gBAAgBN,GACnBrlK,oBAAkB81F,EAAoBgjD,YAKvC3zI,KAAKihE,MAAM0yE,WAAa,GAAIF,IAAc9iD,EAAoB+iD,OAAO//G,UALjB,CACpD,GAAI8sI,GAAoB,GAAIhtB,IAAc9iD,EAAoB+iD,OAAO//G,KACrE3zB,MAAKihE,MAAM0yE,WAAaz1I,YAAWuiK,EAAmB9vE,EAAoBgjD,YAAY,MAUlGh5B,EAAUl6G,UAAUmrJ,YAAc,SAAUC,GACxC,OAAQA,GACJ,IAAK,SACD,MAAO,IAAIzR,SAAM,IAAK,IAC1B,KAAK,OACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,QACD,MAAO,IAAIA,SAAM,IAAK,KAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,KAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAG1B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,KAC1B,KAAK,KACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,QACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,QACD,MAAO,IAAIA,SAAM,IAAK,KAC1B,KAAK,QACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,QACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,QACD,MAAO,IAAIA,SAAM,KAAM,KAC3B,KAAK,OACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,aACD,MAAO,IAAIA,SAAM,IAAK,IAC1B,KAAK,cACD,MAAO,IAAIA,SAAM,IAAK,KAC1B,KAAK,SACD,MAAO,IAAIA,SAAM,KAAM,IAC3B,SACI,MAAO,IAAIA,SAAM,IAAK,OAG3Bz/B,KC5QPF,GAA+B,WAC/B,QAASA,GAAcngH,GACnB0F,KAAK1F,OAASA,EACd0F,KAAK02F,yBA6CT,MAtCA+jB,GAAch6G,UAAU+9E,cAAgB,WACpC,MAAO,iBAOXi8B,EAAch6G,UAAUi2F,uBAAyB,WAC7C12F,KAAK1F,OAAO4H,SAASoV,qBAAuBtX,KAAK1F,OAAOgd,qBACxD+mC,WAASw4C,OAAO6pE,kBAMpBjmD,EAAch6G,UAAUuzB,eAAiB,WACrC,GAEIhD,GAFA+G,EAAe/3B,KAAK1F,OAAOmqB,iBAAiBwM,cAAcprB,cAAc,mBACxE86J,EAAa5oI,EAAapE,MAAMsE,UAAUtvB,MAAM,IAEpD,IAAIg4J,EAAWhlK,OAAS,EACpBq1B,EAAM2vI,EAAW,GAAGh0J,OAAOhE,MAAM,KAAK,OAErC,CACD,GAAIi4J,GAAkB7oI,EAAapE,MAAMsE,SACzCjH,GAAM4vI,EAAgB5pG,UAAU4pG,EAAgBl9F,YAAY,KAAO,EAAGk9F,EAAgBl9F,YAAY,MAEtG,MAAO77D,YAAWmpB,IAQtBypF,EAAch6G,UAAU02B,QAAU,aAG3BsjF,eCrDC5jB,OAAOgqE,GAAcC,GAAiBC,GAAYC,GAAeC,GAAcC,GAAYC,GAAkBC,GAAeC,GAAmBC,GAAmBC,GAAaC,GAAkBC,GAAiBC,GAAqBC,GAAoBC,kvCzBW/O,qBARN,0EAIS,+BAFD,8BAIA"}